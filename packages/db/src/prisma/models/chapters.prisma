model Chapter {
  id              Int      @id @default(autoincrement())
  organizationId  Int      @map("organization_id")
  organization    Organization @relation(fields: [organizationId], references: [id], onDelete: Cascade)
  courseId        Int      @map("course_id")
  course          Course   @relation(fields: [courseId], references: [id], onDelete: Cascade)
  isPublished     Boolean  @default(false) @map("is_published")
  language        String   @db.VarChar(10)
  slug            String
  title           String
  normalizedTitle String   @map("normalized_title")
  description      String
  generationStatus String   @default("pending") @map("generation_status") @db.VarChar(20)
  position         Int
  createdAt       DateTime @default(now()) @map("created_at")
  updatedAt       DateTime @default(now()) @updatedAt @map("updated_at")
  lessons         Lesson[]

  @@unique([courseId, slug], name: "courseChapterSlug")
  @@index([organizationId, normalizedTitle])
  @@index([courseId, position])
  @@map("chapters")
}
