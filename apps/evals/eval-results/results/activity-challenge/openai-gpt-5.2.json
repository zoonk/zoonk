{
  "modelId": "openai/gpt-5.2",
  "results": [
    {
      "steps": [
        {
          "conclusion": "None",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "None",
          "kind": "minorErrors",
          "score": 10
        },
        {
          "conclusion": "In Step 2, the option to use a 'simpler top-K selection approach' results in increased P95 Latency compared to Quicksort. From a pure algorithmic complexity standpoint, Selection (O(N)) is faster than Sorting (O(N log N)). The feedback justifies this by citing 'extra filtering passes' implies a system-level side effect rather than raw algorithm speed. While plausible in a complex system scenario (e.g., if the UI requires a full list but gets a partial one), it might slightly confuse a learner focused purely on Big-O comparisons. Clarifying that the system requirement implies a full sort would make this trade-off intuitively sharper.",
          "kind": "potentialImprovements",
          "score": 9.5
        }
      ],
      "testCase": {
        "expectations": "\nTOPIC-SPECIFIC GUIDANCE:\n\n1. ACCURACY CHECK: Algorithm complexity trade-offs must reflect genuine CS principles. Penalize if:\n   - Time vs. space trade-offs are misrepresented\n   - Big-O implications are incorrect\n   - Memory vs. speed decisions don't reflect real algorithmic trade-offs\n\n2. INVENTORY CHECK: Variables should represent meaningful algorithmic metrics like:\n   - Execution time, memory usage, code maintainability\n   - Should NOT include unrelated variables like \"team morale\" for this topic\n\n3. SCENARIO CHECK: The challenge should involve realistic algorithm selection decisions like: choosing between sorting algorithms, data structure selection, or optimization strategies.\n\n4. TRADE-OFF CHECK: Options should reflect genuine algorithmic trade-offs — faster algorithms using more memory, simpler code being less efficient, etc.\n\n\nEVALUATION CRITERIA:\n\n1. INVENTORY DESIGN: Variables must connect meaningfully to lesson concepts. Each variable should represent something the learner studied. Names should be intuitive and values should start in a reasonable range (typically 40-70).\n\n2. TRADE-OFF QUALITY: Every option must have genuine trade-offs. No option should be obviously dominant across all variables. Improving one variable should plausibly affect others based on lesson principles.\n\n3. WIN CONDITION BALANCE: Win conditions must be achievable with strategic thinking but require understanding lesson concepts. Conditions should create strategic tension (meeting all should require careful planning). Each inventory item must have its own win conditions embedded.\n\n4. FORMAT COMPLIANCE: Verify these constraints:\n   - intro: Maximum 500 characters\n   - inventory: 3-5 items, each with name, startValue, and winConditions array (1-2 conditions per item)\n   - winConditions (per item): Array with operator (gte/lte/gt/lt/eq) and value\n   - steps: 3-6 steps, each with context (max 500 chars), question (max 100 chars), and 3-4 options\n   - options: Each with text (max 80 chars), effects array, and feedback (max 300 chars)\n\n5. FEEDBACK QUALITY: Each option's feedback must explain WHY the effects occur, connecting to lesson concepts. Feedback should help learners understand the reasoning behind trade-offs.\n\n6. PERSONALIZATION: The {{NAME}} placeholder must be used appropriately in intro and dialogue to personalize the experience.\n\n7. CONCEPTUAL ACCURACY: Effects must make sense given the lesson content. If the lesson teaches that X leads to Y, the effects should reflect this relationship.\n\n8. DIALOGUE QUALITY: Context must be pure conversation with NO narrator text, NO character name prefixes, NO action descriptions. Should feel like colleagues working through a problem.\n\n9. EFFECT DESIGN: Effects should use realistic magnitudes (typically 5-20 points). Dramatic swings (30+) should be rare and justified.\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for specific scenario choices or variable names\n- Do NOT require specific inventory variables by name\n- ONLY penalize for: format violations, dominant options with no trade-offs, effects that contradict lesson concepts, narrator/description text in dialogue, or unachievable win conditions\n- Different valid challenge designs exist - assess the quality of what IS provided\n\n    ",
        "id": "en-cs-algorithm-complexity-1",
        "userInput": {
          "chapterTitle": "Algorithm Analysis",
          "courseTitle": "Data Structures and Algorithms",
          "explanationSteps": [
            {
              "text": "Time complexity measures how execution time grows with input size. O(n) means linear growth — double the input, double the time. O(n²) means quadratic — double the input, quadruple the time.",
              "title": "Time Complexity"
            },
            {
              "text": "Space complexity measures memory usage growth. Some algorithms trade time for space — storing precomputed results to avoid recalculation. Others trade space for time — using less memory but computing more.",
              "title": "Space Complexity"
            },
            {
              "text": "The time-space trade-off is fundamental. Hash tables give O(1) lookup but use extra memory. Binary search uses O(1) space but requires sorted data. Choose based on constraints.",
              "title": "Time-Space Trade-off"
            },
            {
              "text": "Amortized analysis looks at average performance over many operations. ArrayList append is usually O(1), but occasionally O(n) when resizing. Amortized, it's still O(1).",
              "title": "Amortized Analysis"
            },
            {
              "text": "Best, average, and worst case can differ dramatically. Quicksort averages O(n log n) but worst-cases to O(n²). Know your data distribution to choose wisely.",
              "title": "Case Analysis"
            }
          ],
          "language": "en",
          "lessonDescription": "Understanding and applying algorithm complexity analysis to make informed trade-offs in software design",
          "lessonTitle": "Algorithm Complexity Trade-offs"
        }
      }
    },
    {
      "steps": [
        {
          "conclusion": "None",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "None",
          "kind": "minorErrors",
          "score": 10
        },
        {
          "conclusion": "None",
          "kind": "potentialImprovements",
          "score": 10
        }
      ],
      "testCase": {
        "expectations": "\nTOPIC-SPECIFIC GUIDANCE:\n\n1. ACCURACY CHECK: Supply and demand concepts must reflect genuine economics. Penalize if:\n   - Price elasticity effects are misrepresented\n   - Supply/demand curve shifts are incorrectly described\n   - Market equilibrium concepts are misapplied\n\n2. INVENTORY CHECK: Variables should represent meaningful market metrics like:\n   - Revenue, market share, customer satisfaction, inventory levels\n   - Should reflect the interconnected nature of market decisions\n\n3. SCENARIO CHECK: The challenge should involve realistic pricing and market decisions like: setting prices, responding to competitor moves, or managing supply/demand imbalances.\n\n4. TRADE-OFF CHECK: Options should reflect genuine market trade-offs — higher prices reducing volume, lower prices affecting margins, etc.\n\n\nEVALUATION CRITERIA:\n\n1. INVENTORY DESIGN: Variables must connect meaningfully to lesson concepts. Each variable should represent something the learner studied. Names should be intuitive and values should start in a reasonable range (typically 40-70).\n\n2. TRADE-OFF QUALITY: Every option must have genuine trade-offs. No option should be obviously dominant across all variables. Improving one variable should plausibly affect others based on lesson principles.\n\n3. WIN CONDITION BALANCE: Win conditions must be achievable with strategic thinking but require understanding lesson concepts. Conditions should create strategic tension (meeting all should require careful planning). Each inventory item must have its own win conditions embedded.\n\n4. FORMAT COMPLIANCE: Verify these constraints:\n   - intro: Maximum 500 characters\n   - inventory: 3-5 items, each with name, startValue, and winConditions array (1-2 conditions per item)\n   - winConditions (per item): Array with operator (gte/lte/gt/lt/eq) and value\n   - steps: 3-6 steps, each with context (max 500 chars), question (max 100 chars), and 3-4 options\n   - options: Each with text (max 80 chars), effects array, and feedback (max 300 chars)\n\n5. FEEDBACK QUALITY: Each option's feedback must explain WHY the effects occur, connecting to lesson concepts. Feedback should help learners understand the reasoning behind trade-offs.\n\n6. PERSONALIZATION: The {{NAME}} placeholder must be used appropriately in intro and dialogue to personalize the experience.\n\n7. CONCEPTUAL ACCURACY: Effects must make sense given the lesson content. If the lesson teaches that X leads to Y, the effects should reflect this relationship.\n\n8. DIALOGUE QUALITY: Context must be pure conversation with NO narrator text, NO character name prefixes, NO action descriptions. Should feel like colleagues working through a problem.\n\n9. EFFECT DESIGN: Effects should use realistic magnitudes (typically 5-20 points). Dramatic swings (30+) should be rare and justified.\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for specific scenario choices or variable names\n- Do NOT require specific inventory variables by name\n- ONLY penalize for: format violations, dominant options with no trade-offs, effects that contradict lesson concepts, narrator/description text in dialogue, or unachievable win conditions\n- Different valid challenge designs exist - assess the quality of what IS provided\n\n    ",
        "id": "en-economics-supply-demand-1",
        "userInput": {
          "chapterTitle": "Market Dynamics",
          "courseTitle": "Microeconomics Fundamentals",
          "explanationSteps": [
            {
              "text": "Demand curves slope downward — as price rises, quantity demanded falls. This reflects the law of demand: people buy less when things cost more, all else equal.",
              "title": "The Demand Curve"
            },
            {
              "text": "Supply curves slope upward — as price rises, quantity supplied increases. Higher prices incentivize producers to make more. Lower prices make production less worthwhile.",
              "title": "The Supply Curve"
            },
            {
              "text": "Equilibrium occurs where supply meets demand. At this price, quantity supplied equals quantity demanded. Prices above equilibrium create surplus; prices below create shortage.",
              "title": "Market Equilibrium"
            },
            {
              "text": "Price elasticity measures responsiveness to price changes. Elastic demand (>1) means sales drop sharply with price increases. Inelastic demand (<1) means sales barely change.",
              "title": "Price Elasticity"
            },
            {
              "text": "Shifts vs. movements: A change in price moves along the curve. Changes in other factors (income, preferences, costs) shift the entire curve. This distinction is crucial.",
              "title": "Shifts vs. Movements"
            }
          ],
          "language": "en",
          "lessonDescription": "Applying supply and demand principles to make strategic pricing and market decisions",
          "lessonTitle": "Supply and Demand in Practice"
        }
      }
    },
    {
      "steps": [
        {
          "conclusion": "None",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "There is a logical inconsistency in the definition of the 'Habitat Resource Use' variable. The intro defines it as ecological carrying capacity ('what the land can support'), and Step 2 reinforces this (restoration 'reduces resource stress'). However, Step 4 Option 1 justifies an increase in this variable by citing 'staff time' and 'management intensity', which conflates ecological load with management resources (budget/labor). This contradicts the established definition and the logic of previous steps (where labor-intensive restoration reduced the value). Additionally, in Step 2, Option 1 dominates Option 3 significantly (Option 1 is better for Biodiversity and Stability, and almost as good for Resource Use), making Option 3 a 'wrong' answer rather than a strategic trade-off.",
          "kind": "minorErrors",
          "score": 8.5
        },
        {
          "conclusion": "To resolve the variable ambiguity, 'Habitat Resource Use' should be consistently treated as 'Ecological Stress' or 'Carrying Capacity Load'. The feedback in Step 4 Option 1 could be adjusted to say that an increased predator population puts new demands on specific habitat niches, rather than citing 'staff time'. Step 2 Option 3 could be rebalanced to offer a unique, strong benefit (e.g., a massive immediate Stability gain) to make it a viable emergency choice despite the Biodiversity penalty.",
          "kind": "potentialImprovements",
          "score": 8.5
        }
      ],
      "testCase": {
        "expectations": "\nTOPIC-SPECIFIC GUIDANCE:\n\n1. ACCURACY CHECK: Ecosystem concepts must reflect genuine ecology. Penalize if:\n   - Trophic level interactions are misrepresented\n   - Carrying capacity concepts are incorrectly applied\n   - Biodiversity-stability relationships are oversimplified\n\n2. INVENTORY CHECK: Variables should represent meaningful ecological metrics like:\n   - Species diversity, population health, resource availability, ecosystem stability\n   - Should reflect the interconnected nature of ecosystems\n\n3. SCENARIO CHECK: The challenge should involve realistic ecosystem management decisions like: conservation priorities, resource allocation, or balancing competing ecological needs.\n\n4. TRADE-OFF CHECK: Options should reflect genuine ecological trade-offs — protecting one species affecting another, short-term vs. long-term sustainability, etc.\n\n\nEVALUATION CRITERIA:\n\n1. INVENTORY DESIGN: Variables must connect meaningfully to lesson concepts. Each variable should represent something the learner studied. Names should be intuitive and values should start in a reasonable range (typically 40-70).\n\n2. TRADE-OFF QUALITY: Every option must have genuine trade-offs. No option should be obviously dominant across all variables. Improving one variable should plausibly affect others based on lesson principles.\n\n3. WIN CONDITION BALANCE: Win conditions must be achievable with strategic thinking but require understanding lesson concepts. Conditions should create strategic tension (meeting all should require careful planning). Each inventory item must have its own win conditions embedded.\n\n4. FORMAT COMPLIANCE: Verify these constraints:\n   - intro: Maximum 500 characters\n   - inventory: 3-5 items, each with name, startValue, and winConditions array (1-2 conditions per item)\n   - winConditions (per item): Array with operator (gte/lte/gt/lt/eq) and value\n   - steps: 3-6 steps, each with context (max 500 chars), question (max 100 chars), and 3-4 options\n   - options: Each with text (max 80 chars), effects array, and feedback (max 300 chars)\n\n5. FEEDBACK QUALITY: Each option's feedback must explain WHY the effects occur, connecting to lesson concepts. Feedback should help learners understand the reasoning behind trade-offs.\n\n6. PERSONALIZATION: The {{NAME}} placeholder must be used appropriately in intro and dialogue to personalize the experience.\n\n7. CONCEPTUAL ACCURACY: Effects must make sense given the lesson content. If the lesson teaches that X leads to Y, the effects should reflect this relationship.\n\n8. DIALOGUE QUALITY: Context must be pure conversation with NO narrator text, NO character name prefixes, NO action descriptions. Should feel like colleagues working through a problem.\n\n9. EFFECT DESIGN: Effects should use realistic magnitudes (typically 5-20 points). Dramatic swings (30+) should be rare and justified.\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for specific scenario choices or variable names\n- Do NOT require specific inventory variables by name\n- ONLY penalize for: format violations, dominant options with no trade-offs, effects that contradict lesson concepts, narrator/description text in dialogue, or unachievable win conditions\n- Different valid challenge designs exist - assess the quality of what IS provided\n\n    ",
        "id": "en-biology-ecosystem-balance-1",
        "userInput": {
          "chapterTitle": "Ecosystem Dynamics",
          "courseTitle": "Ecology and Conservation",
          "explanationSteps": [
            {
              "text": "Ecosystems are interconnected networks. Removing one species affects others through food webs. Keystone species have disproportionate impact — their loss cascades through the system.",
              "title": "Interconnected Networks"
            },
            {
              "text": "Carrying capacity is the maximum population an environment can sustain. Exceed it, and resources deplete, populations crash. Stay well below, and you're not maximizing the ecosystem's potential.",
              "title": "Carrying Capacity"
            },
            {
              "text": "Biodiversity provides resilience. More species means more ways to respond to change. Monocultures are efficient but fragile. Diverse systems are robust but complex to manage.",
              "title": "Biodiversity and Resilience"
            },
            {
              "text": "Trophic cascades occur when changes at one level ripple through others. Remove predators, and prey populations explode, overgrazing vegetation, affecting everything that depends on those plants.",
              "title": "Trophic Cascades"
            },
            {
              "text": "Ecological succession is the process of change over time. Pioneer species prepare the way for later ones. Managing ecosystems means deciding where in succession you want to be.",
              "title": "Ecological Succession"
            }
          ],
          "language": "en",
          "lessonDescription": "Applying ecological principles to make informed ecosystem management decisions",
          "lessonTitle": "Ecosystem Balance and Management"
        }
      }
    },
    {
      "steps": [
        {
          "conclusion": "None",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "In Step 1, Option 3 ('Adicionar gás inerte'), the effect on 'Risco de Segurança' is -6 (reducing risk). However, the feedback states that this action 'increases total pressure and control complexity... affecting safety.' Physically, increasing total pressure in a vessel generally increases safety risk (danger), and the feedback implies negative consequences. Therefore, the risk value should likely be positive (+). Additionally, Step 3 Option 4 gives +5 Yield for adding a catalyst; while this is technically incorrect for 'Equilibrium Yield' (catalysts don't shift K), the feedback correctly identifies it as overcoming kinetic limitations, which is an acceptable simplification for industrial process simulation.",
          "kind": "minorErrors",
          "score": 8.5
        },
        {
          "conclusion": "The simulation is well-designed with clear trade-offs. The distinction between 'Equilibrium Yield' and 'Process Yield' (kinetically limited) could be made slightly sharper in Step 3 to avoid confusion for students strictly applying the rule that 'catalysts don't change yield.'",
          "kind": "potentialImprovements",
          "score": 9
        }
      ],
      "testCase": {
        "expectations": "\nLANGUAGE REQUIREMENT: All content must be in Portuguese.\n\nTOPIC-SPECIFIC GUIDANCE:\n\n1. ACCURACY CHECK: Le Chatelier's principle must be correctly applied. Penalize if:\n   - Equilibrium shift directions are incorrect\n   - Temperature, pressure, concentration effects are misrepresented\n   - The principle is applied to situations where it doesn't hold\n\n2. INVENTORY CHECK: Variables should represent meaningful chemical process metrics like:\n   - Product yield, reaction rate, energy costs, raw material usage\n   - Should reflect how equilibrium adjustments affect industrial processes\n\n3. SCENARIO CHECK: The challenge should involve realistic chemical process decisions like: optimizing reaction conditions, balancing yield vs. cost, or managing industrial synthesis.\n\n4. TRADE-OFF CHECK: Options should reflect genuine chemical trade-offs — higher temperature increasing rate but shifting equilibrium, pressure effects on yield vs. equipment costs, etc.\n\n\nEVALUATION CRITERIA:\n\n1. INVENTORY DESIGN: Variables must connect meaningfully to lesson concepts. Each variable should represent something the learner studied. Names should be intuitive and values should start in a reasonable range (typically 40-70).\n\n2. TRADE-OFF QUALITY: Every option must have genuine trade-offs. No option should be obviously dominant across all variables. Improving one variable should plausibly affect others based on lesson principles.\n\n3. WIN CONDITION BALANCE: Win conditions must be achievable with strategic thinking but require understanding lesson concepts. Conditions should create strategic tension (meeting all should require careful planning). Each inventory item must have its own win conditions embedded.\n\n4. FORMAT COMPLIANCE: Verify these constraints:\n   - intro: Maximum 500 characters\n   - inventory: 3-5 items, each with name, startValue, and winConditions array (1-2 conditions per item)\n   - winConditions (per item): Array with operator (gte/lte/gt/lt/eq) and value\n   - steps: 3-6 steps, each with context (max 500 chars), question (max 100 chars), and 3-4 options\n   - options: Each with text (max 80 chars), effects array, and feedback (max 300 chars)\n\n5. FEEDBACK QUALITY: Each option's feedback must explain WHY the effects occur, connecting to lesson concepts. Feedback should help learners understand the reasoning behind trade-offs.\n\n6. PERSONALIZATION: The {{NAME}} placeholder must be used appropriately in intro and dialogue to personalize the experience.\n\n7. CONCEPTUAL ACCURACY: Effects must make sense given the lesson content. If the lesson teaches that X leads to Y, the effects should reflect this relationship.\n\n8. DIALOGUE QUALITY: Context must be pure conversation with NO narrator text, NO character name prefixes, NO action descriptions. Should feel like colleagues working through a problem.\n\n9. EFFECT DESIGN: Effects should use realistic magnitudes (typically 5-20 points). Dramatic swings (30+) should be rare and justified.\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for specific scenario choices or variable names\n- Do NOT require specific inventory variables by name\n- ONLY penalize for: format violations, dominant options with no trade-offs, effects that contradict lesson concepts, narrator/description text in dialogue, or unachievable win conditions\n- Different valid challenge designs exist - assess the quality of what IS provided\n\n    ",
        "id": "pt-chemistry-reaction-equilibrium-1",
        "userInput": {
          "chapterTitle": "Equilibrio Quimico",
          "courseTitle": "Quimica Geral II",
          "explanationSteps": [
            {
              "text": "O principio de Le Chatelier diz que um sistema em equilibrio responde a perturbacoes minimizando a mudanca. Adicione reagente, o equilibrio desloca para consumir esse reagente.",
              "title": "Principio de Le Chatelier"
            },
            {
              "text": "Mudancas de concentracao deslocam o equilibrio. Adicionar reagentes desloca para produtos. Remover produtos tambem desloca para produtos. O sistema busca restaurar o equilibrio.",
              "title": "Efeito da Concentracao"
            },
            {
              "text": "A pressao afeta equilibrios gasosos. Aumentar pressao favorece o lado com menos moles de gas. Diminuir pressao favorece o lado com mais moles. Gases inertes nao afetam.",
              "title": "Efeito da Pressao"
            },
            {
              "text": "Temperatura e diferente — ela muda a constante de equilibrio. Reacoes exotermicas: aumento de temperatura desloca para reagentes. Reacoes endotermicas: aumento favorece produtos.",
              "title": "Efeito da Temperatura"
            },
            {
              "text": "Catalisadores aceleram ambas as direcoes igualmente. Eles nao deslocam o equilibrio — apenas ajudam a alcancar o equilibrio mais rapido. Util para processos industriais.",
              "title": "Papel dos Catalisadores"
            }
          ],
          "language": "pt",
          "lessonDescription": "Aplicando o principio de Le Chatelier para otimizar reacoes quimicas e processos industriais",
          "lessonTitle": "Equilibrio Quimico na Pratica"
        }
      }
    },
    {
      "steps": [
        {
          "conclusion": "None",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "None",
          "kind": "minorErrors",
          "score": 10
        },
        {
          "conclusion": "The response is of high quality. The inventory variables are well-selected (Useful Energy, Thermal Losses, Mass/Vol, Cost) and accurately reflect the lesson on energy conservation and system design. The trade-offs are grounded in reality (e.g., batteries add mass and have cycle losses; efficiency costs money). The math for win conditions is sound: the Energy target (70) is achievable (starts at 55, max potential gain is +40, min required +15), but requires avoiding too many low-performance choices. The 'standard/cheap' path yields about +17 Energy, putting it dangerously close to the failure threshold of 69, which creates good tension. The dialogue is natural and fits the persona.",
          "kind": "potentialImprovements",
          "score": 10
        }
      ],
      "testCase": {
        "expectations": "\nLANGUAGE REQUIREMENT: All content must be in Spanish.\n\nTOPIC-SPECIFIC GUIDANCE:\n\n1. ACCURACY CHECK: Energy conservation principles must be physically accurate. Penalize if:\n   - Energy transformations violate conservation laws\n   - Efficiency concepts are misrepresented\n   - Entropy/waste heat considerations are ignored\n\n2. INVENTORY CHECK: Variables should represent meaningful energy system metrics like:\n   - Energy output, efficiency rating, environmental impact, operating costs\n   - Should reflect the interconnected nature of energy systems\n\n3. SCENARIO CHECK: The challenge should involve realistic energy system decisions like: choosing energy sources, optimizing efficiency, or balancing output vs. sustainability.\n\n4. TRADE-OFF CHECK: Options should reflect genuine energy trade-offs — higher output vs. efficiency losses, renewable vs. reliability, cost vs. environmental impact, etc.\n\n\nEVALUATION CRITERIA:\n\n1. INVENTORY DESIGN: Variables must connect meaningfully to lesson concepts. Each variable should represent something the learner studied. Names should be intuitive and values should start in a reasonable range (typically 40-70).\n\n2. TRADE-OFF QUALITY: Every option must have genuine trade-offs. No option should be obviously dominant across all variables. Improving one variable should plausibly affect others based on lesson principles.\n\n3. WIN CONDITION BALANCE: Win conditions must be achievable with strategic thinking but require understanding lesson concepts. Conditions should create strategic tension (meeting all should require careful planning). Each inventory item must have its own win conditions embedded.\n\n4. FORMAT COMPLIANCE: Verify these constraints:\n   - intro: Maximum 500 characters\n   - inventory: 3-5 items, each with name, startValue, and winConditions array (1-2 conditions per item)\n   - winConditions (per item): Array with operator (gte/lte/gt/lt/eq) and value\n   - steps: 3-6 steps, each with context (max 500 chars), question (max 100 chars), and 3-4 options\n   - options: Each with text (max 80 chars), effects array, and feedback (max 300 chars)\n\n5. FEEDBACK QUALITY: Each option's feedback must explain WHY the effects occur, connecting to lesson concepts. Feedback should help learners understand the reasoning behind trade-offs.\n\n6. PERSONALIZATION: The {{NAME}} placeholder must be used appropriately in intro and dialogue to personalize the experience.\n\n7. CONCEPTUAL ACCURACY: Effects must make sense given the lesson content. If the lesson teaches that X leads to Y, the effects should reflect this relationship.\n\n8. DIALOGUE QUALITY: Context must be pure conversation with NO narrator text, NO character name prefixes, NO action descriptions. Should feel like colleagues working through a problem.\n\n9. EFFECT DESIGN: Effects should use realistic magnitudes (typically 5-20 points). Dramatic swings (30+) should be rare and justified.\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for specific scenario choices or variable names\n- Do NOT require specific inventory variables by name\n- ONLY penalize for: format violations, dominant options with no trade-offs, effects that contradict lesson concepts, narrator/description text in dialogue, or unachievable win conditions\n- Different valid challenge designs exist - assess the quality of what IS provided\n\n    ",
        "id": "es-physics-energy-conservation-1",
        "userInput": {
          "chapterTitle": "Energia y Trabajo",
          "courseTitle": "Fisica Aplicada",
          "explanationSteps": [
            {
              "text": "La energia no se crea ni se destruye, solo se transforma. En cada conversion, la energia total se conserva, pero la energia util disminuye. Parte siempre se convierte en calor no aprovechable.",
              "title": "Conservacion de la Energia"
            },
            {
              "text": "La eficiencia mide cuanta energia de entrada se convierte en trabajo util. Ningun proceso es 100% eficiente — siempre hay perdidas. La segunda ley de la termodinamica lo garantiza.",
              "title": "Eficiencia Energetica"
            },
            {
              "text": "Las cadenas de conversion acumulan perdidas. Si cada paso es 90% eficiente, tres pasos dan 0.9³ = 73% eficiencia total. Menos conversiones significa menos perdidas.",
              "title": "Perdidas en Cadena"
            },
            {
              "text": "El almacenamiento de energia tiene su propio costo energetico. Cargar y descargar baterias pierde energia. Bombear agua cuesta arriba para hidroelectrica tambien. El almacenamiento no es gratis.",
              "title": "Costo del Almacenamiento"
            },
            {
              "text": "La densidad energetica importa. Combustibles fosiles almacenan mucha energia por kilogramo. Las baterias almacenan menos. Esto afecta que es practico para cada aplicacion.",
              "title": "Densidad Energetica"
            }
          ],
          "language": "es",
          "lessonDescription": "Aplicando principios de conservacion de energia para disenar y optimizar sistemas energeticos",
          "lessonTitle": "Conservacion de Energia en Sistemas Reales"
        }
      }
    }
  ],
  "taskId": "activity-challenge"
}