{
  "modelId": "anthropic/claude-sonnet-4.5",
  "results": [
    {
      "steps": [
        {
          "conclusion": "The response violates the structural requirement to have exactly one correct option per step. In Steps 4, 7, 8, and 9, the model generates multiple options marked as `isCorrect: true`. For example, in Step 8, both 'Par carte' and 'En espèces' are marked as true. While both are linguistically valid responses, the instructions and expectations for a multiple-choice activity specify exactly one correct option and three distractors. This structural error requires manual intervention to fix before the content can be used in a standard single-choice quiz engine.",
          "kind": "majorErrors",
          "score": 7.5
        },
        {
          "conclusion": "None",
          "kind": "minorErrors",
          "score": 10
        },
        {
          "conclusion": "To improve, the model should ensure that for every step, exactly one option is marked `isCorrect: true` and the other three are `isCorrect: false`. When multiple valid responses exist (like paying by card or cash), the model should choose one to be the correct answer for the scenario and frame the distractors as clearly incorrect, rather than including multiple valid paths in the same step.",
          "kind": "potentialImprovements",
          "score": 7.5
        }
      ],
      "testCase": {
        "expectations": "\nLANGUAGE: English output required (scenario, questions, feedback).\n\nTOPIC: Ordering coffee and pastries at a cafe in France.\n\nSCRIPT: Roman (ALL romanization fields must be empty strings \"\")\n\nSCENARIO TYPE: Food & Dining - casual cafe interaction\n\nKEY REQUIREMENTS:\n- Scenario describes arriving at a Parisian cafe\n- Native speaker (barista/server) speaks natural French\n- Learner must choose appropriate French phrases for ordering\n- Options show ONLY French text, NO English translations\n- Feedback reveals English translation + explanation\n\nACCURACY PITFALLS - Penalize SEVERELY if:\n- Options include English translations or hints\n- French dialogue is unnatural or overly formal for a cafe\n- Romanization fields contain any text (must be empty string)\n- Feedback doesn't include translation of what the learner said\n- Steps don't follow a logical cafe interaction flow\n\n\nEVALUATION CRITERIA:\n\n1. STRUCTURE - IMMERSIVE STORY FORMAT (CRITICAL):\n   The activity MUST follow the immersive story structure:\n   - A clear scenario description in the NATIVE language\n   - 5-10 dialogue steps with natural progression\n   - Each step has: context (TARGET), contextTranslation (NATIVE), contextRomanization, 4 options\n   - Exactly 1 correct option per step\n   Penalize SEVERELY if any structural element is missing or malformed.\n\n2. SCENARIO QUALITY:\n   - Scenario MUST describe a realistic everyday situation\n   - Should be relevant to the lesson topic\n   - Setting should be clear and immersive\n   - Appropriate for language learners (not overly complex situations)\n   Penalize if scenario is vague, unrealistic, or unrelated to the lesson.\n\n3. CONTEXT DIALOGUE:\n   - Context MUST be in the TARGET language\n   - Context represents what the native speaker says\n   - contextTranslation MUST accurately translate the context to NATIVE language\n   - Dialogue should be natural, not stilted or textbook-like\n   Penalize if context is unnatural or translation is inaccurate.\n\n4. OPTIONS DESIGN (CRITICAL - IMMERSION PRINCIPLE):\n   - Options MUST show only TARGET language text (NO translations)\n   - All 4 options MUST be grammatically correct in TARGET language\n   - Options should represent meaningfully different responses\n   - textRomanization provided for non-Roman scripts, empty string for Roman scripts\n   - Penalize SEVERELY if options include translations or hints in NATIVE language\n   - Penalize if options are grammatically incorrect or nonsensical\n\n5. FEEDBACK DESIGN (CRITICAL):\n   - Every feedback MUST include the translation of what the learner said\n   - Feedback MUST explain why the choice is correct or incorrect\n   - For incorrect options: explain what would be better\n   - Feedback is in NATIVE language\n   - Penalize SEVERELY if feedback is missing translation\n   - Penalize if feedback doesn't explain the reasoning\n\n6. ROMANIZATION (CRITICAL):\n   - For non-Roman scripts (Japanese, Korean, Chinese, Arabic, Russian, Greek, Thai, Hindi, etc.):\n     BOTH contextRomanization AND textRomanization MUST be included and accurate\n   - For Roman-script languages (Spanish, French, German, Portuguese, Italian, etc.):\n     BOTH romanization fields MUST be empty strings \"\"\n   - Penalize SEVERELY if romanization is missing for non-Roman scripts\n   - Penalize SEVERELY if romanization contains text for Roman scripts\n\n7. STORY ARC AND PROGRESSION:\n   - Steps should follow a natural conversation flow\n   - Story should have: opening, building, resolution, closing\n   - Complication is optional but adds realism (e.g., item unavailable, clarification needed)\n   - Each step should logically follow from the previous\n   - The native speaker should acknowledge the learner's previous choice\n   Penalize if steps feel disconnected or conversation doesn't flow naturally.\n\n8. LINGUISTIC ACCURACY (CRITICAL):\n   - ALL target language text must be grammatically correct\n   - ALL translations must be accurate and natural\n   - Register (formal/informal) should be appropriate for the situation\n   - Cultural context should be accurate\n   Penalize SEVERELY for incorrect grammar, mistranslations, or inappropriate register.\n\n9. DISTRACTOR QUALITY (CRITICAL):\n   Wrong options MUST be genuinely wrong - they would cause miscommunication or confusion if used.\n\n   GOOD distractors (genuinely wrong):\n   - Answer a different question (asking about price when asked about quantity)\n   - Request the wrong thing (one-way ticket when you need round-trip)\n   - Are off-topic (asking for the check when you just arrived)\n   - Would cause confusion (saying \"no\" when you mean \"yes\")\n\n   BAD distractors (penalize these):\n   - More/less formal versions of the correct answer that would still work\n   - Slightly different phrasings that communicate the same thing\n   - \"Less polished\" versions that a native speaker would still understand\n\n   Example: If ordering coffee, \"Where is the bathroom?\" is a GOOD distractor (off-topic).\n   \"I would like your finest coffee\" vs \"A coffee please\" are BOTH correct - don't use one as a distractor for the other.\n\n   Penalize SEVERELY if distractors are just stylistic variations that would still accomplish the communication goal.\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for specific dialogue choices - accept ANY natural conversation\n- Do NOT require specific phrases or sentence structures\n- Do NOT penalize for different valid cultural approaches\n- FOCUS ON: structural correctness, immersion principle (no translations in options), feedback quality, romanization correctness\n- The eval model should judge whether the activity creates an immersive language experience, not whether it matches predetermined answers\n\n    ",
        "id": "en-french-cafe-ordering-1",
        "userInput": {
          "chapterTitle": "At the Cafe",
          "courseTitle": "French",
          "language": "en",
          "lessonDescription": "Practice ordering drinks and food at a French cafe, including asking for the menu and paying",
          "lessonTitle": "Ordering at a Cafe"
        }
      }
    },
    {
      "steps": [
        {
          "conclusion": "No major errors found. The response strictly follows the JSON schema, includes all required fields, uses the correct target language (Japanese) with accurate romanization, and implements the 'Immersion Over Translation' design principle perfectly (no translations in options).",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "No minor errors found. The dialogue flows naturally, the grammar is correct (using appropriate polite forms like Desu/Masu and Keigo for the staff), and the feedback provided is helpful and accurate.",
          "kind": "minorErrors",
          "score": 10
        },
        {
          "conclusion": "No improvements needed. The scenario is realistic, includes a nice complication (non-smoking room only), and the distractors are well-designed to be clearly incorrect based on context without being grammatically wrong.",
          "kind": "potentialImprovements",
          "score": 10
        }
      ],
      "testCase": {
        "expectations": "\nLANGUAGE: English output required.\n\nTOPIC: Checking into a hotel in Japan.\n\nSCRIPT: Non-Roman (romanization MUST be included for ALL Japanese text)\n\nSCENARIO TYPE: Accommodation - hotel check-in interaction\n\nKEY REQUIREMENTS:\n- Scenario describes arriving at a hotel front desk\n- Receptionist speaks polite Japanese (formal register appropriate for service)\n- Learner must choose appropriate Japanese phrases for check-in\n- Options show ONLY Japanese text with romanization, NO English\n- Feedback reveals English translation + explanation\n\nROMANIZATION REQUIREMENTS:\n- MUST include romaji for all Japanese text in context and options\n- Standard Hepburn romanization system\n- contextRomanization and textRomanization must be accurate\n\nACCURACY PITFALLS - Penalize SEVERELY if:\n- Options include English translations\n- Japanese is too casual for a hotel setting (should use です/ます forms)\n- Romanization is missing or incorrect\n- Feedback doesn't include translation\n- Steps don't follow a logical hotel check-in sequence\n\n\nEVALUATION CRITERIA:\n\n1. STRUCTURE - IMMERSIVE STORY FORMAT (CRITICAL):\n   The activity MUST follow the immersive story structure:\n   - A clear scenario description in the NATIVE language\n   - 5-10 dialogue steps with natural progression\n   - Each step has: context (TARGET), contextTranslation (NATIVE), contextRomanization, 4 options\n   - Exactly 1 correct option per step\n   Penalize SEVERELY if any structural element is missing or malformed.\n\n2. SCENARIO QUALITY:\n   - Scenario MUST describe a realistic everyday situation\n   - Should be relevant to the lesson topic\n   - Setting should be clear and immersive\n   - Appropriate for language learners (not overly complex situations)\n   Penalize if scenario is vague, unrealistic, or unrelated to the lesson.\n\n3. CONTEXT DIALOGUE:\n   - Context MUST be in the TARGET language\n   - Context represents what the native speaker says\n   - contextTranslation MUST accurately translate the context to NATIVE language\n   - Dialogue should be natural, not stilted or textbook-like\n   Penalize if context is unnatural or translation is inaccurate.\n\n4. OPTIONS DESIGN (CRITICAL - IMMERSION PRINCIPLE):\n   - Options MUST show only TARGET language text (NO translations)\n   - All 4 options MUST be grammatically correct in TARGET language\n   - Options should represent meaningfully different responses\n   - textRomanization provided for non-Roman scripts, empty string for Roman scripts\n   - Penalize SEVERELY if options include translations or hints in NATIVE language\n   - Penalize if options are grammatically incorrect or nonsensical\n\n5. FEEDBACK DESIGN (CRITICAL):\n   - Every feedback MUST include the translation of what the learner said\n   - Feedback MUST explain why the choice is correct or incorrect\n   - For incorrect options: explain what would be better\n   - Feedback is in NATIVE language\n   - Penalize SEVERELY if feedback is missing translation\n   - Penalize if feedback doesn't explain the reasoning\n\n6. ROMANIZATION (CRITICAL):\n   - For non-Roman scripts (Japanese, Korean, Chinese, Arabic, Russian, Greek, Thai, Hindi, etc.):\n     BOTH contextRomanization AND textRomanization MUST be included and accurate\n   - For Roman-script languages (Spanish, French, German, Portuguese, Italian, etc.):\n     BOTH romanization fields MUST be empty strings \"\"\n   - Penalize SEVERELY if romanization is missing for non-Roman scripts\n   - Penalize SEVERELY if romanization contains text for Roman scripts\n\n7. STORY ARC AND PROGRESSION:\n   - Steps should follow a natural conversation flow\n   - Story should have: opening, building, resolution, closing\n   - Complication is optional but adds realism (e.g., item unavailable, clarification needed)\n   - Each step should logically follow from the previous\n   - The native speaker should acknowledge the learner's previous choice\n   Penalize if steps feel disconnected or conversation doesn't flow naturally.\n\n8. LINGUISTIC ACCURACY (CRITICAL):\n   - ALL target language text must be grammatically correct\n   - ALL translations must be accurate and natural\n   - Register (formal/informal) should be appropriate for the situation\n   - Cultural context should be accurate\n   Penalize SEVERELY for incorrect grammar, mistranslations, or inappropriate register.\n\n9. DISTRACTOR QUALITY (CRITICAL):\n   Wrong options MUST be genuinely wrong - they would cause miscommunication or confusion if used.\n\n   GOOD distractors (genuinely wrong):\n   - Answer a different question (asking about price when asked about quantity)\n   - Request the wrong thing (one-way ticket when you need round-trip)\n   - Are off-topic (asking for the check when you just arrived)\n   - Would cause confusion (saying \"no\" when you mean \"yes\")\n\n   BAD distractors (penalize these):\n   - More/less formal versions of the correct answer that would still work\n   - Slightly different phrasings that communicate the same thing\n   - \"Less polished\" versions that a native speaker would still understand\n\n   Example: If ordering coffee, \"Where is the bathroom?\" is a GOOD distractor (off-topic).\n   \"I would like your finest coffee\" vs \"A coffee please\" are BOTH correct - don't use one as a distractor for the other.\n\n   Penalize SEVERELY if distractors are just stylistic variations that would still accomplish the communication goal.\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for specific dialogue choices - accept ANY natural conversation\n- Do NOT require specific phrases or sentence structures\n- Do NOT penalize for different valid cultural approaches\n- FOCUS ON: structural correctness, immersion principle (no translations in options), feedback quality, romanization correctness\n- The eval model should judge whether the activity creates an immersive language experience, not whether it matches predetermined answers\n\n    ",
        "id": "en-japanese-hotel-checkin-1",
        "userInput": {
          "chapterTitle": "Travel and Accommodation",
          "courseTitle": "Japanese",
          "language": "en",
          "lessonDescription": "Learn to check into a hotel, confirm reservations, and ask about room amenities",
          "lessonTitle": "Hotel Check-in"
        }
      }
    },
    {
      "steps": [
        {
          "conclusion": "None",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "None",
          "kind": "minorErrors",
          "score": 10
        },
        {
          "conclusion": "None",
          "kind": "potentialImprovements",
          "score": 10
        }
      ],
      "testCase": {
        "expectations": "\nLANGUAGE: Brazilian Portuguese output required (NOT English).\n\nTOPIC: Buying groceries at a market in Germany.\n\nSCRIPT: Roman (ALL romanization fields must be empty strings \"\")\n\nSCENARIO TYPE: Shopping - grocery market interaction\n\nKEY REQUIREMENTS:\n- Scenario IN PORTUGUESE describes shopping at a German market\n- Questions and feedback IN PORTUGUESE\n- Vendor speaks natural German\n- Learner must choose appropriate German phrases for shopping\n- Options show ONLY German text, NO Portuguese translations\n\nACCURACY PITFALLS - Penalize SEVERELY if:\n- Output is in English instead of Portuguese\n- Options include Portuguese translations\n- German dialogue is unnatural or uses overly formal register for a market\n- Romanization fields contain any text (must be empty strings)\n- Feedback (in Portuguese) doesn't include German translation\n- Steps don't follow a logical shopping interaction\n\n\nEVALUATION CRITERIA:\n\n1. STRUCTURE - IMMERSIVE STORY FORMAT (CRITICAL):\n   The activity MUST follow the immersive story structure:\n   - A clear scenario description in the NATIVE language\n   - 5-10 dialogue steps with natural progression\n   - Each step has: context (TARGET), contextTranslation (NATIVE), contextRomanization, 4 options\n   - Exactly 1 correct option per step\n   Penalize SEVERELY if any structural element is missing or malformed.\n\n2. SCENARIO QUALITY:\n   - Scenario MUST describe a realistic everyday situation\n   - Should be relevant to the lesson topic\n   - Setting should be clear and immersive\n   - Appropriate for language learners (not overly complex situations)\n   Penalize if scenario is vague, unrealistic, or unrelated to the lesson.\n\n3. CONTEXT DIALOGUE:\n   - Context MUST be in the TARGET language\n   - Context represents what the native speaker says\n   - contextTranslation MUST accurately translate the context to NATIVE language\n   - Dialogue should be natural, not stilted or textbook-like\n   Penalize if context is unnatural or translation is inaccurate.\n\n4. OPTIONS DESIGN (CRITICAL - IMMERSION PRINCIPLE):\n   - Options MUST show only TARGET language text (NO translations)\n   - All 4 options MUST be grammatically correct in TARGET language\n   - Options should represent meaningfully different responses\n   - textRomanization provided for non-Roman scripts, empty string for Roman scripts\n   - Penalize SEVERELY if options include translations or hints in NATIVE language\n   - Penalize if options are grammatically incorrect or nonsensical\n\n5. FEEDBACK DESIGN (CRITICAL):\n   - Every feedback MUST include the translation of what the learner said\n   - Feedback MUST explain why the choice is correct or incorrect\n   - For incorrect options: explain what would be better\n   - Feedback is in NATIVE language\n   - Penalize SEVERELY if feedback is missing translation\n   - Penalize if feedback doesn't explain the reasoning\n\n6. ROMANIZATION (CRITICAL):\n   - For non-Roman scripts (Japanese, Korean, Chinese, Arabic, Russian, Greek, Thai, Hindi, etc.):\n     BOTH contextRomanization AND textRomanization MUST be included and accurate\n   - For Roman-script languages (Spanish, French, German, Portuguese, Italian, etc.):\n     BOTH romanization fields MUST be empty strings \"\"\n   - Penalize SEVERELY if romanization is missing for non-Roman scripts\n   - Penalize SEVERELY if romanization contains text for Roman scripts\n\n7. STORY ARC AND PROGRESSION:\n   - Steps should follow a natural conversation flow\n   - Story should have: opening, building, resolution, closing\n   - Complication is optional but adds realism (e.g., item unavailable, clarification needed)\n   - Each step should logically follow from the previous\n   - The native speaker should acknowledge the learner's previous choice\n   Penalize if steps feel disconnected or conversation doesn't flow naturally.\n\n8. LINGUISTIC ACCURACY (CRITICAL):\n   - ALL target language text must be grammatically correct\n   - ALL translations must be accurate and natural\n   - Register (formal/informal) should be appropriate for the situation\n   - Cultural context should be accurate\n   Penalize SEVERELY for incorrect grammar, mistranslations, or inappropriate register.\n\n9. DISTRACTOR QUALITY (CRITICAL):\n   Wrong options MUST be genuinely wrong - they would cause miscommunication or confusion if used.\n\n   GOOD distractors (genuinely wrong):\n   - Answer a different question (asking about price when asked about quantity)\n   - Request the wrong thing (one-way ticket when you need round-trip)\n   - Are off-topic (asking for the check when you just arrived)\n   - Would cause confusion (saying \"no\" when you mean \"yes\")\n\n   BAD distractors (penalize these):\n   - More/less formal versions of the correct answer that would still work\n   - Slightly different phrasings that communicate the same thing\n   - \"Less polished\" versions that a native speaker would still understand\n\n   Example: If ordering coffee, \"Where is the bathroom?\" is a GOOD distractor (off-topic).\n   \"I would like your finest coffee\" vs \"A coffee please\" are BOTH correct - don't use one as a distractor for the other.\n\n   Penalize SEVERELY if distractors are just stylistic variations that would still accomplish the communication goal.\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for specific dialogue choices - accept ANY natural conversation\n- Do NOT require specific phrases or sentence structures\n- Do NOT penalize for different valid cultural approaches\n- FOCUS ON: structural correctness, immersion principle (no translations in options), feedback quality, romanization correctness\n- The eval model should judge whether the activity creates an immersive language experience, not whether it matches predetermined answers\n\n    ",
        "id": "pt-german-market-shopping-1",
        "userInput": {
          "chapterTitle": "Fazendo Compras",
          "courseTitle": "German",
          "language": "pt",
          "lessonDescription": "Aprenda a comprar frutas, verduras e outros itens em um mercado alemao",
          "lessonTitle": "No Mercado"
        }
      }
    },
    {
      "steps": [
        {
          "conclusion": "None",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "There is a very minor romanization inconsistency in Step 6, Option 2 ('Seutabeokeseueseo' suggests '스타버크스' rather than the standard '스타벅스/Seutabeokseu') and Option 3 ('Seutabeogseuneun' uses 'g' before 's' where Revised Romanization typically uses 'k' for batchim before voiceless consonants). However, these are negligible issues in a distractor and do not impact the learning value significantly.",
          "kind": "minorErrors",
          "score": 9.5
        },
        {
          "conclusion": "None",
          "kind": "potentialImprovements",
          "score": 10
        }
      ],
      "testCase": {
        "expectations": "\nLANGUAGE: Latin American Spanish output required (NOT English).\n\nTOPIC: Asking for directions in South Korea.\n\nSCRIPT: Non-Roman (romanization MUST be included for ALL Korean text)\n\nSCENARIO TYPE: Transportation - asking for directions\n\nKEY REQUIREMENTS:\n- Scenario IN SPANISH describes being lost and asking for directions\n- Questions and feedback IN SPANISH\n- Helpful local speaks natural Korean\n- Learner must choose appropriate Korean phrases\n- Options show ONLY Korean text with romanization, NO Spanish\n\nROMANIZATION REQUIREMENTS:\n- MUST include romanization for all Korean text\n- Use Revised Romanization of Korean\n- Both contextRomanization and textRomanization must be accurate\n\nACCURACY PITFALLS - Penalize SEVERELY if:\n- Output is in English instead of Spanish\n- Options include Spanish translations\n- Korean is inappropriate register (should use polite 요 forms for strangers)\n- Romanization is missing or uses non-standard system\n- Feedback (in Spanish) doesn't include Korean translation\n- Steps don't follow a logical interaction for asking directions\n\n\nEVALUATION CRITERIA:\n\n1. STRUCTURE - IMMERSIVE STORY FORMAT (CRITICAL):\n   The activity MUST follow the immersive story structure:\n   - A clear scenario description in the NATIVE language\n   - 5-10 dialogue steps with natural progression\n   - Each step has: context (TARGET), contextTranslation (NATIVE), contextRomanization, 4 options\n   - Exactly 1 correct option per step\n   Penalize SEVERELY if any structural element is missing or malformed.\n\n2. SCENARIO QUALITY:\n   - Scenario MUST describe a realistic everyday situation\n   - Should be relevant to the lesson topic\n   - Setting should be clear and immersive\n   - Appropriate for language learners (not overly complex situations)\n   Penalize if scenario is vague, unrealistic, or unrelated to the lesson.\n\n3. CONTEXT DIALOGUE:\n   - Context MUST be in the TARGET language\n   - Context represents what the native speaker says\n   - contextTranslation MUST accurately translate the context to NATIVE language\n   - Dialogue should be natural, not stilted or textbook-like\n   Penalize if context is unnatural or translation is inaccurate.\n\n4. OPTIONS DESIGN (CRITICAL - IMMERSION PRINCIPLE):\n   - Options MUST show only TARGET language text (NO translations)\n   - All 4 options MUST be grammatically correct in TARGET language\n   - Options should represent meaningfully different responses\n   - textRomanization provided for non-Roman scripts, empty string for Roman scripts\n   - Penalize SEVERELY if options include translations or hints in NATIVE language\n   - Penalize if options are grammatically incorrect or nonsensical\n\n5. FEEDBACK DESIGN (CRITICAL):\n   - Every feedback MUST include the translation of what the learner said\n   - Feedback MUST explain why the choice is correct or incorrect\n   - For incorrect options: explain what would be better\n   - Feedback is in NATIVE language\n   - Penalize SEVERELY if feedback is missing translation\n   - Penalize if feedback doesn't explain the reasoning\n\n6. ROMANIZATION (CRITICAL):\n   - For non-Roman scripts (Japanese, Korean, Chinese, Arabic, Russian, Greek, Thai, Hindi, etc.):\n     BOTH contextRomanization AND textRomanization MUST be included and accurate\n   - For Roman-script languages (Spanish, French, German, Portuguese, Italian, etc.):\n     BOTH romanization fields MUST be empty strings \"\"\n   - Penalize SEVERELY if romanization is missing for non-Roman scripts\n   - Penalize SEVERELY if romanization contains text for Roman scripts\n\n7. STORY ARC AND PROGRESSION:\n   - Steps should follow a natural conversation flow\n   - Story should have: opening, building, resolution, closing\n   - Complication is optional but adds realism (e.g., item unavailable, clarification needed)\n   - Each step should logically follow from the previous\n   - The native speaker should acknowledge the learner's previous choice\n   Penalize if steps feel disconnected or conversation doesn't flow naturally.\n\n8. LINGUISTIC ACCURACY (CRITICAL):\n   - ALL target language text must be grammatically correct\n   - ALL translations must be accurate and natural\n   - Register (formal/informal) should be appropriate for the situation\n   - Cultural context should be accurate\n   Penalize SEVERELY for incorrect grammar, mistranslations, or inappropriate register.\n\n9. DISTRACTOR QUALITY (CRITICAL):\n   Wrong options MUST be genuinely wrong - they would cause miscommunication or confusion if used.\n\n   GOOD distractors (genuinely wrong):\n   - Answer a different question (asking about price when asked about quantity)\n   - Request the wrong thing (one-way ticket when you need round-trip)\n   - Are off-topic (asking for the check when you just arrived)\n   - Would cause confusion (saying \"no\" when you mean \"yes\")\n\n   BAD distractors (penalize these):\n   - More/less formal versions of the correct answer that would still work\n   - Slightly different phrasings that communicate the same thing\n   - \"Less polished\" versions that a native speaker would still understand\n\n   Example: If ordering coffee, \"Where is the bathroom?\" is a GOOD distractor (off-topic).\n   \"I would like your finest coffee\" vs \"A coffee please\" are BOTH correct - don't use one as a distractor for the other.\n\n   Penalize SEVERELY if distractors are just stylistic variations that would still accomplish the communication goal.\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for specific dialogue choices - accept ANY natural conversation\n- Do NOT require specific phrases or sentence structures\n- Do NOT penalize for different valid cultural approaches\n- FOCUS ON: structural correctness, immersion principle (no translations in options), feedback quality, romanization correctness\n- The eval model should judge whether the activity creates an immersive language experience, not whether it matches predetermined answers\n\n    ",
        "id": "es-korean-asking-directions-1",
        "userInput": {
          "chapterTitle": "Transporte y Direcciones",
          "courseTitle": "Korean",
          "language": "es",
          "lessonDescription": "Como pedir direcciones y entender indicaciones basicas en coreano",
          "lessonTitle": "Pidiendo Direcciones"
        }
      }
    },
    {
      "steps": [
        {
          "conclusion": "None",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "The user expectations explicitly requested the topic be 'Visiting a pharmacy in Spain'. The generated scenario is set in Buenos Aires (Argentina) and uses pesos instead of euros. While the language is Spanish, the specific setting requirement was ignored.",
          "kind": "minorErrors",
          "score": 8.5
        },
        {
          "conclusion": "The distractors are sometimes a bit too random (e.g., 'I like coffee', 'My sister is a doctor'). While they follow the instruction to be 'clearly wrong', making them slightly more plausible linguistic confusions (e.g., wrong verb tense or false friend) might test the learner better while remaining unambiguous.",
          "kind": "potentialImprovements",
          "score": 9.5
        }
      ],
      "testCase": {
        "expectations": "\nLANGUAGE: English output required.\n\nTOPIC: Visiting a pharmacy in Spain with a minor ailment.\n\nSCRIPT: Roman (ALL romanization fields must be empty strings \"\")\n\nSCENARIO TYPE: Healthcare - pharmacy interaction\n\nKEY REQUIREMENTS:\n- Scenario describes needing medicine for a headache or cold\n- Pharmacist speaks natural Spanish\n- Learner must describe symptoms and ask for recommendations\n- Options show ONLY Spanish text, NO English translations\n- Feedback reveals English translation + explanation\n\nACCURACY PITFALLS - Penalize SEVERELY if:\n- Options include English translations\n- Spanish dialogue is unnatural\n- Romanization fields contain any text (must be empty strings)\n- Feedback doesn't include translation\n\n\nEVALUATION CRITERIA:\n\n1. STRUCTURE - IMMERSIVE STORY FORMAT (CRITICAL):\n   The activity MUST follow the immersive story structure:\n   - A clear scenario description in the NATIVE language\n   - 5-10 dialogue steps with natural progression\n   - Each step has: context (TARGET), contextTranslation (NATIVE), contextRomanization, 4 options\n   - Exactly 1 correct option per step\n   Penalize SEVERELY if any structural element is missing or malformed.\n\n2. SCENARIO QUALITY:\n   - Scenario MUST describe a realistic everyday situation\n   - Should be relevant to the lesson topic\n   - Setting should be clear and immersive\n   - Appropriate for language learners (not overly complex situations)\n   Penalize if scenario is vague, unrealistic, or unrelated to the lesson.\n\n3. CONTEXT DIALOGUE:\n   - Context MUST be in the TARGET language\n   - Context represents what the native speaker says\n   - contextTranslation MUST accurately translate the context to NATIVE language\n   - Dialogue should be natural, not stilted or textbook-like\n   Penalize if context is unnatural or translation is inaccurate.\n\n4. OPTIONS DESIGN (CRITICAL - IMMERSION PRINCIPLE):\n   - Options MUST show only TARGET language text (NO translations)\n   - All 4 options MUST be grammatically correct in TARGET language\n   - Options should represent meaningfully different responses\n   - textRomanization provided for non-Roman scripts, empty string for Roman scripts\n   - Penalize SEVERELY if options include translations or hints in NATIVE language\n   - Penalize if options are grammatically incorrect or nonsensical\n\n5. FEEDBACK DESIGN (CRITICAL):\n   - Every feedback MUST include the translation of what the learner said\n   - Feedback MUST explain why the choice is correct or incorrect\n   - For incorrect options: explain what would be better\n   - Feedback is in NATIVE language\n   - Penalize SEVERELY if feedback is missing translation\n   - Penalize if feedback doesn't explain the reasoning\n\n6. ROMANIZATION (CRITICAL):\n   - For non-Roman scripts (Japanese, Korean, Chinese, Arabic, Russian, Greek, Thai, Hindi, etc.):\n     BOTH contextRomanization AND textRomanization MUST be included and accurate\n   - For Roman-script languages (Spanish, French, German, Portuguese, Italian, etc.):\n     BOTH romanization fields MUST be empty strings \"\"\n   - Penalize SEVERELY if romanization is missing for non-Roman scripts\n   - Penalize SEVERELY if romanization contains text for Roman scripts\n\n7. STORY ARC AND PROGRESSION:\n   - Steps should follow a natural conversation flow\n   - Story should have: opening, building, resolution, closing\n   - Complication is optional but adds realism (e.g., item unavailable, clarification needed)\n   - Each step should logically follow from the previous\n   - The native speaker should acknowledge the learner's previous choice\n   Penalize if steps feel disconnected or conversation doesn't flow naturally.\n\n8. LINGUISTIC ACCURACY (CRITICAL):\n   - ALL target language text must be grammatically correct\n   - ALL translations must be accurate and natural\n   - Register (formal/informal) should be appropriate for the situation\n   - Cultural context should be accurate\n   Penalize SEVERELY for incorrect grammar, mistranslations, or inappropriate register.\n\n9. DISTRACTOR QUALITY (CRITICAL):\n   Wrong options MUST be genuinely wrong - they would cause miscommunication or confusion if used.\n\n   GOOD distractors (genuinely wrong):\n   - Answer a different question (asking about price when asked about quantity)\n   - Request the wrong thing (one-way ticket when you need round-trip)\n   - Are off-topic (asking for the check when you just arrived)\n   - Would cause confusion (saying \"no\" when you mean \"yes\")\n\n   BAD distractors (penalize these):\n   - More/less formal versions of the correct answer that would still work\n   - Slightly different phrasings that communicate the same thing\n   - \"Less polished\" versions that a native speaker would still understand\n\n   Example: If ordering coffee, \"Where is the bathroom?\" is a GOOD distractor (off-topic).\n   \"I would like your finest coffee\" vs \"A coffee please\" are BOTH correct - don't use one as a distractor for the other.\n\n   Penalize SEVERELY if distractors are just stylistic variations that would still accomplish the communication goal.\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for specific dialogue choices - accept ANY natural conversation\n- Do NOT require specific phrases or sentence structures\n- Do NOT penalize for different valid cultural approaches\n- FOCUS ON: structural correctness, immersion principle (no translations in options), feedback quality, romanization correctness\n- The eval model should judge whether the activity creates an immersive language experience, not whether it matches predetermined answers\n\n    ",
        "id": "en-spanish-pharmacy-visit-1",
        "userInput": {
          "chapterTitle": "Health and Wellness",
          "courseTitle": "Spanish",
          "language": "en",
          "lessonDescription": "Learn to describe symptoms and buy medicine at a Spanish pharmacy",
          "lessonTitle": "At the Pharmacy"
        }
      }
    }
  ],
  "taskId": "activity-story-language"
}
