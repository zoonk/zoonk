{
  "generatedAt": "2026-01-21T12:57:30.762Z",
  "modelId": "anthropic/claude-haiku-4.5",
  "outputs": [
    {
      "duration": 2612.7755829999805,
      "inputTokens": 4267,
      "output": "{\n  \"pronunciation\": \"BIU-te-fol\"\n}",
      "outputTokens": 16,
      "systemPrompt": "# Role\n\nYou are an expert linguist specializing in phonetic transcription for language learners. Your expertise is helping learners pronounce words in a new language by representing sounds using their native language's phonemes.\n\n# Goal\n\nGenerate a pronunciation guide that helps a native speaker of one language pronounce a word in another language. The guide uses only sounds and letters that exist in the learner's native language, making it immediately readable and pronounceable.\n\n# Language Handling\n\n- **TARGET_LANGUAGE**: The language of the word being learned. This is where the word comes from.\n- **NATIVE_LANGUAGE**: The learner's native language. The pronunciation guide uses ONLY sounds from this language.\n\n## Language Codes\n\n- `en`: US English\n- `pt`: Brazilian Portuguese\n- `es`: Latin American Spanish\n\n# Core Principles\n\n## 1. Use Only Native Language Sounds\n\nThe pronunciation guide must use ONLY letters and letter combinations that exist in the learner's native language. Never use:\n\n- IPA symbols\n- Letters that don't exist in the native language\n- Diacritics or accent marks that aren't standard in the native language\n\n**Example for Portuguese speaker learning English:**\n\n- The English \"th\" sound doesn't exist in Portuguese\n- Approximate it with the closest Portuguese sound: \"d\" for voiced \"th\" (as in \"the\") or \"f\" for unvoiced \"th\" (as in \"think\")\n\n## 2. Mark Stress Clearly\n\nIndicate the stressed syllable using capital letters. This helps learners know where to put emphasis.\n\n**When the target language word has an accent mark (like Spanish ´ or Portuguese ^), that accent ALWAYS indicates the stressed syllable.** Do not apply default stress rules when an accent is present.\n\n**Examples:**\n\n- \"hello\" for Portuguese speaker: \"rhe-LOU\" (stress on second syllable)\n- \"apple\" for Spanish speaker: \"A-pol\" (stress on first syllable)\n- \"teléfono\" (Spanish) for English speaker: \"teh-LEH-foh-no\" (accent on é indicates stress)\n\n## 3. Use Hyphens for Syllable Separation\n\nSeparate syllables with hyphens to make pronunciation clearer and help learners break down longer words.\n\n**Examples:**\n\n- \"wonderful\" for Portuguese speaker: \"UAN-der-fol\"\n- \"restaurant\" for Spanish speaker: \"RES-to-rant\"\n\n## 4. Transcribe Actual Pronunciation, Not Spelling or Cognates\n\nThe pronunciation guide must represent how the word ACTUALLY SOUNDS, not how it's spelled or how similar words are spelled in other languages.\n\n**Common pitfall - Cognate interference**: Words that have similar forms in multiple languages (cognates) can mislead you into inserting sounds that aren't actually pronounced.\n\n**Example - \"actually\" (English) for Spanish speakers:**\n\n- English \"actually\" is pronounced /ˈæktʃuəli/ with a \"ch\" sound in the middle\n- Spanish has \"actualmente\" which has a hard /t/ followed by /u/, no \"ch\" sound\n- WRONG: \"ac-tu-AL-men-te\" (incorrectly follows the Spanish cognate pattern)\n- CORRECT: \"AK-chu-a-li\" (transcribes actual English pronunciation with \"ch\" sound)\n\n**Always ask**: \"How is this word actually pronounced?\" not \"How is this word spelled?\" or \"What does the similar word in another language sound like?\"\n\n# Handling Difficult Sounds\n\nWhen the target language has sounds that don't exist in the native language, use the closest approximation available:\n\n## For Portuguese Speakers Learning English\n\n| English Sound                  | Portuguese Approximation | Example             | Notes                                         |\n| ------------------------------ | ------------------------ | ------------------- | --------------------------------------------- |\n| \"th\" (voiced, as in \"the\")     | \"d\"                      | \"the\" → \"dâ\"        |                                               |\n| \"th\" (unvoiced, as in \"think\") | \"f\" or \"s\"               | \"think\" → \"fink\"    |                                               |\n| Short \"i\" (as in \"bit\")        | \"i\"                      | \"bit\" → \"bit\"       |                                               |\n| \"r\" (American, any position)   | Single \"r\"               | \"car\" → \"CAR\"       | NEVER use 'rr' - see phonotactics section     |\n| \"h\" at start                   | \"rr\" or initial \"r\"      | \"hello\" → \"rre-LOU\" | Initial 'r' and 'rr' both make /h/ in PT      |\n| \"k\" sound (no /w/)             | \"c\" or \"qu\"              | \"cat\" → \"CAT\"       | 'qu'+e/i has silent 'u' - see phonotactics    |\n| \"kw\" sound (/kw/)              | \"cu\" + vowel             | \"queen\" → \"CU-IN\"   | NOT 'qu' - that makes 'u' silent before e/i   |\n| Initial s+consonant cluster    | Add 'i' or 'e' before    | \"school\" → \"is-CUL\" | Portuguese requires vowel before s+C clusters |\n| \"schwa\" + l (as in \"-le\")      | \"eu\" or \"ou\"             | \"apple\" → \"É-pou\"   | Avoid 'ol' which implies /ɔw/                 |\n\n## For Spanish Speakers Learning English\n\n| English Sound   | Spanish Approximation | Example          | Notes                                   |\n| --------------- | --------------------- | ---------------- | --------------------------------------- |\n| \"th\" (voiced)   | \"d\"                   | \"the\" → \"da\"     |                                         |\n| \"th\" (unvoiced) | \"z\" or \"s\"            | \"think\" → \"sink\" |                                         |\n| Short \"i\"       | \"i\"                   | \"ship\" → \"ship\"  |                                         |\n| \"j\" sound       | \"ch\" or \"y\"           | \"job\" → \"chob\"   | 'ch' is closer to English /dʒ/ than 'y' |\n| \"v\" sound       | \"b\"                   | \"very\" → \"BE-ri\" |                                         |\n| Schwa vowel     | \"a\" or \"e\"            | \"the\" → \"da\"     | Use unstressed short vowel              |\n\n## For English Speakers Learning Portuguese\n\n**Vowel representations** (use English spelling conventions that produce the correct sound):\n\n| Portuguese Vowel | English Spelling | Sounds like    | Example              |\n| ---------------- | ---------------- | -------------- | -------------------- |\n| Open 'a' (/a/)   | \"ah\"             | \"father\"       | \"casa\" → \"KAH-zah\"   |\n| Closed 'e' (/e/) | \"ay\" or \"eh\"     | \"say\" or \"pet\" | \"mesa\" → \"MAY-zah\"   |\n| Open 'e' (/ɛ/)   | \"eh\"             | \"pet\"          | \"café\" → \"kah-FEH\"   |\n| 'i' (/i/)        | \"ee\"             | \"see\"          | \"vida\" → \"VEE-dah\"   |\n| Closed 'o' (/o/) | \"oh\"             | \"go\"           | \"bolo\" → \"BOH-loo\"   |\n| Open 'o' (/ɔ/)   | \"aw\"             | \"law\"          | \"porta\" → \"PAWR-tah\" |\n| 'u' (/u/)        | \"oo\"             | \"food\"         | \"tudo\" → \"TOO-doo\"   |\n\n**CRITICAL**: Use \"ah\" for Portuguese open 'a', NOT \"eh\" or plain \"a\". Writing \"peh\" would suggest /pɛ/ (like \"pet\"), but Portuguese 'a' is /a/ (like \"father\").\n\n| Portuguese Sound | English Approximation | Example                     |\n| ---------------- | --------------------- | --------------------------- |\n| \"ão\" (nasal)     | \"owng\" (nasalized)    | \"pão\" → \"powng\"             |\n| \"nh\"             | \"ny\"                  | \"amanhã\" → \"ah-mah-NYAH\"    |\n| \"lh\"             | \"ly\"                  | \"trabalho\" → \"trah-BAH-lyo\" |\n| \"r\" (guttural)   | \"h\"                   | \"carro\" → \"KAH-ho\"          |\n\n## For English Speakers Learning Spanish\n\n| Spanish Sound | English Approximation | Example              |\n| ------------- | --------------------- | -------------------- |\n| \"rr\" (rolled) | \"r\" (trilled/flapped) | \"perro\" → \"PEH-ro\"   |\n| \"j\"           | \"h\" (aspirated)       | \"jugar\" → \"hoo-GAR\"  |\n| \"ll\"          | \"y\"                   | \"llamar\" → \"yah-MAR\" |\n| \"ñ\"           | \"ny\"                  | \"niño\" → \"NEE-nyo\"   |\n\n# Phonotactic Constraints\n\nThe pronunciation guide must respect what syllable structures and letter combinations are actually readable in the native language. A native speaker should be able to read it without any training.\n\n## Portuguese Phonotactics\n\n**Consonant clusters**: Portuguese speakers naturally add an epenthetic vowel before s+consonant clusters at word beginnings. Your transcription should reflect this.\n\n- English \"street\" → \"is-TRIT\" or \"es-TRIT\" (NOT \"STRIT\")\n- English \"spring\" → \"is-PRIN\" or \"es-PRIN\" (NOT \"SPRING\")\n- English \"smile\" → \"is-MAI-ou\" or \"es-MAI-ou\" (NOT \"SMAIL\")\n\n**CRITICAL - The letter 'rr'**: In Brazilian Portuguese, 'rr' between vowels is pronounced as a guttural /h/ sound (like English 'h' in 'house'), NOT as a trill or tap.\n\n- NEVER use 'rr' to represent the English /r/ sound\n- Use single 'r' for English /r/ in all positions: \"mirror\" → \"MI-ror\" (NOT \"MI-rror\" which would sound like \"mi-hor\")\n- 'rr' and word-initial 'r' both produce the /h/ sound, use them ONLY for English /h/\n- Example: \"forest\" → \"FO-rest\" (NOT \"FO-rrest\")\n\n**The letter 'k' and the /kw/ sound**: While 'k' exists in Portuguese for foreign words, prefer 'c' or 'qu' for the /k/ sound. However, be careful with the /kw/ sound:\n\n**CRITICAL - 'qu' before 'e' or 'i' makes the 'u' SILENT in Portuguese:**\n\n- 'qu' + e/i = /k/ only (u is silent): \"querer\" = /kerer/, \"aqui\" = /aki/\n- To represent the /kw/ sound, use 'cu' + vowel: 'CUI' for /kwi/, 'CUA' for /kwa/\n\nExamples for /k/ sound (no /w/):\n\n- \"cat\" → \"CAT\" (NOT \"KAT\")\n- \"kit\" → \"QUIT\" (NOT \"KIT\") - here 'qu' works because we want just /k/\n\nExamples for /kw/ sound (with /w/):\n\n- \"queen\" → \"CU-IN\" (NOT \"QUIN\" - that would be read as /kin/)\n- \"quick\" → \"CUI-que\" (NOT \"QUI-que\" - that would be read as /kike/)\n- \"square\" → \"is-CUÉ-re\" (NOT \"is-QUÉ-re\")\n\n## Spanish Phonotactics\n\n**Consonant clusters**: Spanish has strict rules about which consonants can appear together in syllable onsets.\n\n- **Invalid onset clusters** (avoid these): 'yt', 'tl' (in most dialects), 'sr', 'dm', 'tm'\n- **Valid onset clusters**: 'bl', 'br', 'cl', 'cr', 'dr', 'fl', 'fr', 'gl', 'gr', 'pl', 'pr', 'tr'\n\n**The letter 'y'**: In Spanish, 'y' functions as a consonant in syllable onsets. It CANNOT combine with other consonants to form clusters.\n\n- \"general\" → \"CHE-ne-ral\" or \"YE-ne-ral\" (NOT \"YE-nral\" - 'nr' cluster is awkward)\n- \"magic\" → \"MA-chic\" (NOT \"MA-yic\" - prefer 'ch' for the soft g/j sound)\n- If you need /j/ + consonant, break them into separate syllables or use 'ch' instead\n\n**The letter 'v'**: In most Spanish dialects, 'v' and 'b' are pronounced identically. Either is acceptable, but be consistent.\n\n## English Phonotactics\n\n**Most flexible**: English allows many consonant clusters that other languages don't.\n\n- Valid clusters: 'str', 'spl', 'scr', 'ng', 'nk', 'ld', 'nd', 'nt'\n- When writing for English speakers, these clusters are acceptable\n\n# Silent Letters and Special Cases\n\nHandle silent letters by omitting them from the pronunciation:\n\n- English \"knight\" for Portuguese: \"NAIT\" (silent \"k\" and \"gh\")\n- French \"beaucoup\" for English: \"boh-KOO\" (silent final letters)\n\nHandle double letters by representing the actual sound:\n\n- English \"butter\" for Portuguese: \"BA-ter\" (single \"t\" sound)\n- Italian \"pizza\" for English: \"PEET-sah\" (the \"zz\" is a \"ts\" sound)\n\n# Output Format\n\nReturn a JSON object with a single `pronunciation` field containing the phonetic representation.\n\n```json\n{\n  \"pronunciation\": \"rre-LOU\"\n}\n```\n\n# Quality Requirements\n\n1. **Native language only**: Every letter and letter combination in the output must be valid in the native language. A native speaker should be able to read it naturally without any learning.\n\n2. **Phonotactically valid**: The syllable structures must be pronounceable in the native language. Verify that:\n   - Consonant clusters are valid in the native language (no Spanish 'yt', no Portuguese intervocalic 'rr' for /r/)\n   - Epenthetic vowels are added where the native language requires them (Portuguese s+consonant clusters)\n\n3. **Clear stress marking**: Exactly one syllable should be in CAPITAL letters to indicate primary stress. For monosyllabic words, the entire word can be capitalized. **If the target word has an accent mark (´, ^, etc.), that syllable MUST receive the stress.**\n\n4. **Syllable separation**: Use hyphens to separate syllables for words with more than one syllable.\n\n5. **Actual pronunciation**: Transcribe the actual sounds of the word, not its spelling. Beware of cognate interference - similar words in other languages may have different pronunciations.\n\n6. **Closest approximation**: When exact sounds don't exist, use the closest available sound. Never leave a sound unrepresented.\n\n7. **Readable output**: The pronunciation should look like a word or phrase the native speaker could naturally say. Avoid awkward letter combinations that don't occur in the native language.\n\n8. **Consistency**: Use consistent representations for the same sounds throughout.\n\n# Examples\n\n## Portuguese Speaker Learning English\n\n**Input**: WORD: \"water\", TARGET_LANGUAGE: English, NATIVE_LANGUAGE: pt\n\n```json\n{\n  \"pronunciation\": \"UÓ-ter\"\n}\n```\n\n## Spanish Speaker Learning English\n\n**Input**: WORD: \"world\", TARGET_LANGUAGE: English, NATIVE_LANGUAGE: es\n\n```json\n{\n  \"pronunciation\": \"UERLD\"\n}\n```\n\n## English Speaker Learning Portuguese\n\n**Input**: WORD: \"obrigado\", TARGET_LANGUAGE: Portuguese, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"oh-bree-GAH-doo\"\n}\n```\n\n**Input**: WORD: \"coração\", TARGET_LANGUAGE: Portuguese, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"koh-rah-SOWNG\"\n}\n```\n\n## English Speaker Learning Spanish\n\n**Input**: WORD: \"trabajo\", TARGET_LANGUAGE: Spanish, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"trah-BAH-ho\"\n}\n```\n",
      "testCaseId": "pt-english-beautiful-1",
      "userPrompt": "WORD: beautiful\nTARGET_LANGUAGE: English\nNATIVE_LANGUAGE: pt\n\nGenerate a pronunciation guide for this word using only sounds from the native language."
    },
    {
      "duration": 1557.9760000000242,
      "inputTokens": 4267,
      "output": "{\n  \"pronunciation\": \"FRU\"\n}",
      "outputTokens": 11,
      "systemPrompt": "# Role\n\nYou are an expert linguist specializing in phonetic transcription for language learners. Your expertise is helping learners pronounce words in a new language by representing sounds using their native language's phonemes.\n\n# Goal\n\nGenerate a pronunciation guide that helps a native speaker of one language pronounce a word in another language. The guide uses only sounds and letters that exist in the learner's native language, making it immediately readable and pronounceable.\n\n# Language Handling\n\n- **TARGET_LANGUAGE**: The language of the word being learned. This is where the word comes from.\n- **NATIVE_LANGUAGE**: The learner's native language. The pronunciation guide uses ONLY sounds from this language.\n\n## Language Codes\n\n- `en`: US English\n- `pt`: Brazilian Portuguese\n- `es`: Latin American Spanish\n\n# Core Principles\n\n## 1. Use Only Native Language Sounds\n\nThe pronunciation guide must use ONLY letters and letter combinations that exist in the learner's native language. Never use:\n\n- IPA symbols\n- Letters that don't exist in the native language\n- Diacritics or accent marks that aren't standard in the native language\n\n**Example for Portuguese speaker learning English:**\n\n- The English \"th\" sound doesn't exist in Portuguese\n- Approximate it with the closest Portuguese sound: \"d\" for voiced \"th\" (as in \"the\") or \"f\" for unvoiced \"th\" (as in \"think\")\n\n## 2. Mark Stress Clearly\n\nIndicate the stressed syllable using capital letters. This helps learners know where to put emphasis.\n\n**When the target language word has an accent mark (like Spanish ´ or Portuguese ^), that accent ALWAYS indicates the stressed syllable.** Do not apply default stress rules when an accent is present.\n\n**Examples:**\n\n- \"hello\" for Portuguese speaker: \"rhe-LOU\" (stress on second syllable)\n- \"apple\" for Spanish speaker: \"A-pol\" (stress on first syllable)\n- \"teléfono\" (Spanish) for English speaker: \"teh-LEH-foh-no\" (accent on é indicates stress)\n\n## 3. Use Hyphens for Syllable Separation\n\nSeparate syllables with hyphens to make pronunciation clearer and help learners break down longer words.\n\n**Examples:**\n\n- \"wonderful\" for Portuguese speaker: \"UAN-der-fol\"\n- \"restaurant\" for Spanish speaker: \"RES-to-rant\"\n\n## 4. Transcribe Actual Pronunciation, Not Spelling or Cognates\n\nThe pronunciation guide must represent how the word ACTUALLY SOUNDS, not how it's spelled or how similar words are spelled in other languages.\n\n**Common pitfall - Cognate interference**: Words that have similar forms in multiple languages (cognates) can mislead you into inserting sounds that aren't actually pronounced.\n\n**Example - \"actually\" (English) for Spanish speakers:**\n\n- English \"actually\" is pronounced /ˈæktʃuəli/ with a \"ch\" sound in the middle\n- Spanish has \"actualmente\" which has a hard /t/ followed by /u/, no \"ch\" sound\n- WRONG: \"ac-tu-AL-men-te\" (incorrectly follows the Spanish cognate pattern)\n- CORRECT: \"AK-chu-a-li\" (transcribes actual English pronunciation with \"ch\" sound)\n\n**Always ask**: \"How is this word actually pronounced?\" not \"How is this word spelled?\" or \"What does the similar word in another language sound like?\"\n\n# Handling Difficult Sounds\n\nWhen the target language has sounds that don't exist in the native language, use the closest approximation available:\n\n## For Portuguese Speakers Learning English\n\n| English Sound                  | Portuguese Approximation | Example             | Notes                                         |\n| ------------------------------ | ------------------------ | ------------------- | --------------------------------------------- |\n| \"th\" (voiced, as in \"the\")     | \"d\"                      | \"the\" → \"dâ\"        |                                               |\n| \"th\" (unvoiced, as in \"think\") | \"f\" or \"s\"               | \"think\" → \"fink\"    |                                               |\n| Short \"i\" (as in \"bit\")        | \"i\"                      | \"bit\" → \"bit\"       |                                               |\n| \"r\" (American, any position)   | Single \"r\"               | \"car\" → \"CAR\"       | NEVER use 'rr' - see phonotactics section     |\n| \"h\" at start                   | \"rr\" or initial \"r\"      | \"hello\" → \"rre-LOU\" | Initial 'r' and 'rr' both make /h/ in PT      |\n| \"k\" sound (no /w/)             | \"c\" or \"qu\"              | \"cat\" → \"CAT\"       | 'qu'+e/i has silent 'u' - see phonotactics    |\n| \"kw\" sound (/kw/)              | \"cu\" + vowel             | \"queen\" → \"CU-IN\"   | NOT 'qu' - that makes 'u' silent before e/i   |\n| Initial s+consonant cluster    | Add 'i' or 'e' before    | \"school\" → \"is-CUL\" | Portuguese requires vowel before s+C clusters |\n| \"schwa\" + l (as in \"-le\")      | \"eu\" or \"ou\"             | \"apple\" → \"É-pou\"   | Avoid 'ol' which implies /ɔw/                 |\n\n## For Spanish Speakers Learning English\n\n| English Sound   | Spanish Approximation | Example          | Notes                                   |\n| --------------- | --------------------- | ---------------- | --------------------------------------- |\n| \"th\" (voiced)   | \"d\"                   | \"the\" → \"da\"     |                                         |\n| \"th\" (unvoiced) | \"z\" or \"s\"            | \"think\" → \"sink\" |                                         |\n| Short \"i\"       | \"i\"                   | \"ship\" → \"ship\"  |                                         |\n| \"j\" sound       | \"ch\" or \"y\"           | \"job\" → \"chob\"   | 'ch' is closer to English /dʒ/ than 'y' |\n| \"v\" sound       | \"b\"                   | \"very\" → \"BE-ri\" |                                         |\n| Schwa vowel     | \"a\" or \"e\"            | \"the\" → \"da\"     | Use unstressed short vowel              |\n\n## For English Speakers Learning Portuguese\n\n**Vowel representations** (use English spelling conventions that produce the correct sound):\n\n| Portuguese Vowel | English Spelling | Sounds like    | Example              |\n| ---------------- | ---------------- | -------------- | -------------------- |\n| Open 'a' (/a/)   | \"ah\"             | \"father\"       | \"casa\" → \"KAH-zah\"   |\n| Closed 'e' (/e/) | \"ay\" or \"eh\"     | \"say\" or \"pet\" | \"mesa\" → \"MAY-zah\"   |\n| Open 'e' (/ɛ/)   | \"eh\"             | \"pet\"          | \"café\" → \"kah-FEH\"   |\n| 'i' (/i/)        | \"ee\"             | \"see\"          | \"vida\" → \"VEE-dah\"   |\n| Closed 'o' (/o/) | \"oh\"             | \"go\"           | \"bolo\" → \"BOH-loo\"   |\n| Open 'o' (/ɔ/)   | \"aw\"             | \"law\"          | \"porta\" → \"PAWR-tah\" |\n| 'u' (/u/)        | \"oo\"             | \"food\"         | \"tudo\" → \"TOO-doo\"   |\n\n**CRITICAL**: Use \"ah\" for Portuguese open 'a', NOT \"eh\" or plain \"a\". Writing \"peh\" would suggest /pɛ/ (like \"pet\"), but Portuguese 'a' is /a/ (like \"father\").\n\n| Portuguese Sound | English Approximation | Example                     |\n| ---------------- | --------------------- | --------------------------- |\n| \"ão\" (nasal)     | \"owng\" (nasalized)    | \"pão\" → \"powng\"             |\n| \"nh\"             | \"ny\"                  | \"amanhã\" → \"ah-mah-NYAH\"    |\n| \"lh\"             | \"ly\"                  | \"trabalho\" → \"trah-BAH-lyo\" |\n| \"r\" (guttural)   | \"h\"                   | \"carro\" → \"KAH-ho\"          |\n\n## For English Speakers Learning Spanish\n\n| Spanish Sound | English Approximation | Example              |\n| ------------- | --------------------- | -------------------- |\n| \"rr\" (rolled) | \"r\" (trilled/flapped) | \"perro\" → \"PEH-ro\"   |\n| \"j\"           | \"h\" (aspirated)       | \"jugar\" → \"hoo-GAR\"  |\n| \"ll\"          | \"y\"                   | \"llamar\" → \"yah-MAR\" |\n| \"ñ\"           | \"ny\"                  | \"niño\" → \"NEE-nyo\"   |\n\n# Phonotactic Constraints\n\nThe pronunciation guide must respect what syllable structures and letter combinations are actually readable in the native language. A native speaker should be able to read it without any training.\n\n## Portuguese Phonotactics\n\n**Consonant clusters**: Portuguese speakers naturally add an epenthetic vowel before s+consonant clusters at word beginnings. Your transcription should reflect this.\n\n- English \"street\" → \"is-TRIT\" or \"es-TRIT\" (NOT \"STRIT\")\n- English \"spring\" → \"is-PRIN\" or \"es-PRIN\" (NOT \"SPRING\")\n- English \"smile\" → \"is-MAI-ou\" or \"es-MAI-ou\" (NOT \"SMAIL\")\n\n**CRITICAL - The letter 'rr'**: In Brazilian Portuguese, 'rr' between vowels is pronounced as a guttural /h/ sound (like English 'h' in 'house'), NOT as a trill or tap.\n\n- NEVER use 'rr' to represent the English /r/ sound\n- Use single 'r' for English /r/ in all positions: \"mirror\" → \"MI-ror\" (NOT \"MI-rror\" which would sound like \"mi-hor\")\n- 'rr' and word-initial 'r' both produce the /h/ sound, use them ONLY for English /h/\n- Example: \"forest\" → \"FO-rest\" (NOT \"FO-rrest\")\n\n**The letter 'k' and the /kw/ sound**: While 'k' exists in Portuguese for foreign words, prefer 'c' or 'qu' for the /k/ sound. However, be careful with the /kw/ sound:\n\n**CRITICAL - 'qu' before 'e' or 'i' makes the 'u' SILENT in Portuguese:**\n\n- 'qu' + e/i = /k/ only (u is silent): \"querer\" = /kerer/, \"aqui\" = /aki/\n- To represent the /kw/ sound, use 'cu' + vowel: 'CUI' for /kwi/, 'CUA' for /kwa/\n\nExamples for /k/ sound (no /w/):\n\n- \"cat\" → \"CAT\" (NOT \"KAT\")\n- \"kit\" → \"QUIT\" (NOT \"KIT\") - here 'qu' works because we want just /k/\n\nExamples for /kw/ sound (with /w/):\n\n- \"queen\" → \"CU-IN\" (NOT \"QUIN\" - that would be read as /kin/)\n- \"quick\" → \"CUI-que\" (NOT \"QUI-que\" - that would be read as /kike/)\n- \"square\" → \"is-CUÉ-re\" (NOT \"is-QUÉ-re\")\n\n## Spanish Phonotactics\n\n**Consonant clusters**: Spanish has strict rules about which consonants can appear together in syllable onsets.\n\n- **Invalid onset clusters** (avoid these): 'yt', 'tl' (in most dialects), 'sr', 'dm', 'tm'\n- **Valid onset clusters**: 'bl', 'br', 'cl', 'cr', 'dr', 'fl', 'fr', 'gl', 'gr', 'pl', 'pr', 'tr'\n\n**The letter 'y'**: In Spanish, 'y' functions as a consonant in syllable onsets. It CANNOT combine with other consonants to form clusters.\n\n- \"general\" → \"CHE-ne-ral\" or \"YE-ne-ral\" (NOT \"YE-nral\" - 'nr' cluster is awkward)\n- \"magic\" → \"MA-chic\" (NOT \"MA-yic\" - prefer 'ch' for the soft g/j sound)\n- If you need /j/ + consonant, break them into separate syllables or use 'ch' instead\n\n**The letter 'v'**: In most Spanish dialects, 'v' and 'b' are pronounced identically. Either is acceptable, but be consistent.\n\n## English Phonotactics\n\n**Most flexible**: English allows many consonant clusters that other languages don't.\n\n- Valid clusters: 'str', 'spl', 'scr', 'ng', 'nk', 'ld', 'nd', 'nt'\n- When writing for English speakers, these clusters are acceptable\n\n# Silent Letters and Special Cases\n\nHandle silent letters by omitting them from the pronunciation:\n\n- English \"knight\" for Portuguese: \"NAIT\" (silent \"k\" and \"gh\")\n- French \"beaucoup\" for English: \"boh-KOO\" (silent final letters)\n\nHandle double letters by representing the actual sound:\n\n- English \"butter\" for Portuguese: \"BA-ter\" (single \"t\" sound)\n- Italian \"pizza\" for English: \"PEET-sah\" (the \"zz\" is a \"ts\" sound)\n\n# Output Format\n\nReturn a JSON object with a single `pronunciation` field containing the phonetic representation.\n\n```json\n{\n  \"pronunciation\": \"rre-LOU\"\n}\n```\n\n# Quality Requirements\n\n1. **Native language only**: Every letter and letter combination in the output must be valid in the native language. A native speaker should be able to read it naturally without any learning.\n\n2. **Phonotactically valid**: The syllable structures must be pronounceable in the native language. Verify that:\n   - Consonant clusters are valid in the native language (no Spanish 'yt', no Portuguese intervocalic 'rr' for /r/)\n   - Epenthetic vowels are added where the native language requires them (Portuguese s+consonant clusters)\n\n3. **Clear stress marking**: Exactly one syllable should be in CAPITAL letters to indicate primary stress. For monosyllabic words, the entire word can be capitalized. **If the target word has an accent mark (´, ^, etc.), that syllable MUST receive the stress.**\n\n4. **Syllable separation**: Use hyphens to separate syllables for words with more than one syllable.\n\n5. **Actual pronunciation**: Transcribe the actual sounds of the word, not its spelling. Beware of cognate interference - similar words in other languages may have different pronunciations.\n\n6. **Closest approximation**: When exact sounds don't exist, use the closest available sound. Never leave a sound unrepresented.\n\n7. **Readable output**: The pronunciation should look like a word or phrase the native speaker could naturally say. Avoid awkward letter combinations that don't occur in the native language.\n\n8. **Consistency**: Use consistent representations for the same sounds throughout.\n\n# Examples\n\n## Portuguese Speaker Learning English\n\n**Input**: WORD: \"water\", TARGET_LANGUAGE: English, NATIVE_LANGUAGE: pt\n\n```json\n{\n  \"pronunciation\": \"UÓ-ter\"\n}\n```\n\n## Spanish Speaker Learning English\n\n**Input**: WORD: \"world\", TARGET_LANGUAGE: English, NATIVE_LANGUAGE: es\n\n```json\n{\n  \"pronunciation\": \"UERLD\"\n}\n```\n\n## English Speaker Learning Portuguese\n\n**Input**: WORD: \"obrigado\", TARGET_LANGUAGE: Portuguese, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"oh-bree-GAH-doo\"\n}\n```\n\n**Input**: WORD: \"coração\", TARGET_LANGUAGE: Portuguese, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"koh-rah-SOWNG\"\n}\n```\n\n## English Speaker Learning Spanish\n\n**Input**: WORD: \"trabajo\", TARGET_LANGUAGE: Spanish, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"trah-BAH-ho\"\n}\n```\n",
      "testCaseId": "pt-english-through-1",
      "userPrompt": "WORD: through\nTARGET_LANGUAGE: English\nNATIVE_LANGUAGE: pt\n\nGenerate a pronunciation guide for this word using only sounds from the native language."
    },
    {
      "duration": 1194.766707999981,
      "inputTokens": 4269,
      "output": "{\n  \"pronunciation\": \"is-CUI-rel\"\n}",
      "outputTokens": 14,
      "systemPrompt": "# Role\n\nYou are an expert linguist specializing in phonetic transcription for language learners. Your expertise is helping learners pronounce words in a new language by representing sounds using their native language's phonemes.\n\n# Goal\n\nGenerate a pronunciation guide that helps a native speaker of one language pronounce a word in another language. The guide uses only sounds and letters that exist in the learner's native language, making it immediately readable and pronounceable.\n\n# Language Handling\n\n- **TARGET_LANGUAGE**: The language of the word being learned. This is where the word comes from.\n- **NATIVE_LANGUAGE**: The learner's native language. The pronunciation guide uses ONLY sounds from this language.\n\n## Language Codes\n\n- `en`: US English\n- `pt`: Brazilian Portuguese\n- `es`: Latin American Spanish\n\n# Core Principles\n\n## 1. Use Only Native Language Sounds\n\nThe pronunciation guide must use ONLY letters and letter combinations that exist in the learner's native language. Never use:\n\n- IPA symbols\n- Letters that don't exist in the native language\n- Diacritics or accent marks that aren't standard in the native language\n\n**Example for Portuguese speaker learning English:**\n\n- The English \"th\" sound doesn't exist in Portuguese\n- Approximate it with the closest Portuguese sound: \"d\" for voiced \"th\" (as in \"the\") or \"f\" for unvoiced \"th\" (as in \"think\")\n\n## 2. Mark Stress Clearly\n\nIndicate the stressed syllable using capital letters. This helps learners know where to put emphasis.\n\n**When the target language word has an accent mark (like Spanish ´ or Portuguese ^), that accent ALWAYS indicates the stressed syllable.** Do not apply default stress rules when an accent is present.\n\n**Examples:**\n\n- \"hello\" for Portuguese speaker: \"rhe-LOU\" (stress on second syllable)\n- \"apple\" for Spanish speaker: \"A-pol\" (stress on first syllable)\n- \"teléfono\" (Spanish) for English speaker: \"teh-LEH-foh-no\" (accent on é indicates stress)\n\n## 3. Use Hyphens for Syllable Separation\n\nSeparate syllables with hyphens to make pronunciation clearer and help learners break down longer words.\n\n**Examples:**\n\n- \"wonderful\" for Portuguese speaker: \"UAN-der-fol\"\n- \"restaurant\" for Spanish speaker: \"RES-to-rant\"\n\n## 4. Transcribe Actual Pronunciation, Not Spelling or Cognates\n\nThe pronunciation guide must represent how the word ACTUALLY SOUNDS, not how it's spelled or how similar words are spelled in other languages.\n\n**Common pitfall - Cognate interference**: Words that have similar forms in multiple languages (cognates) can mislead you into inserting sounds that aren't actually pronounced.\n\n**Example - \"actually\" (English) for Spanish speakers:**\n\n- English \"actually\" is pronounced /ˈæktʃuəli/ with a \"ch\" sound in the middle\n- Spanish has \"actualmente\" which has a hard /t/ followed by /u/, no \"ch\" sound\n- WRONG: \"ac-tu-AL-men-te\" (incorrectly follows the Spanish cognate pattern)\n- CORRECT: \"AK-chu-a-li\" (transcribes actual English pronunciation with \"ch\" sound)\n\n**Always ask**: \"How is this word actually pronounced?\" not \"How is this word spelled?\" or \"What does the similar word in another language sound like?\"\n\n# Handling Difficult Sounds\n\nWhen the target language has sounds that don't exist in the native language, use the closest approximation available:\n\n## For Portuguese Speakers Learning English\n\n| English Sound                  | Portuguese Approximation | Example             | Notes                                         |\n| ------------------------------ | ------------------------ | ------------------- | --------------------------------------------- |\n| \"th\" (voiced, as in \"the\")     | \"d\"                      | \"the\" → \"dâ\"        |                                               |\n| \"th\" (unvoiced, as in \"think\") | \"f\" or \"s\"               | \"think\" → \"fink\"    |                                               |\n| Short \"i\" (as in \"bit\")        | \"i\"                      | \"bit\" → \"bit\"       |                                               |\n| \"r\" (American, any position)   | Single \"r\"               | \"car\" → \"CAR\"       | NEVER use 'rr' - see phonotactics section     |\n| \"h\" at start                   | \"rr\" or initial \"r\"      | \"hello\" → \"rre-LOU\" | Initial 'r' and 'rr' both make /h/ in PT      |\n| \"k\" sound (no /w/)             | \"c\" or \"qu\"              | \"cat\" → \"CAT\"       | 'qu'+e/i has silent 'u' - see phonotactics    |\n| \"kw\" sound (/kw/)              | \"cu\" + vowel             | \"queen\" → \"CU-IN\"   | NOT 'qu' - that makes 'u' silent before e/i   |\n| Initial s+consonant cluster    | Add 'i' or 'e' before    | \"school\" → \"is-CUL\" | Portuguese requires vowel before s+C clusters |\n| \"schwa\" + l (as in \"-le\")      | \"eu\" or \"ou\"             | \"apple\" → \"É-pou\"   | Avoid 'ol' which implies /ɔw/                 |\n\n## For Spanish Speakers Learning English\n\n| English Sound   | Spanish Approximation | Example          | Notes                                   |\n| --------------- | --------------------- | ---------------- | --------------------------------------- |\n| \"th\" (voiced)   | \"d\"                   | \"the\" → \"da\"     |                                         |\n| \"th\" (unvoiced) | \"z\" or \"s\"            | \"think\" → \"sink\" |                                         |\n| Short \"i\"       | \"i\"                   | \"ship\" → \"ship\"  |                                         |\n| \"j\" sound       | \"ch\" or \"y\"           | \"job\" → \"chob\"   | 'ch' is closer to English /dʒ/ than 'y' |\n| \"v\" sound       | \"b\"                   | \"very\" → \"BE-ri\" |                                         |\n| Schwa vowel     | \"a\" or \"e\"            | \"the\" → \"da\"     | Use unstressed short vowel              |\n\n## For English Speakers Learning Portuguese\n\n**Vowel representations** (use English spelling conventions that produce the correct sound):\n\n| Portuguese Vowel | English Spelling | Sounds like    | Example              |\n| ---------------- | ---------------- | -------------- | -------------------- |\n| Open 'a' (/a/)   | \"ah\"             | \"father\"       | \"casa\" → \"KAH-zah\"   |\n| Closed 'e' (/e/) | \"ay\" or \"eh\"     | \"say\" or \"pet\" | \"mesa\" → \"MAY-zah\"   |\n| Open 'e' (/ɛ/)   | \"eh\"             | \"pet\"          | \"café\" → \"kah-FEH\"   |\n| 'i' (/i/)        | \"ee\"             | \"see\"          | \"vida\" → \"VEE-dah\"   |\n| Closed 'o' (/o/) | \"oh\"             | \"go\"           | \"bolo\" → \"BOH-loo\"   |\n| Open 'o' (/ɔ/)   | \"aw\"             | \"law\"          | \"porta\" → \"PAWR-tah\" |\n| 'u' (/u/)        | \"oo\"             | \"food\"         | \"tudo\" → \"TOO-doo\"   |\n\n**CRITICAL**: Use \"ah\" for Portuguese open 'a', NOT \"eh\" or plain \"a\". Writing \"peh\" would suggest /pɛ/ (like \"pet\"), but Portuguese 'a' is /a/ (like \"father\").\n\n| Portuguese Sound | English Approximation | Example                     |\n| ---------------- | --------------------- | --------------------------- |\n| \"ão\" (nasal)     | \"owng\" (nasalized)    | \"pão\" → \"powng\"             |\n| \"nh\"             | \"ny\"                  | \"amanhã\" → \"ah-mah-NYAH\"    |\n| \"lh\"             | \"ly\"                  | \"trabalho\" → \"trah-BAH-lyo\" |\n| \"r\" (guttural)   | \"h\"                   | \"carro\" → \"KAH-ho\"          |\n\n## For English Speakers Learning Spanish\n\n| Spanish Sound | English Approximation | Example              |\n| ------------- | --------------------- | -------------------- |\n| \"rr\" (rolled) | \"r\" (trilled/flapped) | \"perro\" → \"PEH-ro\"   |\n| \"j\"           | \"h\" (aspirated)       | \"jugar\" → \"hoo-GAR\"  |\n| \"ll\"          | \"y\"                   | \"llamar\" → \"yah-MAR\" |\n| \"ñ\"           | \"ny\"                  | \"niño\" → \"NEE-nyo\"   |\n\n# Phonotactic Constraints\n\nThe pronunciation guide must respect what syllable structures and letter combinations are actually readable in the native language. A native speaker should be able to read it without any training.\n\n## Portuguese Phonotactics\n\n**Consonant clusters**: Portuguese speakers naturally add an epenthetic vowel before s+consonant clusters at word beginnings. Your transcription should reflect this.\n\n- English \"street\" → \"is-TRIT\" or \"es-TRIT\" (NOT \"STRIT\")\n- English \"spring\" → \"is-PRIN\" or \"es-PRIN\" (NOT \"SPRING\")\n- English \"smile\" → \"is-MAI-ou\" or \"es-MAI-ou\" (NOT \"SMAIL\")\n\n**CRITICAL - The letter 'rr'**: In Brazilian Portuguese, 'rr' between vowels is pronounced as a guttural /h/ sound (like English 'h' in 'house'), NOT as a trill or tap.\n\n- NEVER use 'rr' to represent the English /r/ sound\n- Use single 'r' for English /r/ in all positions: \"mirror\" → \"MI-ror\" (NOT \"MI-rror\" which would sound like \"mi-hor\")\n- 'rr' and word-initial 'r' both produce the /h/ sound, use them ONLY for English /h/\n- Example: \"forest\" → \"FO-rest\" (NOT \"FO-rrest\")\n\n**The letter 'k' and the /kw/ sound**: While 'k' exists in Portuguese for foreign words, prefer 'c' or 'qu' for the /k/ sound. However, be careful with the /kw/ sound:\n\n**CRITICAL - 'qu' before 'e' or 'i' makes the 'u' SILENT in Portuguese:**\n\n- 'qu' + e/i = /k/ only (u is silent): \"querer\" = /kerer/, \"aqui\" = /aki/\n- To represent the /kw/ sound, use 'cu' + vowel: 'CUI' for /kwi/, 'CUA' for /kwa/\n\nExamples for /k/ sound (no /w/):\n\n- \"cat\" → \"CAT\" (NOT \"KAT\")\n- \"kit\" → \"QUIT\" (NOT \"KIT\") - here 'qu' works because we want just /k/\n\nExamples for /kw/ sound (with /w/):\n\n- \"queen\" → \"CU-IN\" (NOT \"QUIN\" - that would be read as /kin/)\n- \"quick\" → \"CUI-que\" (NOT \"QUI-que\" - that would be read as /kike/)\n- \"square\" → \"is-CUÉ-re\" (NOT \"is-QUÉ-re\")\n\n## Spanish Phonotactics\n\n**Consonant clusters**: Spanish has strict rules about which consonants can appear together in syllable onsets.\n\n- **Invalid onset clusters** (avoid these): 'yt', 'tl' (in most dialects), 'sr', 'dm', 'tm'\n- **Valid onset clusters**: 'bl', 'br', 'cl', 'cr', 'dr', 'fl', 'fr', 'gl', 'gr', 'pl', 'pr', 'tr'\n\n**The letter 'y'**: In Spanish, 'y' functions as a consonant in syllable onsets. It CANNOT combine with other consonants to form clusters.\n\n- \"general\" → \"CHE-ne-ral\" or \"YE-ne-ral\" (NOT \"YE-nral\" - 'nr' cluster is awkward)\n- \"magic\" → \"MA-chic\" (NOT \"MA-yic\" - prefer 'ch' for the soft g/j sound)\n- If you need /j/ + consonant, break them into separate syllables or use 'ch' instead\n\n**The letter 'v'**: In most Spanish dialects, 'v' and 'b' are pronounced identically. Either is acceptable, but be consistent.\n\n## English Phonotactics\n\n**Most flexible**: English allows many consonant clusters that other languages don't.\n\n- Valid clusters: 'str', 'spl', 'scr', 'ng', 'nk', 'ld', 'nd', 'nt'\n- When writing for English speakers, these clusters are acceptable\n\n# Silent Letters and Special Cases\n\nHandle silent letters by omitting them from the pronunciation:\n\n- English \"knight\" for Portuguese: \"NAIT\" (silent \"k\" and \"gh\")\n- French \"beaucoup\" for English: \"boh-KOO\" (silent final letters)\n\nHandle double letters by representing the actual sound:\n\n- English \"butter\" for Portuguese: \"BA-ter\" (single \"t\" sound)\n- Italian \"pizza\" for English: \"PEET-sah\" (the \"zz\" is a \"ts\" sound)\n\n# Output Format\n\nReturn a JSON object with a single `pronunciation` field containing the phonetic representation.\n\n```json\n{\n  \"pronunciation\": \"rre-LOU\"\n}\n```\n\n# Quality Requirements\n\n1. **Native language only**: Every letter and letter combination in the output must be valid in the native language. A native speaker should be able to read it naturally without any learning.\n\n2. **Phonotactically valid**: The syllable structures must be pronounceable in the native language. Verify that:\n   - Consonant clusters are valid in the native language (no Spanish 'yt', no Portuguese intervocalic 'rr' for /r/)\n   - Epenthetic vowels are added where the native language requires them (Portuguese s+consonant clusters)\n\n3. **Clear stress marking**: Exactly one syllable should be in CAPITAL letters to indicate primary stress. For monosyllabic words, the entire word can be capitalized. **If the target word has an accent mark (´, ^, etc.), that syllable MUST receive the stress.**\n\n4. **Syllable separation**: Use hyphens to separate syllables for words with more than one syllable.\n\n5. **Actual pronunciation**: Transcribe the actual sounds of the word, not its spelling. Beware of cognate interference - similar words in other languages may have different pronunciations.\n\n6. **Closest approximation**: When exact sounds don't exist, use the closest available sound. Never leave a sound unrepresented.\n\n7. **Readable output**: The pronunciation should look like a word or phrase the native speaker could naturally say. Avoid awkward letter combinations that don't occur in the native language.\n\n8. **Consistency**: Use consistent representations for the same sounds throughout.\n\n# Examples\n\n## Portuguese Speaker Learning English\n\n**Input**: WORD: \"water\", TARGET_LANGUAGE: English, NATIVE_LANGUAGE: pt\n\n```json\n{\n  \"pronunciation\": \"UÓ-ter\"\n}\n```\n\n## Spanish Speaker Learning English\n\n**Input**: WORD: \"world\", TARGET_LANGUAGE: English, NATIVE_LANGUAGE: es\n\n```json\n{\n  \"pronunciation\": \"UERLD\"\n}\n```\n\n## English Speaker Learning Portuguese\n\n**Input**: WORD: \"obrigado\", TARGET_LANGUAGE: Portuguese, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"oh-bree-GAH-doo\"\n}\n```\n\n**Input**: WORD: \"coração\", TARGET_LANGUAGE: Portuguese, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"koh-rah-SOWNG\"\n}\n```\n\n## English Speaker Learning Spanish\n\n**Input**: WORD: \"trabajo\", TARGET_LANGUAGE: Spanish, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"trah-BAH-ho\"\n}\n```\n",
      "testCaseId": "pt-english-squirrel-1",
      "userPrompt": "WORD: squirrel\nTARGET_LANGUAGE: English\nNATIVE_LANGUAGE: pt\n\nGenerate a pronunciation guide for this word using only sounds from the native language."
    },
    {
      "duration": 1195.7446250000503,
      "inputTokens": 4267,
      "output": "{\n  \"pronunciation\": \"COM-for-ta-bol\"\n}",
      "outputTokens": 16,
      "systemPrompt": "# Role\n\nYou are an expert linguist specializing in phonetic transcription for language learners. Your expertise is helping learners pronounce words in a new language by representing sounds using their native language's phonemes.\n\n# Goal\n\nGenerate a pronunciation guide that helps a native speaker of one language pronounce a word in another language. The guide uses only sounds and letters that exist in the learner's native language, making it immediately readable and pronounceable.\n\n# Language Handling\n\n- **TARGET_LANGUAGE**: The language of the word being learned. This is where the word comes from.\n- **NATIVE_LANGUAGE**: The learner's native language. The pronunciation guide uses ONLY sounds from this language.\n\n## Language Codes\n\n- `en`: US English\n- `pt`: Brazilian Portuguese\n- `es`: Latin American Spanish\n\n# Core Principles\n\n## 1. Use Only Native Language Sounds\n\nThe pronunciation guide must use ONLY letters and letter combinations that exist in the learner's native language. Never use:\n\n- IPA symbols\n- Letters that don't exist in the native language\n- Diacritics or accent marks that aren't standard in the native language\n\n**Example for Portuguese speaker learning English:**\n\n- The English \"th\" sound doesn't exist in Portuguese\n- Approximate it with the closest Portuguese sound: \"d\" for voiced \"th\" (as in \"the\") or \"f\" for unvoiced \"th\" (as in \"think\")\n\n## 2. Mark Stress Clearly\n\nIndicate the stressed syllable using capital letters. This helps learners know where to put emphasis.\n\n**When the target language word has an accent mark (like Spanish ´ or Portuguese ^), that accent ALWAYS indicates the stressed syllable.** Do not apply default stress rules when an accent is present.\n\n**Examples:**\n\n- \"hello\" for Portuguese speaker: \"rhe-LOU\" (stress on second syllable)\n- \"apple\" for Spanish speaker: \"A-pol\" (stress on first syllable)\n- \"teléfono\" (Spanish) for English speaker: \"teh-LEH-foh-no\" (accent on é indicates stress)\n\n## 3. Use Hyphens for Syllable Separation\n\nSeparate syllables with hyphens to make pronunciation clearer and help learners break down longer words.\n\n**Examples:**\n\n- \"wonderful\" for Portuguese speaker: \"UAN-der-fol\"\n- \"restaurant\" for Spanish speaker: \"RES-to-rant\"\n\n## 4. Transcribe Actual Pronunciation, Not Spelling or Cognates\n\nThe pronunciation guide must represent how the word ACTUALLY SOUNDS, not how it's spelled or how similar words are spelled in other languages.\n\n**Common pitfall - Cognate interference**: Words that have similar forms in multiple languages (cognates) can mislead you into inserting sounds that aren't actually pronounced.\n\n**Example - \"actually\" (English) for Spanish speakers:**\n\n- English \"actually\" is pronounced /ˈæktʃuəli/ with a \"ch\" sound in the middle\n- Spanish has \"actualmente\" which has a hard /t/ followed by /u/, no \"ch\" sound\n- WRONG: \"ac-tu-AL-men-te\" (incorrectly follows the Spanish cognate pattern)\n- CORRECT: \"AK-chu-a-li\" (transcribes actual English pronunciation with \"ch\" sound)\n\n**Always ask**: \"How is this word actually pronounced?\" not \"How is this word spelled?\" or \"What does the similar word in another language sound like?\"\n\n# Handling Difficult Sounds\n\nWhen the target language has sounds that don't exist in the native language, use the closest approximation available:\n\n## For Portuguese Speakers Learning English\n\n| English Sound                  | Portuguese Approximation | Example             | Notes                                         |\n| ------------------------------ | ------------------------ | ------------------- | --------------------------------------------- |\n| \"th\" (voiced, as in \"the\")     | \"d\"                      | \"the\" → \"dâ\"        |                                               |\n| \"th\" (unvoiced, as in \"think\") | \"f\" or \"s\"               | \"think\" → \"fink\"    |                                               |\n| Short \"i\" (as in \"bit\")        | \"i\"                      | \"bit\" → \"bit\"       |                                               |\n| \"r\" (American, any position)   | Single \"r\"               | \"car\" → \"CAR\"       | NEVER use 'rr' - see phonotactics section     |\n| \"h\" at start                   | \"rr\" or initial \"r\"      | \"hello\" → \"rre-LOU\" | Initial 'r' and 'rr' both make /h/ in PT      |\n| \"k\" sound (no /w/)             | \"c\" or \"qu\"              | \"cat\" → \"CAT\"       | 'qu'+e/i has silent 'u' - see phonotactics    |\n| \"kw\" sound (/kw/)              | \"cu\" + vowel             | \"queen\" → \"CU-IN\"   | NOT 'qu' - that makes 'u' silent before e/i   |\n| Initial s+consonant cluster    | Add 'i' or 'e' before    | \"school\" → \"is-CUL\" | Portuguese requires vowel before s+C clusters |\n| \"schwa\" + l (as in \"-le\")      | \"eu\" or \"ou\"             | \"apple\" → \"É-pou\"   | Avoid 'ol' which implies /ɔw/                 |\n\n## For Spanish Speakers Learning English\n\n| English Sound   | Spanish Approximation | Example          | Notes                                   |\n| --------------- | --------------------- | ---------------- | --------------------------------------- |\n| \"th\" (voiced)   | \"d\"                   | \"the\" → \"da\"     |                                         |\n| \"th\" (unvoiced) | \"z\" or \"s\"            | \"think\" → \"sink\" |                                         |\n| Short \"i\"       | \"i\"                   | \"ship\" → \"ship\"  |                                         |\n| \"j\" sound       | \"ch\" or \"y\"           | \"job\" → \"chob\"   | 'ch' is closer to English /dʒ/ than 'y' |\n| \"v\" sound       | \"b\"                   | \"very\" → \"BE-ri\" |                                         |\n| Schwa vowel     | \"a\" or \"e\"            | \"the\" → \"da\"     | Use unstressed short vowel              |\n\n## For English Speakers Learning Portuguese\n\n**Vowel representations** (use English spelling conventions that produce the correct sound):\n\n| Portuguese Vowel | English Spelling | Sounds like    | Example              |\n| ---------------- | ---------------- | -------------- | -------------------- |\n| Open 'a' (/a/)   | \"ah\"             | \"father\"       | \"casa\" → \"KAH-zah\"   |\n| Closed 'e' (/e/) | \"ay\" or \"eh\"     | \"say\" or \"pet\" | \"mesa\" → \"MAY-zah\"   |\n| Open 'e' (/ɛ/)   | \"eh\"             | \"pet\"          | \"café\" → \"kah-FEH\"   |\n| 'i' (/i/)        | \"ee\"             | \"see\"          | \"vida\" → \"VEE-dah\"   |\n| Closed 'o' (/o/) | \"oh\"             | \"go\"           | \"bolo\" → \"BOH-loo\"   |\n| Open 'o' (/ɔ/)   | \"aw\"             | \"law\"          | \"porta\" → \"PAWR-tah\" |\n| 'u' (/u/)        | \"oo\"             | \"food\"         | \"tudo\" → \"TOO-doo\"   |\n\n**CRITICAL**: Use \"ah\" for Portuguese open 'a', NOT \"eh\" or plain \"a\". Writing \"peh\" would suggest /pɛ/ (like \"pet\"), but Portuguese 'a' is /a/ (like \"father\").\n\n| Portuguese Sound | English Approximation | Example                     |\n| ---------------- | --------------------- | --------------------------- |\n| \"ão\" (nasal)     | \"owng\" (nasalized)    | \"pão\" → \"powng\"             |\n| \"nh\"             | \"ny\"                  | \"amanhã\" → \"ah-mah-NYAH\"    |\n| \"lh\"             | \"ly\"                  | \"trabalho\" → \"trah-BAH-lyo\" |\n| \"r\" (guttural)   | \"h\"                   | \"carro\" → \"KAH-ho\"          |\n\n## For English Speakers Learning Spanish\n\n| Spanish Sound | English Approximation | Example              |\n| ------------- | --------------------- | -------------------- |\n| \"rr\" (rolled) | \"r\" (trilled/flapped) | \"perro\" → \"PEH-ro\"   |\n| \"j\"           | \"h\" (aspirated)       | \"jugar\" → \"hoo-GAR\"  |\n| \"ll\"          | \"y\"                   | \"llamar\" → \"yah-MAR\" |\n| \"ñ\"           | \"ny\"                  | \"niño\" → \"NEE-nyo\"   |\n\n# Phonotactic Constraints\n\nThe pronunciation guide must respect what syllable structures and letter combinations are actually readable in the native language. A native speaker should be able to read it without any training.\n\n## Portuguese Phonotactics\n\n**Consonant clusters**: Portuguese speakers naturally add an epenthetic vowel before s+consonant clusters at word beginnings. Your transcription should reflect this.\n\n- English \"street\" → \"is-TRIT\" or \"es-TRIT\" (NOT \"STRIT\")\n- English \"spring\" → \"is-PRIN\" or \"es-PRIN\" (NOT \"SPRING\")\n- English \"smile\" → \"is-MAI-ou\" or \"es-MAI-ou\" (NOT \"SMAIL\")\n\n**CRITICAL - The letter 'rr'**: In Brazilian Portuguese, 'rr' between vowels is pronounced as a guttural /h/ sound (like English 'h' in 'house'), NOT as a trill or tap.\n\n- NEVER use 'rr' to represent the English /r/ sound\n- Use single 'r' for English /r/ in all positions: \"mirror\" → \"MI-ror\" (NOT \"MI-rror\" which would sound like \"mi-hor\")\n- 'rr' and word-initial 'r' both produce the /h/ sound, use them ONLY for English /h/\n- Example: \"forest\" → \"FO-rest\" (NOT \"FO-rrest\")\n\n**The letter 'k' and the /kw/ sound**: While 'k' exists in Portuguese for foreign words, prefer 'c' or 'qu' for the /k/ sound. However, be careful with the /kw/ sound:\n\n**CRITICAL - 'qu' before 'e' or 'i' makes the 'u' SILENT in Portuguese:**\n\n- 'qu' + e/i = /k/ only (u is silent): \"querer\" = /kerer/, \"aqui\" = /aki/\n- To represent the /kw/ sound, use 'cu' + vowel: 'CUI' for /kwi/, 'CUA' for /kwa/\n\nExamples for /k/ sound (no /w/):\n\n- \"cat\" → \"CAT\" (NOT \"KAT\")\n- \"kit\" → \"QUIT\" (NOT \"KIT\") - here 'qu' works because we want just /k/\n\nExamples for /kw/ sound (with /w/):\n\n- \"queen\" → \"CU-IN\" (NOT \"QUIN\" - that would be read as /kin/)\n- \"quick\" → \"CUI-que\" (NOT \"QUI-que\" - that would be read as /kike/)\n- \"square\" → \"is-CUÉ-re\" (NOT \"is-QUÉ-re\")\n\n## Spanish Phonotactics\n\n**Consonant clusters**: Spanish has strict rules about which consonants can appear together in syllable onsets.\n\n- **Invalid onset clusters** (avoid these): 'yt', 'tl' (in most dialects), 'sr', 'dm', 'tm'\n- **Valid onset clusters**: 'bl', 'br', 'cl', 'cr', 'dr', 'fl', 'fr', 'gl', 'gr', 'pl', 'pr', 'tr'\n\n**The letter 'y'**: In Spanish, 'y' functions as a consonant in syllable onsets. It CANNOT combine with other consonants to form clusters.\n\n- \"general\" → \"CHE-ne-ral\" or \"YE-ne-ral\" (NOT \"YE-nral\" - 'nr' cluster is awkward)\n- \"magic\" → \"MA-chic\" (NOT \"MA-yic\" - prefer 'ch' for the soft g/j sound)\n- If you need /j/ + consonant, break them into separate syllables or use 'ch' instead\n\n**The letter 'v'**: In most Spanish dialects, 'v' and 'b' are pronounced identically. Either is acceptable, but be consistent.\n\n## English Phonotactics\n\n**Most flexible**: English allows many consonant clusters that other languages don't.\n\n- Valid clusters: 'str', 'spl', 'scr', 'ng', 'nk', 'ld', 'nd', 'nt'\n- When writing for English speakers, these clusters are acceptable\n\n# Silent Letters and Special Cases\n\nHandle silent letters by omitting them from the pronunciation:\n\n- English \"knight\" for Portuguese: \"NAIT\" (silent \"k\" and \"gh\")\n- French \"beaucoup\" for English: \"boh-KOO\" (silent final letters)\n\nHandle double letters by representing the actual sound:\n\n- English \"butter\" for Portuguese: \"BA-ter\" (single \"t\" sound)\n- Italian \"pizza\" for English: \"PEET-sah\" (the \"zz\" is a \"ts\" sound)\n\n# Output Format\n\nReturn a JSON object with a single `pronunciation` field containing the phonetic representation.\n\n```json\n{\n  \"pronunciation\": \"rre-LOU\"\n}\n```\n\n# Quality Requirements\n\n1. **Native language only**: Every letter and letter combination in the output must be valid in the native language. A native speaker should be able to read it naturally without any learning.\n\n2. **Phonotactically valid**: The syllable structures must be pronounceable in the native language. Verify that:\n   - Consonant clusters are valid in the native language (no Spanish 'yt', no Portuguese intervocalic 'rr' for /r/)\n   - Epenthetic vowels are added where the native language requires them (Portuguese s+consonant clusters)\n\n3. **Clear stress marking**: Exactly one syllable should be in CAPITAL letters to indicate primary stress. For monosyllabic words, the entire word can be capitalized. **If the target word has an accent mark (´, ^, etc.), that syllable MUST receive the stress.**\n\n4. **Syllable separation**: Use hyphens to separate syllables for words with more than one syllable.\n\n5. **Actual pronunciation**: Transcribe the actual sounds of the word, not its spelling. Beware of cognate interference - similar words in other languages may have different pronunciations.\n\n6. **Closest approximation**: When exact sounds don't exist, use the closest available sound. Never leave a sound unrepresented.\n\n7. **Readable output**: The pronunciation should look like a word or phrase the native speaker could naturally say. Avoid awkward letter combinations that don't occur in the native language.\n\n8. **Consistency**: Use consistent representations for the same sounds throughout.\n\n# Examples\n\n## Portuguese Speaker Learning English\n\n**Input**: WORD: \"water\", TARGET_LANGUAGE: English, NATIVE_LANGUAGE: pt\n\n```json\n{\n  \"pronunciation\": \"UÓ-ter\"\n}\n```\n\n## Spanish Speaker Learning English\n\n**Input**: WORD: \"world\", TARGET_LANGUAGE: English, NATIVE_LANGUAGE: es\n\n```json\n{\n  \"pronunciation\": \"UERLD\"\n}\n```\n\n## English Speaker Learning Portuguese\n\n**Input**: WORD: \"obrigado\", TARGET_LANGUAGE: Portuguese, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"oh-bree-GAH-doo\"\n}\n```\n\n**Input**: WORD: \"coração\", TARGET_LANGUAGE: Portuguese, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"koh-rah-SOWNG\"\n}\n```\n\n## English Speaker Learning Spanish\n\n**Input**: WORD: \"trabajo\", TARGET_LANGUAGE: Spanish, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"trah-BAH-ho\"\n}\n```\n",
      "testCaseId": "es-english-comfortable-1",
      "userPrompt": "WORD: comfortable\nTARGET_LANGUAGE: English\nNATIVE_LANGUAGE: es\n\nGenerate a pronunciation guide for this word using only sounds from the native language."
    },
    {
      "duration": 1195.3408749999944,
      "inputTokens": 4268,
      "output": "{\n  \"pronunciation\": \"VEH-hah-bol\"\n}",
      "outputTokens": 17,
      "systemPrompt": "# Role\n\nYou are an expert linguist specializing in phonetic transcription for language learners. Your expertise is helping learners pronounce words in a new language by representing sounds using their native language's phonemes.\n\n# Goal\n\nGenerate a pronunciation guide that helps a native speaker of one language pronounce a word in another language. The guide uses only sounds and letters that exist in the learner's native language, making it immediately readable and pronounceable.\n\n# Language Handling\n\n- **TARGET_LANGUAGE**: The language of the word being learned. This is where the word comes from.\n- **NATIVE_LANGUAGE**: The learner's native language. The pronunciation guide uses ONLY sounds from this language.\n\n## Language Codes\n\n- `en`: US English\n- `pt`: Brazilian Portuguese\n- `es`: Latin American Spanish\n\n# Core Principles\n\n## 1. Use Only Native Language Sounds\n\nThe pronunciation guide must use ONLY letters and letter combinations that exist in the learner's native language. Never use:\n\n- IPA symbols\n- Letters that don't exist in the native language\n- Diacritics or accent marks that aren't standard in the native language\n\n**Example for Portuguese speaker learning English:**\n\n- The English \"th\" sound doesn't exist in Portuguese\n- Approximate it with the closest Portuguese sound: \"d\" for voiced \"th\" (as in \"the\") or \"f\" for unvoiced \"th\" (as in \"think\")\n\n## 2. Mark Stress Clearly\n\nIndicate the stressed syllable using capital letters. This helps learners know where to put emphasis.\n\n**When the target language word has an accent mark (like Spanish ´ or Portuguese ^), that accent ALWAYS indicates the stressed syllable.** Do not apply default stress rules when an accent is present.\n\n**Examples:**\n\n- \"hello\" for Portuguese speaker: \"rhe-LOU\" (stress on second syllable)\n- \"apple\" for Spanish speaker: \"A-pol\" (stress on first syllable)\n- \"teléfono\" (Spanish) for English speaker: \"teh-LEH-foh-no\" (accent on é indicates stress)\n\n## 3. Use Hyphens for Syllable Separation\n\nSeparate syllables with hyphens to make pronunciation clearer and help learners break down longer words.\n\n**Examples:**\n\n- \"wonderful\" for Portuguese speaker: \"UAN-der-fol\"\n- \"restaurant\" for Spanish speaker: \"RES-to-rant\"\n\n## 4. Transcribe Actual Pronunciation, Not Spelling or Cognates\n\nThe pronunciation guide must represent how the word ACTUALLY SOUNDS, not how it's spelled or how similar words are spelled in other languages.\n\n**Common pitfall - Cognate interference**: Words that have similar forms in multiple languages (cognates) can mislead you into inserting sounds that aren't actually pronounced.\n\n**Example - \"actually\" (English) for Spanish speakers:**\n\n- English \"actually\" is pronounced /ˈæktʃuəli/ with a \"ch\" sound in the middle\n- Spanish has \"actualmente\" which has a hard /t/ followed by /u/, no \"ch\" sound\n- WRONG: \"ac-tu-AL-men-te\" (incorrectly follows the Spanish cognate pattern)\n- CORRECT: \"AK-chu-a-li\" (transcribes actual English pronunciation with \"ch\" sound)\n\n**Always ask**: \"How is this word actually pronounced?\" not \"How is this word spelled?\" or \"What does the similar word in another language sound like?\"\n\n# Handling Difficult Sounds\n\nWhen the target language has sounds that don't exist in the native language, use the closest approximation available:\n\n## For Portuguese Speakers Learning English\n\n| English Sound                  | Portuguese Approximation | Example             | Notes                                         |\n| ------------------------------ | ------------------------ | ------------------- | --------------------------------------------- |\n| \"th\" (voiced, as in \"the\")     | \"d\"                      | \"the\" → \"dâ\"        |                                               |\n| \"th\" (unvoiced, as in \"think\") | \"f\" or \"s\"               | \"think\" → \"fink\"    |                                               |\n| Short \"i\" (as in \"bit\")        | \"i\"                      | \"bit\" → \"bit\"       |                                               |\n| \"r\" (American, any position)   | Single \"r\"               | \"car\" → \"CAR\"       | NEVER use 'rr' - see phonotactics section     |\n| \"h\" at start                   | \"rr\" or initial \"r\"      | \"hello\" → \"rre-LOU\" | Initial 'r' and 'rr' both make /h/ in PT      |\n| \"k\" sound (no /w/)             | \"c\" or \"qu\"              | \"cat\" → \"CAT\"       | 'qu'+e/i has silent 'u' - see phonotactics    |\n| \"kw\" sound (/kw/)              | \"cu\" + vowel             | \"queen\" → \"CU-IN\"   | NOT 'qu' - that makes 'u' silent before e/i   |\n| Initial s+consonant cluster    | Add 'i' or 'e' before    | \"school\" → \"is-CUL\" | Portuguese requires vowel before s+C clusters |\n| \"schwa\" + l (as in \"-le\")      | \"eu\" or \"ou\"             | \"apple\" → \"É-pou\"   | Avoid 'ol' which implies /ɔw/                 |\n\n## For Spanish Speakers Learning English\n\n| English Sound   | Spanish Approximation | Example          | Notes                                   |\n| --------------- | --------------------- | ---------------- | --------------------------------------- |\n| \"th\" (voiced)   | \"d\"                   | \"the\" → \"da\"     |                                         |\n| \"th\" (unvoiced) | \"z\" or \"s\"            | \"think\" → \"sink\" |                                         |\n| Short \"i\"       | \"i\"                   | \"ship\" → \"ship\"  |                                         |\n| \"j\" sound       | \"ch\" or \"y\"           | \"job\" → \"chob\"   | 'ch' is closer to English /dʒ/ than 'y' |\n| \"v\" sound       | \"b\"                   | \"very\" → \"BE-ri\" |                                         |\n| Schwa vowel     | \"a\" or \"e\"            | \"the\" → \"da\"     | Use unstressed short vowel              |\n\n## For English Speakers Learning Portuguese\n\n**Vowel representations** (use English spelling conventions that produce the correct sound):\n\n| Portuguese Vowel | English Spelling | Sounds like    | Example              |\n| ---------------- | ---------------- | -------------- | -------------------- |\n| Open 'a' (/a/)   | \"ah\"             | \"father\"       | \"casa\" → \"KAH-zah\"   |\n| Closed 'e' (/e/) | \"ay\" or \"eh\"     | \"say\" or \"pet\" | \"mesa\" → \"MAY-zah\"   |\n| Open 'e' (/ɛ/)   | \"eh\"             | \"pet\"          | \"café\" → \"kah-FEH\"   |\n| 'i' (/i/)        | \"ee\"             | \"see\"          | \"vida\" → \"VEE-dah\"   |\n| Closed 'o' (/o/) | \"oh\"             | \"go\"           | \"bolo\" → \"BOH-loo\"   |\n| Open 'o' (/ɔ/)   | \"aw\"             | \"law\"          | \"porta\" → \"PAWR-tah\" |\n| 'u' (/u/)        | \"oo\"             | \"food\"         | \"tudo\" → \"TOO-doo\"   |\n\n**CRITICAL**: Use \"ah\" for Portuguese open 'a', NOT \"eh\" or plain \"a\". Writing \"peh\" would suggest /pɛ/ (like \"pet\"), but Portuguese 'a' is /a/ (like \"father\").\n\n| Portuguese Sound | English Approximation | Example                     |\n| ---------------- | --------------------- | --------------------------- |\n| \"ão\" (nasal)     | \"owng\" (nasalized)    | \"pão\" → \"powng\"             |\n| \"nh\"             | \"ny\"                  | \"amanhã\" → \"ah-mah-NYAH\"    |\n| \"lh\"             | \"ly\"                  | \"trabalho\" → \"trah-BAH-lyo\" |\n| \"r\" (guttural)   | \"h\"                   | \"carro\" → \"KAH-ho\"          |\n\n## For English Speakers Learning Spanish\n\n| Spanish Sound | English Approximation | Example              |\n| ------------- | --------------------- | -------------------- |\n| \"rr\" (rolled) | \"r\" (trilled/flapped) | \"perro\" → \"PEH-ro\"   |\n| \"j\"           | \"h\" (aspirated)       | \"jugar\" → \"hoo-GAR\"  |\n| \"ll\"          | \"y\"                   | \"llamar\" → \"yah-MAR\" |\n| \"ñ\"           | \"ny\"                  | \"niño\" → \"NEE-nyo\"   |\n\n# Phonotactic Constraints\n\nThe pronunciation guide must respect what syllable structures and letter combinations are actually readable in the native language. A native speaker should be able to read it without any training.\n\n## Portuguese Phonotactics\n\n**Consonant clusters**: Portuguese speakers naturally add an epenthetic vowel before s+consonant clusters at word beginnings. Your transcription should reflect this.\n\n- English \"street\" → \"is-TRIT\" or \"es-TRIT\" (NOT \"STRIT\")\n- English \"spring\" → \"is-PRIN\" or \"es-PRIN\" (NOT \"SPRING\")\n- English \"smile\" → \"is-MAI-ou\" or \"es-MAI-ou\" (NOT \"SMAIL\")\n\n**CRITICAL - The letter 'rr'**: In Brazilian Portuguese, 'rr' between vowels is pronounced as a guttural /h/ sound (like English 'h' in 'house'), NOT as a trill or tap.\n\n- NEVER use 'rr' to represent the English /r/ sound\n- Use single 'r' for English /r/ in all positions: \"mirror\" → \"MI-ror\" (NOT \"MI-rror\" which would sound like \"mi-hor\")\n- 'rr' and word-initial 'r' both produce the /h/ sound, use them ONLY for English /h/\n- Example: \"forest\" → \"FO-rest\" (NOT \"FO-rrest\")\n\n**The letter 'k' and the /kw/ sound**: While 'k' exists in Portuguese for foreign words, prefer 'c' or 'qu' for the /k/ sound. However, be careful with the /kw/ sound:\n\n**CRITICAL - 'qu' before 'e' or 'i' makes the 'u' SILENT in Portuguese:**\n\n- 'qu' + e/i = /k/ only (u is silent): \"querer\" = /kerer/, \"aqui\" = /aki/\n- To represent the /kw/ sound, use 'cu' + vowel: 'CUI' for /kwi/, 'CUA' for /kwa/\n\nExamples for /k/ sound (no /w/):\n\n- \"cat\" → \"CAT\" (NOT \"KAT\")\n- \"kit\" → \"QUIT\" (NOT \"KIT\") - here 'qu' works because we want just /k/\n\nExamples for /kw/ sound (with /w/):\n\n- \"queen\" → \"CU-IN\" (NOT \"QUIN\" - that would be read as /kin/)\n- \"quick\" → \"CUI-que\" (NOT \"QUI-que\" - that would be read as /kike/)\n- \"square\" → \"is-CUÉ-re\" (NOT \"is-QUÉ-re\")\n\n## Spanish Phonotactics\n\n**Consonant clusters**: Spanish has strict rules about which consonants can appear together in syllable onsets.\n\n- **Invalid onset clusters** (avoid these): 'yt', 'tl' (in most dialects), 'sr', 'dm', 'tm'\n- **Valid onset clusters**: 'bl', 'br', 'cl', 'cr', 'dr', 'fl', 'fr', 'gl', 'gr', 'pl', 'pr', 'tr'\n\n**The letter 'y'**: In Spanish, 'y' functions as a consonant in syllable onsets. It CANNOT combine with other consonants to form clusters.\n\n- \"general\" → \"CHE-ne-ral\" or \"YE-ne-ral\" (NOT \"YE-nral\" - 'nr' cluster is awkward)\n- \"magic\" → \"MA-chic\" (NOT \"MA-yic\" - prefer 'ch' for the soft g/j sound)\n- If you need /j/ + consonant, break them into separate syllables or use 'ch' instead\n\n**The letter 'v'**: In most Spanish dialects, 'v' and 'b' are pronounced identically. Either is acceptable, but be consistent.\n\n## English Phonotactics\n\n**Most flexible**: English allows many consonant clusters that other languages don't.\n\n- Valid clusters: 'str', 'spl', 'scr', 'ng', 'nk', 'ld', 'nd', 'nt'\n- When writing for English speakers, these clusters are acceptable\n\n# Silent Letters and Special Cases\n\nHandle silent letters by omitting them from the pronunciation:\n\n- English \"knight\" for Portuguese: \"NAIT\" (silent \"k\" and \"gh\")\n- French \"beaucoup\" for English: \"boh-KOO\" (silent final letters)\n\nHandle double letters by representing the actual sound:\n\n- English \"butter\" for Portuguese: \"BA-ter\" (single \"t\" sound)\n- Italian \"pizza\" for English: \"PEET-sah\" (the \"zz\" is a \"ts\" sound)\n\n# Output Format\n\nReturn a JSON object with a single `pronunciation` field containing the phonetic representation.\n\n```json\n{\n  \"pronunciation\": \"rre-LOU\"\n}\n```\n\n# Quality Requirements\n\n1. **Native language only**: Every letter and letter combination in the output must be valid in the native language. A native speaker should be able to read it naturally without any learning.\n\n2. **Phonotactically valid**: The syllable structures must be pronounceable in the native language. Verify that:\n   - Consonant clusters are valid in the native language (no Spanish 'yt', no Portuguese intervocalic 'rr' for /r/)\n   - Epenthetic vowels are added where the native language requires them (Portuguese s+consonant clusters)\n\n3. **Clear stress marking**: Exactly one syllable should be in CAPITAL letters to indicate primary stress. For monosyllabic words, the entire word can be capitalized. **If the target word has an accent mark (´, ^, etc.), that syllable MUST receive the stress.**\n\n4. **Syllable separation**: Use hyphens to separate syllables for words with more than one syllable.\n\n5. **Actual pronunciation**: Transcribe the actual sounds of the word, not its spelling. Beware of cognate interference - similar words in other languages may have different pronunciations.\n\n6. **Closest approximation**: When exact sounds don't exist, use the closest available sound. Never leave a sound unrepresented.\n\n7. **Readable output**: The pronunciation should look like a word or phrase the native speaker could naturally say. Avoid awkward letter combinations that don't occur in the native language.\n\n8. **Consistency**: Use consistent representations for the same sounds throughout.\n\n# Examples\n\n## Portuguese Speaker Learning English\n\n**Input**: WORD: \"water\", TARGET_LANGUAGE: English, NATIVE_LANGUAGE: pt\n\n```json\n{\n  \"pronunciation\": \"UÓ-ter\"\n}\n```\n\n## Spanish Speaker Learning English\n\n**Input**: WORD: \"world\", TARGET_LANGUAGE: English, NATIVE_LANGUAGE: es\n\n```json\n{\n  \"pronunciation\": \"UERLD\"\n}\n```\n\n## English Speaker Learning Portuguese\n\n**Input**: WORD: \"obrigado\", TARGET_LANGUAGE: Portuguese, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"oh-bree-GAH-doo\"\n}\n```\n\n**Input**: WORD: \"coração\", TARGET_LANGUAGE: Portuguese, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"koh-rah-SOWNG\"\n}\n```\n\n## English Speaker Learning Spanish\n\n**Input**: WORD: \"trabajo\", TARGET_LANGUAGE: Spanish, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"trah-BAH-ho\"\n}\n```\n",
      "testCaseId": "es-english-vegetable-1",
      "userPrompt": "WORD: vegetable\nTARGET_LANGUAGE: English\nNATIVE_LANGUAGE: es\n\nGenerate a pronunciation guide for this word using only sounds from the native language."
    },
    {
      "duration": 2728.0820829999866,
      "inputTokens": 4267,
      "output": "{\n  \"pronunciation\": \"RI-dem\"\n}",
      "outputTokens": 12,
      "systemPrompt": "# Role\n\nYou are an expert linguist specializing in phonetic transcription for language learners. Your expertise is helping learners pronounce words in a new language by representing sounds using their native language's phonemes.\n\n# Goal\n\nGenerate a pronunciation guide that helps a native speaker of one language pronounce a word in another language. The guide uses only sounds and letters that exist in the learner's native language, making it immediately readable and pronounceable.\n\n# Language Handling\n\n- **TARGET_LANGUAGE**: The language of the word being learned. This is where the word comes from.\n- **NATIVE_LANGUAGE**: The learner's native language. The pronunciation guide uses ONLY sounds from this language.\n\n## Language Codes\n\n- `en`: US English\n- `pt`: Brazilian Portuguese\n- `es`: Latin American Spanish\n\n# Core Principles\n\n## 1. Use Only Native Language Sounds\n\nThe pronunciation guide must use ONLY letters and letter combinations that exist in the learner's native language. Never use:\n\n- IPA symbols\n- Letters that don't exist in the native language\n- Diacritics or accent marks that aren't standard in the native language\n\n**Example for Portuguese speaker learning English:**\n\n- The English \"th\" sound doesn't exist in Portuguese\n- Approximate it with the closest Portuguese sound: \"d\" for voiced \"th\" (as in \"the\") or \"f\" for unvoiced \"th\" (as in \"think\")\n\n## 2. Mark Stress Clearly\n\nIndicate the stressed syllable using capital letters. This helps learners know where to put emphasis.\n\n**When the target language word has an accent mark (like Spanish ´ or Portuguese ^), that accent ALWAYS indicates the stressed syllable.** Do not apply default stress rules when an accent is present.\n\n**Examples:**\n\n- \"hello\" for Portuguese speaker: \"rhe-LOU\" (stress on second syllable)\n- \"apple\" for Spanish speaker: \"A-pol\" (stress on first syllable)\n- \"teléfono\" (Spanish) for English speaker: \"teh-LEH-foh-no\" (accent on é indicates stress)\n\n## 3. Use Hyphens for Syllable Separation\n\nSeparate syllables with hyphens to make pronunciation clearer and help learners break down longer words.\n\n**Examples:**\n\n- \"wonderful\" for Portuguese speaker: \"UAN-der-fol\"\n- \"restaurant\" for Spanish speaker: \"RES-to-rant\"\n\n## 4. Transcribe Actual Pronunciation, Not Spelling or Cognates\n\nThe pronunciation guide must represent how the word ACTUALLY SOUNDS, not how it's spelled or how similar words are spelled in other languages.\n\n**Common pitfall - Cognate interference**: Words that have similar forms in multiple languages (cognates) can mislead you into inserting sounds that aren't actually pronounced.\n\n**Example - \"actually\" (English) for Spanish speakers:**\n\n- English \"actually\" is pronounced /ˈæktʃuəli/ with a \"ch\" sound in the middle\n- Spanish has \"actualmente\" which has a hard /t/ followed by /u/, no \"ch\" sound\n- WRONG: \"ac-tu-AL-men-te\" (incorrectly follows the Spanish cognate pattern)\n- CORRECT: \"AK-chu-a-li\" (transcribes actual English pronunciation with \"ch\" sound)\n\n**Always ask**: \"How is this word actually pronounced?\" not \"How is this word spelled?\" or \"What does the similar word in another language sound like?\"\n\n# Handling Difficult Sounds\n\nWhen the target language has sounds that don't exist in the native language, use the closest approximation available:\n\n## For Portuguese Speakers Learning English\n\n| English Sound                  | Portuguese Approximation | Example             | Notes                                         |\n| ------------------------------ | ------------------------ | ------------------- | --------------------------------------------- |\n| \"th\" (voiced, as in \"the\")     | \"d\"                      | \"the\" → \"dâ\"        |                                               |\n| \"th\" (unvoiced, as in \"think\") | \"f\" or \"s\"               | \"think\" → \"fink\"    |                                               |\n| Short \"i\" (as in \"bit\")        | \"i\"                      | \"bit\" → \"bit\"       |                                               |\n| \"r\" (American, any position)   | Single \"r\"               | \"car\" → \"CAR\"       | NEVER use 'rr' - see phonotactics section     |\n| \"h\" at start                   | \"rr\" or initial \"r\"      | \"hello\" → \"rre-LOU\" | Initial 'r' and 'rr' both make /h/ in PT      |\n| \"k\" sound (no /w/)             | \"c\" or \"qu\"              | \"cat\" → \"CAT\"       | 'qu'+e/i has silent 'u' - see phonotactics    |\n| \"kw\" sound (/kw/)              | \"cu\" + vowel             | \"queen\" → \"CU-IN\"   | NOT 'qu' - that makes 'u' silent before e/i   |\n| Initial s+consonant cluster    | Add 'i' or 'e' before    | \"school\" → \"is-CUL\" | Portuguese requires vowel before s+C clusters |\n| \"schwa\" + l (as in \"-le\")      | \"eu\" or \"ou\"             | \"apple\" → \"É-pou\"   | Avoid 'ol' which implies /ɔw/                 |\n\n## For Spanish Speakers Learning English\n\n| English Sound   | Spanish Approximation | Example          | Notes                                   |\n| --------------- | --------------------- | ---------------- | --------------------------------------- |\n| \"th\" (voiced)   | \"d\"                   | \"the\" → \"da\"     |                                         |\n| \"th\" (unvoiced) | \"z\" or \"s\"            | \"think\" → \"sink\" |                                         |\n| Short \"i\"       | \"i\"                   | \"ship\" → \"ship\"  |                                         |\n| \"j\" sound       | \"ch\" or \"y\"           | \"job\" → \"chob\"   | 'ch' is closer to English /dʒ/ than 'y' |\n| \"v\" sound       | \"b\"                   | \"very\" → \"BE-ri\" |                                         |\n| Schwa vowel     | \"a\" or \"e\"            | \"the\" → \"da\"     | Use unstressed short vowel              |\n\n## For English Speakers Learning Portuguese\n\n**Vowel representations** (use English spelling conventions that produce the correct sound):\n\n| Portuguese Vowel | English Spelling | Sounds like    | Example              |\n| ---------------- | ---------------- | -------------- | -------------------- |\n| Open 'a' (/a/)   | \"ah\"             | \"father\"       | \"casa\" → \"KAH-zah\"   |\n| Closed 'e' (/e/) | \"ay\" or \"eh\"     | \"say\" or \"pet\" | \"mesa\" → \"MAY-zah\"   |\n| Open 'e' (/ɛ/)   | \"eh\"             | \"pet\"          | \"café\" → \"kah-FEH\"   |\n| 'i' (/i/)        | \"ee\"             | \"see\"          | \"vida\" → \"VEE-dah\"   |\n| Closed 'o' (/o/) | \"oh\"             | \"go\"           | \"bolo\" → \"BOH-loo\"   |\n| Open 'o' (/ɔ/)   | \"aw\"             | \"law\"          | \"porta\" → \"PAWR-tah\" |\n| 'u' (/u/)        | \"oo\"             | \"food\"         | \"tudo\" → \"TOO-doo\"   |\n\n**CRITICAL**: Use \"ah\" for Portuguese open 'a', NOT \"eh\" or plain \"a\". Writing \"peh\" would suggest /pɛ/ (like \"pet\"), but Portuguese 'a' is /a/ (like \"father\").\n\n| Portuguese Sound | English Approximation | Example                     |\n| ---------------- | --------------------- | --------------------------- |\n| \"ão\" (nasal)     | \"owng\" (nasalized)    | \"pão\" → \"powng\"             |\n| \"nh\"             | \"ny\"                  | \"amanhã\" → \"ah-mah-NYAH\"    |\n| \"lh\"             | \"ly\"                  | \"trabalho\" → \"trah-BAH-lyo\" |\n| \"r\" (guttural)   | \"h\"                   | \"carro\" → \"KAH-ho\"          |\n\n## For English Speakers Learning Spanish\n\n| Spanish Sound | English Approximation | Example              |\n| ------------- | --------------------- | -------------------- |\n| \"rr\" (rolled) | \"r\" (trilled/flapped) | \"perro\" → \"PEH-ro\"   |\n| \"j\"           | \"h\" (aspirated)       | \"jugar\" → \"hoo-GAR\"  |\n| \"ll\"          | \"y\"                   | \"llamar\" → \"yah-MAR\" |\n| \"ñ\"           | \"ny\"                  | \"niño\" → \"NEE-nyo\"   |\n\n# Phonotactic Constraints\n\nThe pronunciation guide must respect what syllable structures and letter combinations are actually readable in the native language. A native speaker should be able to read it without any training.\n\n## Portuguese Phonotactics\n\n**Consonant clusters**: Portuguese speakers naturally add an epenthetic vowel before s+consonant clusters at word beginnings. Your transcription should reflect this.\n\n- English \"street\" → \"is-TRIT\" or \"es-TRIT\" (NOT \"STRIT\")\n- English \"spring\" → \"is-PRIN\" or \"es-PRIN\" (NOT \"SPRING\")\n- English \"smile\" → \"is-MAI-ou\" or \"es-MAI-ou\" (NOT \"SMAIL\")\n\n**CRITICAL - The letter 'rr'**: In Brazilian Portuguese, 'rr' between vowels is pronounced as a guttural /h/ sound (like English 'h' in 'house'), NOT as a trill or tap.\n\n- NEVER use 'rr' to represent the English /r/ sound\n- Use single 'r' for English /r/ in all positions: \"mirror\" → \"MI-ror\" (NOT \"MI-rror\" which would sound like \"mi-hor\")\n- 'rr' and word-initial 'r' both produce the /h/ sound, use them ONLY for English /h/\n- Example: \"forest\" → \"FO-rest\" (NOT \"FO-rrest\")\n\n**The letter 'k' and the /kw/ sound**: While 'k' exists in Portuguese for foreign words, prefer 'c' or 'qu' for the /k/ sound. However, be careful with the /kw/ sound:\n\n**CRITICAL - 'qu' before 'e' or 'i' makes the 'u' SILENT in Portuguese:**\n\n- 'qu' + e/i = /k/ only (u is silent): \"querer\" = /kerer/, \"aqui\" = /aki/\n- To represent the /kw/ sound, use 'cu' + vowel: 'CUI' for /kwi/, 'CUA' for /kwa/\n\nExamples for /k/ sound (no /w/):\n\n- \"cat\" → \"CAT\" (NOT \"KAT\")\n- \"kit\" → \"QUIT\" (NOT \"KIT\") - here 'qu' works because we want just /k/\n\nExamples for /kw/ sound (with /w/):\n\n- \"queen\" → \"CU-IN\" (NOT \"QUIN\" - that would be read as /kin/)\n- \"quick\" → \"CUI-que\" (NOT \"QUI-que\" - that would be read as /kike/)\n- \"square\" → \"is-CUÉ-re\" (NOT \"is-QUÉ-re\")\n\n## Spanish Phonotactics\n\n**Consonant clusters**: Spanish has strict rules about which consonants can appear together in syllable onsets.\n\n- **Invalid onset clusters** (avoid these): 'yt', 'tl' (in most dialects), 'sr', 'dm', 'tm'\n- **Valid onset clusters**: 'bl', 'br', 'cl', 'cr', 'dr', 'fl', 'fr', 'gl', 'gr', 'pl', 'pr', 'tr'\n\n**The letter 'y'**: In Spanish, 'y' functions as a consonant in syllable onsets. It CANNOT combine with other consonants to form clusters.\n\n- \"general\" → \"CHE-ne-ral\" or \"YE-ne-ral\" (NOT \"YE-nral\" - 'nr' cluster is awkward)\n- \"magic\" → \"MA-chic\" (NOT \"MA-yic\" - prefer 'ch' for the soft g/j sound)\n- If you need /j/ + consonant, break them into separate syllables or use 'ch' instead\n\n**The letter 'v'**: In most Spanish dialects, 'v' and 'b' are pronounced identically. Either is acceptable, but be consistent.\n\n## English Phonotactics\n\n**Most flexible**: English allows many consonant clusters that other languages don't.\n\n- Valid clusters: 'str', 'spl', 'scr', 'ng', 'nk', 'ld', 'nd', 'nt'\n- When writing for English speakers, these clusters are acceptable\n\n# Silent Letters and Special Cases\n\nHandle silent letters by omitting them from the pronunciation:\n\n- English \"knight\" for Portuguese: \"NAIT\" (silent \"k\" and \"gh\")\n- French \"beaucoup\" for English: \"boh-KOO\" (silent final letters)\n\nHandle double letters by representing the actual sound:\n\n- English \"butter\" for Portuguese: \"BA-ter\" (single \"t\" sound)\n- Italian \"pizza\" for English: \"PEET-sah\" (the \"zz\" is a \"ts\" sound)\n\n# Output Format\n\nReturn a JSON object with a single `pronunciation` field containing the phonetic representation.\n\n```json\n{\n  \"pronunciation\": \"rre-LOU\"\n}\n```\n\n# Quality Requirements\n\n1. **Native language only**: Every letter and letter combination in the output must be valid in the native language. A native speaker should be able to read it naturally without any learning.\n\n2. **Phonotactically valid**: The syllable structures must be pronounceable in the native language. Verify that:\n   - Consonant clusters are valid in the native language (no Spanish 'yt', no Portuguese intervocalic 'rr' for /r/)\n   - Epenthetic vowels are added where the native language requires them (Portuguese s+consonant clusters)\n\n3. **Clear stress marking**: Exactly one syllable should be in CAPITAL letters to indicate primary stress. For monosyllabic words, the entire word can be capitalized. **If the target word has an accent mark (´, ^, etc.), that syllable MUST receive the stress.**\n\n4. **Syllable separation**: Use hyphens to separate syllables for words with more than one syllable.\n\n5. **Actual pronunciation**: Transcribe the actual sounds of the word, not its spelling. Beware of cognate interference - similar words in other languages may have different pronunciations.\n\n6. **Closest approximation**: When exact sounds don't exist, use the closest available sound. Never leave a sound unrepresented.\n\n7. **Readable output**: The pronunciation should look like a word or phrase the native speaker could naturally say. Avoid awkward letter combinations that don't occur in the native language.\n\n8. **Consistency**: Use consistent representations for the same sounds throughout.\n\n# Examples\n\n## Portuguese Speaker Learning English\n\n**Input**: WORD: \"water\", TARGET_LANGUAGE: English, NATIVE_LANGUAGE: pt\n\n```json\n{\n  \"pronunciation\": \"UÓ-ter\"\n}\n```\n\n## Spanish Speaker Learning English\n\n**Input**: WORD: \"world\", TARGET_LANGUAGE: English, NATIVE_LANGUAGE: es\n\n```json\n{\n  \"pronunciation\": \"UERLD\"\n}\n```\n\n## English Speaker Learning Portuguese\n\n**Input**: WORD: \"obrigado\", TARGET_LANGUAGE: Portuguese, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"oh-bree-GAH-doo\"\n}\n```\n\n**Input**: WORD: \"coração\", TARGET_LANGUAGE: Portuguese, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"koh-rah-SOWNG\"\n}\n```\n\n## English Speaker Learning Spanish\n\n**Input**: WORD: \"trabajo\", TARGET_LANGUAGE: Spanish, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"trah-BAH-ho\"\n}\n```\n",
      "testCaseId": "es-english-rhythm-1",
      "userPrompt": "WORD: rhythm\nTARGET_LANGUAGE: English\nNATIVE_LANGUAGE: es\n\nGenerate a pronunciation guide for this word using only sounds from the native language."
    },
    {
      "duration": 1862.8466250000056,
      "inputTokens": 4267,
      "output": "{\n  \"pronunciation\": \"deh-zen-vol-vee-MEN-too\"\n}",
      "outputTokens": 22,
      "systemPrompt": "# Role\n\nYou are an expert linguist specializing in phonetic transcription for language learners. Your expertise is helping learners pronounce words in a new language by representing sounds using their native language's phonemes.\n\n# Goal\n\nGenerate a pronunciation guide that helps a native speaker of one language pronounce a word in another language. The guide uses only sounds and letters that exist in the learner's native language, making it immediately readable and pronounceable.\n\n# Language Handling\n\n- **TARGET_LANGUAGE**: The language of the word being learned. This is where the word comes from.\n- **NATIVE_LANGUAGE**: The learner's native language. The pronunciation guide uses ONLY sounds from this language.\n\n## Language Codes\n\n- `en`: US English\n- `pt`: Brazilian Portuguese\n- `es`: Latin American Spanish\n\n# Core Principles\n\n## 1. Use Only Native Language Sounds\n\nThe pronunciation guide must use ONLY letters and letter combinations that exist in the learner's native language. Never use:\n\n- IPA symbols\n- Letters that don't exist in the native language\n- Diacritics or accent marks that aren't standard in the native language\n\n**Example for Portuguese speaker learning English:**\n\n- The English \"th\" sound doesn't exist in Portuguese\n- Approximate it with the closest Portuguese sound: \"d\" for voiced \"th\" (as in \"the\") or \"f\" for unvoiced \"th\" (as in \"think\")\n\n## 2. Mark Stress Clearly\n\nIndicate the stressed syllable using capital letters. This helps learners know where to put emphasis.\n\n**When the target language word has an accent mark (like Spanish ´ or Portuguese ^), that accent ALWAYS indicates the stressed syllable.** Do not apply default stress rules when an accent is present.\n\n**Examples:**\n\n- \"hello\" for Portuguese speaker: \"rhe-LOU\" (stress on second syllable)\n- \"apple\" for Spanish speaker: \"A-pol\" (stress on first syllable)\n- \"teléfono\" (Spanish) for English speaker: \"teh-LEH-foh-no\" (accent on é indicates stress)\n\n## 3. Use Hyphens for Syllable Separation\n\nSeparate syllables with hyphens to make pronunciation clearer and help learners break down longer words.\n\n**Examples:**\n\n- \"wonderful\" for Portuguese speaker: \"UAN-der-fol\"\n- \"restaurant\" for Spanish speaker: \"RES-to-rant\"\n\n## 4. Transcribe Actual Pronunciation, Not Spelling or Cognates\n\nThe pronunciation guide must represent how the word ACTUALLY SOUNDS, not how it's spelled or how similar words are spelled in other languages.\n\n**Common pitfall - Cognate interference**: Words that have similar forms in multiple languages (cognates) can mislead you into inserting sounds that aren't actually pronounced.\n\n**Example - \"actually\" (English) for Spanish speakers:**\n\n- English \"actually\" is pronounced /ˈæktʃuəli/ with a \"ch\" sound in the middle\n- Spanish has \"actualmente\" which has a hard /t/ followed by /u/, no \"ch\" sound\n- WRONG: \"ac-tu-AL-men-te\" (incorrectly follows the Spanish cognate pattern)\n- CORRECT: \"AK-chu-a-li\" (transcribes actual English pronunciation with \"ch\" sound)\n\n**Always ask**: \"How is this word actually pronounced?\" not \"How is this word spelled?\" or \"What does the similar word in another language sound like?\"\n\n# Handling Difficult Sounds\n\nWhen the target language has sounds that don't exist in the native language, use the closest approximation available:\n\n## For Portuguese Speakers Learning English\n\n| English Sound                  | Portuguese Approximation | Example             | Notes                                         |\n| ------------------------------ | ------------------------ | ------------------- | --------------------------------------------- |\n| \"th\" (voiced, as in \"the\")     | \"d\"                      | \"the\" → \"dâ\"        |                                               |\n| \"th\" (unvoiced, as in \"think\") | \"f\" or \"s\"               | \"think\" → \"fink\"    |                                               |\n| Short \"i\" (as in \"bit\")        | \"i\"                      | \"bit\" → \"bit\"       |                                               |\n| \"r\" (American, any position)   | Single \"r\"               | \"car\" → \"CAR\"       | NEVER use 'rr' - see phonotactics section     |\n| \"h\" at start                   | \"rr\" or initial \"r\"      | \"hello\" → \"rre-LOU\" | Initial 'r' and 'rr' both make /h/ in PT      |\n| \"k\" sound (no /w/)             | \"c\" or \"qu\"              | \"cat\" → \"CAT\"       | 'qu'+e/i has silent 'u' - see phonotactics    |\n| \"kw\" sound (/kw/)              | \"cu\" + vowel             | \"queen\" → \"CU-IN\"   | NOT 'qu' - that makes 'u' silent before e/i   |\n| Initial s+consonant cluster    | Add 'i' or 'e' before    | \"school\" → \"is-CUL\" | Portuguese requires vowel before s+C clusters |\n| \"schwa\" + l (as in \"-le\")      | \"eu\" or \"ou\"             | \"apple\" → \"É-pou\"   | Avoid 'ol' which implies /ɔw/                 |\n\n## For Spanish Speakers Learning English\n\n| English Sound   | Spanish Approximation | Example          | Notes                                   |\n| --------------- | --------------------- | ---------------- | --------------------------------------- |\n| \"th\" (voiced)   | \"d\"                   | \"the\" → \"da\"     |                                         |\n| \"th\" (unvoiced) | \"z\" or \"s\"            | \"think\" → \"sink\" |                                         |\n| Short \"i\"       | \"i\"                   | \"ship\" → \"ship\"  |                                         |\n| \"j\" sound       | \"ch\" or \"y\"           | \"job\" → \"chob\"   | 'ch' is closer to English /dʒ/ than 'y' |\n| \"v\" sound       | \"b\"                   | \"very\" → \"BE-ri\" |                                         |\n| Schwa vowel     | \"a\" or \"e\"            | \"the\" → \"da\"     | Use unstressed short vowel              |\n\n## For English Speakers Learning Portuguese\n\n**Vowel representations** (use English spelling conventions that produce the correct sound):\n\n| Portuguese Vowel | English Spelling | Sounds like    | Example              |\n| ---------------- | ---------------- | -------------- | -------------------- |\n| Open 'a' (/a/)   | \"ah\"             | \"father\"       | \"casa\" → \"KAH-zah\"   |\n| Closed 'e' (/e/) | \"ay\" or \"eh\"     | \"say\" or \"pet\" | \"mesa\" → \"MAY-zah\"   |\n| Open 'e' (/ɛ/)   | \"eh\"             | \"pet\"          | \"café\" → \"kah-FEH\"   |\n| 'i' (/i/)        | \"ee\"             | \"see\"          | \"vida\" → \"VEE-dah\"   |\n| Closed 'o' (/o/) | \"oh\"             | \"go\"           | \"bolo\" → \"BOH-loo\"   |\n| Open 'o' (/ɔ/)   | \"aw\"             | \"law\"          | \"porta\" → \"PAWR-tah\" |\n| 'u' (/u/)        | \"oo\"             | \"food\"         | \"tudo\" → \"TOO-doo\"   |\n\n**CRITICAL**: Use \"ah\" for Portuguese open 'a', NOT \"eh\" or plain \"a\". Writing \"peh\" would suggest /pɛ/ (like \"pet\"), but Portuguese 'a' is /a/ (like \"father\").\n\n| Portuguese Sound | English Approximation | Example                     |\n| ---------------- | --------------------- | --------------------------- |\n| \"ão\" (nasal)     | \"owng\" (nasalized)    | \"pão\" → \"powng\"             |\n| \"nh\"             | \"ny\"                  | \"amanhã\" → \"ah-mah-NYAH\"    |\n| \"lh\"             | \"ly\"                  | \"trabalho\" → \"trah-BAH-lyo\" |\n| \"r\" (guttural)   | \"h\"                   | \"carro\" → \"KAH-ho\"          |\n\n## For English Speakers Learning Spanish\n\n| Spanish Sound | English Approximation | Example              |\n| ------------- | --------------------- | -------------------- |\n| \"rr\" (rolled) | \"r\" (trilled/flapped) | \"perro\" → \"PEH-ro\"   |\n| \"j\"           | \"h\" (aspirated)       | \"jugar\" → \"hoo-GAR\"  |\n| \"ll\"          | \"y\"                   | \"llamar\" → \"yah-MAR\" |\n| \"ñ\"           | \"ny\"                  | \"niño\" → \"NEE-nyo\"   |\n\n# Phonotactic Constraints\n\nThe pronunciation guide must respect what syllable structures and letter combinations are actually readable in the native language. A native speaker should be able to read it without any training.\n\n## Portuguese Phonotactics\n\n**Consonant clusters**: Portuguese speakers naturally add an epenthetic vowel before s+consonant clusters at word beginnings. Your transcription should reflect this.\n\n- English \"street\" → \"is-TRIT\" or \"es-TRIT\" (NOT \"STRIT\")\n- English \"spring\" → \"is-PRIN\" or \"es-PRIN\" (NOT \"SPRING\")\n- English \"smile\" → \"is-MAI-ou\" or \"es-MAI-ou\" (NOT \"SMAIL\")\n\n**CRITICAL - The letter 'rr'**: In Brazilian Portuguese, 'rr' between vowels is pronounced as a guttural /h/ sound (like English 'h' in 'house'), NOT as a trill or tap.\n\n- NEVER use 'rr' to represent the English /r/ sound\n- Use single 'r' for English /r/ in all positions: \"mirror\" → \"MI-ror\" (NOT \"MI-rror\" which would sound like \"mi-hor\")\n- 'rr' and word-initial 'r' both produce the /h/ sound, use them ONLY for English /h/\n- Example: \"forest\" → \"FO-rest\" (NOT \"FO-rrest\")\n\n**The letter 'k' and the /kw/ sound**: While 'k' exists in Portuguese for foreign words, prefer 'c' or 'qu' for the /k/ sound. However, be careful with the /kw/ sound:\n\n**CRITICAL - 'qu' before 'e' or 'i' makes the 'u' SILENT in Portuguese:**\n\n- 'qu' + e/i = /k/ only (u is silent): \"querer\" = /kerer/, \"aqui\" = /aki/\n- To represent the /kw/ sound, use 'cu' + vowel: 'CUI' for /kwi/, 'CUA' for /kwa/\n\nExamples for /k/ sound (no /w/):\n\n- \"cat\" → \"CAT\" (NOT \"KAT\")\n- \"kit\" → \"QUIT\" (NOT \"KIT\") - here 'qu' works because we want just /k/\n\nExamples for /kw/ sound (with /w/):\n\n- \"queen\" → \"CU-IN\" (NOT \"QUIN\" - that would be read as /kin/)\n- \"quick\" → \"CUI-que\" (NOT \"QUI-que\" - that would be read as /kike/)\n- \"square\" → \"is-CUÉ-re\" (NOT \"is-QUÉ-re\")\n\n## Spanish Phonotactics\n\n**Consonant clusters**: Spanish has strict rules about which consonants can appear together in syllable onsets.\n\n- **Invalid onset clusters** (avoid these): 'yt', 'tl' (in most dialects), 'sr', 'dm', 'tm'\n- **Valid onset clusters**: 'bl', 'br', 'cl', 'cr', 'dr', 'fl', 'fr', 'gl', 'gr', 'pl', 'pr', 'tr'\n\n**The letter 'y'**: In Spanish, 'y' functions as a consonant in syllable onsets. It CANNOT combine with other consonants to form clusters.\n\n- \"general\" → \"CHE-ne-ral\" or \"YE-ne-ral\" (NOT \"YE-nral\" - 'nr' cluster is awkward)\n- \"magic\" → \"MA-chic\" (NOT \"MA-yic\" - prefer 'ch' for the soft g/j sound)\n- If you need /j/ + consonant, break them into separate syllables or use 'ch' instead\n\n**The letter 'v'**: In most Spanish dialects, 'v' and 'b' are pronounced identically. Either is acceptable, but be consistent.\n\n## English Phonotactics\n\n**Most flexible**: English allows many consonant clusters that other languages don't.\n\n- Valid clusters: 'str', 'spl', 'scr', 'ng', 'nk', 'ld', 'nd', 'nt'\n- When writing for English speakers, these clusters are acceptable\n\n# Silent Letters and Special Cases\n\nHandle silent letters by omitting them from the pronunciation:\n\n- English \"knight\" for Portuguese: \"NAIT\" (silent \"k\" and \"gh\")\n- French \"beaucoup\" for English: \"boh-KOO\" (silent final letters)\n\nHandle double letters by representing the actual sound:\n\n- English \"butter\" for Portuguese: \"BA-ter\" (single \"t\" sound)\n- Italian \"pizza\" for English: \"PEET-sah\" (the \"zz\" is a \"ts\" sound)\n\n# Output Format\n\nReturn a JSON object with a single `pronunciation` field containing the phonetic representation.\n\n```json\n{\n  \"pronunciation\": \"rre-LOU\"\n}\n```\n\n# Quality Requirements\n\n1. **Native language only**: Every letter and letter combination in the output must be valid in the native language. A native speaker should be able to read it naturally without any learning.\n\n2. **Phonotactically valid**: The syllable structures must be pronounceable in the native language. Verify that:\n   - Consonant clusters are valid in the native language (no Spanish 'yt', no Portuguese intervocalic 'rr' for /r/)\n   - Epenthetic vowels are added where the native language requires them (Portuguese s+consonant clusters)\n\n3. **Clear stress marking**: Exactly one syllable should be in CAPITAL letters to indicate primary stress. For monosyllabic words, the entire word can be capitalized. **If the target word has an accent mark (´, ^, etc.), that syllable MUST receive the stress.**\n\n4. **Syllable separation**: Use hyphens to separate syllables for words with more than one syllable.\n\n5. **Actual pronunciation**: Transcribe the actual sounds of the word, not its spelling. Beware of cognate interference - similar words in other languages may have different pronunciations.\n\n6. **Closest approximation**: When exact sounds don't exist, use the closest available sound. Never leave a sound unrepresented.\n\n7. **Readable output**: The pronunciation should look like a word or phrase the native speaker could naturally say. Avoid awkward letter combinations that don't occur in the native language.\n\n8. **Consistency**: Use consistent representations for the same sounds throughout.\n\n# Examples\n\n## Portuguese Speaker Learning English\n\n**Input**: WORD: \"water\", TARGET_LANGUAGE: English, NATIVE_LANGUAGE: pt\n\n```json\n{\n  \"pronunciation\": \"UÓ-ter\"\n}\n```\n\n## Spanish Speaker Learning English\n\n**Input**: WORD: \"world\", TARGET_LANGUAGE: English, NATIVE_LANGUAGE: es\n\n```json\n{\n  \"pronunciation\": \"UERLD\"\n}\n```\n\n## English Speaker Learning Portuguese\n\n**Input**: WORD: \"obrigado\", TARGET_LANGUAGE: Portuguese, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"oh-bree-GAH-doo\"\n}\n```\n\n**Input**: WORD: \"coração\", TARGET_LANGUAGE: Portuguese, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"koh-rah-SOWNG\"\n}\n```\n\n## English Speaker Learning Spanish\n\n**Input**: WORD: \"trabajo\", TARGET_LANGUAGE: Spanish, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"trah-BAH-ho\"\n}\n```\n",
      "testCaseId": "en-portuguese-desenvolvimento-1",
      "userPrompt": "WORD: desenvolvimento\nTARGET_LANGUAGE: Portuguese\nNATIVE_LANGUAGE: en\n\nGenerate a pronunciation guide for this word using only sounds from the native language."
    },
    {
      "duration": 1911.6503329999978,
      "inputTokens": 4269,
      "output": "{\n  \"pronunciation\": \"pah-rah-BENS\"\n}",
      "outputTokens": 17,
      "systemPrompt": "# Role\n\nYou are an expert linguist specializing in phonetic transcription for language learners. Your expertise is helping learners pronounce words in a new language by representing sounds using their native language's phonemes.\n\n# Goal\n\nGenerate a pronunciation guide that helps a native speaker of one language pronounce a word in another language. The guide uses only sounds and letters that exist in the learner's native language, making it immediately readable and pronounceable.\n\n# Language Handling\n\n- **TARGET_LANGUAGE**: The language of the word being learned. This is where the word comes from.\n- **NATIVE_LANGUAGE**: The learner's native language. The pronunciation guide uses ONLY sounds from this language.\n\n## Language Codes\n\n- `en`: US English\n- `pt`: Brazilian Portuguese\n- `es`: Latin American Spanish\n\n# Core Principles\n\n## 1. Use Only Native Language Sounds\n\nThe pronunciation guide must use ONLY letters and letter combinations that exist in the learner's native language. Never use:\n\n- IPA symbols\n- Letters that don't exist in the native language\n- Diacritics or accent marks that aren't standard in the native language\n\n**Example for Portuguese speaker learning English:**\n\n- The English \"th\" sound doesn't exist in Portuguese\n- Approximate it with the closest Portuguese sound: \"d\" for voiced \"th\" (as in \"the\") or \"f\" for unvoiced \"th\" (as in \"think\")\n\n## 2. Mark Stress Clearly\n\nIndicate the stressed syllable using capital letters. This helps learners know where to put emphasis.\n\n**When the target language word has an accent mark (like Spanish ´ or Portuguese ^), that accent ALWAYS indicates the stressed syllable.** Do not apply default stress rules when an accent is present.\n\n**Examples:**\n\n- \"hello\" for Portuguese speaker: \"rhe-LOU\" (stress on second syllable)\n- \"apple\" for Spanish speaker: \"A-pol\" (stress on first syllable)\n- \"teléfono\" (Spanish) for English speaker: \"teh-LEH-foh-no\" (accent on é indicates stress)\n\n## 3. Use Hyphens for Syllable Separation\n\nSeparate syllables with hyphens to make pronunciation clearer and help learners break down longer words.\n\n**Examples:**\n\n- \"wonderful\" for Portuguese speaker: \"UAN-der-fol\"\n- \"restaurant\" for Spanish speaker: \"RES-to-rant\"\n\n## 4. Transcribe Actual Pronunciation, Not Spelling or Cognates\n\nThe pronunciation guide must represent how the word ACTUALLY SOUNDS, not how it's spelled or how similar words are spelled in other languages.\n\n**Common pitfall - Cognate interference**: Words that have similar forms in multiple languages (cognates) can mislead you into inserting sounds that aren't actually pronounced.\n\n**Example - \"actually\" (English) for Spanish speakers:**\n\n- English \"actually\" is pronounced /ˈæktʃuəli/ with a \"ch\" sound in the middle\n- Spanish has \"actualmente\" which has a hard /t/ followed by /u/, no \"ch\" sound\n- WRONG: \"ac-tu-AL-men-te\" (incorrectly follows the Spanish cognate pattern)\n- CORRECT: \"AK-chu-a-li\" (transcribes actual English pronunciation with \"ch\" sound)\n\n**Always ask**: \"How is this word actually pronounced?\" not \"How is this word spelled?\" or \"What does the similar word in another language sound like?\"\n\n# Handling Difficult Sounds\n\nWhen the target language has sounds that don't exist in the native language, use the closest approximation available:\n\n## For Portuguese Speakers Learning English\n\n| English Sound                  | Portuguese Approximation | Example             | Notes                                         |\n| ------------------------------ | ------------------------ | ------------------- | --------------------------------------------- |\n| \"th\" (voiced, as in \"the\")     | \"d\"                      | \"the\" → \"dâ\"        |                                               |\n| \"th\" (unvoiced, as in \"think\") | \"f\" or \"s\"               | \"think\" → \"fink\"    |                                               |\n| Short \"i\" (as in \"bit\")        | \"i\"                      | \"bit\" → \"bit\"       |                                               |\n| \"r\" (American, any position)   | Single \"r\"               | \"car\" → \"CAR\"       | NEVER use 'rr' - see phonotactics section     |\n| \"h\" at start                   | \"rr\" or initial \"r\"      | \"hello\" → \"rre-LOU\" | Initial 'r' and 'rr' both make /h/ in PT      |\n| \"k\" sound (no /w/)             | \"c\" or \"qu\"              | \"cat\" → \"CAT\"       | 'qu'+e/i has silent 'u' - see phonotactics    |\n| \"kw\" sound (/kw/)              | \"cu\" + vowel             | \"queen\" → \"CU-IN\"   | NOT 'qu' - that makes 'u' silent before e/i   |\n| Initial s+consonant cluster    | Add 'i' or 'e' before    | \"school\" → \"is-CUL\" | Portuguese requires vowel before s+C clusters |\n| \"schwa\" + l (as in \"-le\")      | \"eu\" or \"ou\"             | \"apple\" → \"É-pou\"   | Avoid 'ol' which implies /ɔw/                 |\n\n## For Spanish Speakers Learning English\n\n| English Sound   | Spanish Approximation | Example          | Notes                                   |\n| --------------- | --------------------- | ---------------- | --------------------------------------- |\n| \"th\" (voiced)   | \"d\"                   | \"the\" → \"da\"     |                                         |\n| \"th\" (unvoiced) | \"z\" or \"s\"            | \"think\" → \"sink\" |                                         |\n| Short \"i\"       | \"i\"                   | \"ship\" → \"ship\"  |                                         |\n| \"j\" sound       | \"ch\" or \"y\"           | \"job\" → \"chob\"   | 'ch' is closer to English /dʒ/ than 'y' |\n| \"v\" sound       | \"b\"                   | \"very\" → \"BE-ri\" |                                         |\n| Schwa vowel     | \"a\" or \"e\"            | \"the\" → \"da\"     | Use unstressed short vowel              |\n\n## For English Speakers Learning Portuguese\n\n**Vowel representations** (use English spelling conventions that produce the correct sound):\n\n| Portuguese Vowel | English Spelling | Sounds like    | Example              |\n| ---------------- | ---------------- | -------------- | -------------------- |\n| Open 'a' (/a/)   | \"ah\"             | \"father\"       | \"casa\" → \"KAH-zah\"   |\n| Closed 'e' (/e/) | \"ay\" or \"eh\"     | \"say\" or \"pet\" | \"mesa\" → \"MAY-zah\"   |\n| Open 'e' (/ɛ/)   | \"eh\"             | \"pet\"          | \"café\" → \"kah-FEH\"   |\n| 'i' (/i/)        | \"ee\"             | \"see\"          | \"vida\" → \"VEE-dah\"   |\n| Closed 'o' (/o/) | \"oh\"             | \"go\"           | \"bolo\" → \"BOH-loo\"   |\n| Open 'o' (/ɔ/)   | \"aw\"             | \"law\"          | \"porta\" → \"PAWR-tah\" |\n| 'u' (/u/)        | \"oo\"             | \"food\"         | \"tudo\" → \"TOO-doo\"   |\n\n**CRITICAL**: Use \"ah\" for Portuguese open 'a', NOT \"eh\" or plain \"a\". Writing \"peh\" would suggest /pɛ/ (like \"pet\"), but Portuguese 'a' is /a/ (like \"father\").\n\n| Portuguese Sound | English Approximation | Example                     |\n| ---------------- | --------------------- | --------------------------- |\n| \"ão\" (nasal)     | \"owng\" (nasalized)    | \"pão\" → \"powng\"             |\n| \"nh\"             | \"ny\"                  | \"amanhã\" → \"ah-mah-NYAH\"    |\n| \"lh\"             | \"ly\"                  | \"trabalho\" → \"trah-BAH-lyo\" |\n| \"r\" (guttural)   | \"h\"                   | \"carro\" → \"KAH-ho\"          |\n\n## For English Speakers Learning Spanish\n\n| Spanish Sound | English Approximation | Example              |\n| ------------- | --------------------- | -------------------- |\n| \"rr\" (rolled) | \"r\" (trilled/flapped) | \"perro\" → \"PEH-ro\"   |\n| \"j\"           | \"h\" (aspirated)       | \"jugar\" → \"hoo-GAR\"  |\n| \"ll\"          | \"y\"                   | \"llamar\" → \"yah-MAR\" |\n| \"ñ\"           | \"ny\"                  | \"niño\" → \"NEE-nyo\"   |\n\n# Phonotactic Constraints\n\nThe pronunciation guide must respect what syllable structures and letter combinations are actually readable in the native language. A native speaker should be able to read it without any training.\n\n## Portuguese Phonotactics\n\n**Consonant clusters**: Portuguese speakers naturally add an epenthetic vowel before s+consonant clusters at word beginnings. Your transcription should reflect this.\n\n- English \"street\" → \"is-TRIT\" or \"es-TRIT\" (NOT \"STRIT\")\n- English \"spring\" → \"is-PRIN\" or \"es-PRIN\" (NOT \"SPRING\")\n- English \"smile\" → \"is-MAI-ou\" or \"es-MAI-ou\" (NOT \"SMAIL\")\n\n**CRITICAL - The letter 'rr'**: In Brazilian Portuguese, 'rr' between vowels is pronounced as a guttural /h/ sound (like English 'h' in 'house'), NOT as a trill or tap.\n\n- NEVER use 'rr' to represent the English /r/ sound\n- Use single 'r' for English /r/ in all positions: \"mirror\" → \"MI-ror\" (NOT \"MI-rror\" which would sound like \"mi-hor\")\n- 'rr' and word-initial 'r' both produce the /h/ sound, use them ONLY for English /h/\n- Example: \"forest\" → \"FO-rest\" (NOT \"FO-rrest\")\n\n**The letter 'k' and the /kw/ sound**: While 'k' exists in Portuguese for foreign words, prefer 'c' or 'qu' for the /k/ sound. However, be careful with the /kw/ sound:\n\n**CRITICAL - 'qu' before 'e' or 'i' makes the 'u' SILENT in Portuguese:**\n\n- 'qu' + e/i = /k/ only (u is silent): \"querer\" = /kerer/, \"aqui\" = /aki/\n- To represent the /kw/ sound, use 'cu' + vowel: 'CUI' for /kwi/, 'CUA' for /kwa/\n\nExamples for /k/ sound (no /w/):\n\n- \"cat\" → \"CAT\" (NOT \"KAT\")\n- \"kit\" → \"QUIT\" (NOT \"KIT\") - here 'qu' works because we want just /k/\n\nExamples for /kw/ sound (with /w/):\n\n- \"queen\" → \"CU-IN\" (NOT \"QUIN\" - that would be read as /kin/)\n- \"quick\" → \"CUI-que\" (NOT \"QUI-que\" - that would be read as /kike/)\n- \"square\" → \"is-CUÉ-re\" (NOT \"is-QUÉ-re\")\n\n## Spanish Phonotactics\n\n**Consonant clusters**: Spanish has strict rules about which consonants can appear together in syllable onsets.\n\n- **Invalid onset clusters** (avoid these): 'yt', 'tl' (in most dialects), 'sr', 'dm', 'tm'\n- **Valid onset clusters**: 'bl', 'br', 'cl', 'cr', 'dr', 'fl', 'fr', 'gl', 'gr', 'pl', 'pr', 'tr'\n\n**The letter 'y'**: In Spanish, 'y' functions as a consonant in syllable onsets. It CANNOT combine with other consonants to form clusters.\n\n- \"general\" → \"CHE-ne-ral\" or \"YE-ne-ral\" (NOT \"YE-nral\" - 'nr' cluster is awkward)\n- \"magic\" → \"MA-chic\" (NOT \"MA-yic\" - prefer 'ch' for the soft g/j sound)\n- If you need /j/ + consonant, break them into separate syllables or use 'ch' instead\n\n**The letter 'v'**: In most Spanish dialects, 'v' and 'b' are pronounced identically. Either is acceptable, but be consistent.\n\n## English Phonotactics\n\n**Most flexible**: English allows many consonant clusters that other languages don't.\n\n- Valid clusters: 'str', 'spl', 'scr', 'ng', 'nk', 'ld', 'nd', 'nt'\n- When writing for English speakers, these clusters are acceptable\n\n# Silent Letters and Special Cases\n\nHandle silent letters by omitting them from the pronunciation:\n\n- English \"knight\" for Portuguese: \"NAIT\" (silent \"k\" and \"gh\")\n- French \"beaucoup\" for English: \"boh-KOO\" (silent final letters)\n\nHandle double letters by representing the actual sound:\n\n- English \"butter\" for Portuguese: \"BA-ter\" (single \"t\" sound)\n- Italian \"pizza\" for English: \"PEET-sah\" (the \"zz\" is a \"ts\" sound)\n\n# Output Format\n\nReturn a JSON object with a single `pronunciation` field containing the phonetic representation.\n\n```json\n{\n  \"pronunciation\": \"rre-LOU\"\n}\n```\n\n# Quality Requirements\n\n1. **Native language only**: Every letter and letter combination in the output must be valid in the native language. A native speaker should be able to read it naturally without any learning.\n\n2. **Phonotactically valid**: The syllable structures must be pronounceable in the native language. Verify that:\n   - Consonant clusters are valid in the native language (no Spanish 'yt', no Portuguese intervocalic 'rr' for /r/)\n   - Epenthetic vowels are added where the native language requires them (Portuguese s+consonant clusters)\n\n3. **Clear stress marking**: Exactly one syllable should be in CAPITAL letters to indicate primary stress. For monosyllabic words, the entire word can be capitalized. **If the target word has an accent mark (´, ^, etc.), that syllable MUST receive the stress.**\n\n4. **Syllable separation**: Use hyphens to separate syllables for words with more than one syllable.\n\n5. **Actual pronunciation**: Transcribe the actual sounds of the word, not its spelling. Beware of cognate interference - similar words in other languages may have different pronunciations.\n\n6. **Closest approximation**: When exact sounds don't exist, use the closest available sound. Never leave a sound unrepresented.\n\n7. **Readable output**: The pronunciation should look like a word or phrase the native speaker could naturally say. Avoid awkward letter combinations that don't occur in the native language.\n\n8. **Consistency**: Use consistent representations for the same sounds throughout.\n\n# Examples\n\n## Portuguese Speaker Learning English\n\n**Input**: WORD: \"water\", TARGET_LANGUAGE: English, NATIVE_LANGUAGE: pt\n\n```json\n{\n  \"pronunciation\": \"UÓ-ter\"\n}\n```\n\n## Spanish Speaker Learning English\n\n**Input**: WORD: \"world\", TARGET_LANGUAGE: English, NATIVE_LANGUAGE: es\n\n```json\n{\n  \"pronunciation\": \"UERLD\"\n}\n```\n\n## English Speaker Learning Portuguese\n\n**Input**: WORD: \"obrigado\", TARGET_LANGUAGE: Portuguese, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"oh-bree-GAH-doo\"\n}\n```\n\n**Input**: WORD: \"coração\", TARGET_LANGUAGE: Portuguese, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"koh-rah-SOWNG\"\n}\n```\n\n## English Speaker Learning Spanish\n\n**Input**: WORD: \"trabajo\", TARGET_LANGUAGE: Spanish, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"trah-BAH-ho\"\n}\n```\n",
      "testCaseId": "en-portuguese-parabens-1",
      "userPrompt": "WORD: parabens\nTARGET_LANGUAGE: Portuguese\nNATIVE_LANGUAGE: en\n\nGenerate a pronunciation guide for this word using only sounds from the native language."
    },
    {
      "duration": 1194.5757079999894,
      "inputTokens": 4270,
      "output": "{\n  \"pronunciation\": \"feh-roh-kah-REEL\"\n}",
      "outputTokens": 20,
      "systemPrompt": "# Role\n\nYou are an expert linguist specializing in phonetic transcription for language learners. Your expertise is helping learners pronounce words in a new language by representing sounds using their native language's phonemes.\n\n# Goal\n\nGenerate a pronunciation guide that helps a native speaker of one language pronounce a word in another language. The guide uses only sounds and letters that exist in the learner's native language, making it immediately readable and pronounceable.\n\n# Language Handling\n\n- **TARGET_LANGUAGE**: The language of the word being learned. This is where the word comes from.\n- **NATIVE_LANGUAGE**: The learner's native language. The pronunciation guide uses ONLY sounds from this language.\n\n## Language Codes\n\n- `en`: US English\n- `pt`: Brazilian Portuguese\n- `es`: Latin American Spanish\n\n# Core Principles\n\n## 1. Use Only Native Language Sounds\n\nThe pronunciation guide must use ONLY letters and letter combinations that exist in the learner's native language. Never use:\n\n- IPA symbols\n- Letters that don't exist in the native language\n- Diacritics or accent marks that aren't standard in the native language\n\n**Example for Portuguese speaker learning English:**\n\n- The English \"th\" sound doesn't exist in Portuguese\n- Approximate it with the closest Portuguese sound: \"d\" for voiced \"th\" (as in \"the\") or \"f\" for unvoiced \"th\" (as in \"think\")\n\n## 2. Mark Stress Clearly\n\nIndicate the stressed syllable using capital letters. This helps learners know where to put emphasis.\n\n**When the target language word has an accent mark (like Spanish ´ or Portuguese ^), that accent ALWAYS indicates the stressed syllable.** Do not apply default stress rules when an accent is present.\n\n**Examples:**\n\n- \"hello\" for Portuguese speaker: \"rhe-LOU\" (stress on second syllable)\n- \"apple\" for Spanish speaker: \"A-pol\" (stress on first syllable)\n- \"teléfono\" (Spanish) for English speaker: \"teh-LEH-foh-no\" (accent on é indicates stress)\n\n## 3. Use Hyphens for Syllable Separation\n\nSeparate syllables with hyphens to make pronunciation clearer and help learners break down longer words.\n\n**Examples:**\n\n- \"wonderful\" for Portuguese speaker: \"UAN-der-fol\"\n- \"restaurant\" for Spanish speaker: \"RES-to-rant\"\n\n## 4. Transcribe Actual Pronunciation, Not Spelling or Cognates\n\nThe pronunciation guide must represent how the word ACTUALLY SOUNDS, not how it's spelled or how similar words are spelled in other languages.\n\n**Common pitfall - Cognate interference**: Words that have similar forms in multiple languages (cognates) can mislead you into inserting sounds that aren't actually pronounced.\n\n**Example - \"actually\" (English) for Spanish speakers:**\n\n- English \"actually\" is pronounced /ˈæktʃuəli/ with a \"ch\" sound in the middle\n- Spanish has \"actualmente\" which has a hard /t/ followed by /u/, no \"ch\" sound\n- WRONG: \"ac-tu-AL-men-te\" (incorrectly follows the Spanish cognate pattern)\n- CORRECT: \"AK-chu-a-li\" (transcribes actual English pronunciation with \"ch\" sound)\n\n**Always ask**: \"How is this word actually pronounced?\" not \"How is this word spelled?\" or \"What does the similar word in another language sound like?\"\n\n# Handling Difficult Sounds\n\nWhen the target language has sounds that don't exist in the native language, use the closest approximation available:\n\n## For Portuguese Speakers Learning English\n\n| English Sound                  | Portuguese Approximation | Example             | Notes                                         |\n| ------------------------------ | ------------------------ | ------------------- | --------------------------------------------- |\n| \"th\" (voiced, as in \"the\")     | \"d\"                      | \"the\" → \"dâ\"        |                                               |\n| \"th\" (unvoiced, as in \"think\") | \"f\" or \"s\"               | \"think\" → \"fink\"    |                                               |\n| Short \"i\" (as in \"bit\")        | \"i\"                      | \"bit\" → \"bit\"       |                                               |\n| \"r\" (American, any position)   | Single \"r\"               | \"car\" → \"CAR\"       | NEVER use 'rr' - see phonotactics section     |\n| \"h\" at start                   | \"rr\" or initial \"r\"      | \"hello\" → \"rre-LOU\" | Initial 'r' and 'rr' both make /h/ in PT      |\n| \"k\" sound (no /w/)             | \"c\" or \"qu\"              | \"cat\" → \"CAT\"       | 'qu'+e/i has silent 'u' - see phonotactics    |\n| \"kw\" sound (/kw/)              | \"cu\" + vowel             | \"queen\" → \"CU-IN\"   | NOT 'qu' - that makes 'u' silent before e/i   |\n| Initial s+consonant cluster    | Add 'i' or 'e' before    | \"school\" → \"is-CUL\" | Portuguese requires vowel before s+C clusters |\n| \"schwa\" + l (as in \"-le\")      | \"eu\" or \"ou\"             | \"apple\" → \"É-pou\"   | Avoid 'ol' which implies /ɔw/                 |\n\n## For Spanish Speakers Learning English\n\n| English Sound   | Spanish Approximation | Example          | Notes                                   |\n| --------------- | --------------------- | ---------------- | --------------------------------------- |\n| \"th\" (voiced)   | \"d\"                   | \"the\" → \"da\"     |                                         |\n| \"th\" (unvoiced) | \"z\" or \"s\"            | \"think\" → \"sink\" |                                         |\n| Short \"i\"       | \"i\"                   | \"ship\" → \"ship\"  |                                         |\n| \"j\" sound       | \"ch\" or \"y\"           | \"job\" → \"chob\"   | 'ch' is closer to English /dʒ/ than 'y' |\n| \"v\" sound       | \"b\"                   | \"very\" → \"BE-ri\" |                                         |\n| Schwa vowel     | \"a\" or \"e\"            | \"the\" → \"da\"     | Use unstressed short vowel              |\n\n## For English Speakers Learning Portuguese\n\n**Vowel representations** (use English spelling conventions that produce the correct sound):\n\n| Portuguese Vowel | English Spelling | Sounds like    | Example              |\n| ---------------- | ---------------- | -------------- | -------------------- |\n| Open 'a' (/a/)   | \"ah\"             | \"father\"       | \"casa\" → \"KAH-zah\"   |\n| Closed 'e' (/e/) | \"ay\" or \"eh\"     | \"say\" or \"pet\" | \"mesa\" → \"MAY-zah\"   |\n| Open 'e' (/ɛ/)   | \"eh\"             | \"pet\"          | \"café\" → \"kah-FEH\"   |\n| 'i' (/i/)        | \"ee\"             | \"see\"          | \"vida\" → \"VEE-dah\"   |\n| Closed 'o' (/o/) | \"oh\"             | \"go\"           | \"bolo\" → \"BOH-loo\"   |\n| Open 'o' (/ɔ/)   | \"aw\"             | \"law\"          | \"porta\" → \"PAWR-tah\" |\n| 'u' (/u/)        | \"oo\"             | \"food\"         | \"tudo\" → \"TOO-doo\"   |\n\n**CRITICAL**: Use \"ah\" for Portuguese open 'a', NOT \"eh\" or plain \"a\". Writing \"peh\" would suggest /pɛ/ (like \"pet\"), but Portuguese 'a' is /a/ (like \"father\").\n\n| Portuguese Sound | English Approximation | Example                     |\n| ---------------- | --------------------- | --------------------------- |\n| \"ão\" (nasal)     | \"owng\" (nasalized)    | \"pão\" → \"powng\"             |\n| \"nh\"             | \"ny\"                  | \"amanhã\" → \"ah-mah-NYAH\"    |\n| \"lh\"             | \"ly\"                  | \"trabalho\" → \"trah-BAH-lyo\" |\n| \"r\" (guttural)   | \"h\"                   | \"carro\" → \"KAH-ho\"          |\n\n## For English Speakers Learning Spanish\n\n| Spanish Sound | English Approximation | Example              |\n| ------------- | --------------------- | -------------------- |\n| \"rr\" (rolled) | \"r\" (trilled/flapped) | \"perro\" → \"PEH-ro\"   |\n| \"j\"           | \"h\" (aspirated)       | \"jugar\" → \"hoo-GAR\"  |\n| \"ll\"          | \"y\"                   | \"llamar\" → \"yah-MAR\" |\n| \"ñ\"           | \"ny\"                  | \"niño\" → \"NEE-nyo\"   |\n\n# Phonotactic Constraints\n\nThe pronunciation guide must respect what syllable structures and letter combinations are actually readable in the native language. A native speaker should be able to read it without any training.\n\n## Portuguese Phonotactics\n\n**Consonant clusters**: Portuguese speakers naturally add an epenthetic vowel before s+consonant clusters at word beginnings. Your transcription should reflect this.\n\n- English \"street\" → \"is-TRIT\" or \"es-TRIT\" (NOT \"STRIT\")\n- English \"spring\" → \"is-PRIN\" or \"es-PRIN\" (NOT \"SPRING\")\n- English \"smile\" → \"is-MAI-ou\" or \"es-MAI-ou\" (NOT \"SMAIL\")\n\n**CRITICAL - The letter 'rr'**: In Brazilian Portuguese, 'rr' between vowels is pronounced as a guttural /h/ sound (like English 'h' in 'house'), NOT as a trill or tap.\n\n- NEVER use 'rr' to represent the English /r/ sound\n- Use single 'r' for English /r/ in all positions: \"mirror\" → \"MI-ror\" (NOT \"MI-rror\" which would sound like \"mi-hor\")\n- 'rr' and word-initial 'r' both produce the /h/ sound, use them ONLY for English /h/\n- Example: \"forest\" → \"FO-rest\" (NOT \"FO-rrest\")\n\n**The letter 'k' and the /kw/ sound**: While 'k' exists in Portuguese for foreign words, prefer 'c' or 'qu' for the /k/ sound. However, be careful with the /kw/ sound:\n\n**CRITICAL - 'qu' before 'e' or 'i' makes the 'u' SILENT in Portuguese:**\n\n- 'qu' + e/i = /k/ only (u is silent): \"querer\" = /kerer/, \"aqui\" = /aki/\n- To represent the /kw/ sound, use 'cu' + vowel: 'CUI' for /kwi/, 'CUA' for /kwa/\n\nExamples for /k/ sound (no /w/):\n\n- \"cat\" → \"CAT\" (NOT \"KAT\")\n- \"kit\" → \"QUIT\" (NOT \"KIT\") - here 'qu' works because we want just /k/\n\nExamples for /kw/ sound (with /w/):\n\n- \"queen\" → \"CU-IN\" (NOT \"QUIN\" - that would be read as /kin/)\n- \"quick\" → \"CUI-que\" (NOT \"QUI-que\" - that would be read as /kike/)\n- \"square\" → \"is-CUÉ-re\" (NOT \"is-QUÉ-re\")\n\n## Spanish Phonotactics\n\n**Consonant clusters**: Spanish has strict rules about which consonants can appear together in syllable onsets.\n\n- **Invalid onset clusters** (avoid these): 'yt', 'tl' (in most dialects), 'sr', 'dm', 'tm'\n- **Valid onset clusters**: 'bl', 'br', 'cl', 'cr', 'dr', 'fl', 'fr', 'gl', 'gr', 'pl', 'pr', 'tr'\n\n**The letter 'y'**: In Spanish, 'y' functions as a consonant in syllable onsets. It CANNOT combine with other consonants to form clusters.\n\n- \"general\" → \"CHE-ne-ral\" or \"YE-ne-ral\" (NOT \"YE-nral\" - 'nr' cluster is awkward)\n- \"magic\" → \"MA-chic\" (NOT \"MA-yic\" - prefer 'ch' for the soft g/j sound)\n- If you need /j/ + consonant, break them into separate syllables or use 'ch' instead\n\n**The letter 'v'**: In most Spanish dialects, 'v' and 'b' are pronounced identically. Either is acceptable, but be consistent.\n\n## English Phonotactics\n\n**Most flexible**: English allows many consonant clusters that other languages don't.\n\n- Valid clusters: 'str', 'spl', 'scr', 'ng', 'nk', 'ld', 'nd', 'nt'\n- When writing for English speakers, these clusters are acceptable\n\n# Silent Letters and Special Cases\n\nHandle silent letters by omitting them from the pronunciation:\n\n- English \"knight\" for Portuguese: \"NAIT\" (silent \"k\" and \"gh\")\n- French \"beaucoup\" for English: \"boh-KOO\" (silent final letters)\n\nHandle double letters by representing the actual sound:\n\n- English \"butter\" for Portuguese: \"BA-ter\" (single \"t\" sound)\n- Italian \"pizza\" for English: \"PEET-sah\" (the \"zz\" is a \"ts\" sound)\n\n# Output Format\n\nReturn a JSON object with a single `pronunciation` field containing the phonetic representation.\n\n```json\n{\n  \"pronunciation\": \"rre-LOU\"\n}\n```\n\n# Quality Requirements\n\n1. **Native language only**: Every letter and letter combination in the output must be valid in the native language. A native speaker should be able to read it naturally without any learning.\n\n2. **Phonotactically valid**: The syllable structures must be pronounceable in the native language. Verify that:\n   - Consonant clusters are valid in the native language (no Spanish 'yt', no Portuguese intervocalic 'rr' for /r/)\n   - Epenthetic vowels are added where the native language requires them (Portuguese s+consonant clusters)\n\n3. **Clear stress marking**: Exactly one syllable should be in CAPITAL letters to indicate primary stress. For monosyllabic words, the entire word can be capitalized. **If the target word has an accent mark (´, ^, etc.), that syllable MUST receive the stress.**\n\n4. **Syllable separation**: Use hyphens to separate syllables for words with more than one syllable.\n\n5. **Actual pronunciation**: Transcribe the actual sounds of the word, not its spelling. Beware of cognate interference - similar words in other languages may have different pronunciations.\n\n6. **Closest approximation**: When exact sounds don't exist, use the closest available sound. Never leave a sound unrepresented.\n\n7. **Readable output**: The pronunciation should look like a word or phrase the native speaker could naturally say. Avoid awkward letter combinations that don't occur in the native language.\n\n8. **Consistency**: Use consistent representations for the same sounds throughout.\n\n# Examples\n\n## Portuguese Speaker Learning English\n\n**Input**: WORD: \"water\", TARGET_LANGUAGE: English, NATIVE_LANGUAGE: pt\n\n```json\n{\n  \"pronunciation\": \"UÓ-ter\"\n}\n```\n\n## Spanish Speaker Learning English\n\n**Input**: WORD: \"world\", TARGET_LANGUAGE: English, NATIVE_LANGUAGE: es\n\n```json\n{\n  \"pronunciation\": \"UERLD\"\n}\n```\n\n## English Speaker Learning Portuguese\n\n**Input**: WORD: \"obrigado\", TARGET_LANGUAGE: Portuguese, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"oh-bree-GAH-doo\"\n}\n```\n\n**Input**: WORD: \"coração\", TARGET_LANGUAGE: Portuguese, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"koh-rah-SOWNG\"\n}\n```\n\n## English Speaker Learning Spanish\n\n**Input**: WORD: \"trabajo\", TARGET_LANGUAGE: Spanish, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"trah-BAH-ho\"\n}\n```\n",
      "testCaseId": "en-spanish-ferrocarril-1",
      "userPrompt": "WORD: ferrocarril\nTARGET_LANGUAGE: Spanish\nNATIVE_LANGUAGE: en\n\nGenerate a pronunciation guide for this word using only sounds from the native language."
    },
    {
      "duration": 1377.7983330000425,
      "inputTokens": 4270,
      "output": "{\n  \"pronunciation\": \"moor-see-AY-lah-go\"\n}",
      "outputTokens": 20,
      "systemPrompt": "# Role\n\nYou are an expert linguist specializing in phonetic transcription for language learners. Your expertise is helping learners pronounce words in a new language by representing sounds using their native language's phonemes.\n\n# Goal\n\nGenerate a pronunciation guide that helps a native speaker of one language pronounce a word in another language. The guide uses only sounds and letters that exist in the learner's native language, making it immediately readable and pronounceable.\n\n# Language Handling\n\n- **TARGET_LANGUAGE**: The language of the word being learned. This is where the word comes from.\n- **NATIVE_LANGUAGE**: The learner's native language. The pronunciation guide uses ONLY sounds from this language.\n\n## Language Codes\n\n- `en`: US English\n- `pt`: Brazilian Portuguese\n- `es`: Latin American Spanish\n\n# Core Principles\n\n## 1. Use Only Native Language Sounds\n\nThe pronunciation guide must use ONLY letters and letter combinations that exist in the learner's native language. Never use:\n\n- IPA symbols\n- Letters that don't exist in the native language\n- Diacritics or accent marks that aren't standard in the native language\n\n**Example for Portuguese speaker learning English:**\n\n- The English \"th\" sound doesn't exist in Portuguese\n- Approximate it with the closest Portuguese sound: \"d\" for voiced \"th\" (as in \"the\") or \"f\" for unvoiced \"th\" (as in \"think\")\n\n## 2. Mark Stress Clearly\n\nIndicate the stressed syllable using capital letters. This helps learners know where to put emphasis.\n\n**When the target language word has an accent mark (like Spanish ´ or Portuguese ^), that accent ALWAYS indicates the stressed syllable.** Do not apply default stress rules when an accent is present.\n\n**Examples:**\n\n- \"hello\" for Portuguese speaker: \"rhe-LOU\" (stress on second syllable)\n- \"apple\" for Spanish speaker: \"A-pol\" (stress on first syllable)\n- \"teléfono\" (Spanish) for English speaker: \"teh-LEH-foh-no\" (accent on é indicates stress)\n\n## 3. Use Hyphens for Syllable Separation\n\nSeparate syllables with hyphens to make pronunciation clearer and help learners break down longer words.\n\n**Examples:**\n\n- \"wonderful\" for Portuguese speaker: \"UAN-der-fol\"\n- \"restaurant\" for Spanish speaker: \"RES-to-rant\"\n\n## 4. Transcribe Actual Pronunciation, Not Spelling or Cognates\n\nThe pronunciation guide must represent how the word ACTUALLY SOUNDS, not how it's spelled or how similar words are spelled in other languages.\n\n**Common pitfall - Cognate interference**: Words that have similar forms in multiple languages (cognates) can mislead you into inserting sounds that aren't actually pronounced.\n\n**Example - \"actually\" (English) for Spanish speakers:**\n\n- English \"actually\" is pronounced /ˈæktʃuəli/ with a \"ch\" sound in the middle\n- Spanish has \"actualmente\" which has a hard /t/ followed by /u/, no \"ch\" sound\n- WRONG: \"ac-tu-AL-men-te\" (incorrectly follows the Spanish cognate pattern)\n- CORRECT: \"AK-chu-a-li\" (transcribes actual English pronunciation with \"ch\" sound)\n\n**Always ask**: \"How is this word actually pronounced?\" not \"How is this word spelled?\" or \"What does the similar word in another language sound like?\"\n\n# Handling Difficult Sounds\n\nWhen the target language has sounds that don't exist in the native language, use the closest approximation available:\n\n## For Portuguese Speakers Learning English\n\n| English Sound                  | Portuguese Approximation | Example             | Notes                                         |\n| ------------------------------ | ------------------------ | ------------------- | --------------------------------------------- |\n| \"th\" (voiced, as in \"the\")     | \"d\"                      | \"the\" → \"dâ\"        |                                               |\n| \"th\" (unvoiced, as in \"think\") | \"f\" or \"s\"               | \"think\" → \"fink\"    |                                               |\n| Short \"i\" (as in \"bit\")        | \"i\"                      | \"bit\" → \"bit\"       |                                               |\n| \"r\" (American, any position)   | Single \"r\"               | \"car\" → \"CAR\"       | NEVER use 'rr' - see phonotactics section     |\n| \"h\" at start                   | \"rr\" or initial \"r\"      | \"hello\" → \"rre-LOU\" | Initial 'r' and 'rr' both make /h/ in PT      |\n| \"k\" sound (no /w/)             | \"c\" or \"qu\"              | \"cat\" → \"CAT\"       | 'qu'+e/i has silent 'u' - see phonotactics    |\n| \"kw\" sound (/kw/)              | \"cu\" + vowel             | \"queen\" → \"CU-IN\"   | NOT 'qu' - that makes 'u' silent before e/i   |\n| Initial s+consonant cluster    | Add 'i' or 'e' before    | \"school\" → \"is-CUL\" | Portuguese requires vowel before s+C clusters |\n| \"schwa\" + l (as in \"-le\")      | \"eu\" or \"ou\"             | \"apple\" → \"É-pou\"   | Avoid 'ol' which implies /ɔw/                 |\n\n## For Spanish Speakers Learning English\n\n| English Sound   | Spanish Approximation | Example          | Notes                                   |\n| --------------- | --------------------- | ---------------- | --------------------------------------- |\n| \"th\" (voiced)   | \"d\"                   | \"the\" → \"da\"     |                                         |\n| \"th\" (unvoiced) | \"z\" or \"s\"            | \"think\" → \"sink\" |                                         |\n| Short \"i\"       | \"i\"                   | \"ship\" → \"ship\"  |                                         |\n| \"j\" sound       | \"ch\" or \"y\"           | \"job\" → \"chob\"   | 'ch' is closer to English /dʒ/ than 'y' |\n| \"v\" sound       | \"b\"                   | \"very\" → \"BE-ri\" |                                         |\n| Schwa vowel     | \"a\" or \"e\"            | \"the\" → \"da\"     | Use unstressed short vowel              |\n\n## For English Speakers Learning Portuguese\n\n**Vowel representations** (use English spelling conventions that produce the correct sound):\n\n| Portuguese Vowel | English Spelling | Sounds like    | Example              |\n| ---------------- | ---------------- | -------------- | -------------------- |\n| Open 'a' (/a/)   | \"ah\"             | \"father\"       | \"casa\" → \"KAH-zah\"   |\n| Closed 'e' (/e/) | \"ay\" or \"eh\"     | \"say\" or \"pet\" | \"mesa\" → \"MAY-zah\"   |\n| Open 'e' (/ɛ/)   | \"eh\"             | \"pet\"          | \"café\" → \"kah-FEH\"   |\n| 'i' (/i/)        | \"ee\"             | \"see\"          | \"vida\" → \"VEE-dah\"   |\n| Closed 'o' (/o/) | \"oh\"             | \"go\"           | \"bolo\" → \"BOH-loo\"   |\n| Open 'o' (/ɔ/)   | \"aw\"             | \"law\"          | \"porta\" → \"PAWR-tah\" |\n| 'u' (/u/)        | \"oo\"             | \"food\"         | \"tudo\" → \"TOO-doo\"   |\n\n**CRITICAL**: Use \"ah\" for Portuguese open 'a', NOT \"eh\" or plain \"a\". Writing \"peh\" would suggest /pɛ/ (like \"pet\"), but Portuguese 'a' is /a/ (like \"father\").\n\n| Portuguese Sound | English Approximation | Example                     |\n| ---------------- | --------------------- | --------------------------- |\n| \"ão\" (nasal)     | \"owng\" (nasalized)    | \"pão\" → \"powng\"             |\n| \"nh\"             | \"ny\"                  | \"amanhã\" → \"ah-mah-NYAH\"    |\n| \"lh\"             | \"ly\"                  | \"trabalho\" → \"trah-BAH-lyo\" |\n| \"r\" (guttural)   | \"h\"                   | \"carro\" → \"KAH-ho\"          |\n\n## For English Speakers Learning Spanish\n\n| Spanish Sound | English Approximation | Example              |\n| ------------- | --------------------- | -------------------- |\n| \"rr\" (rolled) | \"r\" (trilled/flapped) | \"perro\" → \"PEH-ro\"   |\n| \"j\"           | \"h\" (aspirated)       | \"jugar\" → \"hoo-GAR\"  |\n| \"ll\"          | \"y\"                   | \"llamar\" → \"yah-MAR\" |\n| \"ñ\"           | \"ny\"                  | \"niño\" → \"NEE-nyo\"   |\n\n# Phonotactic Constraints\n\nThe pronunciation guide must respect what syllable structures and letter combinations are actually readable in the native language. A native speaker should be able to read it without any training.\n\n## Portuguese Phonotactics\n\n**Consonant clusters**: Portuguese speakers naturally add an epenthetic vowel before s+consonant clusters at word beginnings. Your transcription should reflect this.\n\n- English \"street\" → \"is-TRIT\" or \"es-TRIT\" (NOT \"STRIT\")\n- English \"spring\" → \"is-PRIN\" or \"es-PRIN\" (NOT \"SPRING\")\n- English \"smile\" → \"is-MAI-ou\" or \"es-MAI-ou\" (NOT \"SMAIL\")\n\n**CRITICAL - The letter 'rr'**: In Brazilian Portuguese, 'rr' between vowels is pronounced as a guttural /h/ sound (like English 'h' in 'house'), NOT as a trill or tap.\n\n- NEVER use 'rr' to represent the English /r/ sound\n- Use single 'r' for English /r/ in all positions: \"mirror\" → \"MI-ror\" (NOT \"MI-rror\" which would sound like \"mi-hor\")\n- 'rr' and word-initial 'r' both produce the /h/ sound, use them ONLY for English /h/\n- Example: \"forest\" → \"FO-rest\" (NOT \"FO-rrest\")\n\n**The letter 'k' and the /kw/ sound**: While 'k' exists in Portuguese for foreign words, prefer 'c' or 'qu' for the /k/ sound. However, be careful with the /kw/ sound:\n\n**CRITICAL - 'qu' before 'e' or 'i' makes the 'u' SILENT in Portuguese:**\n\n- 'qu' + e/i = /k/ only (u is silent): \"querer\" = /kerer/, \"aqui\" = /aki/\n- To represent the /kw/ sound, use 'cu' + vowel: 'CUI' for /kwi/, 'CUA' for /kwa/\n\nExamples for /k/ sound (no /w/):\n\n- \"cat\" → \"CAT\" (NOT \"KAT\")\n- \"kit\" → \"QUIT\" (NOT \"KIT\") - here 'qu' works because we want just /k/\n\nExamples for /kw/ sound (with /w/):\n\n- \"queen\" → \"CU-IN\" (NOT \"QUIN\" - that would be read as /kin/)\n- \"quick\" → \"CUI-que\" (NOT \"QUI-que\" - that would be read as /kike/)\n- \"square\" → \"is-CUÉ-re\" (NOT \"is-QUÉ-re\")\n\n## Spanish Phonotactics\n\n**Consonant clusters**: Spanish has strict rules about which consonants can appear together in syllable onsets.\n\n- **Invalid onset clusters** (avoid these): 'yt', 'tl' (in most dialects), 'sr', 'dm', 'tm'\n- **Valid onset clusters**: 'bl', 'br', 'cl', 'cr', 'dr', 'fl', 'fr', 'gl', 'gr', 'pl', 'pr', 'tr'\n\n**The letter 'y'**: In Spanish, 'y' functions as a consonant in syllable onsets. It CANNOT combine with other consonants to form clusters.\n\n- \"general\" → \"CHE-ne-ral\" or \"YE-ne-ral\" (NOT \"YE-nral\" - 'nr' cluster is awkward)\n- \"magic\" → \"MA-chic\" (NOT \"MA-yic\" - prefer 'ch' for the soft g/j sound)\n- If you need /j/ + consonant, break them into separate syllables or use 'ch' instead\n\n**The letter 'v'**: In most Spanish dialects, 'v' and 'b' are pronounced identically. Either is acceptable, but be consistent.\n\n## English Phonotactics\n\n**Most flexible**: English allows many consonant clusters that other languages don't.\n\n- Valid clusters: 'str', 'spl', 'scr', 'ng', 'nk', 'ld', 'nd', 'nt'\n- When writing for English speakers, these clusters are acceptable\n\n# Silent Letters and Special Cases\n\nHandle silent letters by omitting them from the pronunciation:\n\n- English \"knight\" for Portuguese: \"NAIT\" (silent \"k\" and \"gh\")\n- French \"beaucoup\" for English: \"boh-KOO\" (silent final letters)\n\nHandle double letters by representing the actual sound:\n\n- English \"butter\" for Portuguese: \"BA-ter\" (single \"t\" sound)\n- Italian \"pizza\" for English: \"PEET-sah\" (the \"zz\" is a \"ts\" sound)\n\n# Output Format\n\nReturn a JSON object with a single `pronunciation` field containing the phonetic representation.\n\n```json\n{\n  \"pronunciation\": \"rre-LOU\"\n}\n```\n\n# Quality Requirements\n\n1. **Native language only**: Every letter and letter combination in the output must be valid in the native language. A native speaker should be able to read it naturally without any learning.\n\n2. **Phonotactically valid**: The syllable structures must be pronounceable in the native language. Verify that:\n   - Consonant clusters are valid in the native language (no Spanish 'yt', no Portuguese intervocalic 'rr' for /r/)\n   - Epenthetic vowels are added where the native language requires them (Portuguese s+consonant clusters)\n\n3. **Clear stress marking**: Exactly one syllable should be in CAPITAL letters to indicate primary stress. For monosyllabic words, the entire word can be capitalized. **If the target word has an accent mark (´, ^, etc.), that syllable MUST receive the stress.**\n\n4. **Syllable separation**: Use hyphens to separate syllables for words with more than one syllable.\n\n5. **Actual pronunciation**: Transcribe the actual sounds of the word, not its spelling. Beware of cognate interference - similar words in other languages may have different pronunciations.\n\n6. **Closest approximation**: When exact sounds don't exist, use the closest available sound. Never leave a sound unrepresented.\n\n7. **Readable output**: The pronunciation should look like a word or phrase the native speaker could naturally say. Avoid awkward letter combinations that don't occur in the native language.\n\n8. **Consistency**: Use consistent representations for the same sounds throughout.\n\n# Examples\n\n## Portuguese Speaker Learning English\n\n**Input**: WORD: \"water\", TARGET_LANGUAGE: English, NATIVE_LANGUAGE: pt\n\n```json\n{\n  \"pronunciation\": \"UÓ-ter\"\n}\n```\n\n## Spanish Speaker Learning English\n\n**Input**: WORD: \"world\", TARGET_LANGUAGE: English, NATIVE_LANGUAGE: es\n\n```json\n{\n  \"pronunciation\": \"UERLD\"\n}\n```\n\n## English Speaker Learning Portuguese\n\n**Input**: WORD: \"obrigado\", TARGET_LANGUAGE: Portuguese, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"oh-bree-GAH-doo\"\n}\n```\n\n**Input**: WORD: \"coração\", TARGET_LANGUAGE: Portuguese, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"koh-rah-SOWNG\"\n}\n```\n\n## English Speaker Learning Spanish\n\n**Input**: WORD: \"trabajo\", TARGET_LANGUAGE: Spanish, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"trah-BAH-ho\"\n}\n```\n",
      "testCaseId": "en-spanish-murcielago-1",
      "userPrompt": "WORD: murcielago\nTARGET_LANGUAGE: Spanish\nNATIVE_LANGUAGE: en\n\nGenerate a pronunciation guide for this word using only sounds from the native language."
    },
    {
      "duration": 2213.9360829999787,
      "inputTokens": 4267,
      "output": "{\n  \"pronunciation\": \"CAT\"\n}",
      "outputTokens": 9,
      "systemPrompt": "# Role\n\nYou are an expert linguist specializing in phonetic transcription for language learners. Your expertise is helping learners pronounce words in a new language by representing sounds using their native language's phonemes.\n\n# Goal\n\nGenerate a pronunciation guide that helps a native speaker of one language pronounce a word in another language. The guide uses only sounds and letters that exist in the learner's native language, making it immediately readable and pronounceable.\n\n# Language Handling\n\n- **TARGET_LANGUAGE**: The language of the word being learned. This is where the word comes from.\n- **NATIVE_LANGUAGE**: The learner's native language. The pronunciation guide uses ONLY sounds from this language.\n\n## Language Codes\n\n- `en`: US English\n- `pt`: Brazilian Portuguese\n- `es`: Latin American Spanish\n\n# Core Principles\n\n## 1. Use Only Native Language Sounds\n\nThe pronunciation guide must use ONLY letters and letter combinations that exist in the learner's native language. Never use:\n\n- IPA symbols\n- Letters that don't exist in the native language\n- Diacritics or accent marks that aren't standard in the native language\n\n**Example for Portuguese speaker learning English:**\n\n- The English \"th\" sound doesn't exist in Portuguese\n- Approximate it with the closest Portuguese sound: \"d\" for voiced \"th\" (as in \"the\") or \"f\" for unvoiced \"th\" (as in \"think\")\n\n## 2. Mark Stress Clearly\n\nIndicate the stressed syllable using capital letters. This helps learners know where to put emphasis.\n\n**When the target language word has an accent mark (like Spanish ´ or Portuguese ^), that accent ALWAYS indicates the stressed syllable.** Do not apply default stress rules when an accent is present.\n\n**Examples:**\n\n- \"hello\" for Portuguese speaker: \"rhe-LOU\" (stress on second syllable)\n- \"apple\" for Spanish speaker: \"A-pol\" (stress on first syllable)\n- \"teléfono\" (Spanish) for English speaker: \"teh-LEH-foh-no\" (accent on é indicates stress)\n\n## 3. Use Hyphens for Syllable Separation\n\nSeparate syllables with hyphens to make pronunciation clearer and help learners break down longer words.\n\n**Examples:**\n\n- \"wonderful\" for Portuguese speaker: \"UAN-der-fol\"\n- \"restaurant\" for Spanish speaker: \"RES-to-rant\"\n\n## 4. Transcribe Actual Pronunciation, Not Spelling or Cognates\n\nThe pronunciation guide must represent how the word ACTUALLY SOUNDS, not how it's spelled or how similar words are spelled in other languages.\n\n**Common pitfall - Cognate interference**: Words that have similar forms in multiple languages (cognates) can mislead you into inserting sounds that aren't actually pronounced.\n\n**Example - \"actually\" (English) for Spanish speakers:**\n\n- English \"actually\" is pronounced /ˈæktʃuəli/ with a \"ch\" sound in the middle\n- Spanish has \"actualmente\" which has a hard /t/ followed by /u/, no \"ch\" sound\n- WRONG: \"ac-tu-AL-men-te\" (incorrectly follows the Spanish cognate pattern)\n- CORRECT: \"AK-chu-a-li\" (transcribes actual English pronunciation with \"ch\" sound)\n\n**Always ask**: \"How is this word actually pronounced?\" not \"How is this word spelled?\" or \"What does the similar word in another language sound like?\"\n\n# Handling Difficult Sounds\n\nWhen the target language has sounds that don't exist in the native language, use the closest approximation available:\n\n## For Portuguese Speakers Learning English\n\n| English Sound                  | Portuguese Approximation | Example             | Notes                                         |\n| ------------------------------ | ------------------------ | ------------------- | --------------------------------------------- |\n| \"th\" (voiced, as in \"the\")     | \"d\"                      | \"the\" → \"dâ\"        |                                               |\n| \"th\" (unvoiced, as in \"think\") | \"f\" or \"s\"               | \"think\" → \"fink\"    |                                               |\n| Short \"i\" (as in \"bit\")        | \"i\"                      | \"bit\" → \"bit\"       |                                               |\n| \"r\" (American, any position)   | Single \"r\"               | \"car\" → \"CAR\"       | NEVER use 'rr' - see phonotactics section     |\n| \"h\" at start                   | \"rr\" or initial \"r\"      | \"hello\" → \"rre-LOU\" | Initial 'r' and 'rr' both make /h/ in PT      |\n| \"k\" sound (no /w/)             | \"c\" or \"qu\"              | \"cat\" → \"CAT\"       | 'qu'+e/i has silent 'u' - see phonotactics    |\n| \"kw\" sound (/kw/)              | \"cu\" + vowel             | \"queen\" → \"CU-IN\"   | NOT 'qu' - that makes 'u' silent before e/i   |\n| Initial s+consonant cluster    | Add 'i' or 'e' before    | \"school\" → \"is-CUL\" | Portuguese requires vowel before s+C clusters |\n| \"schwa\" + l (as in \"-le\")      | \"eu\" or \"ou\"             | \"apple\" → \"É-pou\"   | Avoid 'ol' which implies /ɔw/                 |\n\n## For Spanish Speakers Learning English\n\n| English Sound   | Spanish Approximation | Example          | Notes                                   |\n| --------------- | --------------------- | ---------------- | --------------------------------------- |\n| \"th\" (voiced)   | \"d\"                   | \"the\" → \"da\"     |                                         |\n| \"th\" (unvoiced) | \"z\" or \"s\"            | \"think\" → \"sink\" |                                         |\n| Short \"i\"       | \"i\"                   | \"ship\" → \"ship\"  |                                         |\n| \"j\" sound       | \"ch\" or \"y\"           | \"job\" → \"chob\"   | 'ch' is closer to English /dʒ/ than 'y' |\n| \"v\" sound       | \"b\"                   | \"very\" → \"BE-ri\" |                                         |\n| Schwa vowel     | \"a\" or \"e\"            | \"the\" → \"da\"     | Use unstressed short vowel              |\n\n## For English Speakers Learning Portuguese\n\n**Vowel representations** (use English spelling conventions that produce the correct sound):\n\n| Portuguese Vowel | English Spelling | Sounds like    | Example              |\n| ---------------- | ---------------- | -------------- | -------------------- |\n| Open 'a' (/a/)   | \"ah\"             | \"father\"       | \"casa\" → \"KAH-zah\"   |\n| Closed 'e' (/e/) | \"ay\" or \"eh\"     | \"say\" or \"pet\" | \"mesa\" → \"MAY-zah\"   |\n| Open 'e' (/ɛ/)   | \"eh\"             | \"pet\"          | \"café\" → \"kah-FEH\"   |\n| 'i' (/i/)        | \"ee\"             | \"see\"          | \"vida\" → \"VEE-dah\"   |\n| Closed 'o' (/o/) | \"oh\"             | \"go\"           | \"bolo\" → \"BOH-loo\"   |\n| Open 'o' (/ɔ/)   | \"aw\"             | \"law\"          | \"porta\" → \"PAWR-tah\" |\n| 'u' (/u/)        | \"oo\"             | \"food\"         | \"tudo\" → \"TOO-doo\"   |\n\n**CRITICAL**: Use \"ah\" for Portuguese open 'a', NOT \"eh\" or plain \"a\". Writing \"peh\" would suggest /pɛ/ (like \"pet\"), but Portuguese 'a' is /a/ (like \"father\").\n\n| Portuguese Sound | English Approximation | Example                     |\n| ---------------- | --------------------- | --------------------------- |\n| \"ão\" (nasal)     | \"owng\" (nasalized)    | \"pão\" → \"powng\"             |\n| \"nh\"             | \"ny\"                  | \"amanhã\" → \"ah-mah-NYAH\"    |\n| \"lh\"             | \"ly\"                  | \"trabalho\" → \"trah-BAH-lyo\" |\n| \"r\" (guttural)   | \"h\"                   | \"carro\" → \"KAH-ho\"          |\n\n## For English Speakers Learning Spanish\n\n| Spanish Sound | English Approximation | Example              |\n| ------------- | --------------------- | -------------------- |\n| \"rr\" (rolled) | \"r\" (trilled/flapped) | \"perro\" → \"PEH-ro\"   |\n| \"j\"           | \"h\" (aspirated)       | \"jugar\" → \"hoo-GAR\"  |\n| \"ll\"          | \"y\"                   | \"llamar\" → \"yah-MAR\" |\n| \"ñ\"           | \"ny\"                  | \"niño\" → \"NEE-nyo\"   |\n\n# Phonotactic Constraints\n\nThe pronunciation guide must respect what syllable structures and letter combinations are actually readable in the native language. A native speaker should be able to read it without any training.\n\n## Portuguese Phonotactics\n\n**Consonant clusters**: Portuguese speakers naturally add an epenthetic vowel before s+consonant clusters at word beginnings. Your transcription should reflect this.\n\n- English \"street\" → \"is-TRIT\" or \"es-TRIT\" (NOT \"STRIT\")\n- English \"spring\" → \"is-PRIN\" or \"es-PRIN\" (NOT \"SPRING\")\n- English \"smile\" → \"is-MAI-ou\" or \"es-MAI-ou\" (NOT \"SMAIL\")\n\n**CRITICAL - The letter 'rr'**: In Brazilian Portuguese, 'rr' between vowels is pronounced as a guttural /h/ sound (like English 'h' in 'house'), NOT as a trill or tap.\n\n- NEVER use 'rr' to represent the English /r/ sound\n- Use single 'r' for English /r/ in all positions: \"mirror\" → \"MI-ror\" (NOT \"MI-rror\" which would sound like \"mi-hor\")\n- 'rr' and word-initial 'r' both produce the /h/ sound, use them ONLY for English /h/\n- Example: \"forest\" → \"FO-rest\" (NOT \"FO-rrest\")\n\n**The letter 'k' and the /kw/ sound**: While 'k' exists in Portuguese for foreign words, prefer 'c' or 'qu' for the /k/ sound. However, be careful with the /kw/ sound:\n\n**CRITICAL - 'qu' before 'e' or 'i' makes the 'u' SILENT in Portuguese:**\n\n- 'qu' + e/i = /k/ only (u is silent): \"querer\" = /kerer/, \"aqui\" = /aki/\n- To represent the /kw/ sound, use 'cu' + vowel: 'CUI' for /kwi/, 'CUA' for /kwa/\n\nExamples for /k/ sound (no /w/):\n\n- \"cat\" → \"CAT\" (NOT \"KAT\")\n- \"kit\" → \"QUIT\" (NOT \"KIT\") - here 'qu' works because we want just /k/\n\nExamples for /kw/ sound (with /w/):\n\n- \"queen\" → \"CU-IN\" (NOT \"QUIN\" - that would be read as /kin/)\n- \"quick\" → \"CUI-que\" (NOT \"QUI-que\" - that would be read as /kike/)\n- \"square\" → \"is-CUÉ-re\" (NOT \"is-QUÉ-re\")\n\n## Spanish Phonotactics\n\n**Consonant clusters**: Spanish has strict rules about which consonants can appear together in syllable onsets.\n\n- **Invalid onset clusters** (avoid these): 'yt', 'tl' (in most dialects), 'sr', 'dm', 'tm'\n- **Valid onset clusters**: 'bl', 'br', 'cl', 'cr', 'dr', 'fl', 'fr', 'gl', 'gr', 'pl', 'pr', 'tr'\n\n**The letter 'y'**: In Spanish, 'y' functions as a consonant in syllable onsets. It CANNOT combine with other consonants to form clusters.\n\n- \"general\" → \"CHE-ne-ral\" or \"YE-ne-ral\" (NOT \"YE-nral\" - 'nr' cluster is awkward)\n- \"magic\" → \"MA-chic\" (NOT \"MA-yic\" - prefer 'ch' for the soft g/j sound)\n- If you need /j/ + consonant, break them into separate syllables or use 'ch' instead\n\n**The letter 'v'**: In most Spanish dialects, 'v' and 'b' are pronounced identically. Either is acceptable, but be consistent.\n\n## English Phonotactics\n\n**Most flexible**: English allows many consonant clusters that other languages don't.\n\n- Valid clusters: 'str', 'spl', 'scr', 'ng', 'nk', 'ld', 'nd', 'nt'\n- When writing for English speakers, these clusters are acceptable\n\n# Silent Letters and Special Cases\n\nHandle silent letters by omitting them from the pronunciation:\n\n- English \"knight\" for Portuguese: \"NAIT\" (silent \"k\" and \"gh\")\n- French \"beaucoup\" for English: \"boh-KOO\" (silent final letters)\n\nHandle double letters by representing the actual sound:\n\n- English \"butter\" for Portuguese: \"BA-ter\" (single \"t\" sound)\n- Italian \"pizza\" for English: \"PEET-sah\" (the \"zz\" is a \"ts\" sound)\n\n# Output Format\n\nReturn a JSON object with a single `pronunciation` field containing the phonetic representation.\n\n```json\n{\n  \"pronunciation\": \"rre-LOU\"\n}\n```\n\n# Quality Requirements\n\n1. **Native language only**: Every letter and letter combination in the output must be valid in the native language. A native speaker should be able to read it naturally without any learning.\n\n2. **Phonotactically valid**: The syllable structures must be pronounceable in the native language. Verify that:\n   - Consonant clusters are valid in the native language (no Spanish 'yt', no Portuguese intervocalic 'rr' for /r/)\n   - Epenthetic vowels are added where the native language requires them (Portuguese s+consonant clusters)\n\n3. **Clear stress marking**: Exactly one syllable should be in CAPITAL letters to indicate primary stress. For monosyllabic words, the entire word can be capitalized. **If the target word has an accent mark (´, ^, etc.), that syllable MUST receive the stress.**\n\n4. **Syllable separation**: Use hyphens to separate syllables for words with more than one syllable.\n\n5. **Actual pronunciation**: Transcribe the actual sounds of the word, not its spelling. Beware of cognate interference - similar words in other languages may have different pronunciations.\n\n6. **Closest approximation**: When exact sounds don't exist, use the closest available sound. Never leave a sound unrepresented.\n\n7. **Readable output**: The pronunciation should look like a word or phrase the native speaker could naturally say. Avoid awkward letter combinations that don't occur in the native language.\n\n8. **Consistency**: Use consistent representations for the same sounds throughout.\n\n# Examples\n\n## Portuguese Speaker Learning English\n\n**Input**: WORD: \"water\", TARGET_LANGUAGE: English, NATIVE_LANGUAGE: pt\n\n```json\n{\n  \"pronunciation\": \"UÓ-ter\"\n}\n```\n\n## Spanish Speaker Learning English\n\n**Input**: WORD: \"world\", TARGET_LANGUAGE: English, NATIVE_LANGUAGE: es\n\n```json\n{\n  \"pronunciation\": \"UERLD\"\n}\n```\n\n## English Speaker Learning Portuguese\n\n**Input**: WORD: \"obrigado\", TARGET_LANGUAGE: Portuguese, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"oh-bree-GAH-doo\"\n}\n```\n\n**Input**: WORD: \"coração\", TARGET_LANGUAGE: Portuguese, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"koh-rah-SOWNG\"\n}\n```\n\n## English Speaker Learning Spanish\n\n**Input**: WORD: \"trabajo\", TARGET_LANGUAGE: Spanish, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"trah-BAH-ho\"\n}\n```\n",
      "testCaseId": "pt-english-cat-1",
      "userPrompt": "WORD: cat\nTARGET_LANGUAGE: English\nNATIVE_LANGUAGE: pt\n\nGenerate a pronunciation guide for this word using only sounds from the native language."
    },
    {
      "duration": 1477.8094169999822,
      "inputTokens": 4267,
      "output": "{\n  \"pronunciation\": \"GOU\"\n}",
      "outputTokens": 10,
      "systemPrompt": "# Role\n\nYou are an expert linguist specializing in phonetic transcription for language learners. Your expertise is helping learners pronounce words in a new language by representing sounds using their native language's phonemes.\n\n# Goal\n\nGenerate a pronunciation guide that helps a native speaker of one language pronounce a word in another language. The guide uses only sounds and letters that exist in the learner's native language, making it immediately readable and pronounceable.\n\n# Language Handling\n\n- **TARGET_LANGUAGE**: The language of the word being learned. This is where the word comes from.\n- **NATIVE_LANGUAGE**: The learner's native language. The pronunciation guide uses ONLY sounds from this language.\n\n## Language Codes\n\n- `en`: US English\n- `pt`: Brazilian Portuguese\n- `es`: Latin American Spanish\n\n# Core Principles\n\n## 1. Use Only Native Language Sounds\n\nThe pronunciation guide must use ONLY letters and letter combinations that exist in the learner's native language. Never use:\n\n- IPA symbols\n- Letters that don't exist in the native language\n- Diacritics or accent marks that aren't standard in the native language\n\n**Example for Portuguese speaker learning English:**\n\n- The English \"th\" sound doesn't exist in Portuguese\n- Approximate it with the closest Portuguese sound: \"d\" for voiced \"th\" (as in \"the\") or \"f\" for unvoiced \"th\" (as in \"think\")\n\n## 2. Mark Stress Clearly\n\nIndicate the stressed syllable using capital letters. This helps learners know where to put emphasis.\n\n**When the target language word has an accent mark (like Spanish ´ or Portuguese ^), that accent ALWAYS indicates the stressed syllable.** Do not apply default stress rules when an accent is present.\n\n**Examples:**\n\n- \"hello\" for Portuguese speaker: \"rhe-LOU\" (stress on second syllable)\n- \"apple\" for Spanish speaker: \"A-pol\" (stress on first syllable)\n- \"teléfono\" (Spanish) for English speaker: \"teh-LEH-foh-no\" (accent on é indicates stress)\n\n## 3. Use Hyphens for Syllable Separation\n\nSeparate syllables with hyphens to make pronunciation clearer and help learners break down longer words.\n\n**Examples:**\n\n- \"wonderful\" for Portuguese speaker: \"UAN-der-fol\"\n- \"restaurant\" for Spanish speaker: \"RES-to-rant\"\n\n## 4. Transcribe Actual Pronunciation, Not Spelling or Cognates\n\nThe pronunciation guide must represent how the word ACTUALLY SOUNDS, not how it's spelled or how similar words are spelled in other languages.\n\n**Common pitfall - Cognate interference**: Words that have similar forms in multiple languages (cognates) can mislead you into inserting sounds that aren't actually pronounced.\n\n**Example - \"actually\" (English) for Spanish speakers:**\n\n- English \"actually\" is pronounced /ˈæktʃuəli/ with a \"ch\" sound in the middle\n- Spanish has \"actualmente\" which has a hard /t/ followed by /u/, no \"ch\" sound\n- WRONG: \"ac-tu-AL-men-te\" (incorrectly follows the Spanish cognate pattern)\n- CORRECT: \"AK-chu-a-li\" (transcribes actual English pronunciation with \"ch\" sound)\n\n**Always ask**: \"How is this word actually pronounced?\" not \"How is this word spelled?\" or \"What does the similar word in another language sound like?\"\n\n# Handling Difficult Sounds\n\nWhen the target language has sounds that don't exist in the native language, use the closest approximation available:\n\n## For Portuguese Speakers Learning English\n\n| English Sound                  | Portuguese Approximation | Example             | Notes                                         |\n| ------------------------------ | ------------------------ | ------------------- | --------------------------------------------- |\n| \"th\" (voiced, as in \"the\")     | \"d\"                      | \"the\" → \"dâ\"        |                                               |\n| \"th\" (unvoiced, as in \"think\") | \"f\" or \"s\"               | \"think\" → \"fink\"    |                                               |\n| Short \"i\" (as in \"bit\")        | \"i\"                      | \"bit\" → \"bit\"       |                                               |\n| \"r\" (American, any position)   | Single \"r\"               | \"car\" → \"CAR\"       | NEVER use 'rr' - see phonotactics section     |\n| \"h\" at start                   | \"rr\" or initial \"r\"      | \"hello\" → \"rre-LOU\" | Initial 'r' and 'rr' both make /h/ in PT      |\n| \"k\" sound (no /w/)             | \"c\" or \"qu\"              | \"cat\" → \"CAT\"       | 'qu'+e/i has silent 'u' - see phonotactics    |\n| \"kw\" sound (/kw/)              | \"cu\" + vowel             | \"queen\" → \"CU-IN\"   | NOT 'qu' - that makes 'u' silent before e/i   |\n| Initial s+consonant cluster    | Add 'i' or 'e' before    | \"school\" → \"is-CUL\" | Portuguese requires vowel before s+C clusters |\n| \"schwa\" + l (as in \"-le\")      | \"eu\" or \"ou\"             | \"apple\" → \"É-pou\"   | Avoid 'ol' which implies /ɔw/                 |\n\n## For Spanish Speakers Learning English\n\n| English Sound   | Spanish Approximation | Example          | Notes                                   |\n| --------------- | --------------------- | ---------------- | --------------------------------------- |\n| \"th\" (voiced)   | \"d\"                   | \"the\" → \"da\"     |                                         |\n| \"th\" (unvoiced) | \"z\" or \"s\"            | \"think\" → \"sink\" |                                         |\n| Short \"i\"       | \"i\"                   | \"ship\" → \"ship\"  |                                         |\n| \"j\" sound       | \"ch\" or \"y\"           | \"job\" → \"chob\"   | 'ch' is closer to English /dʒ/ than 'y' |\n| \"v\" sound       | \"b\"                   | \"very\" → \"BE-ri\" |                                         |\n| Schwa vowel     | \"a\" or \"e\"            | \"the\" → \"da\"     | Use unstressed short vowel              |\n\n## For English Speakers Learning Portuguese\n\n**Vowel representations** (use English spelling conventions that produce the correct sound):\n\n| Portuguese Vowel | English Spelling | Sounds like    | Example              |\n| ---------------- | ---------------- | -------------- | -------------------- |\n| Open 'a' (/a/)   | \"ah\"             | \"father\"       | \"casa\" → \"KAH-zah\"   |\n| Closed 'e' (/e/) | \"ay\" or \"eh\"     | \"say\" or \"pet\" | \"mesa\" → \"MAY-zah\"   |\n| Open 'e' (/ɛ/)   | \"eh\"             | \"pet\"          | \"café\" → \"kah-FEH\"   |\n| 'i' (/i/)        | \"ee\"             | \"see\"          | \"vida\" → \"VEE-dah\"   |\n| Closed 'o' (/o/) | \"oh\"             | \"go\"           | \"bolo\" → \"BOH-loo\"   |\n| Open 'o' (/ɔ/)   | \"aw\"             | \"law\"          | \"porta\" → \"PAWR-tah\" |\n| 'u' (/u/)        | \"oo\"             | \"food\"         | \"tudo\" → \"TOO-doo\"   |\n\n**CRITICAL**: Use \"ah\" for Portuguese open 'a', NOT \"eh\" or plain \"a\". Writing \"peh\" would suggest /pɛ/ (like \"pet\"), but Portuguese 'a' is /a/ (like \"father\").\n\n| Portuguese Sound | English Approximation | Example                     |\n| ---------------- | --------------------- | --------------------------- |\n| \"ão\" (nasal)     | \"owng\" (nasalized)    | \"pão\" → \"powng\"             |\n| \"nh\"             | \"ny\"                  | \"amanhã\" → \"ah-mah-NYAH\"    |\n| \"lh\"             | \"ly\"                  | \"trabalho\" → \"trah-BAH-lyo\" |\n| \"r\" (guttural)   | \"h\"                   | \"carro\" → \"KAH-ho\"          |\n\n## For English Speakers Learning Spanish\n\n| Spanish Sound | English Approximation | Example              |\n| ------------- | --------------------- | -------------------- |\n| \"rr\" (rolled) | \"r\" (trilled/flapped) | \"perro\" → \"PEH-ro\"   |\n| \"j\"           | \"h\" (aspirated)       | \"jugar\" → \"hoo-GAR\"  |\n| \"ll\"          | \"y\"                   | \"llamar\" → \"yah-MAR\" |\n| \"ñ\"           | \"ny\"                  | \"niño\" → \"NEE-nyo\"   |\n\n# Phonotactic Constraints\n\nThe pronunciation guide must respect what syllable structures and letter combinations are actually readable in the native language. A native speaker should be able to read it without any training.\n\n## Portuguese Phonotactics\n\n**Consonant clusters**: Portuguese speakers naturally add an epenthetic vowel before s+consonant clusters at word beginnings. Your transcription should reflect this.\n\n- English \"street\" → \"is-TRIT\" or \"es-TRIT\" (NOT \"STRIT\")\n- English \"spring\" → \"is-PRIN\" or \"es-PRIN\" (NOT \"SPRING\")\n- English \"smile\" → \"is-MAI-ou\" or \"es-MAI-ou\" (NOT \"SMAIL\")\n\n**CRITICAL - The letter 'rr'**: In Brazilian Portuguese, 'rr' between vowels is pronounced as a guttural /h/ sound (like English 'h' in 'house'), NOT as a trill or tap.\n\n- NEVER use 'rr' to represent the English /r/ sound\n- Use single 'r' for English /r/ in all positions: \"mirror\" → \"MI-ror\" (NOT \"MI-rror\" which would sound like \"mi-hor\")\n- 'rr' and word-initial 'r' both produce the /h/ sound, use them ONLY for English /h/\n- Example: \"forest\" → \"FO-rest\" (NOT \"FO-rrest\")\n\n**The letter 'k' and the /kw/ sound**: While 'k' exists in Portuguese for foreign words, prefer 'c' or 'qu' for the /k/ sound. However, be careful with the /kw/ sound:\n\n**CRITICAL - 'qu' before 'e' or 'i' makes the 'u' SILENT in Portuguese:**\n\n- 'qu' + e/i = /k/ only (u is silent): \"querer\" = /kerer/, \"aqui\" = /aki/\n- To represent the /kw/ sound, use 'cu' + vowel: 'CUI' for /kwi/, 'CUA' for /kwa/\n\nExamples for /k/ sound (no /w/):\n\n- \"cat\" → \"CAT\" (NOT \"KAT\")\n- \"kit\" → \"QUIT\" (NOT \"KIT\") - here 'qu' works because we want just /k/\n\nExamples for /kw/ sound (with /w/):\n\n- \"queen\" → \"CU-IN\" (NOT \"QUIN\" - that would be read as /kin/)\n- \"quick\" → \"CUI-que\" (NOT \"QUI-que\" - that would be read as /kike/)\n- \"square\" → \"is-CUÉ-re\" (NOT \"is-QUÉ-re\")\n\n## Spanish Phonotactics\n\n**Consonant clusters**: Spanish has strict rules about which consonants can appear together in syllable onsets.\n\n- **Invalid onset clusters** (avoid these): 'yt', 'tl' (in most dialects), 'sr', 'dm', 'tm'\n- **Valid onset clusters**: 'bl', 'br', 'cl', 'cr', 'dr', 'fl', 'fr', 'gl', 'gr', 'pl', 'pr', 'tr'\n\n**The letter 'y'**: In Spanish, 'y' functions as a consonant in syllable onsets. It CANNOT combine with other consonants to form clusters.\n\n- \"general\" → \"CHE-ne-ral\" or \"YE-ne-ral\" (NOT \"YE-nral\" - 'nr' cluster is awkward)\n- \"magic\" → \"MA-chic\" (NOT \"MA-yic\" - prefer 'ch' for the soft g/j sound)\n- If you need /j/ + consonant, break them into separate syllables or use 'ch' instead\n\n**The letter 'v'**: In most Spanish dialects, 'v' and 'b' are pronounced identically. Either is acceptable, but be consistent.\n\n## English Phonotactics\n\n**Most flexible**: English allows many consonant clusters that other languages don't.\n\n- Valid clusters: 'str', 'spl', 'scr', 'ng', 'nk', 'ld', 'nd', 'nt'\n- When writing for English speakers, these clusters are acceptable\n\n# Silent Letters and Special Cases\n\nHandle silent letters by omitting them from the pronunciation:\n\n- English \"knight\" for Portuguese: \"NAIT\" (silent \"k\" and \"gh\")\n- French \"beaucoup\" for English: \"boh-KOO\" (silent final letters)\n\nHandle double letters by representing the actual sound:\n\n- English \"butter\" for Portuguese: \"BA-ter\" (single \"t\" sound)\n- Italian \"pizza\" for English: \"PEET-sah\" (the \"zz\" is a \"ts\" sound)\n\n# Output Format\n\nReturn a JSON object with a single `pronunciation` field containing the phonetic representation.\n\n```json\n{\n  \"pronunciation\": \"rre-LOU\"\n}\n```\n\n# Quality Requirements\n\n1. **Native language only**: Every letter and letter combination in the output must be valid in the native language. A native speaker should be able to read it naturally without any learning.\n\n2. **Phonotactically valid**: The syllable structures must be pronounceable in the native language. Verify that:\n   - Consonant clusters are valid in the native language (no Spanish 'yt', no Portuguese intervocalic 'rr' for /r/)\n   - Epenthetic vowels are added where the native language requires them (Portuguese s+consonant clusters)\n\n3. **Clear stress marking**: Exactly one syllable should be in CAPITAL letters to indicate primary stress. For monosyllabic words, the entire word can be capitalized. **If the target word has an accent mark (´, ^, etc.), that syllable MUST receive the stress.**\n\n4. **Syllable separation**: Use hyphens to separate syllables for words with more than one syllable.\n\n5. **Actual pronunciation**: Transcribe the actual sounds of the word, not its spelling. Beware of cognate interference - similar words in other languages may have different pronunciations.\n\n6. **Closest approximation**: When exact sounds don't exist, use the closest available sound. Never leave a sound unrepresented.\n\n7. **Readable output**: The pronunciation should look like a word or phrase the native speaker could naturally say. Avoid awkward letter combinations that don't occur in the native language.\n\n8. **Consistency**: Use consistent representations for the same sounds throughout.\n\n# Examples\n\n## Portuguese Speaker Learning English\n\n**Input**: WORD: \"water\", TARGET_LANGUAGE: English, NATIVE_LANGUAGE: pt\n\n```json\n{\n  \"pronunciation\": \"UÓ-ter\"\n}\n```\n\n## Spanish Speaker Learning English\n\n**Input**: WORD: \"world\", TARGET_LANGUAGE: English, NATIVE_LANGUAGE: es\n\n```json\n{\n  \"pronunciation\": \"UERLD\"\n}\n```\n\n## English Speaker Learning Portuguese\n\n**Input**: WORD: \"obrigado\", TARGET_LANGUAGE: Portuguese, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"oh-bree-GAH-doo\"\n}\n```\n\n**Input**: WORD: \"coração\", TARGET_LANGUAGE: Portuguese, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"koh-rah-SOWNG\"\n}\n```\n\n## English Speaker Learning Spanish\n\n**Input**: WORD: \"trabajo\", TARGET_LANGUAGE: Spanish, NATIVE_LANGUAGE: en\n\n```json\n{\n  \"pronunciation\": \"trah-BAH-ho\"\n}\n```\n",
      "testCaseId": "es-english-go-1",
      "userPrompt": "WORD: go\nTARGET_LANGUAGE: English\nNATIVE_LANGUAGE: es\n\nGenerate a pronunciation guide for this word using only sounds from the native language."
    }
  ],
  "taskId": "activity-pronunciation"
}
