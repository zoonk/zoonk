{
  "generatedAt": "2026-01-15T21:54:50.845Z",
  "modelId": "openai/gpt-5.2:high",
  "outputs": [
    {
      "duration": 97823.95529099999,
      "inputTokens": 316,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"You catch a new stomach bug. You feel symptoms within hours, but it takes several days before your body starts stopping that same bug much more efficiently.\",\n      \"options\": [\n        {\n          \"feedback\": \"Right. Fast, general defenses act immediately, while the slower, targeted response ramps up after learning what the germ looks like.\",\n          \"isCorrect\": true,\n          \"text\": \"A fast, general defense reacted first; a slower, targeted defense then built a more specific response.\"\n        },\n        {\n          \"feedback\": \"Wrong. Skin and mucus help a lot, but they can’t explain a delayed improvement against a germ already inside you.\",\n          \"isCorrect\": false,\n          \"text\": \"Physical barriers worked slowly at first, and only later did they start blocking germs.\"\n        },\n        {\n          \"feedback\": \"Wrong. Antibodies are specific and typically take time to build up during a first encounter.\",\n          \"isCorrect\": false,\n          \"text\": \"Antibodies acted immediately, and then macrophages arrived days later.\"\n        },\n        {\n          \"feedback\": \"Wrong. Memory speeds up later encounters; it doesn’t fully explain why the first encounter improves only after days.\",\n          \"isCorrect\": false,\n          \"text\": \"Memory cells were already prepared, so the second line of defense acted instantly.\"\n        }\n      ],\n      \"question\": \"Why the fast-then-slow pattern?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"A person has chronically dry eyes. They notice they get eye infections more often than their friend whose eyes water easily when it’s windy or dusty.\",\n      \"options\": [\n        {\n          \"feedback\": \"Right. Tears act like a barrier defense by flushing microbes out and containing protective substances; less tear fluid makes it easier for invaders to stick around.\",\n          \"isCorrect\": true,\n          \"text\": \"A first-line barrier is weaker, so more microbes can stay on the surface long enough to invade.\"\n        },\n        {\n          \"feedback\": \"Wrong. Blood clotting helps seal wounds, but dry eyes are mainly about surface defenses, not stopping bleeding.\",\n          \"isCorrect\": false,\n          \"text\": \"Blood clotting is weaker, so germs can enter through bleeding in the eye.\"\n        },\n        {\n          \"feedback\": \"Wrong. Antibodies can help, but the key change here is losing a surface-level protective layer that normally blocks and clears microbes.\",\n          \"isCorrect\": false,\n          \"text\": \"B cells stop working, so no antibodies can ever be made in the eye.\"\n        },\n        {\n          \"feedback\": \"Wrong. Low oxygen doesn’t specifically explain increased infections from a drier surface.\",\n          \"isCorrect\": false,\n          \"text\": \"Eye tissues get less oxygen, so bacteria automatically multiply faster.\"\n        }\n      ],\n      \"question\": \"What defense is most reduced?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"After getting a small cut while gardening, the area becomes red and sore. Under a microscope, a type of immune cell is seen surrounding bacteria and pulling them inside to break them down.\",\n      \"options\": [\n        {\n          \"feedback\": \"Right. Macrophages are roaming “cleanup” cells that engulf and digest things that look foreign.\",\n          \"isCorrect\": true,\n          \"text\": \"A macrophage engulfing and digesting the bacteria.\"\n        },\n        {\n          \"feedback\": \"Wrong. Skin is a barrier, but the scenario describes a cell actively eating microbes.\",\n          \"isCorrect\": false,\n          \"text\": \"Skin cells forming a tighter barrier over the cut.\"\n        },\n        {\n          \"feedback\": \"Wrong. Antibodies attach to targets but don’t pull whole bacteria inside themselves.\",\n          \"isCorrect\": false,\n          \"text\": \"An antibody wrapping around the bacteria and dissolving it directly.\"\n        },\n        {\n          \"feedback\": \"Wrong. Memory cells help with faster future responses; they’re not mainly “eating” cells at the site of a fresh cut.\",\n          \"isCorrect\": false,\n          \"text\": \"A memory cell swallowing the bacteria because it remembers it.\"\n        }\n      ],\n      \"question\": \"Which immune action is shown?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"A clinic test uses an antibody that sticks to one specific protein on Virus A. When Virus B is present, the antibody doesn’t stick, even though both cause similar symptoms.\",\n      \"options\": [\n        {\n          \"feedback\": \"Right. Antibodies bind specific shapes (targets) on an invader; if the surface target differs, the antibody won’t attach well.\",\n          \"isCorrect\": true,\n          \"text\": \"Antibodies have binding sites that fit specific targets, so a different virus may not match.\"\n        },\n        {\n          \"feedback\": \"Wrong. Antibodies don’t randomly stick to anything foreign; their strength comes from precise matching.\",\n          \"isCorrect\": false,\n          \"text\": \"Antibodies stick to any foreign germ equally; this one just “missed” by chance.\"\n        },\n        {\n          \"feedback\": \"Wrong. Macrophages do general cleanup, but this question is about why a particular antibody binds one virus and not another.\",\n          \"isCorrect\": false,\n          \"text\": \"Macrophages decide which virus the antibody should attach to.\"\n        },\n        {\n          \"feedback\": \"Wrong. Faster binding in later infections is about memory; it doesn’t explain why one antibody ignores an unrelated virus right now.\",\n          \"isCorrect\": false,\n          \"text\": \"Memory cells are required for an antibody to stick to any virus at all.\"\n        }\n      ],\n      \"question\": \"Why won’t the antibody stick?\"\n    },\n    {\n      \"format\": \"matchColumns\",\n      \"pairs\": [\n        {\n          \"left\": \"Mucus in your nose traps dust and microbes before they reach deeper tissues.\",\n          \"right\": \"Physical/chemical barrier (first-line defense)\"\n        },\n        {\n          \"left\": \"A roaming immune cell in tissue surrounds a bacterium and digests it.\",\n          \"right\": \"Innate immune cell engulfing an invader (macrophage-style response)\"\n        },\n        {\n          \"left\": \"Proteins in blood bind to one particular germ’s surface and help other immune cells find it.\",\n          \"right\": \"Antibodies marking a specific target\"\n        },\n        {\n          \"left\": \"You get exposed to the same virus months later and your body ramps up a targeted response much faster.\",\n          \"right\": \"Immune memory from memory cells\"\n        },\n        {\n          \"left\": \"Redness and warmth appear around a scrape even before anyone knows exactly which germ is involved.\",\n          \"right\": \"Fast, general (innate) response\"\n        }\n      ],\n      \"question\": \"Match each situation to what it shows\"\n    },\n    {\n      \"format\": \"sortOrder\",\n      \"feedback\": \"Barrier defenses try to block entry first. If invaders get in, general “eat-and-destroy” cells respond quickly. If the threat persists, a targeted antibody response builds. Afterward, some cells remain as memory, making the next response faster.\",\n      \"items\": [\n        \"Skin/mucus/tears reduce how many microbes get into the body\",\n        \"Invaders that get through are attacked by general engulfing cells\",\n        \"If the invader persists, B cells ramp up production of specific antibodies\",\n        \"After the infection, some immune cells remain as long-lived memory cells\",\n        \"On a later exposure, the body produces a targeted response faster than the first time\"\n      ],\n      \"question\": \"Put the body’s defenses in a sensible order\"\n    }\n  ]\n}",
      "outputTokens": 3924,
      "systemPrompt": "# Role\n\nYou are an expert quiz designer creating questions that test whether learners truly UNDERSTAND concepts — not whether they memorized specific words, metaphors, or examples.\n\n# Core Philosophy: Understanding vs. Memorization\n\nThis distinction is the heart of effective assessment.\n\n## Why Memorization-Based Questions Fail\n\n1. **False Positives**: A learner who memorized \"electricity flows like water through pipes\" can parrot this back without understanding how circuits actually work.\n\n2. **False Negatives**: A learner who deeply understands electrical circuits might fail a question asking \"What metaphor did the text use?\" because they remember the concept, not the phrasing.\n\n3. **Shallow Learning**: When learners know they'll be tested on exact wording, they memorize instead of building mental models.\n\n## What Understanding Looks Like\n\nA learner who understands a concept can:\n\n- Apply it to situations they've never seen before\n- Recognize the concept at work in unfamiliar contexts\n- Predict outcomes based on the concept's principles\n- Explain why something would or wouldn't work\n\n## The Transfer Test\n\nEvery question must pass this test: \"Could a learner who understood the concept but never read our specific explanation still answer this correctly?\"\n\nIf no, the question tests memorization, not understanding.\n\n# Non-Negotiable Rules\n\n1. **Never reference the explanation** — phrases like \"according to the text\" or \"as described\" are forbidden\n\n2. **Never test recall of specific words, metaphors, or examples** from the explanation steps\n\n3. **Use novel scenarios** — present concepts in everyday situations the learner hasn't seen\n\n4. **Conversational tone** — write like a curious friend posing interesting challenges, not an exam proctor\n\n# Using the Input\n\n- `EXPLANATION_STEPS` tells you WHAT concepts to test, NOT what text to reference\n- Extract the underlying concepts and test them in NEW contexts\n- If an explanation says \"A budget is like a roadmap\" — test whether learners understand what budgets do, NOT whether they remember the roadmap metaphor\n\n# Language Guidelines\n\nGenerate all content in the specified `LANGUAGE`:\n\n- `en`: US English unless content is region-specific\n- `pt`: Brazilian Portuguese unless content is region-specific\n- `es`: Latin American Spanish unless content is region-specific\n\n**Language Purity Rule**: Every word, character, and token in the output MUST be in the specified LANGUAGE. Never mix languages or scripts within a response. If the LANGUAGE is `en`, use only English words — no Chinese, Japanese, Korean, Arabic, or other script characters.\n\n# Format Selection\n\nChoose formats based on what genuinely tests understanding — not for variety's sake.\n\n**Multiple choice is often the best format.** It excels at testing whether learners can apply concepts to novel scenarios, which is the core goal. Use it freely when it fits.\n\nOther formats are available when they're genuinely better for specific content:\n\n- **matchColumns**: When the concept involves connecting observations to principles (e.g., matching symptoms to causes)\n- **fillBlank**: When completing a relationship or process tests understanding better than selecting from options\n- **sortOrder**: When the concept IS about sequence and order matters conceptually (e.g., steps in a biological process)\n- **selectImage**: Only when visual recognition genuinely tests the concept\n\n**Skip formats entirely if they don't fit.** Using several well-crafted multiple choice questions is far better than forcing variety with poorly-suited formats. Never use a format just because you haven't used it yet.\n\n# Quality Standards\n\nBefore creating each question, verify:\n\n- [ ] Answerable without reading the explanation, if the learner understands the concept\n- [ ] Tests application, not recall\n- [ ] Scenario is novel — not from the explanation\n- [ ] Tone is conversational\n- [ ] Feedback explains reasoning\n- [ ] Format is appropriate for this concept\n\n# Coverage\n\n- Test each major concept from EXPLANATION_STEPS at least once\n- Vary the contexts — don't reuse scenarios\n- Balance difficulty — some straightforward, some requiring deeper reasoning\n- Aim for 4-8 questions depending on concept count\n",
      "testCaseId": "en-biology-immune-system-quiz-1",
      "userPrompt": "LESSON_TITLE: How the Immune System Works\nLESSON_DESCRIPTION: Understanding how the immune system protects the body through multiple layers of defense, from physical barriers to specialized cells and antibodies\nCHAPTER_TITLE: Body Systems\nCOURSE_TITLE: Human Biology\nLANGUAGE: en\nEXPLANATION_STEPS:\n1. Two Lines of Defense: Your body has two defense systems working together. The first responds instantly to any threat. The second takes time but remembers enemies forever.\n2. The First Responders: Physical barriers like skin and mucus stop most invaders. If they get through, patrolling cells called macrophages eat anything that looks foreign.\n3. The Targeting System: When threats persist, specialized cells called B cells create antibodies. These Y-shaped proteins stick to specific invaders, marking them for destruction.\n4. Remembering Enemies: Some cells become memory cells after an infection. They remember the invader's shape for years, letting your body respond faster next time.\n\nGenerate quiz questions that test understanding of these concepts. Use the available tools to create questions in appropriate formats. Aim for 4-8 questions covering the key concepts."
    },
    {
      "duration": 45557.111291999994,
      "inputTokens": 1901,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"A new language lets you write `sum = price + 3;`. One student says the compiler’s first job is to group this into meaningful chunks like identifiers, numbers, and operators before worrying about structure.\",\n      \"options\": [\n        {\n          \"feedback\": \"Correct. Lexical analysis turns the raw character stream into tokens like IDENT(sum), '=', IDENT(price), '+', NUMBER(3), ';'.\",\n          \"isCorrect\": true,\n          \"text\": \"Lexical analysis (tokenization) producing a stream of tokens\"\n        },\n        {\n          \"feedback\": \"Not quite. Parsing uses tokens to build a structured representation (like a tree) after tokenization has already happened.\",\n          \"isCorrect\": false,\n          \"text\": \"Parsing producing an abstract syntax tree\"\n        },\n        {\n          \"feedback\": \"Not quite. Semantic analysis checks meaning (types, declarations, etc.) after the structure is known.\",\n          \"isCorrect\": false,\n          \"text\": \"Semantic analysis checking types and names\"\n        },\n        {\n          \"feedback\": \"Not quite. Code generation happens after earlier checks, when the compiler emits machine/assembly/bytecode.\",\n          \"isCorrect\": false,\n          \"text\": \"Code generation emitting machine instructions\"\n        }\n      ],\n      \"question\": \"Which compiler phase are they describing?\"\n    }\n  ]\n}",
      "outputTokens": 1673,
      "systemPrompt": "# Role\n\nYou are an expert quiz designer creating questions that test whether learners truly UNDERSTAND concepts — not whether they memorized specific words, metaphors, or examples.\n\n# Core Philosophy: Understanding vs. Memorization\n\nThis distinction is the heart of effective assessment.\n\n## Why Memorization-Based Questions Fail\n\n1. **False Positives**: A learner who memorized \"electricity flows like water through pipes\" can parrot this back without understanding how circuits actually work.\n\n2. **False Negatives**: A learner who deeply understands electrical circuits might fail a question asking \"What metaphor did the text use?\" because they remember the concept, not the phrasing.\n\n3. **Shallow Learning**: When learners know they'll be tested on exact wording, they memorize instead of building mental models.\n\n## What Understanding Looks Like\n\nA learner who understands a concept can:\n\n- Apply it to situations they've never seen before\n- Recognize the concept at work in unfamiliar contexts\n- Predict outcomes based on the concept's principles\n- Explain why something would or wouldn't work\n\n## The Transfer Test\n\nEvery question must pass this test: \"Could a learner who understood the concept but never read our specific explanation still answer this correctly?\"\n\nIf no, the question tests memorization, not understanding.\n\n# Non-Negotiable Rules\n\n1. **Never reference the explanation** — phrases like \"according to the text\" or \"as described\" are forbidden\n\n2. **Never test recall of specific words, metaphors, or examples** from the explanation steps\n\n3. **Use novel scenarios** — present concepts in everyday situations the learner hasn't seen\n\n4. **Conversational tone** — write like a curious friend posing interesting challenges, not an exam proctor\n\n# Using the Input\n\n- `EXPLANATION_STEPS` tells you WHAT concepts to test, NOT what text to reference\n- Extract the underlying concepts and test them in NEW contexts\n- If an explanation says \"A budget is like a roadmap\" — test whether learners understand what budgets do, NOT whether they remember the roadmap metaphor\n\n# Language Guidelines\n\nGenerate all content in the specified `LANGUAGE`:\n\n- `en`: US English unless content is region-specific\n- `pt`: Brazilian Portuguese unless content is region-specific\n- `es`: Latin American Spanish unless content is region-specific\n\n**Language Purity Rule**: Every word, character, and token in the output MUST be in the specified LANGUAGE. Never mix languages or scripts within a response. If the LANGUAGE is `en`, use only English words — no Chinese, Japanese, Korean, Arabic, or other script characters.\n\n# Format Selection\n\nChoose formats based on what genuinely tests understanding — not for variety's sake.\n\n**Multiple choice is often the best format.** It excels at testing whether learners can apply concepts to novel scenarios, which is the core goal. Use it freely when it fits.\n\nOther formats are available when they're genuinely better for specific content:\n\n- **matchColumns**: When the concept involves connecting observations to principles (e.g., matching symptoms to causes)\n- **fillBlank**: When completing a relationship or process tests understanding better than selecting from options\n- **sortOrder**: When the concept IS about sequence and order matters conceptually (e.g., steps in a biological process)\n- **selectImage**: Only when visual recognition genuinely tests the concept\n\n**Skip formats entirely if they don't fit.** Using several well-crafted multiple choice questions is far better than forcing variety with poorly-suited formats. Never use a format just because you haven't used it yet.\n\n# Quality Standards\n\nBefore creating each question, verify:\n\n- [ ] Answerable without reading the explanation, if the learner understands the concept\n- [ ] Tests application, not recall\n- [ ] Scenario is novel — not from the explanation\n- [ ] Tone is conversational\n- [ ] Feedback explains reasoning\n- [ ] Format is appropriate for this concept\n\n# Coverage\n\n- Test each major concept from EXPLANATION_STEPS at least once\n- Vary the contexts — don't reuse scenarios\n- Balance difficulty — some straightforward, some requiring deeper reasoning\n- Aim for 4-8 questions depending on concept count\n",
      "testCaseId": "en-cs-compilers-quiz-1",
      "userPrompt": "LESSON_TITLE: How Compilers Work\nLESSON_DESCRIPTION: Understanding how compilers transform human-readable code into machine-executable instructions through multiple phases of analysis and transformation\nCHAPTER_TITLE: Language Implementation\nCOURSE_TITLE: Programming Language Theory\nLANGUAGE: en\nEXPLANATION_STEPS:\n1. The Assembly Line: A compiler reads your code in stages, like an assembly line. Each stage transforms the code into something closer to what the machine understands.\n2. Breaking into Tokens: First, lexical analysis breaks your code into tokens - the smallest meaningful units. Keywords, variables, and operators each become distinct pieces.\n3. Building Structure: The parser takes those tokens and builds a tree structure showing how statements relate. This catches syntax errors like missing parentheses.\n4. Checking Meaning: Semantic analysis checks if your code makes logical sense. It catches errors like using a string where a number is required.\n5. Generating Output: Finally, code generation translates the validated structure into machine instructions the processor can execute directly.\n\nGenerate quiz questions that test understanding of these concepts. Use the available tools to create questions in appropriate formats. Aim for 4-8 questions covering the key concepts."
    },
    {
      "duration": 55386.524541,
      "inputTokens": 323,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"Nos últimos meses, as lojas do seu bairro estão remarcando preços toda semana e as pessoas seguem comprando forte. O banco central quer esfriar a demanda para reduzir a alta de preços.\",\n      \"options\": [\n        {\n          \"feedback\": \"Cortar juros tende a baratear o crédito e estimular ainda mais gastos, o que pode piorar a pressão sobre preços.\",\n          \"isCorrect\": false,\n          \"text\": \"Reduzir a taxa básica de juros para incentivar empréstimos.\"\n        },\n        {\n          \"feedback\": \"Subir juros encarece financiamentos e pode reduzir consumo e investimento, ajudando a desacelerar a demanda e conter a inflação.\",\n          \"isCorrect\": true,\n          \"text\": \"Aumentar a taxa básica de juros para deixar o crédito mais caro.\"\n        },\n        {\n          \"feedback\": \"Comprar títulos injeta dinheiro no sistema e costuma estimular a economia, o oposto do que se busca quando há excesso de demanda e preços subindo.\",\n          \"isCorrect\": false,\n          \"text\": \"Comprar títulos do governo para colocar mais dinheiro em circulação.\"\n        },\n        {\n          \"feedback\": \"Congelar salários não é uma ferramenta típica de política monetária e não atua diretamente pelos canais de crédito e liquidez controlados pelo banco central.\",\n          \"isCorrect\": false,\n          \"text\": \"Congelar salários por decreto para reduzir custos das empresas.\"\n        }\n      ],\n      \"question\": \"Qual ação é mais consistente?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"Uma fábrica quer ampliar a produção, mas depende de financiamento. De repente, a taxa básica de juros cai bastante.\",\n      \"options\": [\n        {\n          \"feedback\": \"Quando a taxa básica cai, o custo de tomar empréstimos tende a cair também, o que pode destravar projetos de investimento.\",\n          \"isCorrect\": true,\n          \"text\": \"O financiamento tende a ficar mais barato, aumentando a chance de a fábrica investir.\"\n        },\n        {\n          \"feedback\": \"Isso inverte o mecanismo: juros menores não costumam tornar o crédito mais caro.\",\n          \"isCorrect\": false,\n          \"text\": \"O financiamento tende a ficar mais caro, então a fábrica adia o investimento.\"\n        },\n        {\n          \"feedback\": \"Juros mais baixos não costumam “proibir” crédito; em geral aumentam a oferta e a demanda por empréstimos.\",\n          \"isCorrect\": false,\n          \"text\": \"Os bancos tendem a restringir empréstimos, porque juros baixos impedem concessões.\"\n        },\n        {\n          \"feedback\": \"A decisão pode variar, mas a direção do incentivo muda: crédito mais barato normalmente aumenta a atratividade do investimento.\",\n          \"isCorrect\": false,\n          \"text\": \"A queda dos juros não muda nada relevante para decisões de investimento.\"\n        }\n      ],\n      \"question\": \"O que a queda dos juros sugere?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"O banco central aumenta a taxa básica hoje. Seu amigo diz: “Então amanhã o desemprego já cai e a inflação já melhora”.\",\n      \"options\": [\n        {\n          \"feedback\": \"A transmissão para consumo, investimento e preços costuma levar tempo: contratos, decisões e expectativas se ajustam gradualmente.\",\n          \"isCorrect\": true,\n          \"text\": \"Provavelmente não: os efeitos na economia real costumam aparecer aos poucos, ao longo de meses.\"\n        },\n        {\n          \"feedback\": \"Mudanças de juros não costumam se refletir totalmente na economia real em 24 horas.\",\n          \"isCorrect\": false,\n          \"text\": \"Sim: a inflação e o emprego reagem de forma quase imediata, no dia seguinte.\"\n        },\n        {\n          \"feedback\": \"A política monetária não depende de datas fixas como eleições; o ponto é o atraso de transmissão e os ajustes graduais.\",\n          \"isCorrect\": false,\n          \"text\": \"Depende: só aparece depois da próxima eleição, quando as empresas mudam o plano.\"\n        },\n        {\n          \"feedback\": \"Ela costuma ter efeitos, mas com defasagem e intensidade incerta; não é correto dizer que nunca funciona.\",\n          \"isCorrect\": false,\n          \"text\": \"Não: taxa de juros não tem efeito sobre produção e preços, apenas sobre câmbio.\"\n        }\n      ],\n      \"question\": \"Qual é a melhor resposta?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"Para aumentar a liquidez do sistema bancário, o banco central compra títulos do governo de bancos e investidores.\",\n      \"options\": [\n        {\n          \"feedback\": \"Ao comprar títulos, o banco central paga e aumenta reservas/caixa no sistema, elevando a liquidez e, em geral, a quantidade de dinheiro em circulação.\",\n          \"isCorrect\": true,\n          \"text\": \"Mais dinheiro entra na economia, porque o banco central injeta recursos ao comprar os títulos.\"\n        },\n        {\n          \"feedback\": \"Vender títulos é que tende a retirar dinheiro de circulação; comprar faz o contrário.\",\n          \"isCorrect\": false,\n          \"text\": \"Menos dinheiro circula, porque comprar títulos “trava” recursos no banco central.\"\n        },\n        {\n          \"feedback\": \"A compra é uma operação monetária; o objetivo é mexer em liquidez e condições financeiras, não arrecadar impostos.\",\n          \"isCorrect\": false,\n          \"text\": \"Nada muda na liquidez; isso só altera a arrecadação de impostos.\"\n        },\n        {\n          \"feedback\": \"A operação afeta liquidez e juros; não equivale automaticamente a aumentar tarifas de comércio exterior.\",\n          \"isCorrect\": false,\n          \"text\": \"A compra de títulos aumenta tarifas de importação, reduzindo preços internos.\"\n        }\n      ],\n      \"question\": \"O que acontece com a liquidez?\"\n    },\n    {\n      \"format\": \"matchColumns\",\n      \"pairs\": [\n        {\n          \"left\": \"Muitas famílias desistem de financiar um carro porque a parcela ficou alta.\",\n          \"right\": \"Alta de juros reduz consumo financiado\"\n        },\n        {\n          \"left\": \"Após um corte de juros, aumentam propagandas de crédito imobiliário com taxas menores.\",\n          \"right\": \"Queda de juros estimula empréstimos\"\n        },\n        {\n          \"left\": \"O banco central vende títulos do governo e o dinheiro some das reservas bancárias.\",\n          \"right\": \"Venda de títulos retira dinheiro de circulação\"\n        },\n        {\n          \"left\": \"O banco central compra títulos e os bancos ficam com mais caixa para emprestar.\",\n          \"right\": \"Compra de títulos injeta dinheiro na economia\"\n        }\n      ],\n      \"question\": \"Relacione a situação ao efeito principal.\"\n    },\n    {\n      \"format\": \"sortOrder\",\n      \"feedback\": \"A taxa básica afeta primeiro as condições financeiras (taxas cobradas e oferta de crédito). Depois as decisões de consumo e investimento mudam. Só então produção/emprego reagem e, por fim, preços tendem a ajustar com mais defasagem.\",\n      \"items\": [\n        \"Banco central reduz a taxa básica de juros\",\n        \"Bancos e financeiras repassam taxas menores em empréstimos\",\n        \"Famílias e empresas tomam mais crédito ou refinanciam dívidas\",\n        \"Consumo e investimento aumentam gradualmente\",\n        \"Produção e contratações começam a reagir\",\n        \"Pressões sobre preços podem aparecer mais adiante\"\n      ],\n      \"question\": \"Coloque em ordem o caminho do corte de juros.\"\n    }\n  ]\n}",
      "outputTokens": 1980,
      "systemPrompt": "# Role\n\nYou are an expert quiz designer creating questions that test whether learners truly UNDERSTAND concepts — not whether they memorized specific words, metaphors, or examples.\n\n# Core Philosophy: Understanding vs. Memorization\n\nThis distinction is the heart of effective assessment.\n\n## Why Memorization-Based Questions Fail\n\n1. **False Positives**: A learner who memorized \"electricity flows like water through pipes\" can parrot this back without understanding how circuits actually work.\n\n2. **False Negatives**: A learner who deeply understands electrical circuits might fail a question asking \"What metaphor did the text use?\" because they remember the concept, not the phrasing.\n\n3. **Shallow Learning**: When learners know they'll be tested on exact wording, they memorize instead of building mental models.\n\n## What Understanding Looks Like\n\nA learner who understands a concept can:\n\n- Apply it to situations they've never seen before\n- Recognize the concept at work in unfamiliar contexts\n- Predict outcomes based on the concept's principles\n- Explain why something would or wouldn't work\n\n## The Transfer Test\n\nEvery question must pass this test: \"Could a learner who understood the concept but never read our specific explanation still answer this correctly?\"\n\nIf no, the question tests memorization, not understanding.\n\n# Non-Negotiable Rules\n\n1. **Never reference the explanation** — phrases like \"according to the text\" or \"as described\" are forbidden\n\n2. **Never test recall of specific words, metaphors, or examples** from the explanation steps\n\n3. **Use novel scenarios** — present concepts in everyday situations the learner hasn't seen\n\n4. **Conversational tone** — write like a curious friend posing interesting challenges, not an exam proctor\n\n# Using the Input\n\n- `EXPLANATION_STEPS` tells you WHAT concepts to test, NOT what text to reference\n- Extract the underlying concepts and test them in NEW contexts\n- If an explanation says \"A budget is like a roadmap\" — test whether learners understand what budgets do, NOT whether they remember the roadmap metaphor\n\n# Language Guidelines\n\nGenerate all content in the specified `LANGUAGE`:\n\n- `en`: US English unless content is region-specific\n- `pt`: Brazilian Portuguese unless content is region-specific\n- `es`: Latin American Spanish unless content is region-specific\n\n**Language Purity Rule**: Every word, character, and token in the output MUST be in the specified LANGUAGE. Never mix languages or scripts within a response. If the LANGUAGE is `en`, use only English words — no Chinese, Japanese, Korean, Arabic, or other script characters.\n\n# Format Selection\n\nChoose formats based on what genuinely tests understanding — not for variety's sake.\n\n**Multiple choice is often the best format.** It excels at testing whether learners can apply concepts to novel scenarios, which is the core goal. Use it freely when it fits.\n\nOther formats are available when they're genuinely better for specific content:\n\n- **matchColumns**: When the concept involves connecting observations to principles (e.g., matching symptoms to causes)\n- **fillBlank**: When completing a relationship or process tests understanding better than selecting from options\n- **sortOrder**: When the concept IS about sequence and order matters conceptually (e.g., steps in a biological process)\n- **selectImage**: Only when visual recognition genuinely tests the concept\n\n**Skip formats entirely if they don't fit.** Using several well-crafted multiple choice questions is far better than forcing variety with poorly-suited formats. Never use a format just because you haven't used it yet.\n\n# Quality Standards\n\nBefore creating each question, verify:\n\n- [ ] Answerable without reading the explanation, if the learner understands the concept\n- [ ] Tests application, not recall\n- [ ] Scenario is novel — not from the explanation\n- [ ] Tone is conversational\n- [ ] Feedback explains reasoning\n- [ ] Format is appropriate for this concept\n\n# Coverage\n\n- Test each major concept from EXPLANATION_STEPS at least once\n- Vary the contexts — don't reuse scenarios\n- Balance difficulty — some straightforward, some requiring deeper reasoning\n- Aim for 4-8 questions depending on concept count\n",
      "testCaseId": "pt-economics-monetary-policy-quiz-1",
      "userPrompt": "LESSON_TITLE: Como Funciona a Politica Monetaria\nLESSON_DESCRIPTION: Entendendo como bancos centrais usam taxas de juros e outras ferramentas para influenciar a economia, incluindo os mecanismos de transmissao da politica monetaria\nCHAPTER_TITLE: Macroeconomia\nCOURSE_TITLE: Economia para Iniciantes\nLANGUAGE: pt\nEXPLANATION_STEPS:\n1. Equilibrio Monetario: O banco central controla a quantidade de dinheiro circulando na economia. Quando ha dinheiro demais, os precos sobem. Quando ha pouco, a economia desacelera.\n2. A Alavanca dos Juros: A taxa basica de juros e a principal ferramenta. Juros altos tornam emprestimos caros, reduzindo gastos. Juros baixos estimulam emprestimos e consumo.\n3. Efeito com Atraso: Mudancas nos juros levam meses para afetar a economia real. Empresas e consumidores ajustam seus planos gradualmente, nao instantaneamente.\n4. Operacoes de Mercado: Bancos centrais tambem compram e vendem titulos do governo. Comprando titulos, injetam dinheiro na economia. Vendendo, retiram dinheiro de circulacao.\n\nGenerate quiz questions that test understanding of these concepts. Use the available tools to create questions in appropriate formats. Aim for 4-8 questions covering the key concepts."
    },
    {
      "duration": 54621.458999999995,
      "inputTokens": 320,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"Descargas dos archivos: un video de 2 GB y una foto de 3 MB. Ambos los pasas por la misma función hash (por ejemplo, SHA-256).\",\n      \"options\": [\n        {\n          \"feedback\": \"Correcto: una función hash criptográfica siempre devuelve una salida de tamaño fijo (p. ej., 256 bits), sin importar si la entrada era pequeña o enorme.\",\n          \"isCorrect\": true,\n          \"text\": \"Los dos hashes tendrán exactamente la misma longitud, aunque los valores sean distintos.\"\n        },\n        {\n          \"feedback\": \"Incorrecto: la longitud del hash no crece con el tamaño del archivo; lo que cambia es el contenido del hash, no su tamaño.\",\n          \"isCorrect\": false,\n          \"text\": \"El hash del video será mucho más largo que el hash de la foto.\"\n        },\n        {\n          \"feedback\": \"Incorrecto: el tamaño del archivo no determina que el hash sea “más preciso”; el hash tiene longitud fija y no “mide calidad”.\",\n          \"isCorrect\": false,\n          \"text\": \"El hash del video tendrá más “precisión” y por eso será diferente en longitud.\"\n        },\n        {\n          \"feedback\": \"Incorrecto: los hashes no “recortan” su salida según el tamaño de la entrada; el tamaño de salida es fijo para ese algoritmo.\",\n          \"isCorrect\": false,\n          \"text\": \"Ambos hashes podrían tener longitudes distintas dependiendo de cuánto “recorte” haga el algoritmo.\"\n        }\n      ],\n      \"question\": \"¿Qué puedes afirmar sobre la longitud del hash?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"Guardas un contrato en PDF y publicas su hash para que otros verifiquen que no fue modificado. Alguien cambia un solo carácter (por ejemplo, un punto por una coma) y vuelve a generar el hash.\",\n      \"options\": [\n        {\n          \"feedback\": \"Correcto: por el efecto avalancha, cambios mínimos en la entrada suelen producir un hash totalmente distinto, lo que ayuda a detectar alteraciones.\",\n          \"isCorrect\": true,\n          \"text\": \"El hash nuevo será completamente diferente al anterior, sin “parecerse” de forma predecible.\"\n        },\n        {\n          \"feedback\": \"Incorrecto: un hash no funciona como un “resumen” que cambia poco; justo se busca que cambios pequeños alteren drásticamente la salida.\",\n          \"isCorrect\": false,\n          \"text\": \"El hash cambiará solo un poco, quizá en los últimos caracteres.\"\n        },\n        {\n          \"feedback\": \"Incorrecto: el tamaño del hash no depende de si hubo cambios; se mantiene fijo.\",\n          \"isCorrect\": false,\n          \"text\": \"El hash será igual en valor, pero podría cambiar de longitud.\"\n        },\n        {\n          \"feedback\": \"Incorrecto: un hash no “ignora” cambios pequeños; al contrario, debe ser sensible a ellos.\",\n          \"isCorrect\": false,\n          \"text\": \"El hash probablemente no cambie porque el cambio es demasiado pequeño.\"\n        }\n      ],\n      \"question\": \"¿Qué debería pasar con el hash?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"Una base de datos filtrada contiene solo hashes de contraseñas (no las contraseñas en texto). Un atacante quiere “convertir” cada hash en su contraseña original.\",\n      \"options\": [\n        {\n          \"feedback\": \"Correcto: una propiedad clave es que el hash es de una sola vía; no existe un método general para recuperar exactamente la entrada original a partir del hash.\",\n          \"isCorrect\": true,\n          \"text\": \"No puede deshacer el hash de forma directa; un hash no es reversible como un cifrado con clave.\"\n        },\n        {\n          \"feedback\": \"Incorrecto: los hashes no se “descifran” con una clave secreta; eso describe cifrado, no hashing.\",\n          \"isCorrect\": false,\n          \"text\": \"Sí puede, si consigue la “clave” correcta para descifrar el hash.\"\n        },\n        {\n          \"feedback\": \"Incorrecto: el hash no es una versión comprimida recuperable del texto; no se puede reconstruir la entrada como si fuera un ZIP.\",\n          \"isCorrect\": false,\n          \"text\": \"Sí puede, porque el hash es una compresión y toda compresión se puede descomprimir.\"\n        },\n        {\n          \"feedback\": \"Incorrecto: el hash no contiene la contraseña “en partes”; no es un formato que se vaya reconstruyendo sumando fragmentos.\",\n          \"isCorrect\": false,\n          \"text\": \"Sí puede, juntando varios hashes relacionados hasta reconstruir la contraseña completa.\"\n        }\n      ],\n      \"question\": \"¿Por qué no puede recuperar la contraseña original directamente?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"Un sistema firma actualizaciones de software y verifica que el archivo descargado coincida con un hash esperado. Un investigador demuestra que puede crear dos archivos distintos con el mismo hash en ese algoritmo.\",\n      \"options\": [\n        {\n          \"feedback\": \"Correcto: si es factible crear colisiones, un atacante podría intentar sustituir un archivo legítimo por otro malicioso con el mismo hash, debilitando la confianza en la verificación.\",\n          \"isCorrect\": true,\n          \"text\": \"Se rompe la confianza en ese hash para integridad/autenticidad, porque podrían existir sustituciones sin cambiar el hash.\"\n        },\n        {\n          \"feedback\": \"Incorrecto: la verificación de integridad depende fuertemente de que sea impracticable encontrar colisiones; si se vuelve fácil, sí afecta la seguridad.\",\n          \"isCorrect\": false,\n          \"text\": \"No pasa nada importante; mientras el hash sea de longitud fija, seguirá siendo seguro.\"\n        },\n        {\n          \"feedback\": \"Incorrecto: el efecto avalancha no compensa colisiones “fabricables”; son problemas distintos.\",\n          \"isCorrect\": false,\n          \"text\": \"Sigue siendo seguro, porque el efecto avalancha evita cualquier ataque práctico.\"\n        },\n        {\n          \"feedback\": \"Incorrecto: el problema no es el tamaño del archivo, sino que dos entradas distintas den la misma salida; eso sí impacta sistemas reales.\",\n          \"isCorrect\": false,\n          \"text\": \"Solo sería un problema si los archivos fueran del mismo tamaño; si no, la colisión no sirve.\"\n        }\n      ],\n      \"question\": \"¿Qué implica esto para la seguridad del sistema?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"Tu amiga te dice: “Para verificar si mi archivo cambió, basta con guardar los primeros 10 caracteres del hash; si cambió algo, se va a notar igual”.\",\n      \"options\": [\n        {\n          \"feedback\": \"Correcto: truncar demasiado reduce drásticamente el espacio de salida y aumenta la probabilidad de coincidencias accidentales o ataques; para verificación se usa el hash completo (o un truncado con un tamaño seguro).\",\n          \"isCorrect\": true,\n          \"text\": \"Es una mala idea: al usar solo una parte pequeña, aumentas el riesgo de que dos archivos distintos coincidan en esos caracteres.\"\n        },\n        {\n          \"feedback\": \"Incorrecto: el efecto avalancha no “garantiza” que un prefijo corto siempre cambie; solo que el hash completo cambia de forma impredecible.\",\n          \"isCorrect\": false,\n          \"text\": \"Está bien: el efecto avalancha garantiza que cualquier cambio modificará esos 10 caracteres.\"\n        },\n        {\n          \"feedback\": \"Incorrecto: la longitud fija no significa que cualquier parte sea igual de segura si la recortas demasiado.\",\n          \"isCorrect\": false,\n          \"text\": \"Está bien: como el hash es de longitud fija, cualquier pedazo es equivalente al hash completo.\"\n        },\n        {\n          \"feedback\": \"Incorrecto: no es que el hash “ignore cambios”; el problema es recortar y perder seguridad estadística.\",\n          \"isCorrect\": false,\n          \"text\": \"Da igual usar 10 o todo el hash, porque los hashes ignoran cambios pequeños.\"\n        }\n      ],\n      \"question\": \"¿Cuál es la mejor respuesta?\"\n    },\n    {\n      \"format\": \"matchColumns\",\n      \"pairs\": [\n        {\n          \"left\": \"Dos entradas de tamaños muy distintos producen una salida de exactamente 64 caracteres hexadecimales en SHA-256.\",\n          \"right\": \"Salida de longitud fija (compresión a tamaño fijo)\"\n        },\n        {\n          \"left\": \"Cambias un bit de un archivo y el hash resultante no se parece en nada al anterior.\",\n          \"right\": \"Efecto avalancha (sensibilidad extrema)\"\n        },\n        {\n          \"left\": \"Tienes el hash de un mensaje, pero no hay un método directo para reconstruir el mensaje original exacto.\",\n          \"right\": \"Función de una sola vía (irreversibilidad)\"\n        },\n        {\n          \"left\": \"Encontrar dos archivos diferentes que den el mismo hash es computacionalmente inviable en un buen algoritmo.\",\n          \"right\": \"Resistencia a colisiones (unicidad práctica)\"\n        }\n      ],\n      \"question\": \"Relaciona cada situación con la propiedad de hashing que demuestra.\"\n    }\n  ]\n}",
      "outputTokens": 1986,
      "systemPrompt": "# Role\n\nYou are an expert quiz designer creating questions that test whether learners truly UNDERSTAND concepts — not whether they memorized specific words, metaphors, or examples.\n\n# Core Philosophy: Understanding vs. Memorization\n\nThis distinction is the heart of effective assessment.\n\n## Why Memorization-Based Questions Fail\n\n1. **False Positives**: A learner who memorized \"electricity flows like water through pipes\" can parrot this back without understanding how circuits actually work.\n\n2. **False Negatives**: A learner who deeply understands electrical circuits might fail a question asking \"What metaphor did the text use?\" because they remember the concept, not the phrasing.\n\n3. **Shallow Learning**: When learners know they'll be tested on exact wording, they memorize instead of building mental models.\n\n## What Understanding Looks Like\n\nA learner who understands a concept can:\n\n- Apply it to situations they've never seen before\n- Recognize the concept at work in unfamiliar contexts\n- Predict outcomes based on the concept's principles\n- Explain why something would or wouldn't work\n\n## The Transfer Test\n\nEvery question must pass this test: \"Could a learner who understood the concept but never read our specific explanation still answer this correctly?\"\n\nIf no, the question tests memorization, not understanding.\n\n# Non-Negotiable Rules\n\n1. **Never reference the explanation** — phrases like \"according to the text\" or \"as described\" are forbidden\n\n2. **Never test recall of specific words, metaphors, or examples** from the explanation steps\n\n3. **Use novel scenarios** — present concepts in everyday situations the learner hasn't seen\n\n4. **Conversational tone** — write like a curious friend posing interesting challenges, not an exam proctor\n\n# Using the Input\n\n- `EXPLANATION_STEPS` tells you WHAT concepts to test, NOT what text to reference\n- Extract the underlying concepts and test them in NEW contexts\n- If an explanation says \"A budget is like a roadmap\" — test whether learners understand what budgets do, NOT whether they remember the roadmap metaphor\n\n# Language Guidelines\n\nGenerate all content in the specified `LANGUAGE`:\n\n- `en`: US English unless content is region-specific\n- `pt`: Brazilian Portuguese unless content is region-specific\n- `es`: Latin American Spanish unless content is region-specific\n\n**Language Purity Rule**: Every word, character, and token in the output MUST be in the specified LANGUAGE. Never mix languages or scripts within a response. If the LANGUAGE is `en`, use only English words — no Chinese, Japanese, Korean, Arabic, or other script characters.\n\n# Format Selection\n\nChoose formats based on what genuinely tests understanding — not for variety's sake.\n\n**Multiple choice is often the best format.** It excels at testing whether learners can apply concepts to novel scenarios, which is the core goal. Use it freely when it fits.\n\nOther formats are available when they're genuinely better for specific content:\n\n- **matchColumns**: When the concept involves connecting observations to principles (e.g., matching symptoms to causes)\n- **fillBlank**: When completing a relationship or process tests understanding better than selecting from options\n- **sortOrder**: When the concept IS about sequence and order matters conceptually (e.g., steps in a biological process)\n- **selectImage**: Only when visual recognition genuinely tests the concept\n\n**Skip formats entirely if they don't fit.** Using several well-crafted multiple choice questions is far better than forcing variety with poorly-suited formats. Never use a format just because you haven't used it yet.\n\n# Quality Standards\n\nBefore creating each question, verify:\n\n- [ ] Answerable without reading the explanation, if the learner understands the concept\n- [ ] Tests application, not recall\n- [ ] Scenario is novel — not from the explanation\n- [ ] Tone is conversational\n- [ ] Feedback explains reasoning\n- [ ] Format is appropriate for this concept\n\n# Coverage\n\n- Test each major concept from EXPLANATION_STEPS at least once\n- Vary the contexts — don't reuse scenarios\n- Balance difficulty — some straightforward, some requiring deeper reasoning\n- Aim for 4-8 questions depending on concept count\n",
      "testCaseId": "es-crypto-hash-functions-quiz-1",
      "userPrompt": "LESSON_TITLE: Funciones Hash Criptograficas\nLESSON_DESCRIPTION: Entendiendo como funcionan las funciones hash criptograficas, sus propiedades matematicas, y por que son fundamentales para la seguridad digital\nCHAPTER_TITLE: Fundamentos de Criptografia\nCOURSE_TITLE: Seguridad Informatica\nLANGUAGE: es\nEXPLANATION_STEPS:\n1. Compresion de Datos: Una funcion hash convierte cualquier dato en una cadena de longitud fija. Un archivo de 1KB y uno de 1GB producen hashes del mismo tamano.\n2. Sensibilidad Extrema: Cambiar un solo bit del archivo original cambia completamente el hash. Esta propiedad se llama efecto avalancha y es crucial para detectar alteraciones.\n3. Camino de Ida: No puedes recuperar el archivo original desde su hash - el proceso es irreversible. Por eso se usan para almacenar contrasenas de forma segura.\n4. Unicidad Practica: Encontrar dos archivos diferentes con el mismo hash deberia ser practicamente imposible. Esta resistencia a colisiones es lo que hace a los hashes confiables.\n\nGenerate quiz questions that test understanding of these concepts. Use the available tools to create questions in appropriate formats. Aim for 4-8 questions covering the key concepts."
    },
    {
      "duration": 55798.29695799999,
      "inputTokens": 314,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"You’re training a small neural net to predict tomorrow’s energy use. After one training example, the prediction is far off. You want a method that tells you which internal connections were most responsible for the bad output.\",\n      \"options\": [\n        {\n          \"feedback\": \"Correct: backpropagation computes gradients for each weight, telling you how changing that weight would change the loss, so you know what to adjust and by how much.\",\n          \"isCorrect\": true,\n          \"text\": \"Compute the gradient of the loss with respect to every weight (via backprop) and update weights based on those gradients.\"\n        },\n        {\n          \"feedback\": \"Random tweaks can sometimes improve things, but they don’t reliably tell you which connections caused the error or the best direction to change them.\",\n          \"isCorrect\": false,\n          \"text\": \"Randomly perturb some weights and keep the changes if the prediction improves.\"\n        },\n        {\n          \"feedback\": \"Changing only the last layer ignores how earlier layers shaped the final output; earlier weights can be major contributors to error.\",\n          \"isCorrect\": false,\n          \"text\": \"Only adjust the weights in the final layer, since that layer directly produces the output.\"\n        },\n        {\n          \"feedback\": \"Matching averages doesn’t address per-example errors or provide a direction for weight changes that reduces loss.\",\n          \"isCorrect\": false,\n          \"text\": \"Change weights until the network’s average output matches the average target value.\"\n        }\n      ],\n      \"question\": \"What best solves “which weights to change”?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"A neural network outputs a probability of 0.82 that an email is spam, but the true label is “not spam.” Before you can decide how to update weights, you need a single number that summarizes how wrong this prediction is.\",\n      \"options\": [\n        {\n          \"feedback\": \"Correct: you compute a loss/error value from the prediction and the true label; that scalar is what training tries to reduce.\",\n          \"isCorrect\": true,\n          \"text\": \"Compute a loss value that measures the mismatch between 0.82 and the true label.\"\n        },\n        {\n          \"feedback\": \"Accuracy is typically computed over many examples and isn’t differentiable in a helpful way for weight updates on a single example.\",\n          \"isCorrect\": false,\n          \"text\": \"Compute accuracy for this one email and use that as the training signal.\"\n        },\n        {\n          \"feedback\": \"The raw output alone doesn’t say how wrong you are without comparing to the target.\",\n          \"isCorrect\": false,\n          \"text\": \"Use 0.82 itself as the error signal.\"\n        },\n        {\n          \"feedback\": \"Regularization terms can be part of the objective, but they don’t tell you whether this specific prediction matches the label.\",\n          \"isCorrect\": false,\n          \"text\": \"Compute only a regularization penalty based on the size of the weights.\"\n        }\n      ],\n      \"question\": \"What do you compute to measure the mistake?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"A 3-layer network misclassifies an image. You can see the final output is wrong, but you’re unsure how to adjust weights in the first (input-adjacent) layer, which never directly produces a prediction.\",\n      \"options\": [\n        {\n          \"feedback\": \"Correct: the backward pass uses the chain rule to propagate how the output error depends on earlier activations and weights, assigning credit/blame to internal connections.\",\n          \"isCorrect\": true,\n          \"text\": \"Run a backward pass to compute how the loss changes with each earlier-layer weight (using the chain rule).\"\n        },\n        {\n          \"feedback\": \"The output error alone doesn’t tell you how each internal weight affected that error; you need derivatives to distribute responsibility.\",\n          \"isCorrect\": false,\n          \"text\": \"Use only the difference at the output layer and split it evenly across all weights.\"\n        },\n        {\n          \"feedback\": \"Earlier-layer weights matter; freezing them prevents the network from learning better internal features.\",\n          \"isCorrect\": false,\n          \"text\": \"Freeze the first layer and only train the last layer because it’s closest to the error.\"\n        },\n        {\n          \"feedback\": \"Resetting weights discards learned structure and doesn’t provide a targeted direction that reduces loss.\",\n          \"isCorrect\": false,\n          \"text\": \"Reinitialize the first layer’s weights whenever the output is wrong.\"\n        }\n      ],\n      \"question\": \"How do earlier layers learn from output error?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"During training, your loss decreases for a few steps, then suddenly shoots up and keeps bouncing wildly instead of settling down.\",\n      \"options\": [\n        {\n          \"feedback\": \"Correct: overly large updates can overshoot the minimum, making loss oscillate or explode; reducing the learning rate makes the steps “smaller.”\",\n          \"isCorrect\": true,\n          \"text\": \"Your learning rate is likely too high; reduce it so weight updates are smaller.\"\n        },\n        {\n          \"feedback\": \"Batch size affects noise in the gradient estimate, but wild divergence is most directly tied to step size being too aggressive for the landscape.\",\n          \"isCorrect\": false,\n          \"text\": \"Your batch size is too small; increase it and the loss will always become stable.\"\n        },\n        {\n          \"feedback\": \"More layers can help representational power but can also make optimization harder; it doesn’t directly address the overshooting behavior described.\",\n          \"isCorrect\": false,\n          \"text\": \"Add more hidden layers so the network can fit the data better.\"\n        },\n        {\n          \"feedback\": \"A larger dataset may help generalization, but it doesn’t fix the immediate problem of taking steps that increase the loss.\",\n          \"isCorrect\": false,\n          \"text\": \"Collect more data; instability means you don’t have enough examples.\"\n        }\n      ],\n      \"question\": \"What’s the most likely cause of the bouncing loss?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"Two weights in the same network get different gradient magnitudes on a training step: weight A has gradient +0.01 and weight B has gradient +0.80 (same learning rate for both).\",\n      \"options\": [\n        {\n          \"feedback\": \"Correct: with the same learning rate, the update magnitude is proportional to the gradient magnitude, so B changes much more because it has a larger effect on the loss.\",\n          \"isCorrect\": true,\n          \"text\": \"Weight B will change more, because its larger gradient means it contributed more strongly to the loss locally.\"\n        },\n        {\n          \"feedback\": \"Update size depends on gradient magnitude, not the number of connections a neuron has.\",\n          \"isCorrect\": false,\n          \"text\": \"Weight A will change more, because smaller gradients should be amplified to learn faster.\"\n        },\n        {\n          \"feedback\": \"Gradients already encode direction and relative influence; making all updates equal ignores which weights matter most for reducing loss.\",\n          \"isCorrect\": false,\n          \"text\": \"They will change by the same amount, because using different update sizes would be unfair.\"\n        },\n        {\n          \"feedback\": \"The sign affects direction, but the magnitude of change depends on the gradient size; both can be positive yet different sizes.\",\n          \"isCorrect\": false,\n          \"text\": \"Neither will change, because positive gradients mean the model is already correct.\"\n        }\n      ],\n      \"question\": \"Which weight gets a bigger update, and why?\"\n    },\n    {\n      \"format\": \"sortOrder\",\n      \"feedback\": \"A typical training step first produces a prediction (forward pass), then measures how wrong it was (loss), then computes how each weight affects that loss (backprop/gradients), and finally applies a small update to reduce the loss (gradient-based update).\",\n      \"items\": [\n        \"Run a forward pass to produce a prediction\",\n        \"Compute the loss from prediction vs. target\",\n        \"Backpropagate to compute gradients for weights\",\n        \"Update weights using the gradients (a small step to reduce loss)\"\n      ],\n      \"question\": \"Put one training iteration in the right order.\"\n    }\n  ]\n}",
      "outputTokens": 2028,
      "systemPrompt": "# Role\n\nYou are an expert quiz designer creating questions that test whether learners truly UNDERSTAND concepts — not whether they memorized specific words, metaphors, or examples.\n\n# Core Philosophy: Understanding vs. Memorization\n\nThis distinction is the heart of effective assessment.\n\n## Why Memorization-Based Questions Fail\n\n1. **False Positives**: A learner who memorized \"electricity flows like water through pipes\" can parrot this back without understanding how circuits actually work.\n\n2. **False Negatives**: A learner who deeply understands electrical circuits might fail a question asking \"What metaphor did the text use?\" because they remember the concept, not the phrasing.\n\n3. **Shallow Learning**: When learners know they'll be tested on exact wording, they memorize instead of building mental models.\n\n## What Understanding Looks Like\n\nA learner who understands a concept can:\n\n- Apply it to situations they've never seen before\n- Recognize the concept at work in unfamiliar contexts\n- Predict outcomes based on the concept's principles\n- Explain why something would or wouldn't work\n\n## The Transfer Test\n\nEvery question must pass this test: \"Could a learner who understood the concept but never read our specific explanation still answer this correctly?\"\n\nIf no, the question tests memorization, not understanding.\n\n# Non-Negotiable Rules\n\n1. **Never reference the explanation** — phrases like \"according to the text\" or \"as described\" are forbidden\n\n2. **Never test recall of specific words, metaphors, or examples** from the explanation steps\n\n3. **Use novel scenarios** — present concepts in everyday situations the learner hasn't seen\n\n4. **Conversational tone** — write like a curious friend posing interesting challenges, not an exam proctor\n\n# Using the Input\n\n- `EXPLANATION_STEPS` tells you WHAT concepts to test, NOT what text to reference\n- Extract the underlying concepts and test them in NEW contexts\n- If an explanation says \"A budget is like a roadmap\" — test whether learners understand what budgets do, NOT whether they remember the roadmap metaphor\n\n# Language Guidelines\n\nGenerate all content in the specified `LANGUAGE`:\n\n- `en`: US English unless content is region-specific\n- `pt`: Brazilian Portuguese unless content is region-specific\n- `es`: Latin American Spanish unless content is region-specific\n\n**Language Purity Rule**: Every word, character, and token in the output MUST be in the specified LANGUAGE. Never mix languages or scripts within a response. If the LANGUAGE is `en`, use only English words — no Chinese, Japanese, Korean, Arabic, or other script characters.\n\n# Format Selection\n\nChoose formats based on what genuinely tests understanding — not for variety's sake.\n\n**Multiple choice is often the best format.** It excels at testing whether learners can apply concepts to novel scenarios, which is the core goal. Use it freely when it fits.\n\nOther formats are available when they're genuinely better for specific content:\n\n- **matchColumns**: When the concept involves connecting observations to principles (e.g., matching symptoms to causes)\n- **fillBlank**: When completing a relationship or process tests understanding better than selecting from options\n- **sortOrder**: When the concept IS about sequence and order matters conceptually (e.g., steps in a biological process)\n- **selectImage**: Only when visual recognition genuinely tests the concept\n\n**Skip formats entirely if they don't fit.** Using several well-crafted multiple choice questions is far better than forcing variety with poorly-suited formats. Never use a format just because you haven't used it yet.\n\n# Quality Standards\n\nBefore creating each question, verify:\n\n- [ ] Answerable without reading the explanation, if the learner understands the concept\n- [ ] Tests application, not recall\n- [ ] Scenario is novel — not from the explanation\n- [ ] Tone is conversational\n- [ ] Feedback explains reasoning\n- [ ] Format is appropriate for this concept\n\n# Coverage\n\n- Test each major concept from EXPLANATION_STEPS at least once\n- Vary the contexts — don't reuse scenarios\n- Balance difficulty — some straightforward, some requiring deeper reasoning\n- Aim for 4-8 questions depending on concept count\n",
      "testCaseId": "en-ml-backpropagation-quiz-1",
      "userPrompt": "LESSON_TITLE: How Neural Networks Learn\nLESSON_DESCRIPTION: Understanding how neural networks learn through backpropagation, including forward passes, loss calculation, and gradient-based weight updates\nCHAPTER_TITLE: Neural Network Training\nCOURSE_TITLE: Machine Learning Fundamentals\nLANGUAGE: en\nEXPLANATION_STEPS:\n1. The Adjustment Problem: Training a neural network means adjusting connection strengths so outputs match desired results. The question is: which connections need adjusting and by how much?\n2. Measuring Mistakes: First, data flows forward through the network, producing a prediction. The difference between prediction and reality is measured as error.\n3. Assigning Blame: Error information then flows backward through the network. Each connection learns how much it contributed to the mistake using calculus.\n4. Small Steps Downhill: Connections that contributed more to errors get larger adjustments. The network gradually improves by making small changes in the direction that reduces error.\n\nGenerate quiz questions that test understanding of these concepts. Use the available tools to create questions in appropriate formats. Aim for 4-8 questions covering the key concepts."
    },
    {
      "duration": 63583.29854199999,
      "inputTokens": 271,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"You’re looking at a diagram showing a rigid tectonic plate moving slowly over the mantle, which is solid rock. A friend asks how something solid can let a plate glide.\",\n      \"options\": [\n        {\n          \"feedback\": \"Right. The mantle is mostly solid, but at high temperature and pressure it can deform and flow extremely slowly, letting plates move over geologic time.\",\n          \"isCorrect\": true,\n          \"text\": \"The mantle rock can deform and flow very slowly over long times, so a rigid plate can ride on top of it.\"\n        },\n        {\n          \"feedback\": \"Mantle rock isn’t a global ocean of liquid water; that would create very different seismic behavior and Earth structure.\",\n          \"isCorrect\": false,\n          \"text\": \"The plates float on a worldwide layer of liquid water beneath the crust.\"\n        },\n        {\n          \"feedback\": \"Core spin affects Earth’s magnetic field, but it isn’t the main reason plates drift across the surface.\",\n          \"isCorrect\": false,\n          \"text\": \"Earth’s rotating core directly spins the plates like a motor.\"\n        },\n        {\n          \"feedback\": \"Winds move surface materials, not hundred-kilometer-thick slabs of rock.\",\n          \"isCorrect\": false,\n          \"text\": \"Strong upper-atmosphere winds push the continents across the planet.\"\n        }\n      ],\n      \"question\": \"How can plates move over solid mantle?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"Imagine Earth’s interior cooled enough that mantle circulation slowed a lot, but everything else stayed the same. Geologists compare GPS measurements over decades.\",\n      \"options\": [\n        {\n          \"feedback\": \"Right. If the internal “churning” weakens, the main driver dragging plates along would weaken too, so plate motion should generally slow.\",\n          \"isCorrect\": true,\n          \"text\": \"Plate motions would likely slow because the dragging force from mantle circulation would be weaker.\"\n        },\n        {\n          \"feedback\": \"Slower circulation doesn’t make plates reverse direction by itself; direction depends on the flow pattern, not just speed.\",\n          \"isCorrect\": false,\n          \"text\": \"Plate motions would reverse direction everywhere.\"\n        },\n        {\n          \"feedback\": \"Convection in the mantle is tied to internal heat; it wouldn’t speed up if the mantle cooled and became less buoyant.\",\n          \"isCorrect\": false,\n          \"text\": \"Plate motions would speed up because cooler rock is easier to move.\"\n        },\n        {\n          \"feedback\": \"If circulation slowed, you’d expect a noticeable change in rates over time, not identical long-term speeds.\",\n          \"isCorrect\": false,\n          \"text\": \"Plate motions would stay about the same because plates move independently of the mantle.\"\n        }\n      ],\n      \"question\": \"What if mantle circulation slowed a lot?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"A research ship maps the seafloor and finds a long underwater mountain chain running down the middle of an ocean. Rock samples get progressively older the farther they are from the chain on either side.\",\n      \"options\": [\n        {\n          \"feedback\": \"Right. A mid-ocean ridge forms where plates spread apart; magma rises and solidifies to create new oceanic crust, so the youngest rock is at the ridge.\",\n          \"isCorrect\": true,\n          \"text\": \"Two plates are pulling apart there, creating new crust at a mid-ocean ridge.\"\n        },\n        {\n          \"feedback\": \"Continent-continent collision makes thickened crust and very high mountains, but it doesn’t create symmetrical young-to-old seafloor patterns on both sides of a ridge.\",\n          \"isCorrect\": false,\n          \"text\": \"Two continents are colliding there, thickening crust into mountains.\"\n        },\n        {\n          \"feedback\": \"Subduction commonly creates a trench and a volcanic arc, and ocean crust near the trench is usually older, not youngest at a central ridge.\",\n          \"isCorrect\": false,\n          \"text\": \"One plate is diving beneath another, destroying crust at a trench.\"\n        },\n        {\n          \"feedback\": \"A single plate lifting upward wouldn’t naturally produce mirrored age patterns with the youngest rocks in the center line.\",\n          \"isCorrect\": false,\n          \"text\": \"A single plate is bulging upward as it cools and contracts.\"\n        }\n      ],\n      \"question\": \"What boundary best explains the ridge?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"Along a coastline, you see a deep offshore trench, frequent strong earthquakes (some very deep), and a chain of volcanoes on land a bit inland from the coast.\",\n      \"options\": [\n        {\n          \"feedback\": \"Right. Those clues fit subduction: one plate dives beneath another, producing deep earthquakes and magma that feeds volcanoes, plus a trench at the boundary.\",\n          \"isCorrect\": true,\n          \"text\": \"An oceanic plate is subducting beneath a continental plate.\"\n        },\n        {\n          \"feedback\": \"Divergent boundaries produce ridges and mostly shallow earthquakes, not deep trenches and deep quakes.\",\n          \"isCorrect\": false,\n          \"text\": \"Two plates are pulling apart and forming a mid-ocean ridge near the coast.\"\n        },\n        {\n          \"feedback\": \"Continent-continent collision can make big mountains and earthquakes, but it usually doesn’t create an offshore trench plus a volcanic arc like this.\",\n          \"isCorrect\": false,\n          \"text\": \"Two continents are colliding and crumpling upward into mountains.\"\n        },\n        {\n          \"feedback\": \"Changes in sea level don’t explain deep earthquakes and a line of volcanoes tied to a boundary.\",\n          \"isCorrect\": false,\n          \"text\": \"Sea level is dropping, exposing old volcanic features.\"\n        }\n      ],\n      \"question\": \"What plate interaction fits these clues?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"Two large continental regions are moving toward each other. Over millions of years, the area develops extremely high mountains and strong earthquakes, but there’s little to no volcanic chain.\",\n      \"options\": [\n        {\n          \"feedback\": \"Right. When two continents collide, both are too buoyant to sink easily, so the crust shortens and thickens into very high mountains; earthquakes are common, and volcanism is often limited.\",\n          \"isCorrect\": true,\n          \"text\": \"Continent–continent collision where neither plate readily subducts.\"\n        },\n        {\n          \"feedback\": \"Subduction typically produces a volcanic arc; the “little to no volcanism” clue points away from classic oceanic subduction.\",\n          \"isCorrect\": false,\n          \"text\": \"Oceanic–continental subduction that forms a volcanic arc.\"\n        },\n        {\n          \"feedback\": \"Divergence makes new crust and a ridge/rift, not massive compressed mountain belts.\",\n          \"isCorrect\": false,\n          \"text\": \"A divergent boundary forming new crust.\"\n        },\n        {\n          \"feedback\": \"A hotspot can build volcano chains, but it doesn’t typically create a broad collision mountain belt with major crustal shortening.\",\n          \"isCorrect\": false,\n          \"text\": \"A mantle hotspot building a volcanic chain through a plate.\"\n        }\n      ],\n      \"question\": \"What’s the best explanation for these mountains?\"\n    },\n    {\n      \"format\": \"matchColumns\",\n      \"pairs\": [\n        {\n          \"left\": \"A long underwater mountain chain where the seafloor is youngest at the center and older on both sides\",\n          \"right\": \"Plates spreading apart; magma creates new crust at a mid-ocean ridge\"\n        },\n        {\n          \"left\": \"A deep ocean trench next to a curved chain of volcanoes and many earthquakes, including deep ones\",\n          \"right\": \"Subduction zone; one plate dives beneath another\"\n        },\n        {\n          \"left\": \"A very high, wide mountain belt with intense folding and frequent earthquakes but few volcanoes\",\n          \"right\": \"Continent–continent collision; neither plate sinks easily\"\n        },\n        {\n          \"left\": \"A region where new dark volcanic rock appears in a linear zone and the crust gets thicker as you move away from it\",\n          \"right\": \"Creation of new crust as magma rises into a spreading gap\"\n        }\n      ],\n      \"question\": \"Match each observation to the process.\"\n    },\n    {\n      \"format\": \"sortOrder\",\n      \"feedback\": \"At a spreading boundary, plates separate first. That drop in pressure helps mantle rock partially melt, producing magma that rises. As it cools, it becomes new oceanic crust. Continued spreading moves older crust away, building a ridge over time.\",\n      \"items\": [\n        \"Tectonic plates begin to pull apart\",\n        \"Pressure drops in the hot mantle beneath the gap\",\n        \"Some mantle rock partially melts, producing magma\",\n        \"Magma rises into the opening between plates\",\n        \"Magma cools and solidifies into new oceanic crust\",\n        \"Continued spreading carries older crust away from the center, helping build a ridge\"\n      ],\n      \"question\": \"Put the steps of seafloor spreading in order.\"\n    }\n  ]\n}",
      "outputTokens": 2191,
      "systemPrompt": "# Role\n\nYou are an expert quiz designer creating questions that test whether learners truly UNDERSTAND concepts — not whether they memorized specific words, metaphors, or examples.\n\n# Core Philosophy: Understanding vs. Memorization\n\nThis distinction is the heart of effective assessment.\n\n## Why Memorization-Based Questions Fail\n\n1. **False Positives**: A learner who memorized \"electricity flows like water through pipes\" can parrot this back without understanding how circuits actually work.\n\n2. **False Negatives**: A learner who deeply understands electrical circuits might fail a question asking \"What metaphor did the text use?\" because they remember the concept, not the phrasing.\n\n3. **Shallow Learning**: When learners know they'll be tested on exact wording, they memorize instead of building mental models.\n\n## What Understanding Looks Like\n\nA learner who understands a concept can:\n\n- Apply it to situations they've never seen before\n- Recognize the concept at work in unfamiliar contexts\n- Predict outcomes based on the concept's principles\n- Explain why something would or wouldn't work\n\n## The Transfer Test\n\nEvery question must pass this test: \"Could a learner who understood the concept but never read our specific explanation still answer this correctly?\"\n\nIf no, the question tests memorization, not understanding.\n\n# Non-Negotiable Rules\n\n1. **Never reference the explanation** — phrases like \"according to the text\" or \"as described\" are forbidden\n\n2. **Never test recall of specific words, metaphors, or examples** from the explanation steps\n\n3. **Use novel scenarios** — present concepts in everyday situations the learner hasn't seen\n\n4. **Conversational tone** — write like a curious friend posing interesting challenges, not an exam proctor\n\n# Using the Input\n\n- `EXPLANATION_STEPS` tells you WHAT concepts to test, NOT what text to reference\n- Extract the underlying concepts and test them in NEW contexts\n- If an explanation says \"A budget is like a roadmap\" — test whether learners understand what budgets do, NOT whether they remember the roadmap metaphor\n\n# Language Guidelines\n\nGenerate all content in the specified `LANGUAGE`:\n\n- `en`: US English unless content is region-specific\n- `pt`: Brazilian Portuguese unless content is region-specific\n- `es`: Latin American Spanish unless content is region-specific\n\n**Language Purity Rule**: Every word, character, and token in the output MUST be in the specified LANGUAGE. Never mix languages or scripts within a response. If the LANGUAGE is `en`, use only English words — no Chinese, Japanese, Korean, Arabic, or other script characters.\n\n# Format Selection\n\nChoose formats based on what genuinely tests understanding — not for variety's sake.\n\n**Multiple choice is often the best format.** It excels at testing whether learners can apply concepts to novel scenarios, which is the core goal. Use it freely when it fits.\n\nOther formats are available when they're genuinely better for specific content:\n\n- **matchColumns**: When the concept involves connecting observations to principles (e.g., matching symptoms to causes)\n- **fillBlank**: When completing a relationship or process tests understanding better than selecting from options\n- **sortOrder**: When the concept IS about sequence and order matters conceptually (e.g., steps in a biological process)\n- **selectImage**: Only when visual recognition genuinely tests the concept\n\n**Skip formats entirely if they don't fit.** Using several well-crafted multiple choice questions is far better than forcing variety with poorly-suited formats. Never use a format just because you haven't used it yet.\n\n# Quality Standards\n\nBefore creating each question, verify:\n\n- [ ] Answerable without reading the explanation, if the learner understands the concept\n- [ ] Tests application, not recall\n- [ ] Scenario is novel — not from the explanation\n- [ ] Tone is conversational\n- [ ] Feedback explains reasoning\n- [ ] Format is appropriate for this concept\n\n# Coverage\n\n- Test each major concept from EXPLANATION_STEPS at least once\n- Vary the contexts — don't reuse scenarios\n- Balance difficulty — some straightforward, some requiring deeper reasoning\n- Aim for 4-8 questions depending on concept count\n",
      "testCaseId": "en-geology-plate-tectonics-quiz-1",
      "userPrompt": "LESSON_TITLE: Plate Tectonics\nLESSON_DESCRIPTION: Understanding how Earth's tectonic plates move and interact, including the mechanisms that drive plate motion and the geological features they create\nCHAPTER_TITLE: Earth's Structure\nCOURSE_TITLE: Earth Science\nLANGUAGE: en\nEXPLANATION_STEPS:\n1. A Cracked Shell: Earth's outer shell is cracked into massive pieces called plates. These plates sit on the mantle - solid rock so hot it flows like thick honey over millions of years.\n2. The Engine Below: Heat from Earth's core creates circulation in the mantle. This slow churning drags the plates along, moving them centimeters per year.\n3. Spreading Apart: Where plates pull apart, magma rises to fill the gap, creating new crust. Mid-ocean ridges are underwater mountain chains formed this way.\n4. Collision Zones: Where plates collide, one may dive under the other, triggering earthquakes and volcanoes. Mountain ranges like the Himalayas form when neither plate sinks.\n\nGenerate quiz questions that test understanding of these concepts. Use the available tools to create questions in appropriate formats. Aim for 4-8 questions covering the key concepts."
    },
    {
      "duration": 66856.09570800001,
      "inputTokens": 324,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"Um laboratório adiciona uma droga que impede a enzima que “desenrola” a dupla hélice de funcionar. A célula ainda tem nucleotídeos e DNA polimerase disponíveis.\",\n      \"options\": [\n        {\n          \"feedback\": \"Correto: sem separar as duas fitas, não há molde exposto para a polimerase copiar, então a replicação para logo no início.\",\n          \"isCorrect\": true,\n          \"text\": \"A replicação praticamente não começa, porque as fitas não se separam para servir de molde.\"\n        },\n        {\n          \"feedback\": \"Incorreto: a polimerase não consegue “forçar” a separação da dupla hélice de forma eficiente; ela precisa do DNA aberto.\",\n          \"isCorrect\": false,\n          \"text\": \"A replicação continua normalmente; a DNA polimerase separa as fitas sozinha.\"\n        },\n        {\n          \"feedback\": \"Incorreto: a separação das fitas é necessária tanto para a síntese contínua quanto para a descontínua; não é um problema exclusivo da fita em pedaços.\",\n          \"isCorrect\": false,\n          \"text\": \"Só a fita copiada em pedaços para; a fita contínua continua sem problemas.\"\n        },\n        {\n          \"feedback\": \"Incorreto: bloquear a abertura do DNA impede o acesso ao molde, então o resultado principal não é “mais erros”, e sim falta de cópia.\",\n          \"isCorrect\": false,\n          \"text\": \"A replicação ocorre, mas com muito mais erros, porque a correção de erros depende dessa enzima.\"\n        }\n      ],\n      \"question\": \"O que você espera observar?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"Uma célula está copiando DNA. Em um ponto do molde, houve dano e uma base ficou alterada, não “combinando” bem com nenhuma base padrão.\",\n      \"options\": [\n        {\n          \"feedback\": \"Correto: a polimerase depende do pareamento com o molde; quando o molde está danificado, ela pode parar, inserir uma base errada ou exigir mecanismos de reparo para seguir.\",\n          \"isCorrect\": true,\n          \"text\": \"A síntese pode travar ou incorporar uma base incorreta, aumentando o risco de mutação naquele ponto.\"\n        },\n        {\n          \"feedback\": \"Incorreto: a polimerase não “adivinha” a sequência correta sem informação do molde; cópia perfeita apesar do dano não é o esperado.\",\n          \"isCorrect\": false,\n          \"text\": \"A polimerase ignora o molde nesse ponto e sempre coloca a base correta, sem risco de erro.\"\n        },\n        {\n          \"feedback\": \"Incorreto: a abertura das fitas não resolve um problema de qualidade do molde; o dano continua afetando a leitura.\",\n          \"isCorrect\": false,\n          \"text\": \"Nada muda, porque a enzima que separa as fitas compensa automaticamente esse tipo de dano.\"\n        },\n        {\n          \"feedback\": \"Incorreto: cada fita serve de molde para uma nova; um dano em um molde não impede toda a replicação de acontecer, embora cause problemas locais.\",\n          \"isCorrect\": false,\n          \"text\": \"A célula não consegue copiar nenhuma das duas fitas; a replicação inteira falha inevitavelmente.\"\n        }\n      ],\n      \"question\": \"Qual é a consequência mais provável?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"Você observa uma forquilha de replicação ao microscópio eletrônico. Em um dos lados, o DNA novo aparece como um fio contínuo. No outro lado, aparecem vários trechos curtos que depois se conectam.\",\n      \"options\": [\n        {\n          \"feedback\": \"Correto: por causa da limitação de direção da DNA polimerase e do antiparalelismo das fitas, uma é sintetizada continuamente (fita líder) e a outra em fragmentos (fita atrasada).\",\n          \"isCorrect\": true,\n          \"text\": \"Isso acontece porque a polimerase só alonga na direção permitida; uma fita dá para copiar “indo junto” com a forquilha e a outra precisa de fragmentos.\"\n        },\n        {\n          \"feedback\": \"Incorreto: a diferença não é “velocidade”, e sim geometria/direção de síntese em relação às fitas antiparalelas.\",\n          \"isCorrect\": false,\n          \"text\": \"Isso acontece porque a polimerase é mais lenta em uma das fitas, então ela acaba quebrando a cópia em pedaços.\"\n        },\n        {\n          \"feedback\": \"Incorreto: o molde não muda de papel; as fitas originais continuam sendo moldes. O que muda é como a síntese consegue avançar em cada orientação.\",\n          \"isCorrect\": false,\n          \"text\": \"Isso acontece porque uma das fitas originais deixa de servir como molde e precisa ser copiada a partir da fita recém-feita.\"\n        },\n        {\n          \"feedback\": \"Incorreto: separar as fitas é necessário nos dois lados. Fragmentos não significam que o DNA não foi aberto; significam síntese descontínua.\",\n          \"isCorrect\": false,\n          \"text\": \"Isso acontece porque a enzima que abre o DNA só consegue atuar em um lado da forquilha.\"\n        }\n      ],\n      \"question\": \"Por que surgem trechos curtos?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"Uma bactéria tem uma mutação que desativa a função de “revisão” que remove nucleotídeos recém-colocados quando estão errados, mas a síntese de DNA ainda ocorre.\",\n      \"options\": [\n        {\n          \"feedback\": \"Correto: sem revisão/correção durante a cópia, erros de pareamento tendem a permanecer, aumentando a taxa de mutações nas células-filhas.\",\n          \"isCorrect\": true,\n          \"text\": \"A taxa de mutações aumenta, porque mais erros de pareamento ficam no DNA recém-sintetizado.\"\n        },\n        {\n          \"feedback\": \"Incorreto: a revisão não “substitui” a necessidade de abrir o DNA; ela atua na fidelidade, não na separação das fitas.\",\n          \"isCorrect\": false,\n          \"text\": \"A replicação para completamente, porque sem revisão o DNA não consegue se separar.\"\n        },\n        {\n          \"feedback\": \"Incorreto: a revisão não determina a direção de síntese; o problema da direção vem da própria limitação da polimerase.\",\n          \"isCorrect\": false,\n          \"text\": \"A fita que era contínua vira descontínua, porque a revisão define o sentido de síntese.\"\n        },\n        {\n          \"feedback\": \"Incorreto: erros tendem a aumentar, não diminuir. Além disso, “mais rapidez” não garante fidelidade.\",\n          \"isCorrect\": false,\n          \"text\": \"O DNA fica mais fiel, porque a célula replica mais rápido e com menos pausas.\"\n        }\n      ],\n      \"question\": \"Qual efeito mais direto você espera?\"\n    },\n    {\n      \"format\": \"matchColumns\",\n      \"pairs\": [\n        {\n          \"left\": \"Enzima que separa as duas fitas da dupla hélice, criando a “abertura” para copiar\",\n          \"right\": \"Helicase (ou enzimas de desenrolamento/abertura do DNA)\"\n        },\n        {\n          \"left\": \"Enzima que adiciona nucleotídeos usando uma fita antiga como molde\",\n          \"right\": \"DNA polimerase\"\n        },\n        {\n          \"left\": \"Conjunto de atividades que detecta um nucleotídeo recém-inserido errado e o remove para tentar de novo\",\n          \"right\": \"Revisão/correção (proofreading/exonuclease associada à replicação)\"\n        },\n        {\n          \"left\": \"Enzima que conecta quimicamente trechos de DNA para formar uma fita contínua após síntese em pedaços\",\n          \"right\": \"DNA ligase\"\n        }\n      ],\n      \"question\": \"Associe cada função à molécula certa:\"\n    },\n    {\n      \"format\": \"sortOrder\",\n      \"feedback\": \"A replicação exige primeiro expor os moldes (separar fitas). Depois a DNA polimerase sintetiza novas fitas na direção permitida, o que pode gerar fragmentos em uma delas. Em seguida, erros de pareamento precisam ser corrigidos para manter alta fidelidade. Por fim, trechos descontínuos são ligados para virar uma fita contínua.\",\n      \"items\": [\n        \"Separar as duas fitas do DNA para expor os moldes\",\n        \"Sintetizar DNA novo a partir dos moldes (uma fita pode surgir em fragmentos)\",\n        \"Corrigir nucleotídeos inseridos incorretamente para aumentar a fidelidade\",\n        \"Unir os fragmentos da fita descontínua para formar uma fita contínua\"\n      ],\n      \"question\": \"Coloque em ordem lógica os eventos da replicação:\"\n    }\n  ]\n}",
      "outputTokens": 2514,
      "systemPrompt": "# Role\n\nYou are an expert quiz designer creating questions that test whether learners truly UNDERSTAND concepts — not whether they memorized specific words, metaphors, or examples.\n\n# Core Philosophy: Understanding vs. Memorization\n\nThis distinction is the heart of effective assessment.\n\n## Why Memorization-Based Questions Fail\n\n1. **False Positives**: A learner who memorized \"electricity flows like water through pipes\" can parrot this back without understanding how circuits actually work.\n\n2. **False Negatives**: A learner who deeply understands electrical circuits might fail a question asking \"What metaphor did the text use?\" because they remember the concept, not the phrasing.\n\n3. **Shallow Learning**: When learners know they'll be tested on exact wording, they memorize instead of building mental models.\n\n## What Understanding Looks Like\n\nA learner who understands a concept can:\n\n- Apply it to situations they've never seen before\n- Recognize the concept at work in unfamiliar contexts\n- Predict outcomes based on the concept's principles\n- Explain why something would or wouldn't work\n\n## The Transfer Test\n\nEvery question must pass this test: \"Could a learner who understood the concept but never read our specific explanation still answer this correctly?\"\n\nIf no, the question tests memorization, not understanding.\n\n# Non-Negotiable Rules\n\n1. **Never reference the explanation** — phrases like \"according to the text\" or \"as described\" are forbidden\n\n2. **Never test recall of specific words, metaphors, or examples** from the explanation steps\n\n3. **Use novel scenarios** — present concepts in everyday situations the learner hasn't seen\n\n4. **Conversational tone** — write like a curious friend posing interesting challenges, not an exam proctor\n\n# Using the Input\n\n- `EXPLANATION_STEPS` tells you WHAT concepts to test, NOT what text to reference\n- Extract the underlying concepts and test them in NEW contexts\n- If an explanation says \"A budget is like a roadmap\" — test whether learners understand what budgets do, NOT whether they remember the roadmap metaphor\n\n# Language Guidelines\n\nGenerate all content in the specified `LANGUAGE`:\n\n- `en`: US English unless content is region-specific\n- `pt`: Brazilian Portuguese unless content is region-specific\n- `es`: Latin American Spanish unless content is region-specific\n\n**Language Purity Rule**: Every word, character, and token in the output MUST be in the specified LANGUAGE. Never mix languages or scripts within a response. If the LANGUAGE is `en`, use only English words — no Chinese, Japanese, Korean, Arabic, or other script characters.\n\n# Format Selection\n\nChoose formats based on what genuinely tests understanding — not for variety's sake.\n\n**Multiple choice is often the best format.** It excels at testing whether learners can apply concepts to novel scenarios, which is the core goal. Use it freely when it fits.\n\nOther formats are available when they're genuinely better for specific content:\n\n- **matchColumns**: When the concept involves connecting observations to principles (e.g., matching symptoms to causes)\n- **fillBlank**: When completing a relationship or process tests understanding better than selecting from options\n- **sortOrder**: When the concept IS about sequence and order matters conceptually (e.g., steps in a biological process)\n- **selectImage**: Only when visual recognition genuinely tests the concept\n\n**Skip formats entirely if they don't fit.** Using several well-crafted multiple choice questions is far better than forcing variety with poorly-suited formats. Never use a format just because you haven't used it yet.\n\n# Quality Standards\n\nBefore creating each question, verify:\n\n- [ ] Answerable without reading the explanation, if the learner understands the concept\n- [ ] Tests application, not recall\n- [ ] Scenario is novel — not from the explanation\n- [ ] Tone is conversational\n- [ ] Feedback explains reasoning\n- [ ] Format is appropriate for this concept\n\n# Coverage\n\n- Test each major concept from EXPLANATION_STEPS at least once\n- Vary the contexts — don't reuse scenarios\n- Balance difficulty — some straightforward, some requiring deeper reasoning\n- Aim for 4-8 questions depending on concept count\n",
      "testCaseId": "pt-biology-dna-replication-quiz-1",
      "userPrompt": "LESSON_TITLE: Como o DNA se Replica\nLESSON_DESCRIPTION: Entendendo o processo de replicacao do DNA, incluindo as enzimas envolvidas e como a informacao genetica e copiada com alta fidelidade\nCHAPTER_TITLE: Genetica Molecular\nCOURSE_TITLE: Biologia Celular\nLANGUAGE: pt\nEXPLANATION_STEPS:\n1. Abrindo o Ziper: Antes de uma celula se dividir, ela precisa copiar todo seu DNA. O processo comeca quando enzimas separam as duas fitas da dupla helice.\n2. Lendo o Molde: Cada fita original serve de molde para uma nova. Enzimas chamadas DNA polimerases leem a fita antiga e constroem a nova, base por base.\n3. O Problema da Direcao: Ha um problema: a polimerase so consegue adicionar bases em uma direcao. Uma fita e copiada continuamente, mas a outra precisa ser copiada em pedacos.\n4. Corrigindo Erros: Enzimas de correcao verificam cada base adicionada. Se encontram um erro, removem e substituem. Esse controle de qualidade mantem a fidelidade genetica.\n\nGenerate quiz questions that test understanding of these concepts. Use the available tools to create questions in appropriate formats. Aim for 4-8 questions covering the key concepts."
    },
    {
      "duration": 33170.209958,
      "inputTokens": 1888,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"You’re photographing a friend riding a bike down a trail from left to right. You want the photo to feel energetic and give a sense of where they’re going.\",\n      \"options\": [\n        {\n          \"feedback\": \"Correct. Placing the rider near a left third (often on a vertical third line or nearby intersection) and leaving open space in front of them gives the viewer’s eye room to travel and reinforces the direction of motion.\",\n          \"isCorrect\": true,\n          \"text\": \"Place the rider around the left third of the frame and leave more empty space on the right (in front of them).\"\n        },\n        {\n          \"feedback\": \"Centering can work for symmetry or a formal look, but it often reduces the feeling of movement because the viewer’s eye has less visual ‘journey.’\",\n          \"isCorrect\": false,\n          \"text\": \"Center the rider so the frame feels balanced.\"\n        },\n        {\n          \"feedback\": \"Putting the rider tight to the edge often feels cramped and accidental, especially if there’s little space in front of the motion direction.\",\n          \"isCorrect\": false,\n          \"text\": \"Put the rider near the far right edge so the background is more visible.\"\n        },\n        {\n          \"feedback\": \"A diagonal can add energy, but if the rider is still centered it doesn’t use the off-center placement that typically guides the eye more naturally.\",\n          \"isCorrect\": false,\n          \"text\": \"Tilt the camera for a diagonal angle but keep the rider in the center.\"\n        }\n      ],\n      \"question\": \"Where should you place the rider?\"\n    }\n  ]\n}",
      "outputTokens": 1253,
      "systemPrompt": "# Role\n\nYou are an expert quiz designer creating questions that test whether learners truly UNDERSTAND concepts — not whether they memorized specific words, metaphors, or examples.\n\n# Core Philosophy: Understanding vs. Memorization\n\nThis distinction is the heart of effective assessment.\n\n## Why Memorization-Based Questions Fail\n\n1. **False Positives**: A learner who memorized \"electricity flows like water through pipes\" can parrot this back without understanding how circuits actually work.\n\n2. **False Negatives**: A learner who deeply understands electrical circuits might fail a question asking \"What metaphor did the text use?\" because they remember the concept, not the phrasing.\n\n3. **Shallow Learning**: When learners know they'll be tested on exact wording, they memorize instead of building mental models.\n\n## What Understanding Looks Like\n\nA learner who understands a concept can:\n\n- Apply it to situations they've never seen before\n- Recognize the concept at work in unfamiliar contexts\n- Predict outcomes based on the concept's principles\n- Explain why something would or wouldn't work\n\n## The Transfer Test\n\nEvery question must pass this test: \"Could a learner who understood the concept but never read our specific explanation still answer this correctly?\"\n\nIf no, the question tests memorization, not understanding.\n\n# Non-Negotiable Rules\n\n1. **Never reference the explanation** — phrases like \"according to the text\" or \"as described\" are forbidden\n\n2. **Never test recall of specific words, metaphors, or examples** from the explanation steps\n\n3. **Use novel scenarios** — present concepts in everyday situations the learner hasn't seen\n\n4. **Conversational tone** — write like a curious friend posing interesting challenges, not an exam proctor\n\n# Using the Input\n\n- `EXPLANATION_STEPS` tells you WHAT concepts to test, NOT what text to reference\n- Extract the underlying concepts and test them in NEW contexts\n- If an explanation says \"A budget is like a roadmap\" — test whether learners understand what budgets do, NOT whether they remember the roadmap metaphor\n\n# Language Guidelines\n\nGenerate all content in the specified `LANGUAGE`:\n\n- `en`: US English unless content is region-specific\n- `pt`: Brazilian Portuguese unless content is region-specific\n- `es`: Latin American Spanish unless content is region-specific\n\n**Language Purity Rule**: Every word, character, and token in the output MUST be in the specified LANGUAGE. Never mix languages or scripts within a response. If the LANGUAGE is `en`, use only English words — no Chinese, Japanese, Korean, Arabic, or other script characters.\n\n# Format Selection\n\nChoose formats based on what genuinely tests understanding — not for variety's sake.\n\n**Multiple choice is often the best format.** It excels at testing whether learners can apply concepts to novel scenarios, which is the core goal. Use it freely when it fits.\n\nOther formats are available when they're genuinely better for specific content:\n\n- **matchColumns**: When the concept involves connecting observations to principles (e.g., matching symptoms to causes)\n- **fillBlank**: When completing a relationship or process tests understanding better than selecting from options\n- **sortOrder**: When the concept IS about sequence and order matters conceptually (e.g., steps in a biological process)\n- **selectImage**: Only when visual recognition genuinely tests the concept\n\n**Skip formats entirely if they don't fit.** Using several well-crafted multiple choice questions is far better than forcing variety with poorly-suited formats. Never use a format just because you haven't used it yet.\n\n# Quality Standards\n\nBefore creating each question, verify:\n\n- [ ] Answerable without reading the explanation, if the learner understands the concept\n- [ ] Tests application, not recall\n- [ ] Scenario is novel — not from the explanation\n- [ ] Tone is conversational\n- [ ] Feedback explains reasoning\n- [ ] Format is appropriate for this concept\n\n# Coverage\n\n- Test each major concept from EXPLANATION_STEPS at least once\n- Vary the contexts — don't reuse scenarios\n- Balance difficulty — some straightforward, some requiring deeper reasoning\n- Aim for 4-8 questions depending on concept count\n",
      "testCaseId": "en-photography-composition-quiz-1",
      "userPrompt": "LESSON_TITLE: The Rule of Thirds\nLESSON_DESCRIPTION: Understanding the rule of thirds and how strategic subject placement creates more visually engaging photographs\nCHAPTER_TITLE: Composition Basics\nCOURSE_TITLE: Photography Fundamentals\nLANGUAGE: en\nEXPLANATION_STEPS:\n1. Beyond the Center: Most beginners center their subjects. While this works sometimes, placing subjects off-center often creates more dynamic, interesting images.\n2. The Grid: Imagine your frame divided by two horizontal and two vertical lines, creating nine equal sections. The four points where lines cross are power points.\n3. Strategic Placement: Placing your main subject on a power point or along a line draws the viewer's eye naturally. A horizon on the lower line emphasizes sky; on the upper line emphasizes ground.\n4. Why It Works: This guideline works because our eyes naturally scan images in patterns. Off-center placement gives the eye somewhere to travel, making photos feel more alive.\n\nGenerate quiz questions that test understanding of these concepts. Use the available tools to create questions in appropriate formats. Aim for 4-8 questions covering the key concepts."
    },
    {
      "duration": 62966.6275,
      "inputTokens": 316,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"You’re convinced a new supplement is helping your sleep. You find one article praising it and another showing no benefit. The “no benefit” article makes you feel tense and annoyed.\",\n      \"options\": [\n        {\n          \"feedback\": \"Right. This is favoring information that supports your belief and pushing away conflicting evidence mainly because it feels uncomfortable.\",\n          \"isCorrect\": true,\n          \"text\": \"You quickly decide the “no benefit” article must be biased and keep rereading the positive one without checking either study’s quality.\"\n        },\n        {\n          \"feedback\": \"Wrong. Comparing methods and weighing both sides is a safeguard against confirmation bias, not an example of it.\",\n          \"isCorrect\": false,\n          \"text\": \"You compare the studies’ sample sizes and methods before deciding what you think.\"\n        },\n        {\n          \"feedback\": \"Wrong. This is updating your belief in response to evidence, the opposite of confirmation bias.\",\n          \"isCorrect\": false,\n          \"text\": \"You decide the supplement probably doesn’t matter much and stop taking it.\"\n        },\n        {\n          \"feedback\": \"Wrong. Bringing in someone to challenge your thinking is a way to reduce confirmation bias.\",\n          \"isCorrect\": false,\n          \"text\": \"You ask a friend to play “devil’s advocate” and point out what you might be missing.\"\n        }\n      ],\n      \"question\": \"Which reaction best shows confirmation bias?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"You’re sure a particular neighborhood is unsafe. On a walk there, you notice a broken streetlight and a group of teens hanging out, but you barely register the busy café and families at the park.\",\n      \"options\": [\n        {\n          \"feedback\": \"Right. You’re preferentially noticing cues that fit your existing belief while downplaying cues that don’t.\",\n          \"isCorrect\": true,\n          \"text\": \"Selective attention that highlights information supporting your belief and tunes out contradicting details.\"\n        },\n        {\n          \"feedback\": \"Wrong. Random chance doesn’t explain a consistent pattern of noticing belief-confirming cues while missing others.\",\n          \"isCorrect\": false,\n          \"text\": \"Pure coincidence—your brain is noticing whatever happens to stand out that day.\"\n        },\n        {\n          \"feedback\": \"Wrong. A balanced risk assessment would deliberately consider all relevant cues, not mostly the ones that match your expectation.\",\n          \"isCorrect\": false,\n          \"text\": \"Careful, objective reasoning that weighs all signs equally.\"\n        },\n        {\n          \"feedback\": \"Wrong. Being cautious might influence behavior, but it doesn’t specifically explain the lopsided noticing and ignoring of information.\",\n          \"isCorrect\": false,\n          \"text\": \"A personality trait (being anxious) that makes you overreact to any neighborhood.\"\n        }\n      ],\n      \"question\": \"What’s the best explanation for this?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"Two friends who support rival teams watch the same soccer match. Each one walks away genuinely convinced the referee favored the other team and can list several “obvious” bad calls.\",\n      \"options\": [\n        {\n          \"feedback\": \"Right. Their expectations shape what they notice and remember, and it can feel completely sincere rather than intentional.\",\n          \"isCorrect\": true,\n          \"text\": \"An automatic bias in attention and memory that makes each fan notice and recall more evidence against their own team.\"\n        },\n        {\n          \"feedback\": \"Wrong. This implies deliberate deception, but the key clue is that both friends are sincere and feel certain.\",\n          \"isCorrect\": false,\n          \"text\": \"They’re both intentionally exaggerating to defend their team.\"\n        },\n        {\n          \"feedback\": \"Wrong. Referees can be inconsistent, but that wouldn’t predict opposite, equally confident interpretations from the same footage.\",\n          \"isCorrect\": false,\n          \"text\": \"The referee must have been objectively biased against both teams at different times.\"\n        },\n        {\n          \"feedback\": \"Wrong. Knowing rules can matter, but even experts can show this pattern when they’re invested in an outcome.\",\n          \"isCorrect\": false,\n          \"text\": \"They don’t understand the rules well enough to judge the calls.\"\n        }\n      ],\n      \"question\": \"Why can both feel so sure?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"A supervisor believes remote workers miss more deadlines. At review time, she easily recalls several remote-worker delays but struggles to remember similar delays from in-office staff.\",\n      \"options\": [\n        {\n          \"feedback\": \"Right. Prior beliefs can shape what comes to mind later, even if the person isn’t trying to be unfair.\",\n          \"isCorrect\": true,\n          \"text\": \"Her belief is guiding what she encodes and retrieves from memory, so confirming examples come to mind more readily.\"\n        },\n        {\n          \"feedback\": \"Wrong. This conclusion could be true, but the question is about why her recall is uneven, not what the true rate is.\",\n          \"isCorrect\": false,\n          \"text\": \"Remote workers actually do miss more deadlines, so her memory is accurate.\"\n        },\n        {\n          \"feedback\": \"Wrong. This describes conscious dishonesty; confirmation bias can happen without intentional distortion.\",\n          \"isCorrect\": false,\n          \"text\": \"She’s deliberately pretending not to remember the in-office delays.\"\n        },\n        {\n          \"feedback\": \"Wrong. Recency could matter, but the pattern here tracks group membership tied to her belief, not just what happened most recently.\",\n          \"isCorrect\": false,\n          \"text\": \"It’s mainly a recency effect—she remembers only the most recent problems.\"\n        }\n      ],\n      \"question\": \"What best explains her uneven recall?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": \"A clinic is testing a new pain medication. In one version, the staff know who got the drug and who got a placebo. In another, neither staff nor patients know, and an independent team checks the analysis.\",\n      \"options\": [\n        {\n          \"feedback\": \"Right. Blinding and independent review reduce the chance that expectations shape measurements, interpretations, or which results seem “convincing.”\",\n          \"isCorrect\": true,\n          \"text\": \"They limit the influence of expectations on how symptoms are observed, recorded, and interpreted.\"\n        },\n        {\n          \"feedback\": \"Wrong. These procedures don’t necessarily increase sample size; they change how information is collected and evaluated.\",\n          \"isCorrect\": false,\n          \"text\": \"They make the study’s sample size larger, which automatically removes bias.\"\n        },\n        {\n          \"feedback\": \"Wrong. Blinding doesn’t change the drug itself; it changes how people perceive and report outcomes.\",\n          \"isCorrect\": false,\n          \"text\": \"They increase the medication’s effectiveness by reducing stress.\"\n        },\n        {\n          \"feedback\": \"Wrong. Compliance can matter, but blinding and peer-style checks are mainly about reducing expectation-driven interpretation.\",\n          \"isCorrect\": false,\n          \"text\": \"They guarantee participants follow instructions, so results are more accurate.\"\n        }\n      ],\n      \"question\": \"Why use blinding and independent checks?\"\n    },\n    {\n      \"format\": \"matchColumns\",\n      \"pairs\": [\n        {\n          \"left\": \"You feel a wave of irritation when you read credible evidence that challenges your strongly held view.\",\n          \"right\": \"Discomfort with inconsistency (cognitive discomfort)\"\n        },\n        {\n          \"left\": \"While researching a big purchase, you keep clicking articles that support what you already want to buy and skim past critical reviews.\",\n          \"right\": \"Selective attention to belief-confirming information\"\n        },\n        {\n          \"left\": \"After an argument, you can vividly recall the other person’s weak points but honestly can’t bring to mind your own shaky claims.\",\n          \"right\": \"Unconscious filtering in memory/interpretation\"\n        },\n        {\n          \"left\": \"A study keeps the treatment assignment hidden from both participants and researchers, and other experts critique the methods before publication.\",\n          \"right\": \"External safeguards (blinding, peer review)\"\n        }\n      ],\n      \"question\": \"Match each scenario to what it illustrates.\"\n    }\n  ]\n}",
      "outputTokens": 2358,
      "systemPrompt": "# Role\n\nYou are an expert quiz designer creating questions that test whether learners truly UNDERSTAND concepts — not whether they memorized specific words, metaphors, or examples.\n\n# Core Philosophy: Understanding vs. Memorization\n\nThis distinction is the heart of effective assessment.\n\n## Why Memorization-Based Questions Fail\n\n1. **False Positives**: A learner who memorized \"electricity flows like water through pipes\" can parrot this back without understanding how circuits actually work.\n\n2. **False Negatives**: A learner who deeply understands electrical circuits might fail a question asking \"What metaphor did the text use?\" because they remember the concept, not the phrasing.\n\n3. **Shallow Learning**: When learners know they'll be tested on exact wording, they memorize instead of building mental models.\n\n## What Understanding Looks Like\n\nA learner who understands a concept can:\n\n- Apply it to situations they've never seen before\n- Recognize the concept at work in unfamiliar contexts\n- Predict outcomes based on the concept's principles\n- Explain why something would or wouldn't work\n\n## The Transfer Test\n\nEvery question must pass this test: \"Could a learner who understood the concept but never read our specific explanation still answer this correctly?\"\n\nIf no, the question tests memorization, not understanding.\n\n# Non-Negotiable Rules\n\n1. **Never reference the explanation** — phrases like \"according to the text\" or \"as described\" are forbidden\n\n2. **Never test recall of specific words, metaphors, or examples** from the explanation steps\n\n3. **Use novel scenarios** — present concepts in everyday situations the learner hasn't seen\n\n4. **Conversational tone** — write like a curious friend posing interesting challenges, not an exam proctor\n\n# Using the Input\n\n- `EXPLANATION_STEPS` tells you WHAT concepts to test, NOT what text to reference\n- Extract the underlying concepts and test them in NEW contexts\n- If an explanation says \"A budget is like a roadmap\" — test whether learners understand what budgets do, NOT whether they remember the roadmap metaphor\n\n# Language Guidelines\n\nGenerate all content in the specified `LANGUAGE`:\n\n- `en`: US English unless content is region-specific\n- `pt`: Brazilian Portuguese unless content is region-specific\n- `es`: Latin American Spanish unless content is region-specific\n\n**Language Purity Rule**: Every word, character, and token in the output MUST be in the specified LANGUAGE. Never mix languages or scripts within a response. If the LANGUAGE is `en`, use only English words — no Chinese, Japanese, Korean, Arabic, or other script characters.\n\n# Format Selection\n\nChoose formats based on what genuinely tests understanding — not for variety's sake.\n\n**Multiple choice is often the best format.** It excels at testing whether learners can apply concepts to novel scenarios, which is the core goal. Use it freely when it fits.\n\nOther formats are available when they're genuinely better for specific content:\n\n- **matchColumns**: When the concept involves connecting observations to principles (e.g., matching symptoms to causes)\n- **fillBlank**: When completing a relationship or process tests understanding better than selecting from options\n- **sortOrder**: When the concept IS about sequence and order matters conceptually (e.g., steps in a biological process)\n- **selectImage**: Only when visual recognition genuinely tests the concept\n\n**Skip formats entirely if they don't fit.** Using several well-crafted multiple choice questions is far better than forcing variety with poorly-suited formats. Never use a format just because you haven't used it yet.\n\n# Quality Standards\n\nBefore creating each question, verify:\n\n- [ ] Answerable without reading the explanation, if the learner understands the concept\n- [ ] Tests application, not recall\n- [ ] Scenario is novel — not from the explanation\n- [ ] Tone is conversational\n- [ ] Feedback explains reasoning\n- [ ] Format is appropriate for this concept\n\n# Coverage\n\n- Test each major concept from EXPLANATION_STEPS at least once\n- Vary the contexts — don't reuse scenarios\n- Balance difficulty — some straightforward, some requiring deeper reasoning\n- Aim for 4-8 questions depending on concept count\n",
      "testCaseId": "en-psychology-confirmation-bias-quiz-1",
      "userPrompt": "LESSON_TITLE: Confirmation Bias\nLESSON_DESCRIPTION: Understanding confirmation bias - how our tendency to favor information that confirms existing beliefs affects our perception and decision-making\nCHAPTER_TITLE: Cognitive Biases\nCOURSE_TITLE: Introduction to Psychology\nLANGUAGE: en\nEXPLANATION_STEPS:\n1. The Comfort of Consistency: Our brains prefer consistency. When we believe something, finding contradicting evidence feels uncomfortable - like a mental itch we want to scratch away.\n2. Selective Attention: To avoid discomfort, our brains play tricks. We notice evidence supporting our beliefs and unconsciously filter out or dismiss contradicting evidence.\n3. Unconscious Filtering: This happens automatically, not deliberately. A sports fan genuinely sees more fouls by the opposing team. A political supporter honestly remembers more flaws in opponents.\n4. Safeguards Help: Even scientists fall prey to this. That's why research uses blind studies and peer review - external checks against our natural tendency to see what we expect.\n\nGenerate quiz questions that test understanding of these concepts. Use the available tools to create questions in appropriate formats. Aim for 4-8 questions covering the key concepts."
    }
  ],
  "taskId": "activity-explanation-quiz"
}
