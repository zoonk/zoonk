{
  "generatedAt": "2026-01-18T03:55:30.999Z",
  "modelId": "openai/gpt-5.2",
  "outputs": [
    {
      "duration": 12961.778625000003,
      "inputTokens": 1682,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"On macOS, check Apple menu > About This Mac. On Windows, open Settings > System > About. Note whether you’re on macOS or Windows and whether it’s 64‑bit. You should know your OS before downloading.\",\n      \"title\": \"Confirm your OS and system type\"\n    },\n    {\n      \"text\": \"Open a browser and go to https://git-scm.com/downloads. You should see download options for your operating system.\",\n      \"title\": \"Open the official Git downloads page\"\n    },\n    {\n      \"text\": \"Click the download button for your OS (Windows or macOS). The installer file should start downloading (Windows: .exe, macOS: .dmg).\",\n      \"title\": \"Download the Git installer\"\n    },\n    {\n      \"text\": \"Open your Downloads folder and double-click the Git installer you downloaded. You should see the Git setup wizard (Windows) or a mounted disk window (macOS).\",\n      \"title\": \"Run the installer\"\n    },\n    {\n      \"text\": \"In the setup wizard, click Next (or Continue) through the default options until you see Install. You should still be in the installer flow without errors.\",\n      \"title\": \"Proceed with default setup options\"\n    },\n    {\n      \"text\": \"Click Install (Windows) or Install/Continue (macOS) and wait for it to finish. You should see a completion screen or success message at the end.\",\n      \"title\": \"Start the installation\"\n    },\n    {\n      \"text\": \"Click Finish (Windows) or Close (macOS) to exit the installer. The installer window should disappear.\",\n      \"title\": \"Finish and close the installer\"\n    },\n    {\n      \"text\": \"On Windows, open Start and search “Git Bash,” then open it. On macOS, open the Terminal app. You should see a command prompt ready for typing.\",\n      \"title\": \"Open a terminal app\"\n    },\n    {\n      \"text\": \"Type `git --version` and press Enter. You should see output like `git version 2.x.x`. If you see “command not found,” close the terminal and reopen it.\",\n      \"title\": \"Verify Git is installed\"\n    },\n    {\n      \"text\": \"Type `where git` (Windows) or `which git` (macOS) and press Enter. You should see a file path to Git (for example, `C:\\\\Program Files\\\\Git\\\\...` or `/usr/bin/git`).\",\n      \"title\": \"Confirm Git is on your PATH\"\n    }\n  ]\n}",
      "outputTokens": 455,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-tech-install-git-1",
      "userPrompt": "LESSON_TITLE: How to Set Up Git\nLESSON_DESCRIPTION: Setting up your development environment by installing and configuring Git version control\nCHAPTER_TITLE: Getting Started\nCOURSE_TITLE: Git Fundamentals\nLANGUAGE: en\nACTIVITY_TITLE: Install Git\nACTIVITY_DESCRIPTION: Download and install Git on your computer, including verification that the installation succeeded"
    },
    {
      "duration": 14557.139667,
      "inputTokens": 1694,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Pull over to a flat, firm spot away from traffic. Turn on hazard lights. You should be on level ground; if it’s sloped or soft, move the car before continuing.\",\n      \"title\": \"Park in a safe, level spot\"\n    },\n    {\n      \"text\": \"Shift to Park (or 1st gear for manual) and set the parking brake fully. The brake lever/pedal should feel locked in place.\",\n      \"title\": \"Secure the vehicle\"\n    },\n    {\n      \"text\": \"Place wheel chocks or a heavy object behind and in front of the tire opposite the flat. The car should not roll when you gently push it.\",\n      \"title\": \"Chock the opposite wheel\"\n    },\n    {\n      \"text\": \"Remove the spare tire, jack, and lug wrench from your trunk/under-seat storage. You should have all tools beside the flat tire.\",\n      \"title\": \"Get the jack and tools\"\n    },\n    {\n      \"text\": \"Pry off the hubcap or wheel cover (if present) using the flat end of the lug wrench or a trim tool. You should see the lug nuts fully exposed.\",\n      \"title\": \"Remove the hubcap (if needed)\"\n    },\n    {\n      \"text\": \"Fit the lug wrench on a lug nut and turn counterclockwise 1/4–1/2 turn. Loosen each lug nut the same amount without removing them. If it won’t budge, press down with your foot carefully.\",\n      \"title\": \"Loosen lug nuts slightly\"\n    },\n    {\n      \"text\": \"Find the jacking point nearest the flat tire (check the owner’s manual or the pinch weld notch). You should see a reinforced metal point meant for the jack.\",\n      \"title\": \"Locate the jacking point\"\n    },\n    {\n      \"text\": \"Place the jack under the jacking point and align it so it sits straight and centered. The jack base should be flat on the ground and not tilted.\",\n      \"title\": \"Position the jack correctly\"\n    },\n    {\n      \"text\": \"Crank the jack until it contacts the car and feels snug. You should see the jack firmly touching the lift point without shifting.\",\n      \"title\": \"Raise the jack to contact\"\n    },\n    {\n      \"text\": \"Continue jacking until the flat tire is 1–2 inches off the ground. The car should feel stable; if it wobbles, lower it and reposition the jack.\",\n      \"title\": \"Lift the car off the ground\"\n    },\n    {\n      \"text\": \"Finish turning the lug nuts counterclockwise and remove them by hand. Place them in a pocket or container so they don’t roll away.\",\n      \"title\": \"Remove the lug nuts\"\n    },\n    {\n      \"text\": \"Grip the tire at 3 and 9 o’clock and pull straight toward you. The wheel should slide off the studs; if stuck, tap the sidewall with your palm and pull again.\",\n      \"title\": \"Pull the flat tire off\"\n    }\n  ]\n}",
      "outputTokens": 537,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-automotive-remove-flat-tire-1",
      "userPrompt": "LESSON_TITLE: Changing a Car Tire\nLESSON_DESCRIPTION: Step-by-step guide to safely changing a flat tire on the side of the road\nCHAPTER_TITLE: Roadside Emergencies\nCOURSE_TITLE: Basic Car Maintenance\nLANGUAGE: en\nACTIVITY_TITLE: Remove the Flat Tire\nACTIVITY_DESCRIPTION: Safely remove a flat tire from your vehicle, including proper jacking and lug nut removal"
    },
    {
      "duration": 14877.922292000001,
      "inputTokens": 1692,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Gather a French press, kettle, scale or measuring spoon, timer, mug, coffee, and filtered water. You should have everything within reach before you start.\",\n      \"title\": \"Gather your tools\"\n    },\n    {\n      \"text\": \"Preheat the French press by filling it with hot water, then swirl. The glass should feel warm; if not, repeat once more.\",\n      \"title\": \"Preheat the French press\"\n    },\n    {\n      \"text\": \"Pour out the preheat water completely. The carafe should be empty with no standing water left inside.\",\n      \"title\": \"Empty the press\"\n    },\n    {\n      \"text\": \"Measure coffee grounds: use 30 g coffee (or 4 Tbsp) for 500 g/mL water. You should have an even, level dose ready to add.\",\n      \"title\": \"Measure the coffee\"\n    },\n    {\n      \"text\": \"Add the measured grounds to the empty French press. You should see an even bed of grounds covering the bottom.\",\n      \"title\": \"Add grounds to the press\"\n    },\n    {\n      \"text\": \"Heat water to 200–205°F (93–96°C). If you don’t have a thermometer, bring to a boil, then wait 30 seconds.\",\n      \"title\": \"Heat the water\"\n    },\n    {\n      \"text\": \"Start a timer and pour just enough water to fully wet the grounds (about 2x the coffee weight). All grounds should look saturated with no dry spots.\",\n      \"title\": \"Bloom the coffee\"\n    },\n    {\n      \"text\": \"Wait 30 seconds. You should see bubbling slow down and the coffee bed settle slightly.\",\n      \"title\": \"Wait for the bloom\"\n    },\n    {\n      \"text\": \"Pour the remaining water until you reach your target (for example, 500 g/mL). The liquid level should sit below the spout line.\",\n      \"title\": \"Add the remaining water\"\n    },\n    {\n      \"text\": \"Stir the slurry 3–5 gentle circles with a spoon or paddle. The top should look evenly mixed with no dry clumps.\",\n      \"title\": \"Stir gently\"\n    },\n    {\n      \"text\": \"Place the lid on with the plunger pulled all the way up. The press should be covered, with the filter not touching the coffee yet.\",\n      \"title\": \"Set the lid on top\"\n    },\n    {\n      \"text\": \"Wait until the timer reaches 4:00 total brew time. The crust on top should look darker and mostly still.\",\n      \"title\": \"Steep for 4 minutes\"\n    },\n    {\n      \"text\": \"Press the plunger down slowly for 15–30 seconds. You should feel steady resistance; if it jams hard, pull up slightly and press again.\",\n      \"title\": \"Plunge slowly\"\n    },\n    {\n      \"text\": \"Stop pressing when the plunger reaches the bottom. The handle should be fully down and the grounds compressed beneath the filter.\",\n      \"title\": \"Finish the plunge\"\n    },\n    {\n      \"text\": \"Pour coffee into your mug immediately. The stream should look clear, and you should stop before pouring the last gritty ounce.\",\n      \"title\": \"Pour and serve\"\n    }\n  ]\n}",
      "outputTokens": 555,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-cooking-brew-coffee-1",
      "userPrompt": "LESSON_TITLE: Making French Press Coffee\nLESSON_DESCRIPTION: Master the French press method for making rich, full-bodied coffee at home\nCHAPTER_TITLE: Coffee Brewing Methods\nCOURSE_TITLE: Home Barista Basics\nLANGUAGE: en\nACTIVITY_TITLE: Brew the Coffee\nACTIVITY_DESCRIPTION: Brew a perfect cup of coffee using a French press, from measuring grounds to plunging and pouring"
    },
    {
      "duration": 14534.389625,
      "inputTokens": 1687,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Choose a spot that gets 6–8+ hours of sun. The bed should drain well (no puddles after rain). If water sits for hours, pick a higher spot or plan a raised bed.\",\n      \"title\": \"Pick a sunny, well-drained bed\"\n    },\n    {\n      \"text\": \"Pull out weeds, dead plants, and rocks from the tomato bed. You’re done when the soil surface is mostly bare and you can see the bed edges clearly.\",\n      \"title\": \"Clear weeds and debris\"\n    },\n    {\n      \"text\": \"Use a shovel or garden fork to loosen soil 10–12 in deep across the bed. Stop when the tool slides in easily and the soil breaks into chunks instead of hard slabs.\",\n      \"title\": \"Loosen soil 10–12 inches deep\"\n    },\n    {\n      \"text\": \"Break large clods with the shovel or a rake until most pieces are golf-ball sized or smaller. You should be able to crumble a handful with light pressure.\",\n      \"title\": \"Break up big soil clumps\"\n    },\n    {\n      \"text\": \"Spread 2–3 in of compost over the bed surface (more if soil is very sandy). You should see an even layer covering the soil, not piles in one area.\",\n      \"title\": \"Add a layer of compost\"\n    },\n    {\n      \"text\": \"Sprinkle a balanced organic fertilizer per the label rate over the compost. Verify by measuring the bed area and applying evenly—no visible heavy stripes or clumps.\",\n      \"title\": \"Apply fertilizer as directed\"\n    },\n    {\n      \"text\": \"Mix compost and fertilizer into the top 8–10 in of soil with a fork or shovel. You’re done when you no longer see a distinct compost layer on top.\",\n      \"title\": \"Work amendments into the soil\"\n    },\n    {\n      \"text\": \"Rake the bed level and smooth, leaving a slightly raised surface for drainage. The bed should look even, with no low spots that could collect water.\",\n      \"title\": \"Rake the bed smooth and level\"\n    },\n    {\n      \"text\": \"Dig a small hole 6 in deep, fill with water, and time it. If it drains within 1–2 hours, you’re good; if it’s still soggy, add more compost and raise the bed.\",\n      \"title\": \"Check drainage with a quick soak test\"\n    },\n    {\n      \"text\": \"Water the bed lightly until the top few inches are evenly moist. The soil should feel like a wrung-out sponge—damp but not muddy or dripping.\",\n      \"title\": \"Moisten the soil to condition it\"\n    },\n    {\n      \"text\": \"Let the bed rest 24–48 hours before planting. It’s ready when the surface is moist and crumbly, and footprints don’t fill with water.\",\n      \"title\": \"Let the bed settle\"\n    }\n  ]\n}",
      "outputTokens": 521,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-gardening-prepare-soil-1",
      "userPrompt": "LESSON_TITLE: Planting Tomatoes\nLESSON_DESCRIPTION: Complete guide to planting and growing healthy tomato plants in your home garden\nCHAPTER_TITLE: Growing Vegetables\nCOURSE_TITLE: Home Gardening\nLANGUAGE: en\nACTIVITY_TITLE: Prepare the Soil\nACTIVITY_DESCRIPTION: Prepare a garden bed for tomato planting by loosening, amending, and conditioning the soil"
    },
    {
      "duration": 17708.75475,
      "inputTokens": 1687,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Gather your pillowcase pattern, fabric, measuring tape/ruler, fabric marker or chalk, pins/clips, and fabric scissors/rotary cutter. You’re ready when everything is within reach on a flat surface.\",\n      \"title\": \"Gather tools and materials\"\n    },\n    {\n      \"text\": \"Press the fabric flat with an iron so it lies smooth. You should see no major wrinkles; if the fabric keeps shifting, press again or use starch.\",\n      \"title\": \"Iron the fabric flat\"\n    },\n    {\n      \"text\": \"Spread the fabric on a large table or clean floor with the selvage edges straight. The fabric should lie flat without bubbles or folds.\",\n      \"title\": \"Lay fabric on a flat surface\"\n    },\n    {\n      \"text\": \"Fold the fabric as your pattern indicates (often right sides together). Line up edges carefully; the fold should be straight with corners matching.\",\n      \"title\": \"Fold fabric per pattern\"\n    },\n    {\n      \"text\": \"Match the selvage edges and smooth from the center outward. When aligned, the edges stay even when you run your hand along them.\",\n      \"title\": \"Align the fabric grain\"\n    },\n    {\n      \"text\": \"Place the pattern piece on the fabric following the layout diagram (usually on the fold or parallel to selvage). The pattern should sit flat without curling.\",\n      \"title\": \"Position the pattern pieces\"\n    },\n    {\n      \"text\": \"Measure from the pattern’s grainline to the selvage at the top and bottom and adjust until both measurements match. You’ll know it’s correct when distances are equal.\",\n      \"title\": \"Check grainline alignment\"\n    },\n    {\n      \"text\": \"Pin the pattern to the fabric, placing pins perpendicular to the cutting line every 2–4 inches. The pattern shouldn’t shift when you lift an edge lightly.\",\n      \"title\": \"Pin pattern in place\"\n    },\n    {\n      \"text\": \"Use chalk/marker to trace around the pattern, including notches and fold marks. You should see a clear, continuous outline and small mark indicators.\",\n      \"title\": \"Trace the cutting lines\"\n    },\n    {\n      \"text\": \"Add seam allowance only if your pattern requires it. Use a ruler to mark the correct distance (commonly 1/2 in). The final outline should be evenly spaced from the pattern line.\",\n      \"title\": \"Mark seam allowance (if needed)\"\n    },\n    {\n      \"text\": \"Cut along the marked outer line with fabric scissors, keeping the bottom blade on the table. The cut edge should look smooth, not jagged.\",\n      \"title\": \"Cut the first piece\"\n    },\n    {\n      \"text\": \"Cut notches outward as small triangles or make short snips within the seam allowance. Each notch should be visible but not extend past the seam line.\",\n      \"title\": \"Cut notches and markings\"\n    },\n    {\n      \"text\": \"Unpin and stack the cut pieces together, matching edges. The pieces should be the same size and shape when aligned.\",\n      \"title\": \"Compare and stack pieces\"\n    },\n    {\n      \"text\": \"Label pieces with chalk (e.g., “body,” “cuff”) if your pattern has multiple parts. You should be able to identify each piece at a glance.\",\n      \"title\": \"Label the fabric pieces\"\n    }\n  ]\n}",
      "outputTokens": 582,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-crafts-cut-fabric-1",
      "userPrompt": "LESSON_TITLE: Sewing a Pillowcase\nLESSON_DESCRIPTION: Learn to sew a simple pillowcase from start to finish using basic techniques\nCHAPTER_TITLE: Basic Sewing Projects\nCOURSE_TITLE: Sewing for Beginners\nLANGUAGE: en\nACTIVITY_TITLE: Cut the Fabric\nACTIVITY_DESCRIPTION: Measure, pin, and cut fabric pieces for a pillowcase following a pattern"
    },
    {
      "duration": 14284.389584,
      "inputTokens": 1684,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Get your guitar and either a clip-on tuner, phone tuner app, or a reference pitch source. Sit somewhere quiet so the tuner can “hear” clearly.\",\n      \"title\": \"Gather your tuner and guitar\"\n    },\n    {\n      \"text\": \"Sit upright and hold the guitar comfortably. You should be able to reach all tuning pegs without twisting your wrist.\",\n      \"title\": \"Get into a stable playing position\"\n    },\n    {\n      \"text\": \"Turn on your tuner or open the tuner app. Confirm it shows note names (A–G) and indicates sharp/flat (often a needle or bars).\",\n      \"title\": \"Start the tuner\"\n    },\n    {\n      \"text\": \"If using a clip-on tuner, clip it to the headstock. You should see the tuner respond when you pluck any string.\",\n      \"title\": \"Attach the tuner (if clip-on)\"\n    },\n    {\n      \"text\": \"Set the tuner to chromatic or “Guitar/Standard.” If you see a choice, select “Standard tuning.” The screen should be ready to show string notes.\",\n      \"title\": \"Set tuner mode to standard\"\n    },\n    {\n      \"text\": \"Pluck the thickest string (6th string). Let it ring without touching it. The tuner should show a note near E.\",\n      \"title\": \"Pluck the 6th string\"\n    },\n    {\n      \"text\": \"Turn the 6th-string tuning peg slowly until the tuner reads E. Stop when the indicator centers or turns green; if it goes past, turn back slightly.\",\n      \"title\": \"Tune the 6th string to E\"\n    },\n    {\n      \"text\": \"Pluck the 5th string (next thickest). The tuner should show a note near A when it’s close.\",\n      \"title\": \"Pluck the 5th string\"\n    },\n    {\n      \"text\": \"Turn the 5th-string tuning peg slowly until the tuner reads A and the indicator centers/turns green.\",\n      \"title\": \"Tune the 5th string to A\"\n    },\n    {\n      \"text\": \"Pluck the 4th string. The tuner should show a note near D.\",\n      \"title\": \"Pluck the 4th string\"\n    },\n    {\n      \"text\": \"Turn the 4th-string tuning peg until the tuner reads D and the indicator centers/turns green.\",\n      \"title\": \"Tune the 4th string to D\"\n    },\n    {\n      \"text\": \"Pluck the 3rd string. The tuner should show a note near G.\",\n      \"title\": \"Pluck the 3rd string\"\n    },\n    {\n      \"text\": \"Turn the 3rd-string tuning peg until the tuner reads G and the indicator centers/turns green.\",\n      \"title\": \"Tune the 3rd string to G\"\n    },\n    {\n      \"text\": \"Pluck the 2nd string. The tuner should show a note near B.\",\n      \"title\": \"Pluck the 2nd string\"\n    },\n    {\n      \"text\": \"Turn the 2nd-string tuning peg until the tuner reads B and the indicator centers/turns green.\",\n      \"title\": \"Tune the 2nd string to B\"\n    },\n    {\n      \"text\": \"Pluck the thinnest string (1st string). The tuner should show a note near E.\",\n      \"title\": \"Pluck the 1st string\"\n    },\n    {\n      \"text\": \"Turn the 1st-string tuning peg until the tuner reads E and the indicator centers/turns green.\",\n      \"title\": \"Tune the 1st string to E\"\n    },\n    {\n      \"text\": \"Pluck each string once from 6th to 1st. Each should read E, A, D, G, B, E without drifting far from center.\",\n      \"title\": \"Recheck all strings\"\n    },\n    {\n      \"text\": \"If any string is off after rechecking, tune that string again to the correct note, then recheck once more. You’re done when all six stay centered.\",\n      \"title\": \"Touch up and confirm tuning\"\n    }\n  ]\n}",
      "outputTokens": 717,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-music-tune-guitar-1",
      "userPrompt": "LESSON_TITLE: Getting Started with Guitar\nLESSON_DESCRIPTION: Essential setup steps before you start playing guitar, including tuning and posture\nCHAPTER_TITLE: Guitar Basics\nCOURSE_TITLE: Learn Guitar\nLANGUAGE: en\nACTIVITY_TITLE: Tune Your Guitar\nACTIVITY_DESCRIPTION: Tune each string of your guitar to standard tuning using a tuner or reference pitch"
    },
    {
      "duration": 14797.231625,
      "inputTokens": 1685,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Switch your camera’s mode dial to M (Manual). You should see “M” on the screen or in the viewfinder. If you don’t, rotate the dial until M clicks into place.\",\n      \"title\": \"Set the camera to Manual (M)\"\n    },\n    {\n      \"text\": \"Point the camera at your scene and half-press the shutter (or press your meter button). You should see the exposure meter scale (often -…0…+). If it’s not visible, tap Display/Info.\",\n      \"title\": \"Activate the exposure meter\"\n    },\n    {\n      \"text\": \"Set ISO to a starting value (e.g., ISO 100 outdoors, ISO 400–800 indoors). Confirm the ISO number changes on the screen/viewfinder. If ISO won’t change, check for Auto ISO and turn it off.\",\n      \"title\": \"Choose a starting ISO\"\n    },\n    {\n      \"text\": \"Turn the main dial to set your aperture (f-number). Confirm the f-value changes (e.g., f/2.8, f/8). If it won’t change, hold the Av/+/- button while turning the dial (common on some cameras).\",\n      \"title\": \"Set the aperture\"\n    },\n    {\n      \"text\": \"Turn the dial assigned to shutter speed to set a starting speed. Confirm the shutter value changes (e.g., 1/60, 1/250). If you only have one dial, hold the appropriate button (often “Tv” or “S”) while turning.\",\n      \"title\": \"Set the shutter speed\"\n    },\n    {\n      \"text\": \"Half-press the shutter and read the meter. If the indicator is left of 0, the scene is underexposed; right of 0 is overexposed. Your goal for “proper exposure” is typically near 0.\",\n      \"title\": \"Check the meter reading\"\n    },\n    {\n      \"text\": \"Increase exposure by adjusting ONE setting: slow the shutter (e.g., 1/250→1/125), open the aperture (f/8→f/5.6), or raise ISO (200→400). Re-check until the meter moves closer to 0.\",\n      \"title\": \"Brighten the exposure\"\n    },\n    {\n      \"text\": \"Decrease exposure by adjusting ONE setting: speed up the shutter (1/125→1/250), close the aperture (f/5.6→f/8), or lower ISO (400→200). Re-check until the meter moves closer to 0.\",\n      \"title\": \"Darken the exposure\"\n    },\n    {\n      \"text\": \"Take a photo and review it. You should see a usable image with detail in important areas. If it looks too bright/dark despite the meter, adjust one setting slightly and shoot again.\",\n      \"title\": \"Capture a test shot\"\n    },\n    {\n      \"text\": \"Turn on playback histogram (if available) and review it. If the graph is crushed to the left, brighten; if it’s piled against the right edge, darken. Confirm the histogram sits mostly within the left/right edges.\",\n      \"title\": \"Verify with the histogram\"\n    }\n  ]\n}",
      "outputTokens": 588,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-photography-adjust-exposure-1",
      "userPrompt": "LESSON_TITLE: Manual Camera Settings\nLESSON_DESCRIPTION: Understanding and using manual camera settings to control exposure\nCHAPTER_TITLE: Camera Controls\nCOURSE_TITLE: Photography Fundamentals\nLANGUAGE: en\nACTIVITY_TITLE: Adjust Camera Exposure\nACTIVITY_DESCRIPTION: Adjust your camera's exposure settings (ISO, aperture, shutter speed) to achieve proper exposure for your scene"
    },
    {
      "duration": 14518.492,
      "inputTokens": 1686,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Stand in an open space with a mirror in front or your phone set to record from the side. You should have enough room to squat without hitting anything.\",\n      \"title\": \"Set up your space\"\n    },\n    {\n      \"text\": \"Stand tall with feet about shoulder-width apart. Your toes should point slightly out (about 10–30°).\",\n      \"title\": \"Set your stance\"\n    },\n    {\n      \"text\": \"Lift your chest and look straight ahead. You should feel tall through your spine, not hunched forward.\",\n      \"title\": \"Choose your gaze and posture\"\n    },\n    {\n      \"text\": \"Brace your core as if preparing for a gentle punch to your stomach. You should feel your midsection firm, not sucked in.\",\n      \"title\": \"Brace your core\"\n    },\n    {\n      \"text\": \"Reach your arms straight forward at shoulder height. Your arms should be parallel to the floor.\",\n      \"title\": \"Set your arms\"\n    },\n    {\n      \"text\": \"Start the squat by pushing your hips back slightly. You should feel your weight shift toward your heels without your toes lifting.\",\n      \"title\": \"Initiate with hips back\"\n    },\n    {\n      \"text\": \"Bend your knees and lower your body under control. Your knees should track over your toes, not collapse inward.\",\n      \"title\": \"Lower with knees tracking\"\n    },\n    {\n      \"text\": \"Keep your heels flat on the floor as you descend. If your heels lift, widen your stance slightly or turn toes out a bit more.\",\n      \"title\": \"Keep heels down\"\n    },\n    {\n      \"text\": \"Lower until your thighs are at least parallel to the floor (or as low as you can while staying balanced). You should feel stable, not tipping forward.\",\n      \"title\": \"Reach your depth\"\n    },\n    {\n      \"text\": \"Pause for 1 second at the bottom. You should still be able to hold your brace and keep your chest lifted.\",\n      \"title\": \"Hold the bottom position\"\n    },\n    {\n      \"text\": \"Drive through your mid-foot and heels to stand up. You should rise smoothly without your knees caving in.\",\n      \"title\": \"Stand up\"\n    },\n    {\n      \"text\": \"Fully straighten your hips and knees at the top without leaning back. You should end tall with ribs stacked over hips.\",\n      \"title\": \"Finish tall\"\n    },\n    {\n      \"text\": \"Do 5 slow reps while watching the mirror/recording. You should see a neutral back and knees tracking over toes each rep.\",\n      \"title\": \"Check your form\"\n    },\n    {\n      \"text\": \"Adjust your stance and repeat 5 reps. You should feel more balanced and keep heels down after each small adjustment.\",\n      \"title\": \"Make one small fix and retry\"\n    }\n  ]\n}",
      "outputTokens": 477,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-fitness-proper-squat-form-1",
      "userPrompt": "LESSON_TITLE: How to Do Squats\nLESSON_DESCRIPTION: Complete guide to performing squats safely and effectively for building lower body strength\nCHAPTER_TITLE: Lower Body Exercises\nCOURSE_TITLE: Strength Training Basics\nLANGUAGE: en\nACTIVITY_TITLE: Master Proper Form\nACTIVITY_DESCRIPTION: Learn and practice the correct body positioning for a proper bodyweight squat"
    },
    {
      "duration": 19818.766167,
      "inputTokens": 1704,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Separe: farinha de trigo, água morna, fermento biológico seco, açúcar, sal, óleo (ou manteiga), 1 tigela grande, 1 copo, colher e bancada limpa. Você deve ter tudo ao alcance antes de começar.\",\n      \"title\": \"Reúna ingredientes e utensílios\"\n    },\n    {\n      \"text\": \"No copo, coloque água morna (não quente). Se estiver muito quente para o dedo, espere esfriar. A água deve estar morna ao toque.\",\n      \"title\": \"Aqueça a água até ficar morna\"\n    },\n    {\n      \"text\": \"Adicione o açúcar na água morna e mexa até dissolver. O líquido deve ficar homogêneo, sem grãos visíveis.\",\n      \"title\": \"Dissolva o açúcar na água\"\n    },\n    {\n      \"text\": \"Coloque o fermento na água com açúcar e mexa levemente. O fermento deve se espalhar no líquido sem formar pelotas grandes.\",\n      \"title\": \"Misture o fermento na água\"\n    },\n    {\n      \"text\": \"Deixe o copo descansar por 5–10 min. Você deve ver espuma e bolhas na superfície; se não espumar, refaça com água mais morna e fermento dentro da validade.\",\n      \"title\": \"Aguarde o fermento ativar\"\n    },\n    {\n      \"text\": \"Na tigela grande, adicione a farinha de trigo. A farinha deve ficar nivelada no fundo, pronta para receber os líquidos.\",\n      \"title\": \"Coloque a farinha na tigela\"\n    },\n    {\n      \"text\": \"Acrescente o sal na farinha e misture com a colher. Não coloque o sal direto no copo do fermento; a mistura na tigela deve ficar uniforme.\",\n      \"title\": \"Misture o sal na farinha\"\n    },\n    {\n      \"text\": \"Faça um buraco no centro da farinha com a colher. Você deve ter um “poço” para despejar os líquidos sem escorrer para fora.\",\n      \"title\": \"Abra um poço no centro da farinha\"\n    },\n    {\n      \"text\": \"Despeje a mistura de fermento ativado no poço. O líquido deve ficar concentrado no centro da tigela.\",\n      \"title\": \"Adicione o fermento ativado\"\n    },\n    {\n      \"text\": \"Adicione o óleo (ou manteiga derretida fria) na tigela. A gordura deve se juntar ao líquido no centro.\",\n      \"title\": \"Junte o óleo ou manteiga\"\n    },\n    {\n      \"text\": \"Misture com a colher de fora para dentro até virar uma massa grossa. Você deve ver pouca farinha seca; se sobrar muita, pingue água morna aos poucos.\",\n      \"title\": \"Misture até formar uma massa\"\n    },\n    {\n      \"text\": \"Transfira a massa para uma bancada levemente enfarinhada. Ela deve sair da tigela em um bloco; se grudar muito, polvilhe um pouco de farinha.\",\n      \"title\": \"Passe a massa para a bancada\"\n    },\n    {\n      \"text\": \"Sove empurrando a massa com a palma da mão e dobrando sobre si. Faça movimentos repetidos; a massa deve começar a ficar mais lisa.\",\n      \"title\": \"Comece a sovar a massa\"\n    },\n    {\n      \"text\": \"Sove por 8–12 min. A massa deve ficar elástica e menos grudenta; se estiver muito seca, molhe as mãos e sove, se estiver muito mole, polvilhe pouca farinha.\",\n      \"title\": \"Sove até ficar lisa e elástica\"\n    },\n    {\n      \"text\": \"Faça o teste do ponto: puxe uma porção da massa. Ela deve esticar sem rasgar rápido; se rasgar fácil, sove mais 2–3 min e teste de novo.\",\n      \"title\": \"Teste o ponto da massa\"\n    }\n  ]\n}",
      "outputTokens": 718,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "pt-cooking-preparar-massa-1",
      "userPrompt": "LESSON_TITLE: Fazendo Pao Caseiro\nLESSON_DESCRIPTION: Aprenda a fazer pao caseiro do zero, desde a preparacao da massa ate o cozimento\nCHAPTER_TITLE: Paes Caseiros\nCOURSE_TITLE: Panificacao em Casa\nLANGUAGE: pt\nACTIVITY_TITLE: Preparar a Massa\nACTIVITY_DESCRIPTION: Prepare a massa do pao, incluindo ativacao do fermento, mistura dos ingredientes e sova"
    },
    {
      "duration": 26268.862459000004,
      "inputTokens": 1704,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Encuentra la llave de paso del lavabo o la válvula principal de la casa. Debe ser una perilla o palanca cerca de las tuberías. Debes poder acceder a ella sin mover el lavabo.\",\n      \"title\": \"Ubica la llave de paso\"\n    },\n    {\n      \"text\": \"Gira la llave de paso a la derecha (sentido horario) hasta que no avance más. Abre el grifo: el flujo debe detenerse; puede salir un poco de agua residual.\",\n      \"title\": \"Cierra el suministro de agua\"\n    },\n    {\n      \"text\": \"Coloca un tapón en el desagüe o cubre la coladera con un trapo. Así evitas que tornillos o piezas pequeñas caigan. Debe quedar totalmente cubierto.\",\n      \"title\": \"Tapa el desagüe\"\n    },\n    {\n      \"text\": \"Pon una toalla en el área de trabajo y ten a mano: destornillador, llave ajustable/Allen, pinzas, trapo y repuestos (arandela/empacadura, O-ring o cartucho). Debes tener todo al alcance.\",\n      \"title\": \"Reúne herramientas y repuestos\"\n    },\n    {\n      \"text\": \"En el centro de la manija, haz palanca suave y retira la tapita (indicador). Debe salir sin romperse; si está dura, prueba con un trapo para no rayar.\",\n      \"title\": \"Retira la tapa de la manija\"\n    },\n    {\n      \"text\": \"Quita el tornillo que sujeta la manija (Phillips/Allen). El tornillo debe salir completo; guárdalo en un lugar visible para no perderlo.\",\n      \"title\": \"Saca el tornillo de la manija\"\n    },\n    {\n      \"text\": \"Jala la manija hacia arriba para retirarla. Si está pegada, muévela de lado a lado con cuidado. Debes ver la pieza interna (tuerca o cartucho/vástago).\",\n      \"title\": \"Retira la manija\"\n    },\n    {\n      \"text\": \"Afloja y retira la tapa/tuerca de sujeción con llave ajustable o pinzas. Debe girar sin forzar; si no cede, envuélvela con un trapo para proteger el acabado.\",\n      \"title\": \"Quita la tuerca o capuchón\"\n    },\n    {\n      \"text\": \"Extrae el cartucho o vástago tirando recto hacia arriba. Debe salir completo; observa cómo estaba orientado para colocar el nuevo igual.\",\n      \"title\": \"Saca el cartucho o vástago\"\n    },\n    {\n      \"text\": \"Revisa las gomas (O-rings) y la arandela/empacadura: si están cuarteadas, aplastadas o duras, márcalas como “a cambiar”. Debes identificar al menos una pieza dañada.\",\n      \"title\": \"Inspecciona las piezas dañadas\"\n    },\n    {\n      \"text\": \"Retira la arandela/empacadura u O-ring viejo con una punta plana o los dedos. Debe salir sin romper el asiento; evita rayar las superficies de sellado.\",\n      \"title\": \"Quita la goma o arandela vieja\"\n    },\n    {\n      \"text\": \"Coloca la pieza nueva del mismo tamaño y forma (arandela/O-ring). Debe asentarse plana y sin torcerse; si queda chueca, vuelve a colocarla.\",\n      \"title\": \"Instala el repuesto nuevo\"\n    },\n    {\n      \"text\": \"Si estás cambiando el cartucho completo, inserta el nuevo con la misma orientación del anterior. Debe entrar recto y hasta el fondo sin quedar flojo.\",\n      \"title\": \"Coloca el cartucho nuevo\"\n    },\n    {\n      \"text\": \"Enrosca la tuerca/capuchón a mano y luego ajusta con la llave solo hasta que quede firme. No la aprietes de más; debe quedar estable sin crujidos.\",\n      \"title\": \"Rearma la sujeción\"\n    },\n    {\n      \"text\": \"Coloca la manija en su posición y vuelve a poner el tornillo. Debe quedar alineada y sin juego; si gira en falso, retírala y revisa el encaje.\",\n      \"title\": \"Reinstala la manija\"\n    },\n    {\n      \"text\": \"Presiona la tapita de la manija hasta que encaje. Debe quedar al ras y no moverse al tocarla.\",\n      \"title\": \"Coloca la tapa decorativa\"\n    },\n    {\n      \"text\": \"Gira la llave de paso a la izquierda (sentido antihorario) para abrir el agua. Debes oír pasar agua y no ver salpicaduras en la base del grifo.\",\n      \"title\": \"Abre el suministro de agua\"\n    },\n    {\n      \"text\": \"Abre el grifo por 10–20 segundos y ciérralo. Observa la salida: no debe haber goteo. Revisa también bajo la manija: no debe haber humedad.\",\n      \"title\": \"Prueba y verifica fugas\"\n    }\n  ]\n}",
      "outputTokens": 961,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "es-home-repair-fix-faucet-1",
      "userPrompt": "LESSON_TITLE: Arreglar una Fuga de Agua\nLESSON_DESCRIPTION: Guia paso a paso para reparar fugas de agua comunes en tu hogar\nCHAPTER_TITLE: Reparaciones de Plomeria\nCOURSE_TITLE: Mantenimiento del Hogar\nLANGUAGE: es\nACTIVITY_TITLE: Reparar el Grifo\nACTIVITY_DESCRIPTION: Repara un grifo que gotea, desde cerrar el agua hasta reemplazar las piezas danadas"
    },
    {
      "duration": 8241.127042,
      "inputTokens": 1677,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"In your document, type a few words so there’s something to save. You should see the app’s title bar show the file is unsaved (often a dot or the word “Document”).\",\n      \"title\": \"Make a small edit\"\n    },\n    {\n      \"text\": \"Click the File tab/menu at the top-left of the app window. You should see options like Save and Save As.\",\n      \"title\": \"Open the File menu\"\n    },\n    {\n      \"text\": \"Click Save. If a Save As window appears instead, that’s normal for a new file—continue to the next step.\",\n      \"title\": \"Select Save\"\n    },\n    {\n      \"text\": \"In the Save As dialog, click the folder/location where you want the file stored (e.g., Documents). You should see the chosen folder highlighted.\",\n      \"title\": \"Choose a save location\"\n    },\n    {\n      \"text\": \"Click the File name field and type a clear name (e.g., “Practice Doc”). You should see the name appear in the field.\",\n      \"title\": \"Enter a file name\"\n    },\n    {\n      \"text\": \"Click Save in the dialog. The window should close, and the document title bar should now show your file name.\",\n      \"title\": \"Confirm the save\"\n    },\n    {\n      \"text\": \"Look at the title bar and confirm there’s no “unsaved” indicator (dot/asterisk). If you still see one, click File > Save again.\",\n      \"title\": \"Verify it saved\"\n    }\n  ]\n}",
      "outputTokens": 274,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-short-activity-1",
      "userPrompt": "LESSON_TITLE: Basic Word Processing\nLESSON_DESCRIPTION: Learn fundamental word processing operations including creating, saving, and organizing documents\nCHAPTER_TITLE: Document Basics\nCOURSE_TITLE: Office Software Essentials\nLANGUAGE: en\nACTIVITY_TITLE: Save the Document\nACTIVITY_DESCRIPTION: Save your current document to preserve your work"
    },
    {
      "duration": 45975.933416,
      "inputTokens": 1686,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Work on a large table with good light. Have a #2 Phillips screwdriver, your case/manuals, and all parts unpacked. You should have: case, motherboard, CPU, cooler, RAM, SSD/HDD, PSU, GPU.\",\n      \"title\": \"Prepare workspace and parts\"\n    },\n    {\n      \"text\": \"Touch an unpainted metal part of the case (or wear an anti-static strap clipped to the case). You should be able to work without carpet static shocks.\",\n      \"title\": \"Ground yourself\"\n    },\n    {\n      \"text\": \"Remove both side panels. You should see the motherboard tray, PSU area, and front-panel cables (POWER SW, USB, HD AUDIO) inside the case.\",\n      \"title\": \"Open the case\"\n    },\n    {\n      \"text\": \"Install the motherboard I/O shield (if separate) into the rear cutout from inside the case. It should snap in on all four sides with the ports readable from outside.\",\n      \"title\": \"Install the I/O shield\"\n    },\n    {\n      \"text\": \"Check the case’s motherboard standoff pattern (ATX/mATX/ITX). Add or move standoffs so they match your motherboard holes. You should see a standoff under every mounting hole and none in extra spots.\",\n      \"title\": \"Set motherboard standoffs\"\n    },\n    {\n      \"text\": \"Place the motherboard on its box or anti-static bag on the table. It should be stable and not flex when you press gently.\",\n      \"title\": \"Position motherboard for assembly\"\n    },\n    {\n      \"text\": \"Lift the CPU socket lever/retention arm. The socket cover should open and you should see the CPU pin grid (Intel) or pin holes (AMD).\",\n      \"title\": \"Open the CPU socket\"\n    },\n    {\n      \"text\": \"Align the CPU triangle mark with the socket triangle and lower the CPU straight in. It should drop in without force; if it doesn’t, lift and realign.\",\n      \"title\": \"Install the CPU\"\n    },\n    {\n      \"text\": \"Lower the retention arm/lever to lock the CPU. You should feel firm resistance; the CPU should sit flat and not move.\",\n      \"title\": \"Lock the CPU in place\"\n    },\n    {\n      \"text\": \"If your cooler needs a backplate/brackets, install them on the motherboard now using the cooler manual. The mounting posts should line up around the CPU socket.\",\n      \"title\": \"Install cooler mounting hardware\"\n    },\n    {\n      \"text\": \"If the cooler doesn’t have pre-applied paste, put a pea-sized dot of thermal paste in the center of the CPU. You should see a small mound, not a smear across the edges.\",\n      \"title\": \"Apply thermal paste (if needed)\"\n    },\n    {\n      \"text\": \"Place the CPU cooler onto the CPU and start all screws evenly. Tighten in a cross pattern until snug. The cooler should not twist freely once secured.\",\n      \"title\": \"Mount the CPU cooler\"\n    },\n    {\n      \"text\": \"Plug the cooler’s fan cable into the motherboard header labeled CPU_FAN. You should see the connector fully seated and keyed correctly.\",\n      \"title\": \"Connect CPU fan to CPU_FAN\"\n    },\n    {\n      \"text\": \"Open the latches on the recommended RAM slots (check the manual, often A2/B2). The slots should be ready with the notch visible.\",\n      \"title\": \"Open the RAM slots\"\n    },\n    {\n      \"text\": \"Align the RAM notch with the slot key and press down firmly until both latches click. The module should sit level; if a latch isn’t closed, reseat the RAM.\",\n      \"title\": \"Install the RAM sticks\"\n    },\n    {\n      \"text\": \"Locate the M.2 slot, remove its small screw, insert the M.2 SSD at an angle, then push it flat. It should lie flush and the screw hole should line up.\",\n      \"title\": \"Install the M.2 SSD (if used)\"\n    },\n    {\n      \"text\": \"Replace the M.2 screw to secure the drive. The SSD should not lift up at the end once tightened.\",\n      \"title\": \"Secure the M.2 SSD\"\n    },\n    {\n      \"text\": \"Place the PSU into the PSU bay (fan facing vent/filter if present). Align screw holes at the rear of the case; the PSU should sit flat.\",\n      \"title\": \"Insert the power supply\"\n    },\n    {\n      \"text\": \"Screw the PSU to the case using the 4 PSU screws. The PSU should feel solid with no wobble.\",\n      \"title\": \"Secure the power supply\"\n    },\n    {\n      \"text\": \"Install any 2.5\\\"/3.5\\\" SSD/HDD into its tray/cage and fasten with screws or tool-less clips. The drive should not slide when you tug lightly.\",\n      \"title\": \"Install SATA drives (if used)\"\n    },\n    {\n      \"text\": \"Lower the motherboard into the case, aligning ports with the I/O shield and holes with standoffs. The board should sit flat without forcing against the shield tabs.\",\n      \"title\": \"Place motherboard in the case\"\n    },\n    {\n      \"text\": \"Screw the motherboard into the standoffs. Start with a corner, then the opposite corner. The board should be secure but not bent; stop when screws are snug.\",\n      \"title\": \"Screw in the motherboard\"\n    },\n    {\n      \"text\": \"Plug the large 24-pin ATX power cable into the motherboard. It should click into place; the latch should hook over the tab on the connector.\",\n      \"title\": \"Connect 24-pin motherboard power\"\n    },\n    {\n      \"text\": \"Plug the 8-pin (or 4+4) CPU power cable into the motherboard near the CPU socket (EPS/CPU_PWR). It should click; if it won’t fit, confirm you’re not using a PCIe cable.\",\n      \"title\": \"Connect CPU (EPS) power\"\n    },\n    {\n      \"text\": \"Locate the case front-panel header (F_PANEL/JFP1) and connect POWER SW, RESET SW, HDD LED, and PLED as shown in the motherboard manual. When correct, plugs sit fully on the right pins.\",\n      \"title\": \"Connect front-panel buttons/LEDs\"\n    },\n    {\n      \"text\": \"Plug the case USB 3.0 connector into the motherboard USB3 header (20-pin). It should insert straight; don’t force—bent pins mean it’s misaligned.\",\n      \"title\": \"Connect front USB 3.0\"\n    },\n    {\n      \"text\": \"Plug the case USB 2.0 connector (if present) into a USB2 header. It should seat fully with the missing-pin key aligned.\",\n      \"title\": \"Connect front USB 2.0 (if present)\"\n    },\n    {\n      \"text\": \"Plug the HD AUDIO cable into the AAFP/HD_AUDIO header, usually at the bottom-left of the board. The connector should align with the blocked pin and sit flush.\",\n      \"title\": \"Connect front-panel audio\"\n    },\n    {\n      \"text\": \"Route the SATA data cable from the motherboard to the SATA drive and plug it in. It should click or feel snug; use SATA0/1 ports if labeled for primary.\",\n      \"title\": \"Connect SATA data (if used)\"\n    },\n    {\n      \"text\": \"Connect a SATA power cable from the PSU to each SATA drive. The L-shaped connector should slide in smoothly; do not force it upside down.\",\n      \"title\": \"Connect SATA power (if used)\"\n    },\n    {\n      \"text\": \"Remove the required PCIe slot covers from the case for your top x16 slot. You should have an open slot path aligned with the motherboard’s top PCIe x16 slot.\",\n      \"title\": \"Remove GPU slot covers\"\n    },\n    {\n      \"text\": \"Insert the GPU into the top PCIe x16 slot until the latch clicks. The card’s bracket should sit flush at the case rear; if not, reseat the GPU.\",\n      \"title\": \"Install the graphics card\"\n    },\n    {\n      \"text\": \"Screw the GPU bracket to the case. The GPU should not sag dramatically or pull out when gently pressed.\",\n      \"title\": \"Secure the GPU to the case\"\n    },\n    {\n      \"text\": \"Plug the PCIe power connectors (6-pin/8-pin/12VHPWR) from the PSU into the GPU as required. Each should fully seat; the latch should click on 6/8-pin connectors.\",\n      \"title\": \"Connect GPU power\"\n    },\n    {\n      \"text\": \"Plug case fans into CHA_FAN/SYS_FAN headers (or a fan hub). Each fan should show a fully seated connector; if you run out of headers, use the hub’s power input as instructed.\",\n      \"title\": \"Connect case fans\"\n    },\n    {\n      \"text\": \"Bundle and tie cables behind the motherboard tray. You should be able to close the back panel without bulging; no cables should touch fan blades.\",\n      \"title\": \"Tidy and route cables\"\n    },\n    {\n      \"text\": \"Recheck: CPU_FAN connected, RAM fully latched, 24-pin and CPU power clicked, GPU fully seated, and no loose screws. You should find nothing unplugged when you gently tug connectors.\",\n      \"title\": \"Do a final connection check\"\n    },\n    {\n      \"text\": \"Reinstall both side panels. The case should close easily; if it doesn’t, reopen and reposition cable bundles.\",\n      \"title\": \"Close the case\"\n    }\n  ]\n}",
      "outputTokens": 1695,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-complex-activity-1",
      "userPrompt": "LESSON_TITLE: Building a PC\nLESSON_DESCRIPTION: Complete guide to building your own desktop computer from scratch\nCHAPTER_TITLE: Hardware Assembly\nCOURSE_TITLE: PC Building\nLANGUAGE: en\nACTIVITY_TITLE: Assemble the Computer\nACTIVITY_DESCRIPTION: Assemble a desktop computer from individual components, including installing CPU, RAM, storage, GPU, and connecting power"
    }
  ],
  "taskId": "activity-custom"
}
