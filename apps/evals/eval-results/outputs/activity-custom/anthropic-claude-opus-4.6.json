{
  "generatedAt": "2026-02-21T23:02:58.373Z",
  "modelId": "anthropic/claude-opus-4.6",
  "outputs": [
    {
      "duration": 13531.024416000117,
      "inputTokens": 2098,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Open your web browser and go to https://git-scm.com. This is the official Git website. You should see a prominent download button on the homepage.\",\n      \"title\": \"Open the Git Website\"\n    },\n    {\n      \"text\": \"Click the \\\"Download for Windows\\\", \\\"Download for macOS\\\", or \\\"Download for Linux/Unix\\\" button — whichever matches your operating system. The site usually auto-detects your OS and highlights the right option.\",\n      \"title\": \"Download the Installer\"\n    },\n    {\n      \"text\": \"If you're on Windows, double-click the downloaded .exe file. On macOS, open the downloaded .dmg or .pkg file. If prompted by your OS to allow the installation, click \\\"Allow\\\" or \\\"Open Anyway\\\".\",\n      \"title\": \"Launch the Installer\"\n    },\n    {\n      \"text\": \"On Windows, click \\\"Next\\\" through the installer screens, keeping the default options. These defaults work well for most users. On macOS, follow the on-screen prompts and click \\\"Continue\\\" then \\\"Install\\\".\",\n      \"title\": \"Accept the Default Settings\"\n    },\n    {\n      \"text\": \"If prompted for your system password (macOS/Linux), type it and press Enter. On Windows, click \\\"Yes\\\" if a User Account Control dialog appears. This grants the installer permission to make changes.\",\n      \"title\": \"Authorize the Installation\"\n    },\n    {\n      \"text\": \"When the installer finishes, click \\\"Finish\\\" (Windows) or \\\"Close\\\" (macOS). The installer window will close. No restart is usually required.\",\n      \"title\": \"Complete the Installer\"\n    },\n    {\n      \"text\": \"Open a terminal: on Windows, search for \\\"Git Bash\\\" in the Start menu and open it. On macOS, open Terminal from Applications > Utilities. On Linux, open your default terminal emulator.\",\n      \"title\": \"Open a Terminal\"\n    },\n    {\n      \"text\": \"Type `git --version` and press Enter. You should see output like \\\"git version 2.x.x\\\" with a version number. This confirms Git is installed and accessible from your command line.\",\n      \"title\": \"Verify the Installation\"\n    },\n    {\n      \"text\": \"If you see \\\"command not found\\\" or an error, close and reopen your terminal, then try `git --version` again. On macOS, you may be prompted to install Xcode Command Line Tools — click \\\"Install\\\" if so, then retry.\",\n      \"title\": \"Troubleshoot if Needed\"\n    }\n  ]\n}",
      "outputTokens": 505,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-tech-install-git-1",
      "userPrompt": "LESSON_TITLE: How to Set Up Git\nLESSON_DESCRIPTION: Setting up your development environment by installing and configuring Git version control\nCHAPTER_TITLE: Getting Started\nCOURSE_TITLE: Git Fundamentals\nLANGUAGE: en\nACTIVITY_TITLE: Install Git\nACTIVITY_DESCRIPTION: Download and install Git on your computer, including verification that the installation succeeded"
    },
    {
      "duration": 18700.33979200013,
      "inputTokens": 2118,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Pull your vehicle completely off the road onto a flat, stable surface. Turn on your hazard lights and apply the parking brake. Place the car in Park (automatic) or first gear (manual).\",\n      \"title\": \"Park on a Safe, Flat Surface\"\n    },\n    {\n      \"text\": \"Open your trunk and gather the spare tire, car jack, lug wrench, and wheel wedges (or bricks/rocks). Lay them on the ground near the flat tire so everything is within reach.\",\n      \"title\": \"Gather Your Tools\"\n    },\n    {\n      \"text\": \"Place wheel wedges behind the tires on the opposite end of the car from the flat. If the front tire is flat, wedge the rear tires. This prevents the car from rolling while it's jacked up.\",\n      \"title\": \"Place Wheel Wedges\"\n    },\n    {\n      \"text\": \"If your vehicle has a hubcap or wheel cover over the lug nuts, use the flat end of the lug wrench to pry it off. Set the hubcap aside face-up so it doesn't roll away.\",\n      \"title\": \"Remove the Hubcap\"\n    },\n    {\n      \"text\": \"Fit the lug wrench onto one lug nut and turn it counterclockwise. Push hard — use your foot on the wrench handle if needed. Loosen each nut about half a turn. Do NOT remove them completely yet.\",\n      \"title\": \"Loosen the Lug Nuts\"\n    },\n    {\n      \"text\": \"Check your owner's manual to find the correct jack point near the flat tire. It's usually a reinforced metal area along the frame behind the front wheel or in front of the rear wheel.\",\n      \"title\": \"Locate the Jack Point\"\n    },\n    {\n      \"text\": \"Place the jack under the designated jack point. Make sure the jack head sits firmly on the metal frame. If the jack is on soft ground, place a flat board underneath it for stability.\",\n      \"title\": \"Position the Jack\"\n    },\n    {\n      \"text\": \"Turn the jack handle or crank clockwise to raise the vehicle. Lift it until the flat tire is about 6 inches (15 cm) off the ground. The tire should spin freely when you nudge it with your hand.\",\n      \"title\": \"Raise the Vehicle\"\n    },\n    {\n      \"text\": \"Now fully unscrew each lug nut by turning counterclockwise. Place all lug nuts inside the hubcap or your pocket so they don't get lost. You should have them all collected before pulling the tire.\",\n      \"title\": \"Fully Remove the Lug Nuts\"\n    },\n    {\n      \"text\": \"Grip the flat tire by the treads with both hands. Pull it straight toward you to slide it off the wheel bolts. It may be heavy — brace with your legs, not your back. Set the tire flat on the ground nearby.\",\n      \"title\": \"Pull the Tire Off\"\n    },\n    {\n      \"text\": \"Look at the exposed wheel bolts and brake rotor (the metal disc behind where the tire was). Confirm the bolts are clean and undamaged. If you see rust or debris on the mounting surface, brush it off with a cloth.\",\n      \"title\": \"Inspect the Wheel Hub\"\n    }\n  ]\n}",
      "outputTokens": 659,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-automotive-remove-flat-tire-1",
      "userPrompt": "LESSON_TITLE: Changing a Car Tire\nLESSON_DESCRIPTION: Step-by-step guide to safely changing a flat tire on the side of the road\nCHAPTER_TITLE: Roadside Emergencies\nCOURSE_TITLE: Basic Car Maintenance\nLANGUAGE: en\nACTIVITY_TITLE: Remove the Flat Tire\nACTIVITY_DESCRIPTION: Safely remove a flat tire from your vehicle, including proper jacking and lug nut removal"
    },
    {
      "duration": 23267.943708000006,
      "inputTokens": 2114,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Place your French press on a clean, dry surface. Have your freshly roasted whole bean coffee, a burr grinder, a kettle, a scale, a timer, a stirring spoon, and your favorite mug ready nearby.\",\n      \"title\": \"Gather Your Equipment\"\n    },\n    {\n      \"text\": \"Boil fresh, filtered water in your kettle. Once it reaches a full boil, remove it from heat and let it sit for 30 seconds to bring the temperature down to about 200°F (93°C). Water that's too hot will over-extract and taste bitter.\",\n      \"title\": \"Heat Your Water\"\n    },\n    {\n      \"text\": \"Weigh out 30 grams of whole bean coffee on your scale. This amount is ideal for a standard 12-oz (350 ml) French press. Adjust proportionally if your press is larger — aim for a 1:12 coffee-to-water ratio.\",\n      \"title\": \"Measure Your Coffee Beans\"\n    },\n    {\n      \"text\": \"Grind the beans on a coarse setting, similar to the texture of sea salt. A burr grinder gives the most consistent results. Avoid fine grinds — they'll slip through the mesh filter and make your coffee muddy.\",\n      \"title\": \"Grind to Coarse Consistency\"\n    },\n    {\n      \"text\": \"Remove the plunger lid from your French press. Pour the ground coffee directly into the empty glass carafe. Give it a gentle shake so the grounds settle into an even, flat layer at the bottom.\",\n      \"title\": \"Add Grounds to the Press\"\n    },\n    {\n      \"text\": \"Start your timer. Pour a small amount of hot water — just enough to saturate all the grounds (about 60 grams). You should see the coffee bloom and bubble slightly as gases release. This step unlocks more flavor.\",\n      \"title\": \"Pour Water to Bloom the Grounds\"\n    },\n    {\n      \"text\": \"Wait 30 seconds while the coffee blooms. The grounds will puff up and release CO2. This brief pause allows for a more even and flavorful extraction in the next step.\",\n      \"title\": \"Wait 30 Seconds for the Bloom\"\n    },\n    {\n      \"text\": \"Slowly pour the remaining hot water into the press until you reach 360 grams total on your scale. Pour in a steady, circular motion to ensure all the grounds are evenly saturated. Stop about an inch below the top rim.\",\n      \"title\": \"Fill with Remaining Hot Water\"\n    },\n    {\n      \"text\": \"Take your spoon and give the mixture one gentle stir, moving back to front. This breaks up any dry clumps floating on the surface and ensures all grounds are in contact with water. Don't over-stir — one pass is enough.\",\n      \"title\": \"Stir Once Gently\"\n    },\n    {\n      \"text\": \"Place the plunger lid on top of the carafe with the plunger pulled all the way up. This traps heat inside the press. Do not push the plunger down yet — the coffee needs time to steep.\",\n      \"title\": \"Place the Lid On\"\n    },\n    {\n      \"text\": \"Let the coffee steep for exactly 4 minutes total (including the 30-second bloom). Watch your timer. Steeping too short yields weak coffee; too long makes it bitter. The sweet spot is right at 4 minutes.\",\n      \"title\": \"Steep for 4 Minutes Total\"\n    },\n    {\n      \"text\": \"Grip the handle firmly with one hand and place your other hand on top of the plunger knob. Press the plunger down slowly and steadily, taking about 15–20 seconds. Apply even pressure. If it feels too hard, pull up slightly and resume.\",\n      \"title\": \"Plunge Slowly and Steadily\"\n    },\n    {\n      \"text\": \"Pour the brewed coffee into your mug immediately after plunging. Don't let coffee sit in the press — it continues to extract from the grounds and will turn bitter. Pour all of it out, or transfer the rest to a thermal carafe.\",\n      \"title\": \"Pour Immediately Into Your Mug\"\n    },\n    {\n      \"text\": \"Your coffee should have a rich, full-bodied flavor with a slightly heavier mouthfeel than drip coffee. You may notice a thin layer of oils on the surface — that's normal for French press. Enjoy it black or add milk to taste.\",\n      \"title\": \"Taste and Enjoy Your Brew\"\n    }\n  ]\n}",
      "outputTokens": 924,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-cooking-brew-coffee-1",
      "userPrompt": "LESSON_TITLE: Making French Press Coffee\nLESSON_DESCRIPTION: Master the French press method for making rich, full-bodied coffee at home\nCHAPTER_TITLE: Coffee Brewing Methods\nCOURSE_TITLE: Home Barista Basics\nLANGUAGE: en\nACTIVITY_TITLE: Brew the Coffee\nACTIVITY_DESCRIPTION: Brew a perfect cup of coffee using a French press, from measuring grounds to plunging and pouring"
    },
    {
      "duration": 31611.52908300003,
      "inputTokens": 2112,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Select a spot in your garden that receives at least 6–8 hours of direct sunlight daily. Avoid areas near large trees or structures that cast afternoon shade. Mark out a bed roughly 4 feet wide and as long as you need for your plants.\",\n      \"title\": \"Choose a Sunny Garden Bed Location\"\n    },\n    {\n      \"text\": \"Use a garden fork or broadfork to loosen the soil to a depth of 12–14 inches. Push the fork in fully, rock it back and forth, then move 6 inches over and repeat across the entire bed. The soil should feel loose and crumbly when you're done.\",\n      \"title\": \"Loosen the Soil Deeply\"\n    },\n    {\n      \"text\": \"Pull out any weeds, grass, roots, and rocks you encounter while loosening. Remove debris down to the full 12-inch depth. Even small weed fragments can regrow, so be thorough. Pile removed material in a wheelbarrow for disposal or composting.\",\n      \"title\": \"Remove Weeds, Roots, and Debris\"\n    },\n    {\n      \"text\": \"Pick up a handful of moist soil and squeeze it. If it forms a sticky ball that won't crumble, your soil is clay-heavy. If it falls apart immediately and feels gritty, it's sandy. Loamy soil holds its shape briefly, then crumbles — that's the ideal you're aiming for.\",\n      \"title\": \"Test Your Soil Texture\"\n    },\n    {\n      \"text\": \"Purchase a soil pH test kit from a garden center. Collect small soil samples from 3–4 spots in your bed at a 4-inch depth, mix them together, and follow the kit instructions. Tomatoes thrive in a pH of 6.0–6.8. Note your result for the next step.\",\n      \"title\": \"Test the Soil pH\"\n    },\n    {\n      \"text\": \"If your pH is below 6.0, spread garden lime over the bed at the rate listed on the bag for your reading. If your pH is above 6.8, spread elemental sulfur instead. Scatter the amendment evenly across the surface. Skip this step if your pH is already 6.0–6.8.\",\n      \"title\": \"Adjust pH if Needed\"\n    },\n    {\n      \"text\": \"Spread a 3–4 inch layer of well-aged compost evenly across the entire bed surface. Use compost that looks dark brown, smells earthy, and has no recognizable food scraps. For a 4×8-foot bed, you'll need roughly 8–10 cubic feet of compost.\",\n      \"title\": \"Spread a Layer of Compost\"\n    },\n    {\n      \"text\": \"Add a 1-inch layer of aged or composted manure on top of the compost. Cow, horse, or chicken manure all work well. Make sure it's fully composted — it should be dark, crumbly, and have no strong odor. Never use fresh manure, as it can burn plant roots.\",\n      \"title\": \"Add Composted Manure\"\n    },\n    {\n      \"text\": \"Sprinkle a balanced granular fertilizer (such as 10-10-10 or a tomato-specific blend) over the bed. Use the application rate on the package — typically about 1–2 pounds per 100 square feet. Scatter it as evenly as possible across the surface.\",\n      \"title\": \"Apply Granular Fertilizer\"\n    },\n    {\n      \"text\": \"If your soil tested as heavy clay, spread a 2-inch layer of coarse perlite or coarse sand over the bed to improve drainage. If your soil is sandy, add an extra inch of compost and a handful of coconite or peat moss per square foot to help retain moisture.\",\n      \"title\": \"Add Drainage or Retention Amendments\"\n    },\n    {\n      \"text\": \"Use your garden fork or a tiller to mix all the amendments into the top 10–12 inches of soil. Work methodically from one end of the bed to the other, turning and blending until the compost, manure, fertilizer, and amendments are fully incorporated. No visible layers should remain.\",\n      \"title\": \"Mix All Amendments into the Soil\"\n    },\n    {\n      \"text\": \"Run a rake across the bed surface to break up any remaining clumps larger than a golf ball. Crush them with the back of the rake or by hand. The final soil texture should be uniformly fine and crumbly throughout the bed.\",\n      \"title\": \"Break Up Clumps and Smooth the Bed\"\n    },\n    {\n      \"text\": \"Use the flat side of your rake to level the bed surface evenly. Create a very slight crown — about 1 inch higher in the center — so water drains gently toward the edges instead of pooling. The surface should look smooth and uniform.\",\n      \"title\": \"Level and Shape the Bed Surface\"\n    },\n    {\n      \"text\": \"Water the prepared bed thoroughly using a gentle spray from a hose or watering can. Soak the soil until water penetrates 6–8 inches deep. You can check depth by pushing a finger or stick into the soil. This settles the amendments and activates the fertilizer.\",\n      \"title\": \"Water the Bed Deeply\"\n    },\n    {\n      \"text\": \"Let the prepared bed rest for 2–3 days before planting. This allows the amendments to begin integrating with the native soil and microbial activity to start. The surface may settle slightly — that's normal. Your soil is now conditioned and ready for tomato transplants.\",\n      \"title\": \"Let the Bed Rest Before Planting\"\n    }\n  ]\n}",
      "outputTokens": 1181,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-gardening-prepare-soil-1",
      "userPrompt": "LESSON_TITLE: Planting Tomatoes\nLESSON_DESCRIPTION: Complete guide to planting and growing healthy tomato plants in your home garden\nCHAPTER_TITLE: Growing Vegetables\nCOURSE_TITLE: Home Gardening\nLANGUAGE: en\nACTIVITY_TITLE: Prepare the Soil\nACTIVITY_DESCRIPTION: Prepare a garden bed for tomato planting by loosening, amending, and conditioning the soil"
    },
    {
      "duration": 26716.589625000022,
      "inputTokens": 2115,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Gather your fabric (about 1 yard of cotton), fabric scissors, a clear quilting ruler, fabric marking pen or chalk, straight pins, and a cutting mat or flat surface. Wash, dry, and iron the fabric first to prevent future shrinkage.\",\n      \"title\": \"Gather Your Supplies\"\n    },\n    {\n      \"text\": \"Lay the cutting mat on a large, flat table or clean floor area. Smooth out any wrinkles on the mat surface. Make sure you have enough room to spread the full piece of fabric without it hanging off edges.\",\n      \"title\": \"Prepare Your Cutting Surface\"\n    },\n    {\n      \"text\": \"Unfold your fabric and lay it flat on the cutting mat with the printed or \\\"right\\\" side facing up. Smooth it out with your hands from the center outward, removing all wrinkles and bumps.\",\n      \"title\": \"Lay the Fabric Flat\"\n    },\n    {\n      \"text\": \"Fold the fabric in half lengthwise, aligning the selvage edges (the finished edges along the sides). Smooth again so both layers lie perfectly flat with no bunching. The fold gives you two layers to cut at once.\",\n      \"title\": \"Fold the Fabric in Half\"\n    },\n    {\n      \"text\": \"Using your quilting ruler and fabric marking pen, measure and mark a rectangle 27 inches wide by 41 inches long on the folded fabric. This creates the main pillowcase body for a standard-size pillow.\",\n      \"title\": \"Mark the Main Body Piece\"\n    },\n    {\n      \"text\": \"Place a mark at each corner of your 27\\\" x 41\\\" rectangle. Then add marks every 6–8 inches along each line between corners. These intermediate marks help you draw straight cutting lines.\",\n      \"title\": \"Mark the Corner Points\"\n    },\n    {\n      \"text\": \"Align your quilting ruler between the marks and draw straight lines connecting them with your fabric pen. You should see a complete 27\\\" x 41\\\" rectangle outlined clearly on the fabric.\",\n      \"title\": \"Draw the Cutting Lines\"\n    },\n    {\n      \"text\": \"On a separate area of remaining fabric, measure and mark a rectangle 27 inches wide by 9 inches long. This piece will become the decorative cuff or band at the open end of the pillowcase.\",\n      \"title\": \"Mark the Cuff Piece\"\n    },\n    {\n      \"text\": \"Draw straight lines connecting all marks for the cuff piece, just as you did for the main body. Double-check the measurement reads 27\\\" x 9\\\". You should now have two rectangles marked on your fabric.\",\n      \"title\": \"Draw the Cuff Cutting Lines\"\n    },\n    {\n      \"text\": \"Insert straight pins through both fabric layers inside each rectangle, spacing them every 4–5 inches. Pin at least 1 inch away from your cutting lines so pins don't interfere with your scissors.\",\n      \"title\": \"Pin the Fabric Layers Together\"\n    },\n    {\n      \"text\": \"Before cutting, re-measure each rectangle with your ruler. Confirm the main body is 27\\\" x 41\\\" and the cuff is 27\\\" x 9\\\". Adjust any lines now — it's much easier to fix marks than to fix cut fabric.\",\n      \"title\": \"Double-Check All Measurements\"\n    },\n    {\n      \"text\": \"Hold your fabric scissors at a low angle against the surface. Cut slowly along the marked lines of the main body rectangle, using long, smooth strokes. Keep the fabric flat — don't lift it off the table while cutting.\",\n      \"title\": \"Cut the Main Body Piece\"\n    },\n    {\n      \"text\": \"Repeat the same cutting technique for the cuff rectangle. Use steady, even strokes along the marked lines. When finished, you should have a clean 27\\\" x 9\\\" rectangle cut through both layers.\",\n      \"title\": \"Cut the Cuff Piece\"\n    },\n    {\n      \"text\": \"Remove all pins from both cut pieces. Gently unfold each piece and lay them flat. The main body should measure approximately 27\\\" x 41\\\" and the cuff 27\\\" x 9\\\". Trim any uneven edges with small snips.\",\n      \"title\": \"Remove Pins and Unfold\"\n    },\n    {\n      \"text\": \"Stack your cut pieces neatly, fold them loosely, and set them aside. Clean up fabric scraps and save larger remnants for future projects. Your fabric pieces are now ready for the next sewing step.\",\n      \"title\": \"Organize Your Cut Pieces\"\n    }\n  ]\n}",
      "outputTokens": 919,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-crafts-cut-fabric-1",
      "userPrompt": "LESSON_TITLE: Sewing a Pillowcase\nLESSON_DESCRIPTION: Learn to sew a simple pillowcase from start to finish using basic techniques\nCHAPTER_TITLE: Basic Sewing Projects\nCOURSE_TITLE: Sewing for Beginners\nLANGUAGE: en\nACTIVITY_TITLE: Cut the Fabric\nACTIVITY_DESCRIPTION: Measure, pin, and cut fabric pieces for a pillowcase following a pattern"
    },
    {
      "duration": 24881.575207999907,
      "inputTokens": 2104,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Download a free guitar tuner app on your phone, such as GuitarTuna or Fender Tune. Alternatively, use a clip-on chromatic tuner attached to your headstock. Make sure the tuner is open and ready to detect sound before proceeding.\",\n      \"title\": \"Get a Tuner Ready\"\n    },\n    {\n      \"text\": \"Hold the guitar in playing position. Locate the thickest string closest to you — this is the 6th string (low E). You'll tune from the thickest string to the thinnest, working strings 6 through 1.\",\n      \"title\": \"Identify the 6th String (Low E)\"\n    },\n    {\n      \"text\": \"Pluck the 6th string and watch your tuner's display. The tuner should show the note name and whether you're sharp (too high) or flat (too low). Look for the letter \\\"E\\\" on the screen.\",\n      \"title\": \"Pluck the 6th String\"\n    },\n    {\n      \"text\": \"If the tuner shows the pitch is flat (needle/indicator left of center), slowly turn the 6th string's tuning peg to tighten it. If it's sharp (right of center), loosen it. Stop when the tuner shows \\\"E\\\" and the needle is centered or the display turns green.\",\n      \"title\": \"Adjust the 6th String to E\"\n    },\n    {\n      \"text\": \"Pluck the 5th string — the next one down. Your tuner should detect a note near \\\"A.\\\" Turn the tuning peg for the 5th string until the tuner reads \\\"A\\\" with the indicator centered. The display turns green or the needle sits in the middle when correct.\",\n      \"title\": \"Tune the 5th String to A\"\n    },\n    {\n      \"text\": \"Pluck the 4th string. Adjust its tuning peg until the tuner reads \\\"D\\\" and shows the pitch is in tune. Remember: tighten to go higher, loosen to go lower. Make small, gradual turns.\",\n      \"title\": \"Tune the 4th String to D\"\n    },\n    {\n      \"text\": \"Pluck the 3rd string and adjust until the tuner reads \\\"G\\\" and the indicator is centered. This string can be tricky — turn the peg slowly and re-pluck frequently to get an accurate reading.\",\n      \"title\": \"Tune the 3rd String to G\"\n    },\n    {\n      \"text\": \"Pluck the 2nd string and adjust its tuning peg until the tuner displays \\\"B\\\" with the indicator centered. If the tuner shows a completely different note, you may be tuning the wrong peg — trace the string to its peg to confirm.\",\n      \"title\": \"Tune the 2nd String to B\"\n    },\n    {\n      \"text\": \"Pluck the 1st string — the thinnest one, farthest from you. Adjust until the tuner reads \\\"E\\\" and shows it's in tune. This is a high E, two octaves above the 6th string.\",\n      \"title\": \"Tune the 1st String to High E\"\n    },\n    {\n      \"text\": \"Memorize the string order from 6th to 1st: E-A-D-G-B-E. A common mnemonic is \\\"Eddie Ate Dynamite, Good Bye Eddie.\\\" This helps you quickly recall standard tuning every time you pick up the guitar.\",\n      \"title\": \"Remember the String Names\"\n    },\n    {\n      \"text\": \"Strum all six strings in one downward motion. Listen for a full, harmonious sound. If any string sounds off, pluck it individually and recheck with the tuner. It's normal to need small adjustments on a second pass.\",\n      \"title\": \"Strum All Strings to Verify\"\n    },\n    {\n      \"text\": \"New strings and temperature changes cause guitars to go out of tune quickly. Repeat this full tuning process every time you sit down to play. With practice, you'll complete it in under a minute.\",\n      \"title\": \"Retune Before Every Session\"\n    }\n  ]\n}",
      "outputTokens": 856,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-music-tune-guitar-1",
      "userPrompt": "LESSON_TITLE: Getting Started with Guitar\nLESSON_DESCRIPTION: Essential setup steps before you start playing guitar, including tuning and posture\nCHAPTER_TITLE: Guitar Basics\nCOURSE_TITLE: Learn Guitar\nLANGUAGE: en\nACTIVITY_TITLE: Tune Your Guitar\nACTIVITY_DESCRIPTION: Tune each string of your guitar to standard tuning using a tuner or reference pitch"
    },
    {
      "duration": 24110.9761669999,
      "inputTokens": 2105,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Turn your camera's mode dial to M (Manual). This is usually on the top of your camera body. You should see \\\"M\\\" displayed on the LCD screen or in the viewfinder, confirming you're in full manual mode.\",\n      \"title\": \"Switch to Manual Mode\"\n    },\n    {\n      \"text\": \"Point your camera at the scene you want to photograph. Look through the viewfinder or at the LCD screen and locate the exposure meter — a horizontal scale with marks from -3 to +3 and a moving indicator.\",\n      \"title\": \"Find the Exposure Meter\"\n    },\n    {\n      \"text\": \"Press the shutter button halfway to activate the meter. The indicator will show whether your current settings produce an underexposed (left/minus), overexposed (right/plus), or properly exposed (center/zero) image.\",\n      \"title\": \"Read the Current Exposure\"\n    },\n    {\n      \"text\": \"Rotate the main command dial (near the shutter button) to change the shutter speed. Watch the meter shift as you adjust. For handheld shooting, start with 1/125s or faster to avoid motion blur.\",\n      \"title\": \"Set Your Shutter Speed\"\n    },\n    {\n      \"text\": \"Rotate the aperture ring on your lens, or hold the aperture button and turn the command dial (varies by camera). Start with f/5.6 as a middle-ground value. A lower number like f/2.8 lets in more light; a higher number like f/11 lets in less.\",\n      \"title\": \"Set Your Aperture\"\n    },\n    {\n      \"text\": \"Press the ISO button on your camera body, then use the command dial to adjust the ISO value. Start at ISO 100 for bright outdoor scenes. For indoor or dim conditions, increase to ISO 400 or ISO 800. Higher ISO adds brightness but also grain.\",\n      \"title\": \"Set Your ISO\"\n    },\n    {\n      \"text\": \"Check the exposure meter again by half-pressing the shutter. If the indicator is to the left (underexposed), increase ISO, widen the aperture (lower f-number), or slow the shutter speed. Adjust one setting at a time.\",\n      \"title\": \"Check Meter and Adjust if Under\"\n    },\n    {\n      \"text\": \"If the indicator is to the right (overexposed), lower the ISO, narrow the aperture (higher f-number), or increase the shutter speed. Make small adjustments — one or two clicks at a time — and recheck the meter after each change.\",\n      \"title\": \"Adjust if Overexposed\"\n    },\n    {\n      \"text\": \"Continue fine-tuning until the exposure meter indicator sits at or near the center mark (0). This indicates a balanced exposure based on your camera's built-in metering. All three settings should now work together.\",\n      \"title\": \"Center the Meter\"\n    },\n    {\n      \"text\": \"Take a test photo by pressing the shutter button fully. Review the image on your LCD screen. Look at the overall brightness — does it match what your eyes see in the actual scene?\",\n      \"title\": \"Take a Test Shot\"\n    },\n    {\n      \"text\": \"Press the info or display button while reviewing your photo to bring up the histogram. The graph should form a curve mostly in the middle, without large spikes pressed against the far left (too dark) or far right (too bright) edges.\",\n      \"title\": \"Check the Histogram\"\n    },\n    {\n      \"text\": \"If the histogram is bunched to the left, your image is too dark. Go back and increase exposure by one stop: either double your shutter time, open the aperture one stop wider, or double your ISO. Take another test shot.\",\n      \"title\": \"Correct if Histogram Is Left-Heavy\"\n    },\n    {\n      \"text\": \"If the histogram is bunched to the right, your image is too bright. Decrease exposure by one stop: halve the shutter time, close the aperture one stop, or halve your ISO. Take another test shot and recheck the histogram.\",\n      \"title\": \"Correct if Histogram Is Right-Heavy\"\n    },\n    {\n      \"text\": \"Once the histogram looks balanced and the image brightness matches your scene, take your final photo. You've successfully set ISO, aperture, and shutter speed together to achieve proper manual exposure.\",\n      \"title\": \"Capture Your Final Image\"\n    }\n  ]\n}",
      "outputTokens": 880,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-photography-adjust-exposure-1",
      "userPrompt": "LESSON_TITLE: Manual Camera Settings\nLESSON_DESCRIPTION: Understanding and using manual camera settings to control exposure\nCHAPTER_TITLE: Camera Controls\nCOURSE_TITLE: Photography Fundamentals\nLANGUAGE: en\nACTIVITY_TITLE: Adjust Camera Exposure\nACTIVITY_DESCRIPTION: Adjust your camera's exposure settings (ISO, aperture, shutter speed) to achieve proper exposure for your scene"
    },
    {
      "duration": 19855.412333999993,
      "inputTokens": 2105,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Stand with your feet shoulder-width apart, toes pointed slightly outward at about a 15-30 degree angle. Your weight should be evenly distributed across both feet. Check that you feel stable and balanced before moving on.\",\n      \"title\": \"Set Your Foot Position\"\n    },\n    {\n      \"text\": \"Let your arms hang relaxed at your sides. Roll your shoulders back and down, then lift your chest slightly. Your spine should feel tall and neutral — avoid rounding your back or overarching your lower back.\",\n      \"title\": \"Align Your Upper Body\"\n    },\n    {\n      \"text\": \"Pick a spot on the wall at eye level and focus on it. This fixed gaze point helps you maintain a neutral head and neck position throughout the squat. Avoid looking down at your feet.\",\n      \"title\": \"Fix Your Gaze Forward\"\n    },\n    {\n      \"text\": \"Tighten your core muscles as if someone were about to poke your stomach. This bracing creates a stable \\\"cylinder\\\" around your spine. Maintain this tension — you should still be able to breathe normally.\",\n      \"title\": \"Brace Your Core\"\n    },\n    {\n      \"text\": \"Extend both arms straight out in front of you at shoulder height, palms facing down. This counterbalance helps you stay upright during the squat. If this feels uncomfortable, cross your arms over your chest instead.\",\n      \"title\": \"Extend Your Arms for Balance\"\n    },\n    {\n      \"text\": \"Begin the squat by pushing your hips back as if sitting into a chair behind you. This hip hinge is the first movement — your knees should NOT push forward first. You should feel your weight shift slightly toward your heels.\",\n      \"title\": \"Push Your Hips Back First\"\n    },\n    {\n      \"text\": \"Bend your knees and continue lowering your hips. Let your knees track outward over your toes — they should point the same direction as your feet. Do NOT let your knees cave inward. Pause if they do and push them out.\",\n      \"title\": \"Bend Your Knees Over Your Toes\"\n    },\n    {\n      \"text\": \"Lower yourself until your thighs are parallel to the floor, or as deep as you can go while keeping your heels flat. Your chest should stay upright and your back neutral. If your heels lift, you've gone too deep for now.\",\n      \"title\": \"Lower to Parallel\"\n    },\n    {\n      \"text\": \"At the bottom position, do a quick body check: heels flat on the floor, knees tracking over toes, chest up, core braced, back neutral. Hold this bottom position for 2-3 seconds to build familiarity with it.\",\n      \"title\": \"Hold and Check the Bottom Position\"\n    },\n    {\n      \"text\": \"Drive through your entire foot — especially your heels — to stand back up. Squeeze your glutes at the top as you fully extend your hips. Your torso and legs should rise at the same rate. You're back to your starting position.\",\n      \"title\": \"Stand Up by Driving Through Your Heels\"\n    },\n    {\n      \"text\": \"Perform 5 slow, controlled reps using this form. Take 3-4 seconds to lower and 2-3 seconds to rise. After each rep, reset your stance and check your foot position. Quality matters more than speed.\",\n      \"title\": \"Practice 5 Slow Repetitions\"\n    },\n    {\n      \"text\": \"After your 5 reps, assess how it felt. Common issues: knees caving inward (push them out), heels rising (widen your stance), lower back rounding (focus on keeping your chest up). Adjust and do 5 more reps to reinforce corrections.\",\n      \"title\": \"Identify and Correct Common Errors\"\n    }\n  ]\n}",
      "outputTokens": 776,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-fitness-proper-squat-form-1",
      "userPrompt": "LESSON_TITLE: How to Do Squats\nLESSON_DESCRIPTION: Complete guide to performing squats safely and effectively for building lower body strength\nCHAPTER_TITLE: Lower Body Exercises\nCOURSE_TITLE: Strength Training Basics\nLANGUAGE: en\nACTIVITY_TITLE: Master Proper Form\nACTIVITY_DESCRIPTION: Learn and practice the correct body positioning for a proper bodyweight squat"
    },
    {
      "duration": 24846.517959000077,
      "inputTokens": 2133,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Separe os seguintes ingredientes: 500g de farinha de trigo, 10g de fermento biológico seco, 10g de sal, 1 colher de sopa de açúcar, 300ml de água morna (cerca de 38°C) e 2 colheres de sopa de azeite ou óleo.\",\n      \"title\": \"Separe os ingredientes\"\n    },\n    {\n      \"text\": \"Meça 300ml de água morna — ela deve estar confortável ao toque, nunca quente. Água acima de 45°C mata o fermento. Se estiver em dúvida, pingue no pulso: deve parecer morna, quase neutra.\",\n      \"title\": \"Aqueça a água na temperatura certa\"\n    },\n    {\n      \"text\": \"Despeje a água morna em uma tigela pequena. Adicione o açúcar e misture até dissolver. Em seguida, polvilhe o fermento biológico seco por cima sem mexer. Aguarde 10 minutos.\",\n      \"title\": \"Ative o fermento\"\n    },\n    {\n      \"text\": \"Após 10 minutos, observe a superfície da mistura. Ela deve estar espumosa e com bolhas visíveis, com volume levemente aumentado. Isso confirma que o fermento está ativo. Se não espumar, descarte e repita com fermento novo.\",\n      \"title\": \"Verifique a ativação do fermento\"\n    },\n    {\n      \"text\": \"Em uma tigela grande, coloque a farinha de trigo e o sal. Misture com uma colher ou com as mãos para distribuir o sal uniformemente pela farinha.\",\n      \"title\": \"Misture farinha e sal na tigela\"\n    },\n    {\n      \"text\": \"Abra um buraco no centro da farinha (como um vulcão). Despeje a mistura de fermento ativado no centro. Adicione o azeite ou óleo por cima.\",\n      \"title\": \"Adicione os líquidos à farinha\"\n    },\n    {\n      \"text\": \"Com uma colher de pau ou espátula, misture os ingredientes do centro para as bordas, incorporando a farinha aos poucos. Continue até formar uma massa pegajosa e não restar farinha solta na tigela.\",\n      \"title\": \"Misture até formar uma massa\"\n    },\n    {\n      \"text\": \"Polvilhe levemente uma superfície lisa (bancada ou mesa) com farinha. Transfira a massa da tigela para essa superfície. Mantenha um pouco de farinha extra por perto para usar se necessário.\",\n      \"title\": \"Enfarinhe a superfície de trabalho\"\n    },\n    {\n      \"text\": \"Com a palma da mão, empurre a massa para frente, esticando-a. Dobre-a ao meio, gire um quarto de volta e repita. Esse é o movimento básico da sova. Mantenha um ritmo constante.\",\n      \"title\": \"Comece a sovar a massa\"\n    },\n    {\n      \"text\": \"Continue sovando por 8 a 10 minutos sem parar. Se a massa grudar demais, adicione apenas uma pitada de farinha. Evite excesso de farinha, pois deixa o pão pesado e seco.\",\n      \"title\": \"Sove por 8 a 10 minutos\"\n    },\n    {\n      \"text\": \"Pressione a massa com o dedo. Se ela voltar lentamente ao formato original, está pronta. A massa deve estar lisa, elástica e levemente macia — como um lóbulo de orelha ao toque. Se ainda estiver áspera, sove mais 2 minutos.\",\n      \"title\": \"Teste o ponto da massa\"\n    },\n    {\n      \"text\": \"Modele a massa em uma bola. Unte levemente uma tigela limpa com azeite. Coloque a bola de massa dentro e vire-a uma vez para que fique coberta de azeite por toda a superfície. A massa está pronta para a etapa de descanso.\",\n      \"title\": \"Coloque a massa na tigela untada\"\n    }\n  ]\n}",
      "outputTokens": 932,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "pt-cooking-preparar-massa-1",
      "userPrompt": "LESSON_TITLE: Fazendo Pao Caseiro\nLESSON_DESCRIPTION: Aprenda a fazer pao caseiro do zero, desde a preparacao da massa ate o cozimento\nCHAPTER_TITLE: Paes Caseiros\nCOURSE_TITLE: Panificacao em Casa\nLANGUAGE: pt\nACTIVITY_TITLE: Preparar a Massa\nACTIVITY_DESCRIPTION: Prepare a massa do pao, incluindo ativacao do fermento, mistura dos ingredientes e sova"
    },
    {
      "duration": 33662.09616700001,
      "inputTokens": 2139,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Ubica la válvula de cierre debajo del lavabo o fregadero. Gira ambas válvulas (agua fría y caliente) en sentido horario hasta que estén completamente cerradas. Si no hay válvulas locales, cierra la llave general de tu hogar.\",\n      \"title\": \"Cierra el suministro de agua\"\n    },\n    {\n      \"text\": \"Abre el grifo por completo para liberar la presión y drenar el agua restante en las tuberías. Deja el grifo abierto hasta que deje de salir agua por completo. Esto evitará salpicaduras al desarmarlo.\",\n      \"title\": \"Drena el agua residual\"\n    },\n    {\n      \"text\": \"Coloca el tapón del desagüe o un trapo sobre el drenaje del lavabo para evitar que tornillos o piezas pequeñas caigan por la tubería. Ten a mano un trapo, una linterna y un recipiente para las piezas.\",\n      \"title\": \"Tapa el desagüe del lavabo\"\n    },\n    {\n      \"text\": \"Busca una tapa decorativa en la parte superior de la manija. Retírala con un destornillador plano haciendo palanca suavemente. Debajo encontrarás un tornillo. Si tu grifo no tiene tapa, el tornillo estará visible.\",\n      \"title\": \"Retira la tapa decorativa de la manija\"\n    },\n    {\n      \"text\": \"Usa un destornillador Phillips o Allen (según el tipo de tornillo) para quitar el tornillo que sujeta la manija. Tira de la manija hacia arriba para retirarla. Si está atascada, aplica un poco de lubricante y espera 5 minutos.\",\n      \"title\": \"Desmonta la manija del grifo\"\n    },\n    {\n      \"text\": \"Observa el mecanismo interno: si ves un vástago con una tuerca grande, es un grifo de compresión. Si ves un cartucho cilíndrico o una bola metálica, es un grifo de cartucho o de bola. Identifica el tipo antes de continuar.\",\n      \"title\": \"Identifica el tipo de mecanismo\"\n    },\n    {\n      \"text\": \"Si tu grifo es de compresión, usa una llave ajustable para desenroscar la tuerca del vástago girándola en sentido antihorario. Extrae el vástago tirando hacia arriba. En la base encontrarás un empaque o arandela de goma.\",\n      \"title\": \"Retira el vástago o cartucho\"\n    },\n    {\n      \"text\": \"Examina la arandela de goma (empaque), los sellos O-ring alrededor del vástago y el asiento de la válvula dentro del grifo. Busca desgaste, grietas, deformaciones o acumulación de sarro. Estas son las causas más comunes del goteo.\",\n      \"title\": \"Inspecciona las piezas internas\"\n    },\n    {\n      \"text\": \"Lleva las piezas dañadas a la ferretería para conseguir repuestos del mismo tamaño. Compra empaques, O-rings o el cartucho completo según lo que necesites. Si no encuentras el modelo exacto, lleva una foto del grifo.\",\n      \"title\": \"Consigue los repuestos correctos\"\n    },\n    {\n      \"text\": \"Retira las piezas viejas y coloca las nuevas en su lugar. Aplica una capa delgada de grasa de silicón para plomería sobre los O-rings y empaques nuevos antes de instalarlos. Esto asegura un sellado hermético y facilita el ensamblaje.\",\n      \"title\": \"Instala las piezas nuevas\"\n    },\n    {\n      \"text\": \"Inserta el vástago o cartucho de vuelta en el cuerpo del grifo. Aprieta la tuerca de empaque con la llave ajustable en sentido horario, firme pero sin exceder la fuerza. Demasiada presión puede dañar las piezas nuevas.\",\n      \"title\": \"Reensambla el mecanismo interno\"\n    },\n    {\n      \"text\": \"Coloca la manija sobre el vástago y asegúrala con el tornillo. Aprieta firmemente. Vuelve a colocar la tapa decorativa presionándola hasta que encaje. La manija debe moverse suavemente al girarla.\",\n      \"title\": \"Reinstala la manija del grifo\"\n    },\n    {\n      \"text\": \"Abre lentamente las válvulas de cierre girándolas en sentido antihorario. Abre poco a poco para evitar golpes de presión. Verifica que no haya fugas alrededor de las válvulas de cierre mientras el agua fluye.\",\n      \"title\": \"Restablece el suministro de agua\"\n    },\n    {\n      \"text\": \"Abre y cierra el grifo varias veces. Observa debajo del lavabo y alrededor de la base del grifo durante 2-3 minutos. No debe haber goteo con el grifo cerrado ni fugas con el grifo abierto. Si gotea, revisa el apriete de la tuerca.\",\n      \"title\": \"Verifica que no haya goteo\"\n    },\n    {\n      \"text\": \"Limpia el área de trabajo y retira el tapón del desagüe. Guarda las herramientas y las piezas sobrantes. Si el goteo persiste después de la reparación, el asiento de la válvula puede necesitar rectificado o es momento de llamar a un plomero.\",\n      \"title\": \"Limpia y finaliza la reparación\"\n    }\n  ]\n}",
      "outputTokens": 1309,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "es-home-repair-fix-faucet-1",
      "userPrompt": "LESSON_TITLE: Arreglar una Fuga de Agua\nLESSON_DESCRIPTION: Guia paso a paso para reparar fugas de agua comunes en tu hogar\nCHAPTER_TITLE: Reparaciones de Plomeria\nCOURSE_TITLE: Mantenimiento del Hogar\nLANGUAGE: es\nACTIVITY_TITLE: Reparar el Grifo\nACTIVITY_DESCRIPTION: Repara un grifo que gotea, desde cerrar el agua hasta reemplazar las piezas danadas"
    },
    {
      "duration": 16375.728457999881,
      "inputTokens": 2093,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Look at the top of your word processor window. Find the menu bar that shows options like File, Edit, View, and others.\",\n      \"title\": \"Locate the File Menu\"\n    },\n    {\n      \"text\": \"Click on \\\"File\\\" in the top-left corner of the menu bar. A dropdown menu will appear with several options like New, Open, Save, and Save As.\",\n      \"title\": \"Click File\"\n    },\n    {\n      \"text\": \"Click \\\"Save As\\\" from the dropdown menu. A dialog box will open where you can choose where to store your file and what to name it. Use \\\"Save As\\\" for the first save.\",\n      \"title\": \"Select Save As\"\n    },\n    {\n      \"text\": \"In the dialog box, navigate to the folder where you want to store your document. Click \\\"Desktop\\\" or \\\"Documents\\\" in the left panel for easy access later.\",\n      \"title\": \"Choose a Save Location\"\n    },\n    {\n      \"text\": \"Click inside the \\\"File name\\\" field at the bottom of the dialog box. Delete any existing text, then type a clear, descriptive name for your document, such as \\\"Meeting Notes March.\\\"\",\n      \"title\": \"Enter a File Name\"\n    },\n    {\n      \"text\": \"Look for the \\\"Save as type\\\" dropdown below the file name field. Make sure it shows \\\"Word Document (.docx)\\\" or your preferred format. If not, click the dropdown and select it.\",\n      \"title\": \"Confirm the File Format\"\n    },\n    {\n      \"text\": \"Click the \\\"Save\\\" button in the bottom-right corner of the dialog box. The dialog will close and your document is now saved.\",\n      \"title\": \"Click Save\"\n    },\n    {\n      \"text\": \"Check the title bar at the very top of the window. It should now display the file name you entered instead of \\\"Document1\\\" or \\\"Untitled.\\\" This confirms your file was saved successfully.\",\n      \"title\": \"Verify the Title Bar\"\n    },\n    {\n      \"text\": \"Press Ctrl+S on your keyboard (or Cmd+S on Mac). Since the file is already named, it saves instantly with no dialog box. Use this shortcut frequently as you work to avoid losing changes.\",\n      \"title\": \"Practice the Quick Save Shortcut\"\n    },\n    {\n      \"text\": \"Make a small edit to your document, like typing a word. Then press Ctrl+S (or Cmd+S) again. Notice the brief save indicator in the status bar or title bar. Build this habit to protect your work.\",\n      \"title\": \"Save After Every Edit\"\n    }\n  ]\n}",
      "outputTokens": 502,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-short-activity-1",
      "userPrompt": "LESSON_TITLE: Basic Word Processing\nLESSON_DESCRIPTION: Learn fundamental word processing operations including creating, saving, and organizing documents\nCHAPTER_TITLE: Document Basics\nCOURSE_TITLE: Office Software Essentials\nLANGUAGE: en\nACTIVITY_TITLE: Save the Document\nACTIVITY_DESCRIPTION: Save your current document to preserve your work"
    },
    {
      "duration": 44367.339416999836,
      "inputTokens": 2103,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Lay out all components on a clean, static-free surface: motherboard, CPU, CPU cooler, RAM, storage drive (SSD/NVMe), GPU, power supply (PSU), and case. Keep an anti-static wrist strap on, clipped to a metal surface.\",\n      \"title\": \"Prepare Your Workspace and Parts\"\n    },\n    {\n      \"text\": \"Remove the motherboard from its anti-static bag and place it on top of the bag or the motherboard box. This gives you a safe, stable surface to work on before mounting it in the case.\",\n      \"title\": \"Unbox the Motherboard\"\n    },\n    {\n      \"text\": \"Lift the metal retention arm on the CPU socket and open the socket cover. Handle the CPU by its edges only — never touch the gold contacts on the bottom.\",\n      \"title\": \"Open the CPU Socket\"\n    },\n    {\n      \"text\": \"Align the gold triangle on the CPU corner with the matching triangle on the socket. Gently lower the CPU straight down into the socket. It should drop in without force. Do not press or slide it.\",\n      \"title\": \"Seat the CPU\"\n    },\n    {\n      \"text\": \"Lower the retention arm back down and lock it in place. The plastic socket cover will pop off automatically — keep it for future use. The CPU is now secured.\",\n      \"title\": \"Lock the CPU Retention Arm\"\n    },\n    {\n      \"text\": \"Apply a pea-sized dot of thermal paste to the center of the CPU. If your cooler came with paste pre-applied on its base, skip this step.\",\n      \"title\": \"Apply Thermal Paste\"\n    },\n    {\n      \"text\": \"Place the CPU cooler onto the CPU, aligning its mounting brackets or screws with the motherboard holes. Tighten in a cross pattern (opposite corners) to ensure even pressure. Plug the fan cable into the CPU_FAN header.\",\n      \"title\": \"Mount the CPU Cooler\"\n    },\n    {\n      \"text\": \"Open the clips on the RAM slots. Check your motherboard manual for which slots to use first — usually slots 2 and 4 for dual-channel. Align the notch on the RAM stick with the slot key.\",\n      \"title\": \"Prepare the RAM Slots\"\n    },\n    {\n      \"text\": \"Press the RAM stick firmly and evenly into the slot until both clips snap shut with an audible click. Repeat for each stick. If a clip doesn't close, the stick isn't fully seated — press harder.\",\n      \"title\": \"Install the RAM\"\n    },\n    {\n      \"text\": \"If you have an M.2 NVMe SSD, locate the M.2 slot on the motherboard. Remove the mounting screw, slide the SSD into the slot at an angle, then press it flat and secure it with the screw.\",\n      \"title\": \"Install the M.2 SSD\"\n    },\n    {\n      \"text\": \"Remove both side panels from the PC case. Install the motherboard I/O shield (the metal plate with port cutouts) into the rectangular opening at the back of the case. Press firmly on all edges until it clicks into place.\",\n      \"title\": \"Install the I/O Shield\"\n    },\n    {\n      \"text\": \"Locate the standoff screws in your case hardware kit. Screw standoffs into the case's motherboard tray, matching the hole pattern for your motherboard size (ATX, Micro-ATX, etc.). Check your case manual for positions.\",\n      \"title\": \"Install Motherboard Standoffs\"\n    },\n    {\n      \"text\": \"Lower the motherboard into the case at an angle, aligning the rear ports with the I/O shield cutouts. Set it down on the standoffs, making sure every standoff lines up with a motherboard hole.\",\n      \"title\": \"Place the Motherboard in the Case\"\n    },\n    {\n      \"text\": \"Secure the motherboard to the standoffs using the provided screws. Tighten gently in a cross pattern. Don't overtighten — stop when the screw is snug and the board doesn't flex.\",\n      \"title\": \"Screw Down the Motherboard\"\n    },\n    {\n      \"text\": \"If using a 2.5\\\" SATA SSD or HDD, mount it in the case's drive bay or bracket. Slide it in and secure with screws. Connect a SATA data cable from the drive to a SATA port on the motherboard.\",\n      \"title\": \"Install SATA Storage Drives\"\n    },\n    {\n      \"text\": \"Slide the power supply into its mounting position (usually at the bottom rear of the case). Orient the fan facing down if there's a vent, or up if there isn't. Secure it with the four screws from outside the case.\",\n      \"title\": \"Mount the Power Supply\"\n    },\n    {\n      \"text\": \"Plug the 24-pin ATX power cable from the PSU into the large connector on the right side of the motherboard. Push firmly until the clip snaps in. You should hear a click.\",\n      \"title\": \"Connect the 24-Pin Power Cable\"\n    },\n    {\n      \"text\": \"Locate the 4+4 pin (or 8-pin) CPU power cable from the PSU. Route it behind the motherboard tray and plug it into the CPU power connector at the top-left of the motherboard.\",\n      \"title\": \"Connect CPU Power\"\n    },\n    {\n      \"text\": \"If you installed a SATA drive, connect a SATA power cable from the PSU to the drive. The L-shaped connector only fits one way.\",\n      \"title\": \"Connect SATA Power\"\n    },\n    {\n      \"text\": \"Find the front panel connectors from your case: Power SW, Reset SW, HDD LED, and Power LED. Check your motherboard manual for the exact pin layout and plug each connector into the correct pins on the front panel header.\",\n      \"title\": \"Wire the Front Panel Headers\"\n    },\n    {\n      \"text\": \"Connect the case's front USB cable(s) to the USB headers on the motherboard. The USB 3.0 header is a wide blue connector; USB-C uses a smaller, separate header. They're keyed so they only fit one way.\",\n      \"title\": \"Connect Front Panel USB\"\n    },\n    {\n      \"text\": \"Plug the case's HD Audio cable into the AUDIO header on the bottom-left of the motherboard. The missing pin on the connector matches the blocked pin on the header.\",\n      \"title\": \"Connect Front Panel Audio\"\n    },\n    {\n      \"text\": \"Remove the appropriate PCIe slot covers from the back of the case (usually one or two slots). Open the PCIe x16 slot's retention clip on the motherboard.\",\n      \"title\": \"Prepare the GPU Slot\"\n    },\n    {\n      \"text\": \"Align the GPU's gold contacts with the PCIe x16 slot. Press it down firmly and evenly until the retention clip snaps shut. Secure the GPU bracket to the case with screws.\",\n      \"title\": \"Install the Graphics Card\"\n    },\n    {\n      \"text\": \"If your GPU requires additional power, connect the 6+2 pin PCIe power cable(s) from the PSU to the GPU. High-end cards may need two or three cables. You should hear a click on each connector.\",\n      \"title\": \"Connect GPU Power\"\n    },\n    {\n      \"text\": \"Connect case fans to the SYS_FAN or CHA_FAN headers on the motherboard. Route cables neatly behind the motherboard tray using zip ties or velcro straps to improve airflow.\",\n      \"title\": \"Connect Case Fans and Tidy Cables\"\n    },\n    {\n      \"text\": \"Double-check all connections: 24-pin ATX, CPU power, GPU power, RAM seated, storage connected, front panel wired, and CPU fan plugged in. Verify no loose screws or tools are inside the case.\",\n      \"title\": \"Verify All Connections\"\n    },\n    {\n      \"text\": \"Connect a monitor to the GPU's display output (HDMI or DisplayPort), plug in a keyboard, and connect the PSU power cord to a wall outlet. Flip the PSU power switch on the back to the ON position.\",\n      \"title\": \"Connect Monitor and Peripherals\"\n    },\n    {\n      \"text\": \"Press the case's power button. Watch for fans spinning, lights turning on, and the motherboard splash screen appearing on the monitor. If nothing happens, recheck the Power SW header and PSU switch.\",\n      \"title\": \"Power On for First Boot\"\n    },\n    {\n      \"text\": \"If the system posts and you see the BIOS/UEFI screen, your build is successful! Verify that the CPU, RAM amount, and storage drives are all detected. You're now ready to install an operating system.\",\n      \"title\": \"Confirm BIOS Detection\"\n    }\n  ]\n}",
      "outputTokens": 1784,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-complex-activity-1",
      "userPrompt": "LESSON_TITLE: Building a PC\nLESSON_DESCRIPTION: Complete guide to building your own desktop computer from scratch\nCHAPTER_TITLE: Hardware Assembly\nCOURSE_TITLE: PC Building\nLANGUAGE: en\nACTIVITY_TITLE: Assemble the Computer\nACTIVITY_DESCRIPTION: Assemble a desktop computer from individual components, including installing CPU, RAM, storage, GPU, and connecting power"
    }
  ],
  "taskId": "activity-custom"
}
