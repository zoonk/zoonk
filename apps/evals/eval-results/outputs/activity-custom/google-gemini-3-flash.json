{
  "generatedAt": "2026-01-18T04:00:19.364Z",
  "modelId": "google/gemini-3-flash",
  "outputs": [
    {
      "duration": 10291.032708000042,
      "inputTokens": 1746,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Open your web browser and go to git-scm.com. This is the official website where the Git software is hosted and maintained.\",\n      \"title\": \"Visit the Official Git Website\"\n    },\n    {\n      \"text\": \"Click on the \\\"Download\\\" button for your operating system. For Windows users, the download should start automatically; for macOS or Linux, follow the specific link provided for your platform.\",\n      \"title\": \"Download the Installer\"\n    },\n    {\n      \"text\": \"Locate the downloaded installation file in your downloads folder (it usually ends in .exe for Windows or .dmg for macOS) and double-click to open it.\",\n      \"title\": \"Run the Installer\"\n    },\n    {\n      \"text\": \"Progress through the installation wizard by clicking \\\"Next.\\\" For most users, the default settings are recommended. Ensure the \\\"Git Bash\\\" component is selected during the process.\",\n      \"title\": \"Configure Installation Settings\"\n    },\n    {\n      \"text\": \"When prompted to choose a default editor, select \\\"Vim\\\" or another editor you are comfortable with from the dropdown menu, then click \\\"Next.\\\"\",\n      \"title\": \"Select Your Default Editor\"\n    },\n    {\n      \"text\": \"Continue clicking \\\"Next\\\" through the remaining configuration screens using the default recommended settings. Click \\\"Install\\\" to begin the final file transfer.\",\n      \"title\": \"Complete the Installation\"\n    },\n    {\n      \"text\": \"On Windows, press the Start key and type \\\"cmd\\\" to open Command Prompt. On macOS, press Command + Space, type \\\"Terminal,\\\" and press Enter.\",\n      \"title\": \"Open Your Command Line Interface\"\n    },\n    {\n      \"text\": \"Type \\\"git --version\\\" into the command line and press Enter. You should see a response showing the installed version number, such as \\\"git version 2.45.0\\\".\",\n      \"title\": \"Verify the Installation\"\n    }\n  ]\n}",
      "outputTokens": 1220,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-tech-install-git-1",
      "userPrompt": "LESSON_TITLE: How to Set Up Git\nLESSON_DESCRIPTION: Setting up your development environment by installing and configuring Git version control\nCHAPTER_TITLE: Getting Started\nCOURSE_TITLE: Git Fundamentals\nLANGUAGE: en\nACTIVITY_TITLE: Install Git\nACTIVITY_DESCRIPTION: Download and install Git on your computer, including verification that the installation succeeded"
    },
    {
      "duration": 9166.85149999999,
      "inputTokens": 1760,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Park the vehicle on a level surface and engage the parking brake firmly. Place a heavy object or wheel chock behind the opposite tire to prevent any rolling.\",\n      \"title\": \"Secure the Vehicle\"\n    },\n    {\n      \"text\": \"Use the lug wrench to turn each nut counter-clockwise. Only loosen them about half a turn while the tire is still touching the ground; do not remove them yet.\",\n      \"title\": \"Loosen the Lug Nuts\"\n    },\n    {\n      \"text\": \"Locate the jacking point near the flat tire, usually a reinforced metal area under the frame. Position the jack securely underneath this specific point.\",\n      \"title\": \"Position the Jack\"\n    },\n    {\n      \"text\": \"Turn the jack handle clockwise to lift the car until the flat tire is about six inches off the ground. Ensure the vehicle remains stable and doesn't tilt.\",\n      \"title\": \"Raise the Vehicle\"\n    },\n    {\n      \"text\": \"Finish unscrewing the lug nuts by hand or with the wrench. Place them in a secure spot, like your pocket or the hubcap, so you don't lose them.\",\n      \"title\": \"Remove Lug Nuts Completely\"\n    },\n    {\n      \"text\": \"Grip the tire with both hands and pull it straight toward you until it clears the bolts. Lay the flat tire on its side nearby once it is fully removed.\",\n      \"title\": \"Pull Off the Flat Tire\"\n    }\n  ]\n}",
      "outputTokens": 1395,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-automotive-remove-flat-tire-1",
      "userPrompt": "LESSON_TITLE: Changing a Car Tire\nLESSON_DESCRIPTION: Step-by-step guide to safely changing a flat tire on the side of the road\nCHAPTER_TITLE: Roadside Emergencies\nCOURSE_TITLE: Basic Car Maintenance\nLANGUAGE: en\nACTIVITY_TITLE: Remove the Flat Tire\nACTIVITY_DESCRIPTION: Safely remove a flat tire from your vehicle, including proper jacking and lug nut removal"
    },
    {
      "duration": 9544.331874999974,
      "inputTokens": 1756,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Pour hot water into your empty French press carafe to warm it up. Swirl the water around for a few seconds, then discard it. This ensures your coffee stays at the right temperature during the brewing process.\",\n      \"title\": \"Preheat the Carafe\"\n    },\n    {\n      \"text\": \"Add approximately 30 grams (about 3 to 4 tablespoons) of coarsely ground coffee to the bottom of the carafe. The grounds should have a consistency similar to sea salt.\",\n      \"title\": \"Add Coffee Grounds\"\n    },\n    {\n      \"text\": \"Pour just enough hot water (about 200°F or 93°C) to saturate the grounds completely. Stop and wait 30 seconds. You will see the coffee bubble and expand; this is called the bloom.\",\n      \"title\": \"Bloom the Coffee\"\n    },\n    {\n      \"text\": \"Pour the remaining hot water into the carafe, leaving about an inch of space at the top. For best results, use a 1:15 ratio of coffee to water.\",\n      \"title\": \"Add Remaining Water\"\n    },\n    {\n      \"text\": \"Use a long spoon to gently stir the top layer of floating coffee grounds. This ensures all grounds are fully submerged for even extraction.\",\n      \"title\": \"Stir the Grounds\"\n    },\n    {\n      \"text\": \"Place the plunger lid on top of the carafe to trap the heat, but do not push the plunger down yet. The filter should sit just above the water level.\",\n      \"title\": \"Position the Lid\"\n    },\n    {\n      \"text\": \"Set a timer for 4 minutes and let the coffee sit undisturbed. This time allows the flavors to develop fully without becoming bitter.\",\n      \"title\": \"Steep for Four Minutes\"\n    },\n    {\n      \"text\": \"Apply steady, light pressure to push the plunger all the way to the bottom. If you feel significant resistance, stop for a second and then continue. You should feel the grounds compress at the base.\",\n      \"title\": \"Plunge Slowly\"\n    },\n    {\n      \"text\": \"Pour the coffee into your mug immediately after plunging. Leaving it in the carafe will cause it to over-extract and become bitter. Your perfect cup is ready to enjoy.\",\n      \"title\": \"Pour and Serve\"\n    }\n  ]\n}",
      "outputTokens": 1395,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-cooking-brew-coffee-1",
      "userPrompt": "LESSON_TITLE: Making French Press Coffee\nLESSON_DESCRIPTION: Master the French press method for making rich, full-bodied coffee at home\nCHAPTER_TITLE: Coffee Brewing Methods\nCOURSE_TITLE: Home Barista Basics\nLANGUAGE: en\nACTIVITY_TITLE: Brew the Coffee\nACTIVITY_DESCRIPTION: Brew a perfect cup of coffee using a French press, from measuring grounds to plunging and pouring"
    },
    {
      "duration": 8404.853999999992,
      "inputTokens": 1747,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Select an area in your garden that receives at least 6 to 8 hours of direct sunlight per day. Ensure the spot has enough space for the specific tomato variety you plan to grow.\",\n      \"title\": \"Select a Sunny Location\"\n    },\n    {\n      \"text\": \"Pull up any weeds and remove large rocks or debris from the designated bed. The ground should be clear to ensure tomato roots don't have to compete for space or nutrients.\",\n      \"title\": \"Clear the Garden Bed\"\n    },\n    {\n      \"text\": \"Use a garden fork or spade to dig into the soil at least 8 to 12 inches deep. Turn the soil over to break up large clumps, which helps improve aeration and drainage.\",\n      \"title\": \"Loosen the Soil\"\n    },\n    {\n      \"text\": \"Spread a 2- to 3-inch layer of well-rotted compost or aged manure over the entire bed. This adds vital organic matter and improves the soil's ability to hold moisture.\",\n      \"title\": \"Apply Organic Matter\"\n    },\n    {\n      \"text\": \"Sprinkle a balanced, slow-release fertilizer over the compost layer following the package instructions. Look for a mix specifically formulated for vegetables or tomatoes.\",\n      \"title\": \"Add Soil Fertilizer\"\n    },\n    {\n      \"text\": \"Use a garden fork or rake to blend the compost and fertilizer into the top 6 inches of the loosened soil. You should see a uniform, crumbly texture across the bed.\",\n      \"title\": \"Mix the Amendments\"\n    },\n    {\n      \"text\": \"Rake the surface until it is flat and even. A level bed ensures that water distributes equally to all plants rather than pooling in low spots.\",\n      \"title\": \"Level the Surface\"\n    },\n    {\n      \"text\": \"Lightly spray the bed with water until the soil is damp but not muddy. This settles the soil and prepares the environment for your tomato transplants.\",\n      \"title\": \"Hydrate the Bed\"\n    }\n  ]\n}",
      "outputTokens": 1183,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-gardening-prepare-soil-1",
      "userPrompt": "LESSON_TITLE: Planting Tomatoes\nLESSON_DESCRIPTION: Complete guide to planting and growing healthy tomato plants in your home garden\nCHAPTER_TITLE: Growing Vegetables\nCOURSE_TITLE: Home Gardening\nLANGUAGE: en\nACTIVITY_TITLE: Prepare the Soil\nACTIVITY_DESCRIPTION: Prepare a garden bed for tomato planting by loosening, amending, and conditioning the soil"
    },
    {
      "duration": 10009.263500000001,
      "inputTokens": 1751,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Place your fabric flat on a large table or the floor. Ensure there are no wrinkles or folds. If the fabric is wrinkled, iron it first so your measurements are accurate.\",\n      \"title\": \"Lay Out Your Fabric\"\n    },\n    {\n      \"text\": \"Determine the size needed for your pillow. For a standard pillow, you typically need one piece measuring 21 by 32 inches. Check your pattern instructions for specific requirements.\",\n      \"title\": \"Identify the Dimensions\"\n    },\n    {\n      \"text\": \"Use a fabric marker or tailor's chalk and a ruler to draw the dimensions onto the wrong side of the fabric. You should see clear, straight lines forming a rectangle.\",\n      \"title\": \"Mark the Cutting Lines\"\n    },\n    {\n      \"text\": \"If using a paper pattern, place it over the lines and insert sewing pins every 4 inches along the edges to hold it in place. If not using a pattern, pin the fabric layers together to prevent shifting.\",\n      \"title\": \"Pin the Fabric\"\n    },\n    {\n      \"text\": \"Use sharp fabric shears to cut along the marked lines or pattern edges. Keep the bottom blade of the scissors touching the table for the straightest cut.\",\n      \"title\": \"Cut Along the Lines\"\n    },\n    {\n      \"text\": \"Remove the pins and the pattern. Lay your cut piece flat and measure it one last time with your tape measure to ensure it matches the required dimensions.\",\n      \"title\": \"Verify Your Pieces\"\n    }\n  ]\n}",
      "outputTokens": 1572,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-crafts-cut-fabric-1",
      "userPrompt": "LESSON_TITLE: Sewing a Pillowcase\nLESSON_DESCRIPTION: Learn to sew a simple pillowcase from start to finish using basic techniques\nCHAPTER_TITLE: Basic Sewing Projects\nCOURSE_TITLE: Sewing for Beginners\nLANGUAGE: en\nACTIVITY_TITLE: Cut the Fabric\nACTIVITY_DESCRIPTION: Measure, pin, and cut fabric pieces for a pillowcase following a pattern"
    },
    {
      "duration": 16757.372375000035,
      "inputTokens": 1748,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Clip your electronic tuner onto the guitar's headstock and turn it on. If you are using a tuner app on your mobile device, place the phone close to the guitar's soundhole or pickups to ensure it picks up the vibrations clearly.\",\n      \"title\": \"Prepare Your Tuner\"\n    },\n    {\n      \"text\": \"Pluck the 6th string, which is the thickest string closest to your face. Watch the tuner to see if it identifies the note as 'E'. If the needle is to the left of center, the pitch is too low (flat).\",\n      \"title\": \"Pluck the 6th String (Low E)\"\n    },\n    {\n      \"text\": \"Slowly turn the tuning peg for the 6th string. Tighten the string to raise the pitch if it is flat, or loosen it to lower the pitch if it is sharp. Stop when the tuner indicator hits the center and usually turns green.\",\n      \"title\": \"Adjust the Tuning Peg for Low E\"\n    },\n    {\n      \"text\": \"Pluck the next string down. Turn its corresponding tuning peg until the tuner displays a solid 'A' in the center of the display. Always pluck the string again after every small turn to get an accurate reading.\",\n      \"title\": \"Tune the 5th String (A)\"\n    },\n    {\n      \"text\": \"Pluck the 4th string. Adjust the peg until the tuner confirms the note is a stable 'D'. Ensure the indicator is not flickering between different notes.\",\n      \"title\": \"Tune the 4th String (D)\"\n    },\n    {\n      \"text\": \"Move to the 3rd string and pluck it. Tighten or loosen the string until the tuner shows a solid 'G'. Keep your movements small to avoid overshooting the target pitch.\",\n      \"title\": \"Tune the 3rd String (G)\"\n    },\n    {\n      \"text\": \"Pluck the 2nd string. Adjust until you see a centered 'B'. Note that on many headstocks, the tuning pegs for the thinner strings may turn in the opposite direction from the thicker ones.\",\n      \"title\": \"Tune the 2nd String (B)\"\n    },\n    {\n      \"text\": \"Pluck the thinnest string at the bottom. Carefully adjust the peg until the tuner indicates a perfect 'E'. Use extra caution here, as this string is under high tension and can break if overtightened.\",\n      \"title\": \"Tune the 1st String (High E)\"\n    },\n    {\n      \"text\": \"Play each string one after the other from the thickest to the thinnest. If any string shifted out of tune while you were adjusting the others, give the peg a final small turn to center the pitch.\",\n      \"title\": \"Verify All Strings\"\n    }\n  ]\n}",
      "outputTokens": 2382,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-music-tune-guitar-1",
      "userPrompt": "LESSON_TITLE: Getting Started with Guitar\nLESSON_DESCRIPTION: Essential setup steps before you start playing guitar, including tuning and posture\nCHAPTER_TITLE: Guitar Basics\nCOURSE_TITLE: Learn Guitar\nLANGUAGE: en\nACTIVITY_TITLE: Tune Your Guitar\nACTIVITY_DESCRIPTION: Tune each string of your guitar to standard tuning using a tuner or reference pitch"
    },
    {
      "duration": 11709.411458000017,
      "inputTokens": 1750,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Turn your camera's mode dial to 'M'. This gives you full control over ISO, aperture, and shutter speed. Look for the 'M' icon on the top dial or the digital settings menu.\",\n      \"title\": \"Switch to Manual Mode\"\n    },\n    {\n      \"text\": \"Locate the ISO setting and set it to 100 or 200 for daylight, or 800 or higher for indoor lighting. Lower ISO values ensure your photo has less digital noise and higher clarity.\",\n      \"title\": \"Set Your Base ISO\"\n    },\n    {\n      \"text\": \"Rotate the command dial to adjust the f-number. Choose a small number like f/2.8 for a blurred background (shallow depth of field), or a large number like f/11 to keep everything in focus.\",\n      \"title\": \"Select the Aperture\"\n    },\n    {\n      \"text\": \"Look through your viewfinder or at the LCD screen for a horizontal scale with a '0' in the center. This meter indicates if your photo will be under or overexposed based on current light.\",\n      \"title\": \"Locate the Exposure Meter\"\n    },\n    {\n      \"text\": \"Rotate the shutter speed dial while watching the exposure meter. Adjust the speed until the marker is aligned with the '0' in the middle of the scale to achieve a balanced exposure.\",\n      \"title\": \"Balance the Shutter Speed\"\n    },\n    {\n      \"text\": \"Press the shutter button completely to take the photo. Look at the playback screen; if the image is still too dark, decrease shutter speed. If it is too bright, increase the speed.\",\n      \"title\": \"Capture and Review\"\n    }\n  ]\n}",
      "outputTokens": 1715,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-photography-adjust-exposure-1",
      "userPrompt": "LESSON_TITLE: Manual Camera Settings\nLESSON_DESCRIPTION: Understanding and using manual camera settings to control exposure\nCHAPTER_TITLE: Camera Controls\nCOURSE_TITLE: Photography Fundamentals\nLANGUAGE: en\nACTIVITY_TITLE: Adjust Camera Exposure\nACTIVITY_DESCRIPTION: Adjust your camera's exposure settings (ISO, aperture, shutter speed) to achieve proper exposure for your scene"
    },
    {
      "duration": 10982.284875000012,
      "inputTokens": 1749,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Stand with your feet slightly wider than shoulder-width apart. Point your toes slightly outward, between 5 and 20 degrees, to create a stable base.\",\n      \"title\": \"Set Your Stance\"\n    },\n    {\n      \"text\": \"Tighten your abdominal muscles and pull your shoulders back and down. Keep your chest lifted and look straight ahead to maintain a neutral spine.\",\n      \"title\": \"Brace Your Core\"\n    },\n    {\n      \"text\": \"Extend your arms straight out in front of you at shoulder height for balance. Ensure your weight is distributed evenly between your heels and mid-foot.\",\n      \"title\": \"Position Your Arms\"\n    },\n    {\n      \"text\": \"Push your hips back as if you are sitting into a chair, then bend your knees. Keep your heels glued to the floor and your chest facing forward.\",\n      \"title\": \"Initiate the Descent\"\n    },\n    {\n      \"text\": \"Continue lowering until your thighs are at least parallel to the floor. Check that your knees are tracking in line with your toes and not caving inward.\",\n      \"title\": \"Reach Parallel Depth\"\n    },\n    {\n      \"text\": \"Drive through your heels to return to a standing position. Keep your core engaged and exhale as you push upward. You should feel your quads and glutes working.\",\n      \"title\": \"Drive Upward\"\n    },\n    {\n      \"text\": \"Squeeze your glutes at the top of the movement to fully extend your hips. You should end in the same tall, stable position where you started.\",\n      \"title\": \"Reset and Lock Out\"\n    }\n  ]\n}",
      "outputTokens": 1500,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-fitness-proper-squat-form-1",
      "userPrompt": "LESSON_TITLE: How to Do Squats\nLESSON_DESCRIPTION: Complete guide to performing squats safely and effectively for building lower body strength\nCHAPTER_TITLE: Lower Body Exercises\nCOURSE_TITLE: Strength Training Basics\nLANGUAGE: en\nACTIVITY_TITLE: Master Proper Form\nACTIVITY_DESCRIPTION: Learn and practice the correct body positioning for a proper bodyweight squat"
    },
    {
      "duration": 8938.393792000017,
      "inputTokens": 1770,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Em uma tigela pequena, misture o fermento biológico seco com água morna e uma pitada de açúcar. Deixe descansar por cerca de 10 minutos até que uma espuma borbulhante se forme na superfície.\",\n      \"title\": \"Ative o fermento\"\n    },\n    {\n      \"text\": \"Em uma tigela grande, despeje a mistura de fermento ativado e adicione o óleo (ou manteiga derretida) e o sal. Mexa levemente para integrar os líquidos.\",\n      \"title\": \"Combine os ingredientes líquidos\"\n    },\n    {\n      \"text\": \"Adicione a farinha de trigo gradualmente, uma xícara por vez, mexendo com uma colher de pau. Pare de adicionar quando a massa começar a se desprender das laterais da tigela e formar uma bola.\",\n      \"title\": \"Incorpore a farinha aos poucos\"\n    },\n    {\n      \"text\": \"Polvilhe uma superfície lisa e limpa com um pouco de farinha. Transfira a bola de massa da tigela para a bancada preparada.\",\n      \"title\": \"Prepare a bancada para sovar\"\n    },\n    {\n      \"text\": \"Empurre a massa para frente com a palma da mão, dobre-a sobre si mesma e gire-a levemente. Repita esse movimento de forma rítmica e contínua.\",\n      \"title\": \"Sove a massa\"\n    },\n    {\n      \"text\": \"Continue sovando por 8 a 10 minutos. Você saberá que terminou quando a massa estiver lisa, elástica e não grudar mais nas mãos ou na bancada.\",\n      \"title\": \"Verifique a elasticidade\"\n    },\n    {\n      \"text\": \"Pressione a massa suavemente com o dedo. Se a marca desaparecer rapidamente e a massa voltar à forma original, ela está pronta para descansar.\",\n      \"title\": \"Confirme o ponto final\"\n    }\n  ]\n}",
      "outputTokens": 1196,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "pt-cooking-preparar-massa-1",
      "userPrompt": "LESSON_TITLE: Fazendo Pao Caseiro\nLESSON_DESCRIPTION: Aprenda a fazer pao caseiro do zero, desde a preparacao da massa ate o cozimento\nCHAPTER_TITLE: Paes Caseiros\nCOURSE_TITLE: Panificacao em Casa\nLANGUAGE: pt\nACTIVITY_TITLE: Preparar a Massa\nACTIVITY_DESCRIPTION: Prepare a massa do pao, incluindo ativacao do fermento, mistura dos ingredientes e sova"
    },
    {
      "duration": 10604.745791000023,
      "inputTokens": 1768,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Reúne una llave inglesa o ajustable, un destornillador, lubricante de silicona y piezas de repuesto como arandelas o un cartucho nuevo antes de comenzar.\",\n      \"title\": \"Prepara las herramientas\"\n    },\n    {\n      \"text\": \"Localiza las llaves de paso debajo del fregadero y gíralas en el sentido de las agujas del reloj hasta que no cedan más para cortar el flujo de agua.\",\n      \"title\": \"Cierra el suministro de agua\"\n    },\n    {\n      \"text\": \"Abre el grifo por completo para dejar que el agua atrapada en las tuberías salga. Sabrás que está listo cuando el chorro se detenga totalmente.\",\n      \"title\": \"Libera la presión de la línea\"\n    },\n    {\n      \"text\": \"Usa un destornillador plano para retirar la tapa decorativa del mango. Si tu modelo no tiene tapa, busca un pequeño tornillo Allen en la base o lateral.\",\n      \"title\": \"Retira el embellecedor del mango\"\n    },\n    {\n      \"text\": \"Afloja el tornillo central que sujeta la manija al cuerpo del grifo. Una vez suelto, tira de la manija hacia arriba con firmeza para extraerla.\",\n      \"title\": \"Quita el mango del grifo\"\n    },\n    {\n      \"text\": \"Usa la llave inglesa para desenroscar la tuerca de retención de la válvula. Tira del cartucho o vástago hacia arriba para sacarlo de su alojamiento.\",\n      \"title\": \"Extrae el cartucho o válvula\"\n    },\n    {\n      \"text\": \"Coloca el cartucho nuevo o cambia las arandelas de goma si están agrietadas. Asegúrate de que la pieza encaje perfectamente en las ranuras del cuerpo.\",\n      \"title\": \"Sustituye las piezas dañadas\"\n    },\n    {\n      \"text\": \"Vuelve a colocar la tuerca de retención, apriétala con la llave sin forzar y reinstala el mango con su tornillo y tapa decorativa.\",\n      \"title\": \"Ensambla el grifo\"\n    },\n    {\n      \"text\": \"Gira las llaves de paso inferiores en sentido contrario a las agujas del reloj. Abre el grifo para purgar el aire y confirma que la fuga ha desaparecido.\",\n      \"title\": \"Prueba la reparación\"\n    }\n  ]\n}",
      "outputTokens": 1336,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "es-home-repair-fix-faucet-1",
      "userPrompt": "LESSON_TITLE: Arreglar una Fuga de Agua\nLESSON_DESCRIPTION: Guia paso a paso para reparar fugas de agua comunes en tu hogar\nCHAPTER_TITLE: Reparaciones de Plomeria\nCOURSE_TITLE: Mantenimiento del Hogar\nLANGUAGE: es\nACTIVITY_TITLE: Reparar el Grifo\nACTIVITY_DESCRIPTION: Repara un grifo que gotea, desde cerrar el agua hasta reemplazar las piezas danadas"
    },
    {
      "duration": 8708.812957999995,
      "inputTokens": 1741,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Look at the top-left corner of your word processor and click on the \\\"File\\\" tab. This opens the menu for document management and settings.\",\n      \"title\": \"Click the File Menu\"\n    },\n    {\n      \"text\": \"Click on \\\"Save As\\\" in the left-hand sidebar. Using \\\"Save As\\\" for the first time allows you to choose exactly where the file goes and what to call it.\",\n      \"title\": \"Select Save As\"\n    },\n    {\n      \"text\": \"Click on \\\"Browse\\\" or \\\"This PC\\\" to open the file navigation window. A new window will appear showing your computer's folders.\",\n      \"title\": \"Choose a Location\"\n    },\n    {\n      \"text\": \"Select the \\\"Documents\\\" folder from the list on the left side of the window. This ensures your file is stored in a standard, easy-to-find place.\",\n      \"title\": \"Navigate to Documents\"\n    },\n    {\n      \"text\": \"Click inside the \\\"File name\\\" box at the bottom of the window. Type a clear name for your work, such as \\\"My First Document\\\".\",\n      \"title\": \"Type a File Name\"\n    },\n    {\n      \"text\": \"Click the \\\"Save\\\" button in the bottom-right corner of the window. The saving window will disappear, returning you to your document.\",\n      \"title\": \"Click Save\"\n    },\n    {\n      \"text\": \"Look at the very top bar of your word processor. You should see your new file name displayed there instead of \\\"Document1,\\\" confirming your work is saved.\",\n      \"title\": \"Verify Success\"\n    }\n  ]\n}",
      "outputTokens": 1183,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-short-activity-1",
      "userPrompt": "LESSON_TITLE: Basic Word Processing\nLESSON_DESCRIPTION: Learn fundamental word processing operations including creating, saving, and organizing documents\nCHAPTER_TITLE: Document Basics\nCOURSE_TITLE: Office Software Essentials\nLANGUAGE: en\nACTIVITY_TITLE: Save the Document\nACTIVITY_DESCRIPTION: Save your current document to preserve your work"
    },
    {
      "duration": 11784.772166999988,
      "inputTokens": 1750,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Place your motherboard on its original box or an anti-static mat. This creates a safe, non-conductive surface to begin assembly outside of the case.\",\n      \"title\": \"Prepare your motherboard\"\n    },\n    {\n      \"text\": \"Lift the socket lever on the motherboard. Align the golden triangle on the CPU with the mark on the socket. Place the CPU gently in the slot and lower the lever to lock it. You should feel slight resistance.\",\n      \"title\": \"Install the CPU\"\n    },\n    {\n      \"text\": \"Push the clips on the RAM slots outward. Align the notch on the RAM stick with the slot and press down firmly until the clips snap back into place. You will hear a distinct click.\",\n      \"title\": \"Install the RAM\"\n    },\n    {\n      \"text\": \"Unscrew the M.2 standoff screw on the motherboard. Insert the SSD into the slot at a 30-degree angle, press it down flat, and tighten the screw to hold it in place.\",\n      \"title\": \"Install the M.2 SSD\"\n    },\n    {\n      \"text\": \"Align the motherboard's back ports with the I/O shield at the rear of the case. Lower the board onto the pre-installed standoffs and tighten the mounting screws to secure it.\",\n      \"title\": \"Mount the motherboard in the case\"\n    },\n    {\n      \"text\": \"Slide the Power Supply Unit (PSU) into the mounting bay, usually at the bottom of the case. Secure it from the outside using the four provided screws.\",\n      \"title\": \"Install the Power Supply\"\n    },\n    {\n      \"text\": \"Remove the expansion slot covers from the back of the case. Align the GPU with the top PCIe slot and press down until it clicks. Secure the GPU bracket to the case with screws.\",\n      \"title\": \"Install the Graphics Card\"\n    },\n    {\n      \"text\": \"Plug the large 24-pin cable into the right side of the motherboard. Connect the 8-pin EPS cable to the top-left corner to provide power to the CPU.\",\n      \"title\": \"Connect motherboard and CPU power\"\n    },\n    {\n      \"text\": \"Locate the PCIe power cables from your PSU. Plug them into the power ports on the top or side of your graphics card. Ensure they are fully seated and clicked in.\",\n      \"title\": \"Connect GPU power\"\n    },\n    {\n      \"text\": \"Verify all components are seated and cables are tight. Connect your monitor and keyboard, then flip the PSU switch to the 'I' position to prepare for the first boot.\",\n      \"title\": \"Perform final check\"\n    }\n  ]\n}",
      "outputTokens": 1657,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-complex-activity-1",
      "userPrompt": "LESSON_TITLE: Building a PC\nLESSON_DESCRIPTION: Complete guide to building your own desktop computer from scratch\nCHAPTER_TITLE: Hardware Assembly\nCOURSE_TITLE: PC Building\nLANGUAGE: en\nACTIVITY_TITLE: Assemble the Computer\nACTIVITY_DESCRIPTION: Assemble a desktop computer from individual components, including installing CPU, RAM, storage, GPU, and connecting power"
    }
  ],
  "taskId": "activity-custom"
}
