{
  "generatedAt": "2026-01-18T04:01:02.464Z",
  "modelId": "openai/gpt-5-mini",
  "outputs": [
    {
      "duration": 41196.576416000025,
      "inputTokens": 1682,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Ensure you have an internet connection and administrator (Windows) or sudo (macOS/Linux) access. You must be able to install software or run sudo commands before proceeding.\",\n      \"title\": \"Confirm prerequisites\"\n    },\n    {\n      \"text\": \"Determine your operating system and version: Windows (Settings > System > About), macOS (Apple menu > About This Mac), or open Terminal and run uname -a on Linux. Note your OS.\",\n      \"title\": \"Check your operating system\"\n    },\n    {\n      \"text\": \"Open a web browser and go to https://git-scm.com. You should see a Downloads section and an OS‑detected download button on the page.\",\n      \"title\": \"Open the Git website\"\n    },\n    {\n      \"text\": \"If you use Windows, click the 'Download' button for Windows on git‑scm.com and save the .exe file to your Downloads folder. Confirm the file appears in Downloads.\",\n      \"title\": \"Download Git for Windows\"\n    },\n    {\n      \"text\": \"Double‑click the downloaded .exe file to run the Git installer and accept the User Account Control prompt. The Git Setup window should open.\",\n      \"title\": \"Run the Windows installer\"\n    },\n    {\n      \"text\": \"In the installer 'Adjusting your PATH environment' screen, select 'Git from the command line and also from 3rd‑party software' and click Next.\",\n      \"title\": \"Choose PATH option (Windows)\"\n    },\n    {\n      \"text\": \"Click Install on the installer screen and wait for the progress to finish. You should see the 'Completing the Git Setup Wizard' screen when done—then click Finish.\",\n      \"title\": \"Install Git on Windows\"\n    },\n    {\n      \"text\": \"If you use Homebrew on macOS, open Terminal and run: brew install git. You should see Homebrew download and install git with completion messages.\",\n      \"title\": \"Install via Homebrew (macOS)\"\n    },\n    {\n      \"text\": \"If not using Homebrew, click 'Download for macOS' on git‑scm.com and save the .dmg or .pkg file to your Downloads folder.\",\n      \"title\": \"Download macOS installer\"\n    },\n    {\n      \"text\": \"Double‑click the downloaded .pkg (or open the .dmg and run the .pkg) and follow the installer prompts. The installer will show 'The installation was successful' when finished.\",\n      \"title\": \"Run the macOS installer\"\n    },\n    {\n      \"text\": \"Open Terminal and run the appropriate command: Debian/Ubuntu: sudo apt update && sudo apt install git -y; Fedora: sudo dnf install git -y; Arch: sudo pacman -S git. Watch for a successful install message.\",\n      \"title\": \"Install Git on Linux\"\n    },\n    {\n      \"text\": \"Open Command Prompt or Git Bash (Windows) or open Terminal (macOS/Linux). You should see a command prompt ready for typing commands.\",\n      \"title\": \"Open a command shell\"\n    },\n    {\n      \"text\": \"Type git --version and press Enter. You should see output like 'git version x.y.z'. Seeing a version string confirms Git is installed correctly.\",\n      \"title\": \"Verify installation with git --version\"\n    },\n    {\n      \"text\": \"If git --version fails, restart your terminal or computer. If still missing, re-run the installer or reinstall and ensure the 'Git from the command line' PATH option was selected (Windows) or that installation completed successfully.\",\n      \"title\": \"Troubleshoot if verification fails\"\n    }\n  ]\n}",
      "outputTokens": 3459,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-tech-install-git-1",
      "userPrompt": "LESSON_TITLE: How to Set Up Git\nLESSON_DESCRIPTION: Setting up your development environment by installing and configuring Git version control\nCHAPTER_TITLE: Getting Started\nCOURSE_TITLE: Git Fundamentals\nLANGUAGE: en\nACTIVITY_TITLE: Install Git\nACTIVITY_DESCRIPTION: Download and install Git on your computer, including verification that the installation succeeded"
    },
    {
      "duration": 28264.94737499999,
      "inputTokens": 1694,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Turn on your vehicle's hazard lights. The hazard indicators should flash on the dash and exterior to warn other drivers.\",\n      \"title\": \"Turn on hazard lights\"\n    },\n    {\n      \"text\": \"Set the parking brake fully. The parking brake indicator light should illuminate and the vehicle must not roll when you test it.\",\n      \"title\": \"Set the parking brake\"\n    },\n    {\n      \"text\": \"Place a wheel chock or heavy object behind the wheel diagonally opposite the flat. You should feel solid contact and the car must not move when pushed.\",\n      \"title\": \"Chock the opposite wheel\"\n    },\n    {\n      \"text\": \"Retrieve the jack, lug wrench, and spare tire from the trunk. Confirm you have the jack handle and a lug wrench in hand before continuing.\",\n      \"title\": \"Retrieve jack, lug wrench, spare\"\n    },\n    {\n      \"text\": \"Pry off the hubcap or wheel cover with the flat end of the lug wrench if present. You should see the lug nuts exposed after removal.\",\n      \"title\": \"Remove hubcap or wheel cover\"\n    },\n    {\n      \"text\": \"Loosen each lug nut about half a turn while the car stays on the ground. Nuts should turn counterclockwise and stay threaded — do not remove them yet.\",\n      \"title\": \"Loosen lug nuts slightly\"\n    },\n    {\n      \"text\": \"Place the jack under the vehicle's reinforced jacking point near the flat wheel. The jack saddle must sit on the metal jacking point (not on plastic or the bumper).\",\n      \"title\": \"Position jack at jacking point\"\n    },\n    {\n      \"text\": \"Turn the jack handle until the jack saddle contacts the jacking point and feels firm. You should feel resistance and see the saddle touch the vehicle.\",\n      \"title\": \"Raise jack to contact vehicle\"\n    },\n    {\n      \"text\": \"Crank the jack to lift the vehicle until the flat tire clears the ground by 1–2 inches. You should be able to spin the tire freely when nudged.\",\n      \"title\": \"Raise vehicle until tire clears\"\n    },\n    {\n      \"text\": \"Unscrew each lug nut completely and keep them together in a visible place. You should have all lug nuts removed and stored where they won't roll away.\",\n      \"title\": \"Remove lug nuts and store them\"\n    },\n    {\n      \"text\": \"Grip the tire at 9 and 3 o'clock and pull it straight off the hub toward you. The tire should come off and leave the hub and studs exposed; rock side-to-side if stuck.\",\n      \"title\": \"Pull the flat tire off the hub\"\n    },\n    {\n      \"text\": \"Visually inspect the hub and wheel studs for obvious damage or missing studs. You should see intact studs and no large metal cracks before fitting a spare.\",\n      \"title\": \"Inspect hub and wheel studs\"\n    }\n  ]\n}",
      "outputTokens": 2046,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-automotive-remove-flat-tire-1",
      "userPrompt": "LESSON_TITLE: Changing a Car Tire\nLESSON_DESCRIPTION: Step-by-step guide to safely changing a flat tire on the side of the road\nCHAPTER_TITLE: Roadside Emergencies\nCOURSE_TITLE: Basic Car Maintenance\nLANGUAGE: en\nACTIVITY_TITLE: Remove the Flat Tire\nACTIVITY_DESCRIPTION: Safely remove a flat tire from your vehicle, including proper jacking and lug nut removal"
    },
    {
      "duration": 26221.851874999993,
      "inputTokens": 1692,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Place a French press, grinder, scale, kettle, timer, stirring spoon, and serving carafe or mug on your counter so everything is within reach.\",\n      \"title\": \"Set up equipment\"\n    },\n    {\n      \"text\": \"Weigh your coffee on the scale using a 1:15 ratio (coffee ×15 = water). Example: 30 g coffee → 450 g water. Confirm the scale shows the coffee weight.\",\n      \"title\": \"Weigh the coffee\"\n    },\n    {\n      \"text\": \"Grind the measured beans to a coarse, even texture (like breadcrumbs or sea salt). You should see large, separate particles, not powder.\",\n      \"title\": \"Grind to coarse consistency\"\n    },\n    {\n      \"text\": \"Empty the ground coffee into the French press carafe and level the bed with a light shake. You should see an even layer of grounds covering the bottom.\",\n      \"title\": \"Add grounds to the carafe\"\n    },\n    {\n      \"text\": \"Bring water to a full boil in the kettle. The kettle should show a rolling boil or an active steam stream.\",\n      \"title\": \"Boil the water\"\n    },\n    {\n      \"text\": \"Let the boiled water cool 30 seconds (or check thermometer reads 195–205°F / 90–96°C). Confirm either the 30-second wait or the target temperature.\",\n      \"title\": \"Cool water to brewing temp\"\n    },\n    {\n      \"text\": \"Place the carafe on the scale, tare it to zero, then start your timer so it begins counting from the first pour.\",\n      \"title\": \"Tare scale and start timer\"\n    },\n    {\n      \"text\": \"Pour bloom water equal to twice the coffee weight (e.g., 60 g for 30 g coffee) to fully wet the grounds. You should see the grounds swell and bubble slightly.\",\n      \"title\": \"Pour bloom water\"\n    },\n    {\n      \"text\": \"Wait 30 seconds for the bloom to degas. Confirm the timer reaches 0:30 before proceeding.\",\n      \"title\": \"Wait during the bloom\"\n    },\n    {\n      \"text\": \"Pour the remaining water slowly to reach your total target weight (coffee ×15). Confirm the scale shows the full water weight (e.g., 450 g).\",\n      \"title\": \"Pour remaining water to target\"\n    },\n    {\n      \"text\": \"Stir the brew gently for 5–10 seconds with a spoon to break the crust and mix grounds. You should see a uniform slurry and no dry spots.\",\n      \"title\": \"Stir gently to mix\"\n    },\n    {\n      \"text\": \"Place the lid on the press with the plunger pulled up; leave the plunger at the top to retain heat. You should see the lid seated and plunger stem up.\",\n      \"title\": \"Cover with lid (plunger up)\"\n    },\n    {\n      \"text\": \"Let the coffee steep until the timer reads 4:00 from the first pour. Confirm the timer shows 4:00 before plunging.\",\n      \"title\": \"Steep until 4 minutes total\"\n    },\n    {\n      \"text\": \"Press the plunger down steadily with even pressure until it reaches the bottom; it should take ~15–20 seconds and stop smoothly.\",\n      \"title\": \"Plunge slowly and steadily\"\n    },\n    {\n      \"text\": \"Immediately pour the brewed coffee into your serving carafe or cups to stop extraction. Confirm the French press is emptied of liquid.\",\n      \"title\": \"Pour coffee into cups\"\n    }\n  ]\n}",
      "outputTokens": 2224,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-cooking-brew-coffee-1",
      "userPrompt": "LESSON_TITLE: Making French Press Coffee\nLESSON_DESCRIPTION: Master the French press method for making rich, full-bodied coffee at home\nCHAPTER_TITLE: Coffee Brewing Methods\nCOURSE_TITLE: Home Barista Basics\nLANGUAGE: en\nACTIVITY_TITLE: Brew the Coffee\nACTIVITY_DESCRIPTION: Brew a perfect cup of coffee using a French press, from measuring grounds to plunging and pouring"
    },
    {
      "duration": 21437.86720799998,
      "inputTokens": 1687,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Collect a digging fork or spade, garden rake, hand trowel, wheelbarrow, compost, balanced granular fertilizer (10-10-10), pH test kit or meter, garden gloves, and a watering source. Verify all items are present before you start.\",\n      \"title\": \"Gather tools and materials\"\n    },\n    {\n      \"text\": \"Use stakes and string to mark the garden bed perimeter to the size you want. You should see a clear rectangular or circular outline for the bed.\",\n      \"title\": \"Mark the bed boundaries\"\n    },\n    {\n      \"text\": \"Remove surface debris by hand: pull visible weeds, grass, roots, and pick out large rocks. The soil surface should be free of plants and debris when done.\",\n      \"title\": \"Clear weeds and debris\"\n    },\n    {\n      \"text\": \"Dig down 2–3 inches with a trowel and squeeze a handful of soil to test moisture. Soil should hold shape but not drip; if it’s muddy, wait 24 hours before digging.\",\n      \"title\": \"Check soil moisture\"\n    },\n    {\n      \"text\": \"Take 2–3 soil samples from different spots 4–6 inches deep and test pH with your kit or meter. Record the average pH; target for tomatoes is 6.0–6.8.\",\n      \"title\": \"Test soil pH\"\n    },\n    {\n      \"text\": \"If pH is below 6.0, spread dolomitic lime according to the product label; if above 7.0, spread elemental sulfur per label. Note the product amounts you applied.\",\n      \"title\": \"Adjust pH if needed\"\n    },\n    {\n      \"text\": \"Use a digging fork or spade to loosen soil to 12 inches (30 cm) deep across the whole bed. You should be able to penetrate the bed easily and see loosened soil clumps.\",\n      \"title\": \"Loosen soil to planting depth\"\n    },\n    {\n      \"text\": \"Break up large clods and remove any stones larger than an inch while loosening. The bed should have no large lumps or stones remaining.\",\n      \"title\": \"Remove clods and stones\"\n    },\n    {\n      \"text\": \"Spread 2–3 inches of well-rotted compost evenly across the loosened soil surface. You should see a visible, even layer of compost covering the bed.\",\n      \"title\": \"Spread compost evenly\"\n    },\n    {\n      \"text\": \"Apply 1 cup of balanced granular fertilizer (10-10-10) per 10 sq ft, scattering it evenly across the bed surface. Record how much you used for follow-up feeding.\",\n      \"title\": \"Add balanced fertilizer\"\n    },\n    {\n      \"text\": \"Incorporate the compost, fertilizer, and any pH amendments into the top 6–8 inches using your fork or rake. Soil should look uniformly mixed when finished.\",\n      \"title\": \"Mix amendments into soil\"\n    },\n    {\n      \"text\": \"Rake the bed level and lightly firm the surface with the flat back of the rake or your feet—do not compact. The bed should be smooth and slightly firm to the touch.\",\n      \"title\": \"Level and firm the bed surface\"\n    },\n    {\n      \"text\": \"Water the bed thoroughly to a depth of about 6 inches using a slow soak. Soil should feel uniformly moist below the surface and settle slightly.\",\n      \"title\": \"Water to settle the soil\"\n    },\n    {\n      \"text\": \"Wait 24–48 hours for the soil to settle and re-check surface moisture before planting. Soil should remain moist below the surface but not waterlogged when you begin planting.\",\n      \"title\": \"Let soil rest before planting\"\n    }\n  ]\n}",
      "outputTokens": 1692,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-gardening-prepare-soil-1",
      "userPrompt": "LESSON_TITLE: Planting Tomatoes\nLESSON_DESCRIPTION: Complete guide to planting and growing healthy tomato plants in your home garden\nCHAPTER_TITLE: Growing Vegetables\nCOURSE_TITLE: Home Gardening\nLANGUAGE: en\nACTIVITY_TITLE: Prepare the Soil\nACTIVITY_DESCRIPTION: Prepare a garden bed for tomato planting by loosening, amending, and conditioning the soil"
    },
    {
      "duration": 21009.720625000016,
      "inputTokens": 1687,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Collect these items: prewashed fabric, pillowcase pattern, tape measure, fabric scissors or rotary cutter with mat, straight pins or pattern weights, tailor's chalk or washable marker, ruler/seam gauge, and a ironing iron. Verify all items are on your workspace.\",\n      \"title\": \"Gather materials\"\n    },\n    {\n      \"text\": \"Lay out the pattern pieces and confirm you have the correct size and the seam allowance printed (e.g., 1/2\\\" or 5/8\\\"). You should see labels like “pillowcase,” size, grainline, and cutting layout.\",\n      \"title\": \"Confirm pattern pieces and size\"\n    },\n    {\n      \"text\": \"Press the fabric with your iron until it is smooth and wrinkle-free. Verify the fabric lies flat with no creases that could distort measurements.\",\n      \"title\": \"Iron and flatten fabric\"\n    },\n    {\n      \"text\": \"Fold the fabric on the lengthwise grain if the pattern says “cut on fold”; align selvages together. Verify the selvages match and the fold is straight along the fabric length.\",\n      \"title\": \"Fold fabric when pattern requires fold\"\n    },\n    {\n      \"text\": \"Place the pattern on the fabric and align the grainline arrow parallel to the selvage; place pattern edge on the fold where indicated. Verify the arrow runs parallel to the edge and the pattern lies flat.\",\n      \"title\": \"Align pattern grainline to selvage\"\n    },\n    {\n      \"text\": \"Secure the pattern with pattern weights or insert straight pins perpendicular to the cutting edge every 2–3 inches. The pattern should not move when you nudge it lightly.\",\n      \"title\": \"Pin or weigh the pattern in place\"\n    },\n    {\n      \"text\": \"Trace the cutting line, seam allowance, and any notches or markings with tailor's chalk or a washable marker following the pattern symbols. You should clearly see the traced lines and notches.\",\n      \"title\": \"Mark cutting lines and notches\"\n    },\n    {\n      \"text\": \"Cut the fabric along the pattern edge using sharp fabric scissors or a rotary cutter; keep the pattern flat and cut smoothly. You should have clean edges that match the pattern outline.\",\n      \"title\": \"Cut along the pattern edge\"\n    },\n    {\n      \"text\": \"Make small clip notches in the seam allowance at transferred notch marks (clip inward no deeper than the allowance) or mark them with chalk. Verify each notch aligns with the pattern’s notch symbols.\",\n      \"title\": \"Transfer notches with clips or marks\"\n    },\n    {\n      \"text\": \"Remove all pins or weights from the cut pieces and smooth the fabric flat. Verify no pins remain and each piece lies flat without puckers.\",\n      \"title\": \"Remove pins and flatten pieces\"\n    },\n    {\n      \"text\": \"Measure each cut piece with a tape measure or ruler to confirm width and length match the pattern within 1/8\\\" tolerance. If a piece is off, re-cut or re-align pattern and repeat as needed.\",\n      \"title\": \"Verify finished piece dimensions\"\n    },\n    {\n      \"text\": \"Label each fabric piece with its name and orientation (example: “case front — fold”) using a small piece of masking tape or washable marker. Verify every piece is labeled before proceeding to sewing.\",\n      \"title\": \"Label each cut piece\"\n    }\n  ]\n}",
      "outputTokens": 1756,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-crafts-cut-fabric-1",
      "userPrompt": "LESSON_TITLE: Sewing a Pillowcase\nLESSON_DESCRIPTION: Learn to sew a simple pillowcase from start to finish using basic techniques\nCHAPTER_TITLE: Basic Sewing Projects\nCOURSE_TITLE: Sewing for Beginners\nLANGUAGE: en\nACTIVITY_TITLE: Cut the Fabric\nACTIVITY_DESCRIPTION: Measure, pin, and cut fabric pieces for a pillowcase following a pattern"
    },
    {
      "duration": 43571.69983299996,
      "inputTokens": 1684,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Hold the guitar in your normal playing position (sitting or standing). Make sure you can comfortably reach the headstock and all six tuning pegs. You should feel stable and able to pluck each open string.\",\n      \"title\": \"Place guitar in playing position\"\n    },\n    {\n      \"text\": \"Decide whether you'll use a tuner (clip/app/chromatic) or a reference pitch (keyboard/app). If using a tuner, continue to \\\"Turn on tuner\\\". If using reference, skip to \\\"Play reference low E\\\".\",\n      \"title\": \"Choose tuner or reference pitch\"\n    },\n    {\n      \"text\": \"Power on your tuner or open the tuning app and set mode to 'Guitar' or 'Chromatic'. You should see note names or a needle/display that responds when you pluck a string.\",\n      \"title\": \"Turn on and set the tuner\"\n    },\n    {\n      \"text\": \"If the tuner is quiet, move the tuner mic closer to the soundhole or clip the contact tuner to the headstock. The tuner should respond when you pluck a string.\",\n      \"title\": \"Position tuner for reliable input\"\n    },\n    {\n      \"text\": \"Pluck the low E (6th) string open once and watch the tuner display. It should show a letter (often 'E') and indicate whether you're flat or sharp.\",\n      \"title\": \"Pluck the low E and read tuner\"\n    },\n    {\n      \"text\": \"Turn the 6th-string tuning peg in small quarter turns toward pitch until the tuner centers on E and the indicator light/needle turns green. Re-pluck to confirm the display stays centered.\",\n      \"title\": \"Adjust the low E peg to E\"\n    },\n    {\n      \"text\": \"If the low E is more than a whole step sharp, first loosen the peg until the tuner reads below E, then tighten up to E. The tuner should center when the pitch matches.\",\n      \"title\": \"If sharp, loosen then retune\"\n    },\n    {\n      \"text\": \"Pluck the A (5th) string open and watch the tuner. The display should show 'A' or indicate you're flat/sharp relative to A.\",\n      \"title\": \"Pluck the A string and read tuner\"\n    },\n    {\n      \"text\": \"Turn the 5th-string peg in small turns until the tuner centers on A and the indicator shows in-tune. Re-pluck A to confirm stability.\",\n      \"title\": \"Adjust the A peg to A\"\n    },\n    {\n      \"text\": \"Pluck the D (4th) string open and watch the tuner display 'D' or show the deviation. Re-pluck if the tuner doesn't react at first.\",\n      \"title\": \"Pluck the D string and read tuner\"\n    },\n    {\n      \"text\": \"Turn the 4th-string peg until the tuner centers on D and the indicator turns green. Re-pluck to ensure the tuner stays centered.\",\n      \"title\": \"Adjust the D peg to D\"\n    },\n    {\n      \"text\": \"Pluck the G (3rd) string open and watch the tuner for 'G'. Make small peg adjustments until the tuner centers and confirm by re-plucking.\",\n      \"title\": \"Pluck the G string and read tuner\"\n    },\n    {\n      \"text\": \"Turn the 3rd-string peg until the tuner centers on G. Confirm by plucking the open G; the tuner should show a stable, centered G.\",\n      \"title\": \"Adjust the G peg to G\"\n    },\n    {\n      \"text\": \"Pluck the B (2nd) string open and watch the tuner display 'B' or the deviation. Use small turns on the peg to approach the target pitch.\",\n      \"title\": \"Pluck the B string and read tuner\"\n    },\n    {\n      \"text\": \"Turn the 2nd-string peg until the tuner centers on B. Re-pluck the B string; the tuner should show in-tune (green/centered).\",\n      \"title\": \"Adjust the B peg to B\"\n    },\n    {\n      \"text\": \"Pluck the high E (1st) string open and watch the tuner for 'E'. Make careful small turns on the peg until the tuner centers on E.\",\n      \"title\": \"Pluck the high E and read tuner\"\n    },\n    {\n      \"text\": \"Turn the 1st-string peg until the tuner centers on high E. Re-pluck to confirm the tuner shows a stable, in-tune E.\",\n      \"title\": \"Adjust the high E peg to E\"\n    },\n    {\n      \"text\": \"Strum all six open strings once and listen. You should hear no persistent beating; if two strings clash, re-check each string with the tuner.\",\n      \"title\": \"Strum open strings to check balance\"\n    },\n    {\n      \"text\": \"If you used a reference pitch instead of a tuner, play the reference low E tone now (app/keyboard) and match the open low E string by ear until they sound the same.\",\n      \"title\": \"Play reference low E (reference method)\"\n    },\n    {\n      \"text\": \"Hold the 5th fret on the low E string (produces A) and pluck it while plucking the open A string. Turn the A peg until the two notes match with no wavering.\",\n      \"title\": \"Match A using low E 5th-fret (ref)\"\n    },\n    {\n      \"text\": \"Hold the 5th fret on the A string (produces D) and pluck it while plucking the open D string. Adjust the D peg until both notes match.\",\n      \"title\": \"Match D using A 5th-fret (ref)\"\n    },\n    {\n      \"text\": \"Hold the 5th fret on the D string (produces G) and pluck it while plucking the open G string. Adjust the G peg until both notes match.\",\n      \"title\": \"Match G using D 5th-fret (ref)\"\n    },\n    {\n      \"text\": \"Hold the 4th fret on the G string (produces B) and pluck it while plucking the open B string. Adjust the B peg until both notes match.\",\n      \"title\": \"Match B using G 4th-fret (ref)\"\n    },\n    {\n      \"text\": \"Hold the 5th fret on the B string (produces high E) and pluck it while plucking the open high E string. Adjust the high E peg until both notes match.\",\n      \"title\": \"Match high E using B 5th-fret (ref)\"\n    },\n    {\n      \"text\": \"Wait 5–10 minutes, then re-check each open string with your tuner or reference pitch and re-tune any strings that drift. Strings settle after tuning.\",\n      \"title\": \"Re-check tuning after settling\"\n    },\n    {\n      \"text\": \"Turn off your tuner or close the tuning app and gently store the guitar. You should hear stable open strings when you pick them again.\",\n      \"title\": \"Finish and power down tuner\"\n    }\n  ]\n}",
      "outputTokens": 3636,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-music-tune-guitar-1",
      "userPrompt": "LESSON_TITLE: Getting Started with Guitar\nLESSON_DESCRIPTION: Essential setup steps before you start playing guitar, including tuning and posture\nCHAPTER_TITLE: Guitar Basics\nCOURSE_TITLE: Learn Guitar\nLANGUAGE: en\nACTIVITY_TITLE: Tune Your Guitar\nACTIVITY_DESCRIPTION: Tune each string of your guitar to standard tuning using a tuner or reference pitch"
    },
    {
      "duration": 25199.541916999966,
      "inputTokens": 1685,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Attach your lens to the camera and remove the lens cap. You should see the glass and mount locked; the camera will display lens info when attached.\",\n      \"title\": \"Attach lens and remove cap\"\n    },\n    {\n      \"text\": \"Turn the camera power switch to ON. The LCD/viewfinder will light up and show shooting info when the camera is on.\",\n      \"title\": \"Turn the camera on\"\n    },\n    {\n      \"text\": \"Set the mode dial to M (Manual). The viewfinder or top LCD should show an M to confirm manual exposure control.\",\n      \"title\": \"Set shooting mode to Manual (M)\"\n    },\n    {\n      \"text\": \"Set the metering mode to evaluative/matrix. Open the metering menu and select Evaluative/Matrix; the metering icon will appear in the display.\",\n      \"title\": \"Select evaluative metering\"\n    },\n    {\n      \"text\": \"Set the aperture to the f‑stop you want for depth of field (e.g., f/2.8 for blur or f/8 for general scenes). You should see the f‑number in the viewfinder/LCD.\",\n      \"title\": \"Set aperture (f‑stop)\"\n    },\n    {\n      \"text\": \"Set an initial shutter speed for motion control (start at 1/125s for handheld). Confirm the shutter value appears in the viewfinder/LCD.\",\n      \"title\": \"Set initial shutter speed\"\n    },\n    {\n      \"text\": \"Set ISO to the camera’s lowest native value (e.g., ISO 100). Verify the ISO number is shown on the top LCD or in the viewfinder.\",\n      \"title\": \"Set ISO to base (lowest) value\"\n    },\n    {\n      \"text\": \"Observe the exposure meter indicator in the viewfinder or on the LCD. Note whether it sits at 0 (balanced), left (under), or right (over).\",\n      \"title\": \"Check the exposure meter\"\n    },\n    {\n      \"text\": \"Turn the main dial to change shutter speed until the meter indicator reads 0. You should see the meter align with the center mark (0).\",\n      \"title\": \"Adjust shutter to center the meter\"\n    },\n    {\n      \"text\": \"If shutter limits prevent a 0 reading, increase ISO one stop and recheck the meter. The ISO value will update and the meter should move toward 0.\",\n      \"title\": \"Raise ISO if needed\"\n    },\n    {\n      \"text\": \"Take a test shot by fully pressing the shutter button. The image will save to the card and appear on the rear LCD.\",\n      \"title\": \"Take a test exposure\"\n    },\n    {\n      \"text\": \"Display the image and show the histogram. Confirm the histogram is not clipped on the right (highlights) and the image preview looks correctly bright.\",\n      \"title\": \"Check image and histogram\"\n    },\n    {\n      \"text\": \"If highlights are clipped, increase shutter speed one stop (faster) or lower ISO and retake a test shot. The histogram should move left and clipping stop blinking.\",\n      \"title\": \"Reduce highlights by changing exposure\"\n    },\n    {\n      \"text\": \"If shadows are too dark, lower shutter speed one stop (slower) or raise ISO one stop and retake a test shot. The image should show more shadow detail.\",\n      \"title\": \"Recover shadow detail if needed\"\n    },\n    {\n      \"text\": \"Record or lock the final ISO, aperture, and shutter values. Confirm the three values are visible in the viewfinder/LCD before you continue shooting.\",\n      \"title\": \"Save the final exposure settings\"\n    },\n    {\n      \"text\": \"Optionally bracket: take one frame at −1EV and one at +1EV using exposure compensation or by changing shutter/ISO. Verify three saved images show different brightness.\",\n      \"title\": \"Optional: bracket ±1 EV\"\n    }\n  ]\n}",
      "outputTokens": 2095,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-photography-adjust-exposure-1",
      "userPrompt": "LESSON_TITLE: Manual Camera Settings\nLESSON_DESCRIPTION: Understanding and using manual camera settings to control exposure\nCHAPTER_TITLE: Camera Controls\nCOURSE_TITLE: Photography Fundamentals\nLANGUAGE: en\nACTIVITY_TITLE: Adjust Camera Exposure\nACTIVITY_DESCRIPTION: Adjust your camera's exposure settings (ISO, aperture, shutter speed) to achieve proper exposure for your scene"
    },
    {
      "duration": 21962.12183399999,
      "inputTokens": 1686,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Clear a 6 ft space and place a mat if available. You should have room to squat without hitting anything.\",\n      \"title\": \"Prepare your space\"\n    },\n    {\n      \"text\": \"Put on flat-soled shoes or remove shoes for barefoot work. You should feel stable and heels contact the floor.\",\n      \"title\": \"Set footwear\"\n    },\n    {\n      \"text\": \"Set a full-body mirror or camera at hip height facing you. You should see your side and front during the squat.\",\n      \"title\": \"Position mirror or camera\"\n    },\n    {\n      \"text\": \"Stand with feet shoulder-width apart. Your feet should be roughly under your shoulder points.\",\n      \"title\": \"Stand with feet shoulder-width\"\n    },\n    {\n      \"text\": \"Turn toes outward 5–15°. You should see toes pointing slightly out, not straight ahead or fully to the side.\",\n      \"title\": \"Angle your toes slightly out\"\n    },\n    {\n      \"text\": \"Place hands on hips or extend arms straight in front of you for balance. Your hands should be steady and not flailing.\",\n      \"title\": \"Choose a hand position\"\n    },\n    {\n      \"text\": \"Take a breath and brace your core by tightening your abdominal muscles. You should feel firmness across your midsection.\",\n      \"title\": \"Brace your core\"\n    },\n    {\n      \"text\": \"Push your hips back as if sitting onto a chair. You should feel your weight shift toward your heels.\",\n      \"title\": \"Initiate by sending hips back\"\n    },\n    {\n      \"text\": \"Bend your knees and lower yourself until your thighs are roughly parallel to the floor. You should see thighs parallel or slightly below parallel.\",\n      \"title\": \"Descend until thighs parallel\"\n    },\n    {\n      \"text\": \"Keep your chest lifted and eyes forward as you descend. You should see a tall chest and neutral head position.\",\n      \"title\": \"Keep chest up and gaze forward\"\n    },\n    {\n      \"text\": \"Press your weight into your heels; keep heels on the ground. You should be able to wiggle toes while heels remain planted.\",\n      \"title\": \"Keep weight on heels\"\n    },\n    {\n      \"text\": \"Hold the bottom position 1–2 seconds and check alignment in the mirror or video. You should see knees tracking over toes and a neutral spine.\",\n      \"title\": \"Pause and check alignment\"\n    },\n    {\n      \"text\": \"Drive through your heels to extend hips and knees and return to standing. You should feel glutes and quads engage as you stand.\",\n      \"title\": \"Stand up by driving through heels\"\n    },\n    {\n      \"text\": \"Perform 8–12 controlled repetitions maintaining form each rep. You should keep movement smooth and consistent.\",\n      \"title\": \"Repeat for proper reps\"\n    },\n    {\n      \"text\": \"If knees move inward, widen your stance slightly and do one controlled rep. You should see knees track over the feet after adjustment.\",\n      \"title\": \"Correct inward knee tracking\"\n    },\n    {\n      \"text\": \"Save a short side-view video or jot one correction to practice next time. You should have a clear note or clip to review.\",\n      \"title\": \"Record a review note or video\"\n    }\n  ]\n}",
      "outputTokens": 1574,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-fitness-proper-squat-form-1",
      "userPrompt": "LESSON_TITLE: How to Do Squats\nLESSON_DESCRIPTION: Complete guide to performing squats safely and effectively for building lower body strength\nCHAPTER_TITLE: Lower Body Exercises\nCOURSE_TITLE: Strength Training Basics\nLANGUAGE: en\nACTIVITY_TITLE: Master Proper Form\nACTIVITY_DESCRIPTION: Learn and practice the correct body positioning for a proper bodyweight squat"
    },
    {
      "duration": 28990.96783400001,
      "inputTokens": 1704,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Pegue: 500 g farinha de trigo, 7 g fermento seco, 300 ml água, 10 g sal, 20 g açúcar, 30 ml óleo; balança, tigela grande, espátula, superfície enfarinhada, termômetro e pano.\",\n      \"title\": \"Reúna ingredientes e utensílios\"\n    },\n    {\n      \"text\": \"Aqueça 100 ml da água até 38–43 °C (morno). Use termômetro; a água deve estar quente ao toque, sem queimar.\",\n      \"title\": \"Aqueça a água para ativar o fermento\"\n    },\n    {\n      \"text\": \"Dissolva 7 g fermento e 1 colher de chá de açúcar nos 100 ml de água morna; mexa e aguarde 5–10 min até formar espuma.\",\n      \"title\": \"Ative o fermento em água morna\"\n    },\n    {\n      \"text\": \"Pese 500 g de farinha e 10 g de sal na balança e coloque-os na tigela grande.\",\n      \"title\": \"Pese e coloque a farinha e o sal\"\n    },\n    {\n      \"text\": \"Misture a farinha e o sal com a mão ou colher por 10–15 s até ficar homogêneo. Você não deve ver bolsões de sal.\",\n      \"title\": \"Misture os ingredientes secos\"\n    },\n    {\n      \"text\": \"Despeje na tigela o fermento ativado, os 200 ml restantes de água morna e 30 ml de óleo.\",\n      \"title\": \"Adicione os líquidos à mistura seca\"\n    },\n    {\n      \"text\": \"Mexa com espátula até formar uma massa irregular e úmida, sem grandes manchas de farinha seca.\",\n      \"title\": \"Misture até formar uma massa pegajosa\"\n    },\n    {\n      \"text\": \"Transfira a massa para a superfície enfarinhada usando a espátula ou as mãos.\",\n      \"title\": \"Leve a massa para a bancada\"\n    },\n    {\n      \"text\": \"Sove a massa por 8–10 minutos: empurre, dobre e gire. A massa deve ficar lisa, elástica e menos pegajosa.\",\n      \"title\": \"Sove a massa até ficar lisa e elástica\"\n    },\n    {\n      \"text\": \"Faça o teste da janela: puxe uma pequena porção; ela deve esticar fino sem rasgar imediatamente.\",\n      \"title\": \"Verifique elasticidade com o teste da janela\"\n    },\n    {\n      \"text\": \"Unte levemente uma tigela limpa com óleo para evitar que a massa grude durante o descanso.\",\n      \"title\": \"Unte a tigela com óleo\"\n    },\n    {\n      \"text\": \"Forme uma bola com a massa, coloque-a na tigela untada com a emenda voltada para baixo e ajuste no centro.\",\n      \"title\": \"Coloque a massa na tigela\"\n    },\n    {\n      \"text\": \"Cubra a tigela com pano ou filme plástico e deixe descansar em local morno até dobrar de volume (60–90 min).\",\n      \"title\": \"Cubra e deixe a massa repousar até dobrar\"\n    }\n  ]\n}",
      "outputTokens": 2442,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "pt-cooking-preparar-massa-1",
      "userPrompt": "LESSON_TITLE: Fazendo Pao Caseiro\nLESSON_DESCRIPTION: Aprenda a fazer pao caseiro do zero, desde a preparacao da massa ate o cozimento\nCHAPTER_TITLE: Paes Caseiros\nCOURSE_TITLE: Panificacao em Casa\nLANGUAGE: pt\nACTIVITY_TITLE: Preparar a Massa\nACTIVITY_DESCRIPTION: Prepare a massa do pao, incluindo ativacao do fermento, mistura dos ingredientes e sova"
    },
    {
      "duration": 37800.356582999986,
      "inputTokens": 1704,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Ten llave ajustable, destornillador plano y Phillips, llave Allen, alicates, juntas de repuesto (O-ring, arandela), cartucho de reemplazo, trapo y recipiente para piezas. Verifica que tengas repuestos del mismo modelo.\",\n      \"title\": \"Reúne herramientas y repuestos\"\n    },\n    {\n      \"text\": \"Cierra la válvula de cierre bajo el fregadero o la llave de paso principal de la casa. Verifica que al abrir el grifo no salga agua; si sigue saliendo, cierra la llave principal.\",\n      \"title\": \"Cierra la llave de paso\"\n    },\n    {\n      \"text\": \"Abre el grifo afectado para drenar el agua restante y liberar presión. Debe salir agua un momento y luego detenerse.\",\n      \"title\": \"Abre el grifo para drenar\"\n    },\n    {\n      \"text\": \"Coloca un trapo y un recipiente debajo del grifo para recoger agua y piezas. Verifica que el agua y las piezas caigan dentro del recipiente.\",\n      \"title\": \"Protege el área y coloca recipiente\"\n    },\n    {\n      \"text\": \"Retira la tapa decorativa del mango usando un destornillador plano o tirando según el modelo. Verifica que la tapa salga y deje visible el tornillo del mango.\",\n      \"title\": \"Quita la tapa decorativa del mango\"\n    },\n    {\n      \"text\": \"Afloja y retira el tornillo del mango con la llave Allen o destornillador correspondiente. Verifica que el tornillo esté fuera y guárdalo.\",\n      \"title\": \"Retira el tornillo del mango\"\n    },\n    {\n      \"text\": \"Extrae el mango tirando o girando según el tipo de grifo. Verifica que el mango se desprenda y deje al descubierto el vástago o cartucho.\",\n      \"title\": \"Retira el mango\"\n    },\n    {\n      \"text\": \"Afloja y quita la tuerca de fijación o cubierta con una llave ajustable. Verifica que la tuerca salga y el cartucho quede accesible.\",\n      \"title\": \"Quita la tuerca de fijación\"\n    },\n    {\n      \"text\": \"Extrae el cartucho o vástago tirando con firmeza; si está atascado, aplica lubricante y gíralo hasta sacarlo. Verifica que el cartucho salga entero.\",\n      \"title\": \"Extrae el cartucho o vástago\"\n    },\n    {\n      \"text\": \"Inspecciona la junta, O-ring, arandela y asiento por grietas, aplastamiento o depósitos. Verifica visualmente cualquier daño evidente.\",\n      \"title\": \"Inspecciona piezas por daño\"\n    },\n    {\n      \"text\": \"Retira la junta u O-ring dañado y coloca uno nuevo del mismo tamaño en su ranura. Verifica que la junta quede asentada sin torceduras.\",\n      \"title\": \"Reemplaza la junta u O-ring\"\n    },\n    {\n      \"text\": \"Sustituye el cartucho o asiento si está agrietado o muy desgastado por uno idéntico. Verifica que la pieza nueva encaje con facilidad.\",\n      \"title\": \"Reemplaza cartucho o asiento dañado\"\n    },\n    {\n      \"text\": \"Limpia sedimentos y depósitos dentro del cuerpo del grifo con un paño y vinagre si hay cal. Verifica que el interior esté libre de residuos.\",\n      \"title\": \"Limpia sedimentos y el asiento\"\n    },\n    {\n      \"text\": \"Introduce el cartucho nuevo en la orientación correcta hasta que encaje en suposición. Verifica que no haya juego lateral al empujarlo.\",\n      \"title\": \"Coloca el cartucho nuevo\"\n    },\n    {\n      \"text\": \"Coloca y aprieta la tuerca de fijación con la llave ajustable hasta que quede firme (sin exceso). Verifica que el cartucho quede inmóvil.\",\n      \"title\": \"Ajusta la tuerca de fijación\"\n    },\n    {\n      \"text\": \"Vuelve a colocar el mango sobre el vástago alineando marcas si las hay. Verifica que el mango esté correctamente orientado.\",\n      \"title\": \"Coloca el mango en su lugar\"\n    },\n    {\n      \"text\": \"Atornilla y aprieta el tornillo del mango con la llave Allen o destornillador. Verifica que el mango quede firme y sin juego.\",\n      \"title\": \"Atornilla el tornillo del mango\"\n    },\n    {\n      \"text\": \"Vuelve a poner la tapa decorativa presionándola o enroscándola según el modelo. Verifica que la tapa quede fija y alineada.\",\n      \"title\": \"Coloca la tapa decorativa\"\n    },\n    {\n      \"text\": \"Abre la llave de paso lentamente y observa por fugas alrededor del grifo. Verifica que no aparezcan gotas al restaurar la presión.\",\n      \"title\": \"Abre la llave de paso lentamente\"\n    },\n    {\n      \"text\": \"Abre y cierra el grifo varias veces para probar su funcionamiento. Verifica que no gotee y que el movimiento sea suave.\",\n      \"title\": \"Prueba el grifo repetidamente\"\n    },\n    {\n      \"text\": \"Inspecciona visualmente y con un papel las conexiones bajo el fregadero por si hay humedad. Verifica que el papel quede seco.\",\n      \"title\": \"Revisa conexiones por fugas\"\n    },\n    {\n      \"text\": \"Seca el área, guarda las herramientas y desecha las piezas dañadas. Verifica que el área quede limpia y sin piezas sueltas.\",\n      \"title\": \"Limpia y guarda herramientas\"\n    }\n  ]\n}",
      "outputTokens": 3211,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "es-home-repair-fix-faucet-1",
      "userPrompt": "LESSON_TITLE: Arreglar una Fuga de Agua\nLESSON_DESCRIPTION: Guia paso a paso para reparar fugas de agua comunes en tu hogar\nCHAPTER_TITLE: Reparaciones de Plomeria\nCOURSE_TITLE: Mantenimiento del Hogar\nLANGUAGE: es\nACTIVITY_TITLE: Reparar el Grifo\nACTIVITY_DESCRIPTION: Repara un grifo que gotea, desde cerrar el agua hasta reemplazar las piezas danadas"
    },
    {
      "duration": 21960.98524999997,
      "inputTokens": 1677,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Look at the document window or browser tab to confirm your document is open and contains your recent edits. You should see the document name at the top; if not, open the file first.\",\n      \"title\": \"Confirm the document is open\"\n    },\n    {\n      \"text\": \"Press Ctrl+S (Windows/Linux) or Cmd+S (Mac). If this is a normal save, the status will update to “Saved” or the asterisk (*) will disappear from the title.\",\n      \"title\": \"Press the save shortcut\"\n    },\n    {\n      \"text\": \"If prompted for Save As, open the Save As dialog by clicking File > Save As (or press F12). The Save As dialog or pane should appear on screen.\",\n      \"title\": \"Open the Save As dialog\"\n    },\n    {\n      \"text\": \"Click the folder or Browse button in the Save As dialog and select the folder where you want to store the file (e.g., Documents, Desktop, or a cloud folder). The dialog path will update.\",\n      \"title\": \"Choose a save location\"\n    },\n    {\n      \"text\": \"Click the File name field, type a clear filename (no illegal characters), and confirm the typed name appears exactly as you want it on disk.\",\n      \"title\": \"Enter a filename\"\n    },\n    {\n      \"text\": \"Click the Save as type or Format dropdown and select the desired format (for example .docx). Verify the extension shown next to the filename matches your choice.\",\n      \"title\": \"Select the file format\"\n    },\n    {\n      \"text\": \"Click the Save button in the dialog. The dialog will close and the file should now be written to the chosen folder.\",\n      \"title\": \"Click the Save button\"\n    },\n    {\n      \"text\": \"Look for confirmation: the title bar shows the filename without an asterisk, the status bar reads “Saved,” or the file appears in your chosen folder. If not, repeat save or check folder permissions.\",\n      \"title\": \"Verify the file saved successfully\"\n    },\n    {\n      \"text\": \"If you want continuous backups, toggle AutoSave (top-left in Word) or confirm Google Docs shows “All changes saved in Drive.” The indicator will change to “Saving…” then “Saved.”\",\n      \"title\": \"Turn on AutoSave (optional)\"\n    }\n  ]\n}",
      "outputTokens": 1828,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-short-activity-1",
      "userPrompt": "LESSON_TITLE: Basic Word Processing\nLESSON_DESCRIPTION: Learn fundamental word processing operations including creating, saving, and organizing documents\nCHAPTER_TITLE: Document Basics\nCOURSE_TITLE: Office Software Essentials\nLANGUAGE: en\nACTIVITY_TITLE: Save the Document\nACTIVITY_DESCRIPTION: Save your current document to preserve your work"
    },
    {
      "duration": 41029.61295799998,
      "inputTokens": 1686,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Collect case, motherboard, CPU, cooler, RAM, storage (M.2 or SATA), GPU, PSU, Phillips screwdriver, thermal paste (if needed), and an anti-static strap. Verify each item is on your desk before starting.\",\n      \"title\": \"Gather parts and tools\"\n    },\n    {\n      \"text\": \"Place the motherboard on an anti-static mat or its box on a flat surface with the CPU socket facing up. Confirm the board sits flat and you can access the socket and RAM slots.\",\n      \"title\": \"Place motherboard on anti-static surface\"\n    },\n    {\n      \"text\": \"Lift the CPU socket retention arm on the motherboard until it stays upright. You should see the socket cover open and the arm fully raised.\",\n      \"title\": \"Open the CPU socket latch\"\n    },\n    {\n      \"text\": \"Remove the CPU from its tray, align the triangle corner on the CPU with the triangle on the socket, and gently lower the CPU straight into the socket. The CPU should sit flush without force.\",\n      \"title\": \"Align and insert the CPU\"\n    },\n    {\n      \"text\": \"Lower and lock the CPU socket retention arm until it latches. You should feel slight resistance and the arm should sit flat against the bracket.\",\n      \"title\": \"Close and lock the CPU socket\"\n    },\n    {\n      \"text\": \"If your cooler has no pre-applied paste, apply a pea-sized dot of thermal paste to the center of the CPU heat spreader. The dot should be small and centered.\",\n      \"title\": \"Apply thermal paste (if needed)\"\n    },\n    {\n      \"text\": \"Place the CPU cooler over the CPU aligning its mounting holes or bracket to the motherboard holes. Confirm the cooler sits evenly over the CPU with holes aligned.\",\n      \"title\": \"Position the CPU cooler\"\n    },\n    {\n      \"text\": \"Tighten the cooler mounting screws or secure the bracket in a cross pattern until snug. You should feel even tension and the cooler should not rock.\",\n      \"title\": \"Secure the CPU cooler\"\n    },\n    {\n      \"text\": \"Connect the cooler fan cable to the CPU_FAN header on the motherboard. The connector should fit snugly and the label or silk-screen should read CPU_FAN.\",\n      \"title\": \"Attach cooler fan to CPU_FAN header\"\n    },\n    {\n      \"text\": \"Open the RAM slot latches on the motherboard for the slots you'll use. The latches should be fully outwards and ready to accept modules.\",\n      \"title\": \"Open the RAM slot latches\"\n    },\n    {\n      \"text\": \"Align each RAM module notch with the slot key and press straight down until both latches snap closed. Each module should sit fully flush and click audibly.\",\n      \"title\": \"Install RAM modules\"\n    },\n    {\n      \"text\": \"Remove the M.2 standoff screw from the motherboard mount for the M.2 slot you will use. Keep the screw safe for later use.\",\n      \"title\": \"Remove the M.2 standoff screw\"\n    },\n    {\n      \"text\": \"Insert the M.2 drive into the slot at a 30° angle, press it down, and secure it with the standoff screw. The drive should be parallel to the board and firmly held by the screw.\",\n      \"title\": \"Install the M.2 SSD and secure it\"\n    },\n    {\n      \"text\": \"Press the I/O shield into the case rear until it snaps into place. The shield edges should be flush and the ports openings aligned.\",\n      \"title\": \"Install the case I/O shield\"\n    },\n    {\n      \"text\": \"Lower the motherboard into the case aligning the I/O ports with the I/O shield and the screw holes with standoffs, then secure the board with screws. The board should sit flat and not flex.\",\n      \"title\": \"Mount the motherboard in the case\"\n    },\n    {\n      \"text\": \"Install the power supply into the case in its bracket or bay and fasten it with screws. The PSU fan orientation should match your case airflow and the unit should be secure.\",\n      \"title\": \"Install the power supply (PSU)\"\n    },\n    {\n      \"text\": \"Plug the 24-pin ATX power cable from the PSU into the motherboard 24-pin connector until the latch clicks. The connector should sit fully engaged.\",\n      \"title\": \"Connect the 24-pin ATX power cable\"\n    },\n    {\n      \"text\": \"Plug the 8-pin (or 4+4) CPU/EPS power cable from the PSU into the motherboard CPU power connector near the CPU until it clicks.\",\n      \"title\": \"Connect the 8-pin CPU power cable\"\n    },\n    {\n      \"text\": \"Connect SATA power cables from the PSU to any installed SATA drives; the connector should slide on fully and the drive should receive firm power contact.\",\n      \"title\": \"Connect SATA power to drives (if used)\"\n    },\n    {\n      \"text\": \"Attach SATA data cables from each SATA drive to the motherboard SATA ports until they click. Note which port number each drive uses for later BIOS recognition.\",\n      \"title\": \"Connect SATA data cables (if used)\"\n    },\n    {\n      \"text\": \"Remove any rear PCI slot covers that align with your GPU bracket, then firmly insert the GPU into the top PCIe x16 slot until the slot latch clicks and the bracket aligns.\",\n      \"title\": \"Install the GPU into the PCIe x16 slot\"\n    },\n    {\n      \"text\": \"Secure the GPU to the case with screws at its rear bracket so it does not sag; the card should be straight and the bracket flush with the case.\",\n      \"title\": \"Fasten the GPU to the case\"\n    },\n    {\n      \"text\": \"Connect the required 6/8-pin PCIe power cables from the PSU to the GPU until the connectors click and sit flush with the GPU power ports.\",\n      \"title\": \"Connect PCIe power to the GPU\"\n    },\n    {\n      \"text\": \"Attach a monitor, keyboard, and mouse, flip the PSU switch to ON, then press the case power button to start the system. Fans should spin and you should see the motherboard POST or BIOS splash.\",\n      \"title\": \"Power on the system to test POST\"\n    },\n    {\n      \"text\": \"If POST succeeds, shut down the system, unplug the power, tidy and route cables, fasten any remaining case screws, and close the case. Confirm the case closes without pinching cables.\",\n      \"title\": \"Finalize assembly and close the case\"\n    }\n  ]\n}",
      "outputTokens": 3453,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-complex-activity-1",
      "userPrompt": "LESSON_TITLE: Building a PC\nLESSON_DESCRIPTION: Complete guide to building your own desktop computer from scratch\nCHAPTER_TITLE: Hardware Assembly\nCOURSE_TITLE: PC Building\nLANGUAGE: en\nACTIVITY_TITLE: Assemble the Computer\nACTIVITY_DESCRIPTION: Assemble a desktop computer from individual components, including installing CPU, RAM, storage, GPU, and connecting power"
    }
  ],
  "taskId": "activity-custom"
}
