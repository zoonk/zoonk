{
  "generatedAt": "2026-02-21T23:02:55.570Z",
  "modelId": "google/gemini-3.1-pro-preview",
  "outputs": [
    {
      "duration": 21285.424833999947,
      "inputTokens": 1746,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Open your web browser and go to git-scm.com. Look for the monitor icon on the right side of the homepage displaying the current version of Git.\",\n      \"title\": \"Open the Git Website\"\n    },\n    {\n      \"text\": \"Click the Download button on the homepage. The website automatically detects whether you are using Windows, Mac, or Linux and provides the correct file. Save it to your computer.\",\n      \"title\": \"Download the Installer\"\n    },\n    {\n      \"text\": \"Locate the downloaded file in your Downloads folder and double-click it to launch the installer. If prompted by your system security settings, click Allow or Yes to permit the installation.\",\n      \"title\": \"Run the Setup File\"\n    },\n    {\n      \"text\": \"Click Next through the installation screens. For beginners, it is highly recommended to leave all default settings exactly as they are. Click Install at the end and wait for the loading bar to finish.\",\n      \"title\": \"Complete the Installation\"\n    },\n    {\n      \"text\": \"Launch your command line interface. On Windows, click Start, search for Git Bash, and open it. On Mac, press Cmd+Space, type Terminal, and press Enter.\",\n      \"title\": \"Open Your Terminal\"\n    },\n    {\n      \"text\": \"Type git --version in your terminal window and press Enter. Ensure there is a space between the word git and the two dashes.\",\n      \"title\": \"Verify the Installation\"\n    },\n    {\n      \"text\": \"Look at the text that appears. You should see a message like git version 2.40.1 followed by your operating system details. If you see this, Git is successfully installed and ready to use!\",\n      \"title\": \"Confirm Success\"\n    }\n  ]\n}",
      "outputTokens": 2306,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-tech-install-git-1",
      "userPrompt": "LESSON_TITLE: How to Set Up Git\nLESSON_DESCRIPTION: Setting up your development environment by installing and configuring Git version control\nCHAPTER_TITLE: Getting Started\nCOURSE_TITLE: Git Fundamentals\nLANGUAGE: en\nACTIVITY_TITLE: Install Git\nACTIVITY_DESCRIPTION: Download and install Git on your computer, including verification that the installation succeeded"
    },
    {
      "duration": 26047.02199999988,
      "inputTokens": 1760,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Ensure your car is parked on a flat, stable surface. Turn on your hazard lights and firmly engage the parking brake to prevent the car from rolling while you work.\",\n      \"title\": \"Apply the Parking Brake\"\n    },\n    {\n      \"text\": \"Use your lug wrench to turn each lug nut counterclockwise about one-half to one full turn. Do not remove them completely yet. You must break their resistance while the tire is firmly on the ground.\",\n      \"title\": \"Loosen Lug Nuts Slightly\"\n    },\n    {\n      \"text\": \"Look under your car near the flat tire for the exposed jacking point, usually a reinforced metal rib. Place the jack directly beneath this spot. Check your owner's manual if you cannot locate it.\",\n      \"title\": \"Position the Jack\"\n    },\n    {\n      \"text\": \"Turn the jack handle clockwise to lift the car. Continue lifting until the flat tire is about six inches off the ground to leave room for the fully inflated spare. Ensure the jack stays completely vertical.\",\n      \"title\": \"Raise the Vehicle\"\n    },\n    {\n      \"text\": \"Use the lug wrench or your fingers to completely unscrew all the loosened lug nuts. Place them together in a secure spot, like inside the hubcap or your pocket, so they do not roll away.\",\n      \"title\": \"Remove the Lug Nuts\"\n    },\n    {\n      \"text\": \"Grip the flat tire by the treads with both hands at the 9 and 3 o'clock positions. Pull it straight toward you to slide it off the hub, then lay it flat on the ground so it cannot roll into the road.\",\n      \"title\": \"Pull the Flat Tire Off\"\n    }\n  ]\n}",
      "outputTokens": 1999,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-automotive-remove-flat-tire-1",
      "userPrompt": "LESSON_TITLE: Changing a Car Tire\nLESSON_DESCRIPTION: Step-by-step guide to safely changing a flat tire on the side of the road\nCHAPTER_TITLE: Roadside Emergencies\nCOURSE_TITLE: Basic Car Maintenance\nLANGUAGE: en\nACTIVITY_TITLE: Remove the Flat Tire\nACTIVITY_DESCRIPTION: Safely remove a flat tire from your vehicle, including proper jacking and lug nut removal"
    },
    {
      "duration": 21285.834083999973,
      "inputTokens": 1756,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Bring water to a boil, then remove it from the heat. Let it sit for about 1 minute so the temperature drops to around 200°F (93°C). This ensures the water is hot enough to brew but won't scorch the coffee.\",\n      \"title\": \"Heat the Water\"\n    },\n    {\n      \"text\": \"Measure 2 to 3 tablespoons of coarse coffee grounds and pour them into the bottom of your empty French press carafe. Give the glass a gentle shake to level the grounds evenly.\",\n      \"title\": \"Add Coffee Grounds\"\n    },\n    {\n      \"text\": \"Pour just enough hot water over the grounds to wet them completely. Wait 30 seconds. You should see the coffee bubble and expand—this releases trapped gases for a smoother brew.\",\n      \"title\": \"Pour Water to Bloom\"\n    },\n    {\n      \"text\": \"Pour the remaining hot water into the French press, filling it to just below the spout. Pour gently in a circular motion to ensure all the coffee grounds are fully mixed with the water.\",\n      \"title\": \"Fill the Carafe\"\n    },\n    {\n      \"text\": \"Gently stir the top layer of grounds with a wooden or plastic spoon to break the crust. Place the lid on top with the plunger pulled all the way up to trap the heat. Set a timer for exactly 4 minutes.\",\n      \"title\": \"Stir and Start Timer\"\n    },\n    {\n      \"text\": \"When the timer goes off, press the plunger down slowly and steadily. Keep the rod completely straight. If you feel heavy resistance, pull it up slightly, then continue pressing to the bottom.\",\n      \"title\": \"Press the Plunger\"\n    },\n    {\n      \"text\": \"Pour the brewed coffee into your mug right away. Decant any leftover coffee into a separate thermos. Do not leave remaining coffee sitting in the French press, or it will become bitter.\",\n      \"title\": \"Pour Immediately\"\n    }\n  ]\n}",
      "outputTokens": 1561,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-cooking-brew-coffee-1",
      "userPrompt": "LESSON_TITLE: Making French Press Coffee\nLESSON_DESCRIPTION: Master the French press method for making rich, full-bodied coffee at home\nCHAPTER_TITLE: Coffee Brewing Methods\nCOURSE_TITLE: Home Barista Basics\nLANGUAGE: en\nACTIVITY_TITLE: Brew the Coffee\nACTIVITY_DESCRIPTION: Brew a perfect cup of coffee using a French press, from measuring grounds to plunging and pouring"
    },
    {
      "duration": 22939.09812500002,
      "inputTokens": 1747,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Remove all weeds, rocks, and old plant debris from your chosen planting area. Pull weeds out by the roots to prevent them from growing back and competing with your tomatoes.\",\n      \"title\": \"Clear the Garden Bed\"\n    },\n    {\n      \"text\": \"Use a garden fork or spade to dig 8 to 12 inches deep across the entire bed. Turn the soil over completely as you go to aerate it. This ensures tomato roots can easily expand.\",\n      \"title\": \"Loosen the Topsoil\"\n    },\n    {\n      \"text\": \"Strike any large, hard dirt chunks with your spade or a rake to break them apart. Keep breaking them until the soil becomes crumbly and fine. Remove any newly unearthed rocks.\",\n      \"title\": \"Break Up Soil Clods\"\n    },\n    {\n      \"text\": \"Spread a 2- to 3-inch layer of aged compost or well-rotted manure evenly over the loosened soil. This adds essential nutrients and helps the bed retain moisture.\",\n      \"title\": \"Add Compost\"\n    },\n    {\n      \"text\": \"Sprinkle a continuous-release tomato fertilizer evenly over the compost layer. Check the package instructions for the exact amount. Look for one with added calcium for best results.\",\n      \"title\": \"Apply Tomato Fertilizer\"\n    },\n    {\n      \"text\": \"Use your spade or a tiller to blend the compost and fertilizer into the top 6 to 8 inches of your native soil. Mix thoroughly until the amendments are no longer sitting in visible layers.\",\n      \"title\": \"Mix in the Amendments\"\n    },\n    {\n      \"text\": \"Drag a bow rake back and forth across the bed to smooth out the surface. Fill in any low spots and pull away excess soil from high spots until the bed is flat and even.\",\n      \"title\": \"Level the Surface\"\n    },\n    {\n      \"text\": \"Grab a handful of the mixed soil and squeeze it. It should form a loose ball that easily breaks apart when you poke it. If it stays clumped tightly, mix in more compost to improve drainage.\",\n      \"title\": \"Test the Soil Texture\"\n    },\n    {\n      \"text\": \"Lightly water the prepared bed with a hose attachment or watering can. The soil should become damp like a wrung-out sponge, but not muddy. Wait 24 hours before planting your tomatoes.\",\n      \"title\": \"Water the Bed\"\n    }\n  ]\n}",
      "outputTokens": 2098,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-gardening-prepare-soil-1",
      "userPrompt": "LESSON_TITLE: Planting Tomatoes\nLESSON_DESCRIPTION: Complete guide to planting and growing healthy tomato plants in your home garden\nCHAPTER_TITLE: Growing Vegetables\nCOURSE_TITLE: Home Gardening\nLANGUAGE: en\nACTIVITY_TITLE: Prepare the Soil\nACTIVITY_DESCRIPTION: Prepare a garden bed for tomato planting by loosening, amending, and conditioning the soil"
    },
    {
      "duration": 20300.72616700013,
      "inputTokens": 1751,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Lay your ironed fabric completely flat on a large table or cutting mat. Fold the fabric in half with the right (printed) sides touching each other. Smooth out any wrinkles and align the edges.\",\n      \"title\": \"Lay Out Your Fabric\"\n    },\n    {\n      \"text\": \"Place your paper pillowcase pattern pieces directly onto the folded fabric. If a pattern piece says \\\"Place on Fold,\\\" align that exact edge so it sits perfectly flush with the folded edge of your fabric.\",\n      \"title\": \"Position the Pattern\"\n    },\n    {\n      \"text\": \"Insert straight pins every 4 to 5 inches around the edges of the paper pattern. Push the pin tip down through the paper and both fabric layers, then back up. The pattern should not shift when touched.\",\n      \"title\": \"Pin the Pattern Layers\"\n    },\n    {\n      \"text\": \"Check all pinned pieces with a ruler or measuring tape to ensure you have left enough room between pattern pieces for cutting. Verify that the \\\"Place on Fold\\\" edges are perfectly aligned.\",\n      \"title\": \"Verify Your Placement\"\n    },\n    {\n      \"text\": \"Hold your fabric scissors with the lower blade resting flat on the table. Cut smoothly and directly along the solid outer lines of your pinned paper pattern pieces. Do not cut the folded edge!\",\n      \"title\": \"Cut the Fabric Pieces\"\n    },\n    {\n      \"text\": \"Remove all pins from the cut fabric and place them safely in a pincushion. Set the paper pattern pieces aside. You should now have cut fabric pieces matching the exact shape of your pattern.\",\n      \"title\": \"Unpin the Cut Fabric\"\n    }\n  ]\n}",
      "outputTokens": 2180,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-crafts-cut-fabric-1",
      "userPrompt": "LESSON_TITLE: Sewing a Pillowcase\nLESSON_DESCRIPTION: Learn to sew a simple pillowcase from start to finish using basic techniques\nCHAPTER_TITLE: Basic Sewing Projects\nCOURSE_TITLE: Sewing for Beginners\nLANGUAGE: en\nACTIVITY_TITLE: Cut the Fabric\nACTIVITY_DESCRIPTION: Measure, pin, and cut fabric pieces for a pillowcase following a pattern"
    },
    {
      "duration": 24807.237874999875,
      "inputTokens": 1748,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Clip your digital tuner to the headstock of your guitar and turn it on, or open a guitar tuner app on your phone. Place your phone close to the guitar so it can clearly hear the strings.\",\n      \"title\": \"Turn On Your Tuner\"\n    },\n    {\n      \"text\": \"Pluck the 6th string (the thickest one closest to you). Let it ring out continuously. Look at your tuner to see what note it currently detects.\",\n      \"title\": \"Pluck the Thickest String (E)\"\n    },\n    {\n      \"text\": \"Follow the string up to its tuning peg. Turn the peg slowly while the string rings. If the tuner says flat (left), tighten it. If sharp (right), loosen it until the needle hits the center on E.\",\n      \"title\": \"Adjust the Tuning Peg for E\"\n    },\n    {\n      \"text\": \"Pluck the next string down (the 5th string). Turn its corresponding peg until your tuner reads A and the needle rests exactly in the center indicator.\",\n      \"title\": \"Tune the 5th String (A)\"\n    },\n    {\n      \"text\": \"Pluck the 4th string. Follow it to its tuning peg and adjust it slowly until the tuner displays D and the indicator lights up in the middle.\",\n      \"title\": \"Tune the 4th String (D)\"\n    },\n    {\n      \"text\": \"Pluck the 3rd string. Turn the peg to tune it to G. If you go too sharp, loosen the string below the target, then tighten it back up to G for better tuning stability.\",\n      \"title\": \"Tune the 3rd String (G)\"\n    },\n    {\n      \"text\": \"Pluck the 2nd string (the second thinnest). Turn its peg until the tuner reads B and hits the center mark. Ensure you are turning the correct peg for this specific string.\",\n      \"title\": \"Tune the 2nd String (B)\"\n    },\n    {\n      \"text\": \"Pluck the 1st string (the thinnest one closest to the floor). Adjust its peg carefully until the tuner reads E and indicates it is perfectly in tune.\",\n      \"title\": \"Tune the Thinnest String (E)\"\n    },\n    {\n      \"text\": \"Strum all six strings together from top to bottom. The strings should sound clear and harmonious. If anything sounds slightly off, repeat the process from the thickest string down.\",\n      \"title\": \"Strum and Verify\"\n    }\n  ]\n}",
      "outputTokens": 2045,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-music-tune-guitar-1",
      "userPrompt": "LESSON_TITLE: Getting Started with Guitar\nLESSON_DESCRIPTION: Essential setup steps before you start playing guitar, including tuning and posture\nCHAPTER_TITLE: Guitar Basics\nCOURSE_TITLE: Learn Guitar\nLANGUAGE: en\nACTIVITY_TITLE: Tune Your Guitar\nACTIVITY_DESCRIPTION: Tune each string of your guitar to standard tuning using a tuner or reference pitch"
    },
    {
      "duration": 23691.466542000184,
      "inputTokens": 1750,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Turn your camera's main mode dial to \\\"M\\\" to engage Manual mode. This gives you full control over exposure settings. Look at your rear screen or through the viewfinder to confirm an \\\"M\\\" icon is displayed.\",\n      \"title\": \"Switch to Manual Mode\"\n    },\n    {\n      \"text\": \"Press the ISO button or navigate to the ISO menu. Set it to 100 for bright outdoors, 400-800 for cloudy conditions, or 1600+ for dark scenes. Press \\\"OK\\\" or half-press the shutter to lock in the setting.\",\n      \"title\": \"Set Your Base ISO\"\n    },\n    {\n      \"text\": \"Turn the control dial to set your f-stop. Choose a low number (like f/2.8) to blur the background, or a high number (like f/8) to keep everything sharp. You will see the f-stop value change on your screen.\",\n      \"title\": \"Choose Your Aperture\"\n    },\n    {\n      \"text\": \"Look through your viewfinder or at the rear screen to locate a horizontal scale with a \\\"0\\\" in the middle and \\\"+\\\" and \\\"-\\\" on the sides. This is your exposure meter, which tells you if the scene is too bright or dark.\",\n      \"title\": \"Locate the Exposure Meter\"\n    },\n    {\n      \"text\": \"Turn your camera's main command dial to change the shutter speed. Watch the indicator tick marks on the exposure meter move. Stop turning the dial when the indicator rests exactly under the \\\"0\\\" mark.\",\n      \"title\": \"Adjust Shutter Speed to Zero\"\n    },\n    {\n      \"text\": \"Press the shutter button down completely to take a photo. Press the \\\"Playback\\\" button (usually a triangle play icon) to review the image on your screen. Check if the brightness looks correct to your eye.\",\n      \"title\": \"Take a Test Shot\"\n    },\n    {\n      \"text\": \"If the image is too dark, turn the dial to lower the shutter speed number or increase the ISO. If it's too bright, raise the shutter speed number. Take another test shot to verify the final exposure.\",\n      \"title\": \"Refine the Exposure\"\n    }\n  ]\n}",
      "outputTokens": 1944,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-photography-adjust-exposure-1",
      "userPrompt": "LESSON_TITLE: Manual Camera Settings\nLESSON_DESCRIPTION: Understanding and using manual camera settings to control exposure\nCHAPTER_TITLE: Camera Controls\nCOURSE_TITLE: Photography Fundamentals\nLANGUAGE: en\nACTIVITY_TITLE: Adjust Camera Exposure\nACTIVITY_DESCRIPTION: Adjust your camera's exposure settings (ISO, aperture, shutter speed) to achieve proper exposure for your scene"
    },
    {
      "duration": 16759.690834000008,
      "inputTokens": 1749,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Stand with your feet slightly wider than shoulder-width apart. Point your toes slightly outward at a 15 to 30-degree angle. This stance gives your hips the necessary room to lower comfortably.\",\n      \"title\": \"Position Your Feet\"\n    },\n    {\n      \"text\": \"Keep your chest lifted, pull your shoulders down and back, and look straight ahead. Engage your core by taking a deep breath and bracing your stomach muscles like you are about to be punched.\",\n      \"title\": \"Set Your Posture\"\n    },\n    {\n      \"text\": \"Begin the movement by pushing your hips back, exactly as if you are reaching to sit down in a chair behind you. Do not start by just bending your knees straight down.\",\n      \"title\": \"Hinge Your Hips Back\"\n    },\n    {\n      \"text\": \"Bend your knees to lower your body while keeping your back straight. Track your knees over your toes so they do not cave inward. Continue lowering until your thighs are at least parallel to the floor.\",\n      \"title\": \"Lower Your Body\"\n    },\n    {\n      \"text\": \"Pause briefly at the bottom of the squat. Ensure your body weight is balanced over your mid-foot and heels, not your toes. You should be able to wiggle your toes slightly in this position.\",\n      \"title\": \"Check Your Weight Distribution\"\n    },\n    {\n      \"text\": \"Drive through your heels and mid-foot to straighten your legs and return to a standing position. Keep your chest up as you rise, and squeeze your glutes at the very top to finish the movement.\",\n      \"title\": \"Push Back to Start\"\n    }\n  ]\n}",
      "outputTokens": 1551,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-fitness-proper-squat-form-1",
      "userPrompt": "LESSON_TITLE: How to Do Squats\nLESSON_DESCRIPTION: Complete guide to performing squats safely and effectively for building lower body strength\nCHAPTER_TITLE: Lower Body Exercises\nCOURSE_TITLE: Strength Training Basics\nLANGUAGE: en\nACTIVITY_TITLE: Master Proper Form\nACTIVITY_DESCRIPTION: Learn and practice the correct body positioning for a proper bodyweight squat"
    },
    {
      "duration": 22871.337541999994,
      "inputTokens": 1770,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Aqueça 300ml de água até ficar morna (cerca de 38°C). Teste com o dedo: a temperatura deve estar agradável, não quente. É crucial acertar o ponto, pois água muito quente mata o fermento e água fria não o acorda.\",\n      \"title\": \"Aqueça a Água\"\n    },\n    {\n      \"text\": \"Em uma tigela grande, coloque a água morna, 1 colher de sopa de açúcar e 10g de fermento biológico seco. Misture levemente com uma colher e deixe a tigela descansar por 10 minutos.\",\n      \"title\": \"Ative o Fermento\"\n    },\n    {\n      \"text\": \"Olhe para a tigela após o tempo de descanso. Você deve ver uma camada de espuma grossa na superfície. Se não houver espuma, descarte e recomece, pois o fermento não está ativo.\",\n      \"title\": \"Verifique a Espuma\"\n    },\n    {\n      \"text\": \"Adicione 500g de farinha de trigo e 1 colher de chá de sal à tigela com o fermento. Use uma colher de pau para misturar tudo até os ingredientes se unirem e formarem uma massa pesada e pegajosa.\",\n      \"title\": \"Misture os Ingredientes\"\n    },\n    {\n      \"text\": \"Polvilhe um pouco de farinha sobre uma bancada limpa e seca. Despeje toda a massa pegajosa da tigela diretamente sobre essa superfície enfarinhada.\",\n      \"title\": \"Transfira para a Bancada\"\n    },\n    {\n      \"text\": \"Empurre a massa para frente usando a base da palma da mão. Dobre a parte de cima da massa sobre ela mesma, gire um quarto de volta e empurre novamente. Mantenha esse ritmo.\",\n      \"title\": \"Inicie a Sova\"\n    },\n    {\n      \"text\": \"Continue repetindo os movimentos de sova por 10 a 15 minutos sem parar. Você saberá que está dando certo quando a massa parar de grudar completamente nas mãos e na bancada, ficando lisa e elástica.\",\n      \"title\": \"Sove a Massa\"\n    },\n    {\n      \"text\": \"Pegue um pedaço pequeno da massa e estique-o suavemente com os dedos. Se ela formar uma película fina e quase transparente sem rasgar, a sova está pronta. Sua massa está perfeita!\",\n      \"title\": \"Faça o Teste do Véu\"\n    }\n  ]\n}",
      "outputTokens": 2397,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "pt-cooking-preparar-massa-1",
      "userPrompt": "LESSON_TITLE: Fazendo Pao Caseiro\nLESSON_DESCRIPTION: Aprenda a fazer pao caseiro do zero, desde a preparacao da massa ate o cozimento\nCHAPTER_TITLE: Paes Caseiros\nCOURSE_TITLE: Panificacao em Casa\nLANGUAGE: pt\nACTIVITY_TITLE: Preparar a Massa\nACTIVITY_DESCRIPTION: Prepare a massa do pao, incluindo ativacao do fermento, mistura dos ingredientes e sova"
    },
    {
      "duration": 16568.659375000047,
      "inputTokens": 1768,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Ubica las llaves de paso debajo del lavabo. Giralas completamente hacia la derecha para cortar el agua. Abre el grifo para drenar el agua restante y confirmar que el suministro esta cerrado.\",\n      \"title\": \"Cierra el suministro de agua\"\n    },\n    {\n      \"text\": \"Coloca un tapon o un trapo en el agujero del desague del lavabo. Esto evitara que los tornillos o piezas pequenas se caigan por la tuberia mientras desarmas la llave.\",\n      \"title\": \"Tapa el desague\"\n    },\n    {\n      \"text\": \"Haz palanca suavemente con un destornillador plano para quitar la tapa decorativa de la manija. Usa un destornillador o llave Allen para aflojar el tornillo interno y tira de la manija hacia arriba.\",\n      \"title\": \"Retira la manija del grifo\"\n    },\n    {\n      \"text\": \"Usa una llave inglesa para aflojar la tuerca de retencion que sujeta el mecanismo interno. Gira hacia la izquierda, retira la tuerca y saca el cartucho o vastago tirando directamente hacia arriba.\",\n      \"title\": \"Extrae el cartucho o vastago\"\n    },\n    {\n      \"text\": \"Revisa la base del cartucho. Saca los anillos de goma o arandelas desgastadas usando un destornillador pequeno. Coloca los repuestos nuevos asegurandote de que encajen perfectamente en su ranura.\",\n      \"title\": \"Cambia los empaques danados\"\n    },\n    {\n      \"text\": \"Inserta el cartucho de nuevo en su lugar, alineando las muescas. Coloca la tuerca de retencion y aprietala con la llave. Pon la manija, aprieta el tornillo interno y presiona la tapa decorativa.\",\n      \"title\": \"Vuelve a ensamblar el grifo\"\n    },\n    {\n      \"text\": \"Gira las llaves de paso debajo del lavabo hacia la izquierda para restaurar el suministro. Observa el grifo cerrado por un minuto; si no cae ninguna gota, la reparacion fue un exito.\",\n      \"title\": \"Abre el agua y verifica\"\n    }\n  ]\n}",
      "outputTokens": 1672,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "es-home-repair-fix-faucet-1",
      "userPrompt": "LESSON_TITLE: Arreglar una Fuga de Agua\nLESSON_DESCRIPTION: Guia paso a paso para reparar fugas de agua comunes en tu hogar\nCHAPTER_TITLE: Reparaciones de Plomeria\nCOURSE_TITLE: Mantenimiento del Hogar\nLANGUAGE: es\nACTIVITY_TITLE: Reparar el Grifo\nACTIVITY_DESCRIPTION: Repara un grifo que gotea, desde cerrar el agua hasta reemplazar las piezas danadas"
    },
    {
      "duration": 15905.044166999869,
      "inputTokens": 1741,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Look at the top left corner of your word processing application and click on \\\"File\\\". This will switch your screen to a new menu with options for managing your document.\",\n      \"title\": \"Click the File Menu\"\n    },\n    {\n      \"text\": \"Click \\\"Save As\\\" from the menu list on the left side. If this is the very first time you are saving this specific document, clicking regular \\\"Save\\\" will also bring you to this screen.\",\n      \"title\": \"Select Save As\"\n    },\n    {\n      \"text\": \"Click \\\"Browse\\\" or select \\\"This PC\\\" to pick where you want to store the file. A new window will pop up showing your computer's folders. Click on \\\"Documents\\\" or your preferred folder.\",\n      \"title\": \"Choose a Location\"\n    },\n    {\n      \"text\": \"Click inside the \\\"File name\\\" text box near the bottom of the pop-up window. Delete any default text and type a clear, descriptive name for your document so you can easily identify it later.\",\n      \"title\": \"Type a File Name\"\n    },\n    {\n      \"text\": \"Click the \\\"Save\\\" button in the bottom right corner of the window. The pop-up window will close automatically, returning you to your main document view.\",\n      \"title\": \"Click the Save Button\"\n    },\n    {\n      \"text\": \"Look at the very top center of your application window. You should now see the new file name you just typed instead of \\\"Document1\\\". This confirms your work is securely saved.\",\n      \"title\": \"Verify the Name Change\"\n    }\n  ]\n}",
      "outputTokens": 1589,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-short-activity-1",
      "userPrompt": "LESSON_TITLE: Basic Word Processing\nLESSON_DESCRIPTION: Learn fundamental word processing operations including creating, saving, and organizing documents\nCHAPTER_TITLE: Document Basics\nCOURSE_TITLE: Office Software Essentials\nLANGUAGE: en\nACTIVITY_TITLE: Save the Document\nACTIVITY_DESCRIPTION: Save your current document to preserve your work"
    },
    {
      "duration": 20784.19683299982,
      "inputTokens": 1750,
      "output": "{\n  \"steps\": [\n    {\n      \"text\": \"Place your motherboard on top of its cardboard box. Touch a grounded metal object or wear an anti-static wrist strap to discharge any static electricity from your body before handling components.\",\n      \"title\": \"Ground Yourself First\"\n    },\n    {\n      \"text\": \"Lift the retention lever on the motherboard's CPU socket. Align the golden triangle on the corner of the CPU with the triangle on the socket. Gently drop the CPU directly into place—do not push. Press the lever down to lock it.\",\n      \"title\": \"Install the CPU\"\n    },\n    {\n      \"text\": \"Push down the retention clips at the ends of the motherboard's RAM slots. Align the notch on the RAM stick with the ridge in the slot. Press down firmly on both ends until it clicks and clips lock.\",\n      \"title\": \"Insert the RAM\"\n    },\n    {\n      \"text\": \"Insert your M.2 SSD at a 30-degree angle into the motherboard's M.2 slot. Push the raised end down flat against the standoff and secure it with the tiny M.2 screw included with your motherboard.\",\n      \"title\": \"Mount M.2 Storage\"\n    },\n    {\n      \"text\": \"Apply a pea-sized drop of thermal paste to the CPU (if your cooler lacks pre-applied paste). Mount the cooler over the CPU, tighten the screws diagonally, and plug the fan cable into the CPU_FAN header.\",\n      \"title\": \"Attach the CPU Cooler\"\n    },\n    {\n      \"text\": \"Snap the I/O shield into the back cutout of your PC case. Lower the motherboard into the case, aligning ports with the I/O shield and screw holes with the case standoffs. Secure with motherboard screws.\",\n      \"title\": \"Mount the Motherboard\"\n    },\n    {\n      \"text\": \"Slide the Power Supply Unit (PSU) into its chamber in the case, ensuring the fan faces the ventilation holes. Secure the PSU to the back of the case using the four provided mounting screws.\",\n      \"title\": \"Install the Power Supply\"\n    },\n    {\n      \"text\": \"Remove the rear PCIe slot covers on your case. Push down the lock tab on the motherboard's top PCIe x16 slot. Align the GPU, press it firmly into the slot until the tab clicks, and screw it to the case.\",\n      \"title\": \"Install the Graphics Card\"\n    },\n    {\n      \"text\": \"Plug the large 24-pin power cable into the motherboard. Plug the 8-pin CPU power cable into the top-left header. Finally, plug the required PCIe power cables into your GPU. Ensure all click into place.\",\n      \"title\": \"Connect Power Cables\"\n    },\n    {\n      \"text\": \"Consult your motherboard manual for the front panel header layout. Plug the tiny Power Switch, Reset Switch, and LED cables from your case into their corresponding pins on the bottom right of the board.\",\n      \"title\": \"Wire the Front Panel\"\n    },\n    {\n      \"text\": \"Plug your monitor into the GPU (not the motherboard), flip the PSU switch to On (I), and press the case power button. You should see the fans spin up and the motherboard splash screen appear.\",\n      \"title\": \"Perform the First Boot\"\n    }\n  ]\n}",
      "outputTokens": 2358,
      "systemPrompt": "# Role\n\nYou are an expert instructional designer creating a **Custom** activity for a learning app. Your mission is to provide clear, actionable procedural instructions — step-by-step guidance that helps learners DO something, not just understand it.\n\nYou specialize in transforming complex procedures into clear, followable instructions that guide learners through completing a specific task successfully.\n\n# The Art of Procedural Instruction\n\nA great Custom activity doesn't explain concepts — it guides action. Think of it like being a patient instructor standing beside the learner, telling them exactly what to do next and confirming they're on track.\n\n## Why Procedural Clarity Works\n\n1. **Action Over Theory**: Learners build skills by DOING. Clear instructions get them moving immediately without getting stuck.\n\n2. **Confidence Through Progress**: Each completed step builds momentum. Learners see themselves succeeding and stay motivated.\n\n3. **Error Prevention**: Well-designed instructions anticipate confusion and guide learners past common pitfalls before they happen.\n\n## The Procedural Flow Principle\n\nEvery great Custom activity follows an action-driven arc:\n\n- **Setup**: What should be ready before starting? What tools or conditions are needed?\n- **Action**: What specific action should the learner take right now?\n- **Verification**: How does the learner know they did it correctly?\n- **Completion**: What's the end state that confirms success?\n\n## Why Single Actions Work\n\nEach step should be ONE action — brief enough to complete without confusion, substantial enough to make real progress. Single-action steps:\n\n- Prevent learners from getting lost mid-instruction\n- Make it easy to recover if something goes wrong\n- Build a rhythm of action and confirmation\n- Allow learners to pause and resume without losing their place\n\n# Inputs\n\n- `LESSON_TITLE`: The lesson this activity belongs to\n- `LESSON_DESCRIPTION`: Additional context about what this lesson covers\n- `CHAPTER_TITLE`: The chapter context (for understanding scope)\n- `COURSE_TITLE`: The course context (for understanding audience level)\n- `LANGUAGE`: Output language\n- `ACTIVITY_TITLE`: The specific activity to create procedural instructions for\n- `ACTIVITY_DESCRIPTION`: Description of what this activity covers\n\n## Language Guidelines\n\n- `en`: Use US English unless the content is region-specific\n- `pt`: Use Brazilian Portuguese unless the content is region-specific\n- `es`: Use Latin American Spanish unless the content is region-specific\n\n# Requirements\n\n## Step Structure\n\nEach step must have:\n\n- **title**: Maximum 50 characters. An imperative, action-oriented headline that tells the learner what to do.\n- **text**: Maximum 300 characters. Clear instructions for completing the action, including what to look for to confirm success.\n\n## Tone & Style\n\n- **Direct**: Use imperative verbs — \"Click,\" \"Type,\" \"Open,\" \"Add,\" \"Wait,\" \"Select\"\n- **Specific**: Name exact buttons, menus, fields, or locations — avoid vague instructions\n- **Confirmatory**: Include verification cues — \"You should see...\", \"A message will appear...\", \"The button turns green when...\"\n- **Supportive**: Anticipate confusion and provide guidance — \"If you don't see X, try Y\"\n\n## What to Avoid\n\n- Conceptual explanations\n- Process descriptions\n- History or context\n- Combining multiple actions in one step\n- Vague instructions like \"configure the settings\" without specifics\n- Technical jargon without explaining what to do with it\n- Generic advice that doesn't help complete the specific task\n- Starting with \"In this activity...\" or similar meta-commentary\n\n## Scope\n\nThe activity must match EXACTLY the scope defined by ACTIVITY_TITLE and ACTIVITY_DESCRIPTION:\n\n- **Not broader**: Don't explain the whole lesson — focus only on this specific activity\n- **Not narrower**: Cover the complete procedure as described in ACTIVITY_DESCRIPTION\n- **Stay actionable**: Every step should be something the learner physically does\n\n# Structure Guide\n\nWhile every procedure is unique, most Custom activities follow this flow (adapt as needed):\n\n1. **Prerequisites**: What should be ready? Any tools, accounts, or files needed?\n2. **Starting Point**: Where does the learner begin? What do they open or navigate to?\n3. **Core Actions**: The main sequence of steps to complete the task\n4. **Verification Points**: Checks along the way to confirm progress\n5. **Completion**: The final step and how to know the task is done\n\nNot every procedure needs all these elements — some may need more or fewer steps. Let the task's complexity dictate the structure.\n\n# Example: Set Up SSH Keys\n\nHere's how a Custom activity might flow for \"Set Up SSH Keys\" within a lesson about Git authentication:\n\n| Title            | Text                                                                                                                                                            |\n| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Open Terminal    | Launch your terminal application. On Mac, find it in Applications > Utilities. On Windows, open Git Bash.                                                       |\n| Generate the Key | Type `ssh-keygen -t ed25519 -C \"your@email.com\"` and press Enter. Replace the email with your actual GitHub email.                                              |\n| Choose Location  | Press Enter to accept the default file location, or type a custom path if needed.                                                                               |\n| Set a Passphrase | Enter a secure passphrase when prompted. This adds extra security to your key. You can leave it empty by pressing Enter twice, but a passphrase is recommended. |\n| Start SSH Agent  | Run `eval \"$(ssh-agent -s)\"` to start the SSH agent in the background. You should see a message like \"Agent pid 12345\".                                         |\n| Add Key to Agent | Type `ssh-add ~/.ssh/id_ed25519` to add your new key to the SSH agent. You'll see \"Identity added\" when successful.                                             |\n| Copy Public Key  | Run `cat ~/.ssh/id_ed25519.pub` and copy the entire output to your clipboard. It starts with \"ssh-ed25519\" and ends with your email.                            |\n| Verify Setup     | Test the connection with `ssh -T git@github.com`. You should see a message saying \"Hi username! You've successfully authenticated.\"                             |\n\nNotice how each step is a single action with clear instructions. The learner can follow along and complete the task without needing to understand SSH theory. This is just an example, though. Adapt the structure to the procedure you're explaining. It could be more or fewer steps depending on complexity.\n\n# Quality Checks\n\nBefore finalizing, verify:\n\n- [ ] Does each step contain exactly ONE action?\n- [ ] Are imperative verbs used (Click, Type, Open, Select, etc.)?\n- [ ] Are verification cues included where helpful (\"You should see...\", \"It will show...\")?\n- [ ] Is the scope exactly what ACTIVITY_TITLE and ACTIVITY_DESCRIPTION specify?\n- [ ] Are instructions specific (exact button names, menu paths, commands)?\n- [ ] Does the activity focus on DO (actions) not WHAT (concepts) or HOW (processes)?\n- [ ] Can the learner complete this procedure by following the steps exactly?\n- [ ] Are all titles ≤50 characters and all texts ≤300 characters?\n\n# Output Format\n\nReturn an array of steps, each with:\n\n- **title**: Imperative, action-oriented headline (max 50 chars)\n- **text**: Clear, specific instructions for completing the action (max 300 chars)\n\nUse as many steps as needed to guide the learner through the complete procedure. Don't limit yourself to a specific number of steps. Let the task's complexity dictate the length.\n",
      "testCaseId": "en-complex-activity-1",
      "userPrompt": "LESSON_TITLE: Building a PC\nLESSON_DESCRIPTION: Complete guide to building your own desktop computer from scratch\nCHAPTER_TITLE: Hardware Assembly\nCOURSE_TITLE: PC Building\nLANGUAGE: en\nACTIVITY_TITLE: Assemble the Computer\nACTIVITY_DESCRIPTION: Assemble a desktop computer from individual components, including installing CPU, RAM, storage, GPU, and connecting power"
    }
  ],
  "taskId": "activity-custom"
}
