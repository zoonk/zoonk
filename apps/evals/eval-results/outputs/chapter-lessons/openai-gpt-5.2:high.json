{
  "generatedAt": "2026-02-22T19:18:01.370Z",
  "modelId": "openai/gpt-5.2:high",
  "outputs": [
    {
      "duration": 106332.77075000003,
      "inputTokens": 1608,
      "output": "{\n  \"lessons\": [\n    {\n      \"description\": \"A packet as the unit of data routed across IP networks. What headers exist for delivery versus payload for the next layer.\",\n      \"title\": \"Packets\"\n    },\n    {\n      \"description\": \"A frame as the unit of data delivered on a single physical or virtual link. Why frames change at every hop while IP packets mostly persist.\",\n      \"title\": \"Frames\"\n    },\n    {\n      \"description\": \"The IP layer’s job: move packets from a source IP to a destination IP across multiple networks. What IP does not guarantee: delivery, ordering, or timing.\",\n      \"title\": \"IP layer responsibilities\"\n    },\n    {\n      \"description\": \"A port as a numeric identifier for a receiving process on a host. Why IP identifies a machine while ports identify a service on that machine.\",\n      \"title\": \"Ports\"\n    },\n    {\n      \"description\": \"A socket as the combination of IP address, port, and protocol. How “5-tuples” uniquely identify a flow in many systems.\",\n      \"title\": \"Sockets\"\n    },\n    {\n      \"description\": \"The client as the side that initiates a connection or sends the first message. Why clients typically use ephemeral ports.\",\n      \"title\": \"Client role\"\n    },\n    {\n      \"description\": \"The server as the side that listens on a stable port for incoming traffic. Why servers need reachable addresses and firewall rules.\",\n      \"title\": \"Server role\"\n    },\n    {\n      \"description\": \"A hop as one router traversal along a path. How hop count differs from physical distance or latency.\",\n      \"title\": \"Hops\"\n    },\n    {\n      \"description\": \"IPv4 addresses as 32-bit numbers written in dotted decimal (e.g., 203.0.113.5). What each octet represents in binary.\",\n      \"title\": \"IPv4 address format\"\n    },\n    {\n      \"description\": \"IPv6 addresses as 128-bit numbers written in hex groups (e.g., 2001:db8::1). Why IPv6 compresses zeros with ::.\",\n      \"title\": \"IPv6 address format\"\n    },\n    {\n      \"description\": \"An IP address as a locator in a routing topology, not a stable device identity. Why changing networks often changes your IP.\",\n      \"title\": \"IP address meaning\"\n    },\n    {\n      \"description\": \"A prefix length like /24 as the number of network bits in an address. How prefix length defines which addresses are “local.”\",\n      \"title\": \"CIDR prefix length\"\n    },\n    {\n      \"description\": \"A subnet mask as the bitmask form of a CIDR prefix (e.g., 255.255.255.0). How masks split network bits from host bits.\",\n      \"title\": \"Subnet mask\"\n    },\n    {\n      \"description\": \"The network address as the first address in a subnet where host bits are all zero. Why it’s not assigned to a host in typical IPv4 setups.\",\n      \"title\": \"Network address\"\n    },\n    {\n      \"description\": \"The broadcast address as the last address in an IPv4 subnet where host bits are all one. What broadcast means on a LAN.\",\n      \"title\": \"IPv4 broadcast address\"\n    },\n    {\n      \"description\": \"Private IPv4 ranges defined by RFC 1918. Why 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16 don’t route on the public internet.\",\n      \"title\": \"Private IPv4 ranges\"\n    },\n    {\n      \"description\": \"Public IPv4 addresses as globally routable space allocated by registries and ISPs. Why public IPs must be unique across the internet.\",\n      \"title\": \"Public IPv4 addresses\"\n    },\n    {\n      \"description\": \"127.0.0.1 as the local loopback address that never leaves the machine. How localhost traffic bypasses the physical network.\",\n      \"title\": \"Loopback address\"\n    },\n    {\n      \"description\": \"169.254.0.0/16 as IPv4 link-local addressing used when no configured address is available. What it implies about DHCP or configuration failures.\",\n      \"title\": \"IPv4 link-local addresses\"\n    },\n    {\n      \"description\": \"FE80::/10 as IPv6 link-local scope present on most IPv6-enabled interfaces. Why link-local requires an interface identifier to be unambiguous.\",\n      \"title\": \"IPv6 link-local addresses\"\n    },\n    {\n      \"description\": \"FC00::/7 as IPv6 unique local addresses meant for internal routing. How they compare to RFC 1918 in intent.\",\n      \"title\": \"IPv6 unique local addresses\"\n    },\n    {\n      \"description\": \"Global unicast IPv6 addresses as publicly routable space (commonly 2000::/3). Why NAT is not required for IPv6 reachability.\",\n      \"title\": \"IPv6 global unicast\"\n    },\n    {\n      \"description\": \"Multicast as one-to-many delivery using special address ranges. Why multicast behaves differently from broadcast and unicast.\",\n      \"title\": \"Multicast addressing\"\n    },\n    {\n      \"description\": \"A default gateway as the router a host uses when the destination isn’t on the local subnet. Why a correct gateway is required for internet access.\",\n      \"title\": \"Default gateway\"\n    },\n    {\n      \"description\": \"An interface address as an IP bound to a specific network interface. Why the same machine can have multiple IPs at once.\",\n      \"title\": \"Interface addressing\"\n    },\n    {\n      \"description\": \"Subnet overlap as two networks configured with intersecting address ranges. Why overlap causes ambiguous routing decisions.\",\n      \"title\": \"Subnet overlap\"\n    },\n    {\n      \"description\": \"Duplicate IP addressing as two devices using the same address on a network. Typical symptoms: intermittent connectivity and ARP flapping.\",\n      \"title\": \"Duplicate IP addresses\"\n    },\n    {\n      \"description\": \"DHCP as a protocol for automatic assignment of IP, gateway, and DNS server settings. What “lease” means for address stability.\",\n      \"title\": \"DHCP leases\"\n    },\n    {\n      \"description\": \"Static IP configuration as manually setting IP, prefix, gateway, and DNS. Common failure: correct IP with wrong prefix length.\",\n      \"title\": \"Static IP configuration\"\n    },\n    {\n      \"description\": \"A routing table as the set of rules a host or router uses to pick a next hop. Why routing decisions are local computations.\",\n      \"title\": \"Routing table\"\n    },\n    {\n      \"description\": \"A route entry as destination prefix plus next hop plus outgoing interface. How route specificity influences selection.\",\n      \"title\": \"Route entries\"\n    },\n    {\n      \"description\": \"Longest prefix match as the rule that picks the most specific route that contains the destination. Why /32 overrides /24.\",\n      \"title\": \"Longest prefix match\"\n    },\n    {\n      \"description\": \"A directly connected route as a destination on the same subnet as an interface. Why no router is needed for on-link destinations.\",\n      \"title\": \"Directly connected routes\"\n    },\n    {\n      \"description\": \"A next hop as the immediate router that will forward the packet onward. Why the next hop is usually the default gateway for remote traffic.\",\n      \"title\": \"Next hop\"\n    },\n    {\n      \"description\": \"The default route as the catch-all route used when nothing more specific matches. Why 0.0.0.0/0 and ::/0 matter.\",\n      \"title\": \"Default route\"\n    },\n    {\n      \"description\": \"Forwarding as the act of moving a packet from an ingress interface to an egress interface. How routers rewrite Layer 2 headers while keeping Layer 3 addresses.\",\n      \"title\": \"Packet forwarding\"\n    },\n    {\n      \"description\": \"TTL as a hop limit that prevents packets from looping forever. Why TTL decreases by 1 at each routed hop.\",\n      \"title\": \"TTL hop limit\"\n    },\n    {\n      \"description\": \"Routing loops as packets circulating between routers due to inconsistent routes. How TTL turns infinite loops into “time exceeded” errors.\",\n      \"title\": \"Routing loops\"\n    },\n    {\n      \"description\": \"Asymmetric routing as request and response packets taking different paths. Why stateful firewalls and NAT can break when paths differ.\",\n      \"title\": \"Asymmetric routing\"\n    },\n    {\n      \"description\": \"ICMP as a control protocol used for network errors and diagnostics. Why many tools rely on ICMP even when the application doesn’t.\",\n      \"title\": \"ICMP messages\"\n    },\n    {\n      \"description\": \"ICMP destination unreachable as a signal that routing or filtering prevented delivery. How the subtype hints at network versus port issues.\",\n      \"title\": \"ICMP unreachable\"\n    },\n    {\n      \"description\": \"ICMP time exceeded as the message produced when TTL reaches zero. Why traceroute depends on this behavior.\",\n      \"title\": \"ICMP time exceeded\"\n    },\n    {\n      \"description\": \"Traceroute as a technique to map hops by sending packets with increasing TTL. What it reveals about the path and where it can be misleading.\",\n      \"title\": \"Traceroute mental model\"\n    },\n    {\n      \"description\": \"NAT as rewriting IP addresses during transit to map one address space to another. Why NAT is common at network edges with private IPv4.\",\n      \"title\": \"NAT purpose\"\n    },\n    {\n      \"description\": \"SNAT as source NAT that rewrites the sender address for outbound traffic. Why outbound connections from private IPs need SNAT to reach the internet.\",\n      \"title\": \"SNAT\"\n    },\n    {\n      \"description\": \"DNAT as destination NAT that rewrites the destination address for inbound traffic. Why DNAT enables exposing an internal service externally.\",\n      \"title\": \"DNAT\"\n    },\n    {\n      \"description\": \"PAT as port address translation that multiplexes many internal flows onto one public IP using ports. Why it’s often what people mean by “NAT.”\",\n      \"title\": \"PAT\"\n    },\n    {\n      \"description\": \"NAT mappings as state entries that bind inside addresses and ports to outside ones. Why mappings expire and can break idle connections.\",\n      \"title\": \"NAT state tables\"\n    },\n    {\n      \"description\": \"NAT timeout as the expiration policy for idle mappings. Why UDP mappings usually expire faster than TCP mappings.\",\n      \"title\": \"NAT timeouts\"\n    },\n    {\n      \"description\": \"Port forwarding as a static inbound mapping from public IP:port to private IP:port. Common pitfall: forwarding to the wrong internal address.\",\n      \"title\": \"Port forwarding\"\n    },\n    {\n      \"description\": \"Hairpin NAT as reaching a public IP from inside the same NAT and looping back to an internal host. Why it fails on some routers.\",\n      \"title\": \"Hairpin NAT\"\n    },\n    {\n      \"description\": \"Double NAT as two layers of NAT between a device and the internet. Common symptoms: inbound connectivity failures and harder troubleshooting.\",\n      \"title\": \"Double NAT\"\n    },\n    {\n      \"description\": \"CGNAT as carrier-grade NAT performed by an ISP for many customers. Why it blocks inbound connections unless special services are provided.\",\n      \"title\": \"CGNAT\"\n    },\n    {\n      \"description\": \"TCP as a reliable, ordered byte-stream protocol. What “byte stream” means: no message boundaries, just bytes in sequence.\",\n      \"title\": \"TCP byte stream\"\n    },\n    {\n      \"description\": \"TCP three-way handshake as SYN, SYN-ACK, ACK to establish state. Why handshake cost shows up as latency for new connections.\",\n      \"title\": \"TCP handshake\"\n    },\n    {\n      \"description\": \"TCP sequence numbers as counters that allow reordering and retransmission. How sequence tracking enables reliability over unreliable networks.\",\n      \"title\": \"TCP sequence numbers\"\n    },\n    {\n      \"description\": \"TCP acknowledgments as signals of received data. Why delayed ACK behavior can change observed timing.\",\n      \"title\": \"TCP acknowledgments\"\n    },\n    {\n      \"description\": \"TCP retransmission as resending data when ACKs don’t arrive in time. How retransmissions turn packet loss into extra latency.\",\n      \"title\": \"TCP retransmissions\"\n    },\n    {\n      \"description\": \"TCP receive window as flow control limiting how much data can be in flight. Why small windows cap throughput on high-latency links.\",\n      \"title\": \"TCP flow control\"\n    },\n    {\n      \"description\": \"TCP congestion window as the sender’s limit based on perceived network capacity. Why congestion control prevents persistent overload.\",\n      \"title\": \"TCP congestion control\"\n    },\n    {\n      \"description\": \"TCP slow start as ramping up sending rate when a connection begins. Why new connections may start slower than long-lived ones.\",\n      \"title\": \"TCP slow start\"\n    },\n    {\n      \"description\": \"TCP connection close with FIN as a graceful shutdown of each direction. Why a closed write side can still read remaining data.\",\n      \"title\": \"TCP FIN close\"\n    },\n    {\n      \"description\": \"TCP reset with RST as an abort that tears down state immediately. Common meaning: the port isn’t open or the peer rejected the connection.\",\n      \"title\": \"TCP RST\"\n    },\n    {\n      \"description\": \"TCP keepalive as optional probes to detect dead peers. Why keepalive is not a guarantee and often disabled by default.\",\n      \"title\": \"TCP keepalive\"\n    },\n    {\n      \"description\": \"UDP as a connectionless datagram protocol. What it guarantees: checksum coverage and best-effort delivery to a port.\",\n      \"title\": \"UDP datagrams\"\n    },\n    {\n      \"description\": \"UDP message boundaries as preservation of each sent datagram as a discrete unit. Why receivers read whole messages rather than a stream.\",\n      \"title\": \"UDP message boundaries\"\n    },\n    {\n      \"description\": \"UDP loss as a normal outcome with no built-in recovery. How applications add their own retries or error correction when needed.\",\n      \"title\": \"UDP packet loss behavior\"\n    },\n    {\n      \"description\": \"UDP ordering as non-guaranteed delivery order across the network. Why reordering happens on multi-path networks.\",\n      \"title\": \"UDP reordering\"\n    },\n    {\n      \"description\": \"MTU as the maximum packet size that fits on a link without fragmentation. Why oversize packets trigger fragmentation or drops.\",\n      \"title\": \"MTU\"\n    },\n    {\n      \"description\": \"IP fragmentation as splitting a large packet into smaller pieces. Why fragmentation increases loss sensitivity and can be blocked by firewalls.\",\n      \"title\": \"IP fragmentation\"\n    },\n    {\n      \"description\": \"Path MTU as the smallest MTU across all links between endpoints. Why path MTU discovery failures can create “black hole” connections.\",\n      \"title\": \"Path MTU\"\n    },\n    {\n      \"description\": \"Latency as the time it takes for data to travel from sender to receiver. Why RTT is often the most useful number for interactive traffic.\",\n      \"title\": \"Latency\"\n    },\n    {\n      \"description\": \"RTT as round-trip time for a request plus response. Why RTT matters for handshakes, retries, and application chatter.\",\n      \"title\": \"Round-trip time\"\n    },\n    {\n      \"description\": \"Bandwidth as the maximum bits per second a link can carry. Why high bandwidth doesn’t imply low latency.\",\n      \"title\": \"Bandwidth\"\n    },\n    {\n      \"description\": \"Throughput as the achieved data rate over a path. Why throughput can be far below bandwidth due to loss, RTT, and protocol limits.\",\n      \"title\": \"Throughput\"\n    },\n    {\n      \"description\": \"Goodput as throughput excluding protocol overhead and retransmissions. Why users experience goodput rather than raw throughput.\",\n      \"title\": \"Goodput\"\n    },\n    {\n      \"description\": \"Serialization delay as the time to put bits onto the wire. Why sending 1 MB takes noticeably longer on 10 Mbps than on 1 Gbps.\",\n      \"title\": \"Serialization delay\"\n    },\n    {\n      \"description\": \"Propagation delay as the time for a signal to travel through the medium. Why speed-of-light limits dominate long-distance links.\",\n      \"title\": \"Propagation delay\"\n    },\n    {\n      \"description\": \"Queuing delay as time spent waiting in buffers under load. Why bufferbloat can make latency spike without packet loss.\",\n      \"title\": \"Queuing delay\"\n    },\n    {\n      \"description\": \"Bandwidth-delay product as the amount of data needed in flight to fully use a path. Why high BDP links need larger TCP windows.\",\n      \"title\": \"Bandwidth-delay product\"\n    },\n    {\n      \"description\": \"Handshake tax as latency paid before application data can flow. Why adding extra round trips shows up as slow page starts.\",\n      \"title\": \"Handshake tax\"\n    },\n    {\n      \"description\": \"Packet loss as dropped packets due to congestion, errors, or filtering. Why small loss percentages can crush TCP throughput.\",\n      \"title\": \"Packet loss\"\n    },\n    {\n      \"description\": \"Jitter as variability in latency over time. Why real-time media is sensitive to jitter even when average latency is acceptable.\",\n      \"title\": \"Jitter\"\n    },\n    {\n      \"description\": \"Connection refused as an immediate failure indicating a reachable host with no listener on the target port. Why it often maps to a TCP RST.\",\n      \"title\": \"Connection refused\"\n    },\n    {\n      \"description\": \"Connection timed out as a failure where no response arrives within a deadline. Common causes: packet drops, firewall drops, routing issues.\",\n      \"title\": \"Connection timeout\"\n    },\n    {\n      \"description\": \"No route to host as a failure indicating missing routing knowledge or an ICMP unreachable. Why it points to routing or local configuration.\",\n      \"title\": \"No route to host\"\n    },\n    {\n      \"description\": \"Host unreachable as a failure where a network exists but the target host can’t be delivered to. Common causes: ARP failure, host down, filtering.\",\n      \"title\": \"Host unreachable\"\n    },\n    {\n      \"description\": \"Port unreachable as an ICMP error typically triggered by UDP to a closed port. Why UDP failures can look different from TCP failures.\",\n      \"title\": \"Port unreachable\"\n    },\n    {\n      \"description\": \"Blackhole filtering as silently dropping packets instead of rejecting them. Why blackholes cause timeouts and long waits.\",\n      \"title\": \"Blackhole drops\"\n    },\n    {\n      \"description\": \"Firewall allowlist as permitting only specified ports, IPs, or protocols. Why “ping works” can coexist with “service is unreachable.”\",\n      \"title\": \"Firewall allowlists\"\n    },\n    {\n      \"description\": \"Stateful firewall behavior as tracking flows and allowing return traffic for established sessions. Why asymmetric routing can break state tracking.\",\n      \"title\": \"Stateful firewall state\"\n    },\n    {\n      \"description\": \"Egress filtering as blocking outbound traffic by destination, port, or protocol. Why servers can accept inbound connections but fail on callbacks.\",\n      \"title\": \"Egress filtering\"\n    },\n    {\n      \"description\": \"Ingress filtering as blocking inbound traffic at a network boundary. Why exposing a service requires inbound rules plus routing/NAT alignment.\",\n      \"title\": \"Ingress filtering\"\n    },\n    {\n      \"description\": \"NAT table exhaustion as running out of mapping capacity under high connection churn. Common symptoms: sporadic outbound failures under load.\",\n      \"title\": \"NAT table exhaustion\"\n    },\n    {\n      \"description\": \"Ephemeral port exhaustion as running out of client-side source ports for outbound connections. Why short-lived connections can fail at high rates.\",\n      \"title\": \"Ephemeral port exhaustion\"\n    },\n    {\n      \"description\": \"Half-open TCP connections as SYNs sent without completing the handshake. Why they show up during packet loss or SYN filtering.\",\n      \"title\": \"Half-open connections\"\n    },\n    {\n      \"description\": \"MSS as the largest TCP payload per segment, typically derived from MTU. Why wrong MSS can cause fragmentation or poor performance.\",\n      \"title\": \"TCP MSS\"\n    },\n    {\n      \"description\": \"MSS clamping as adjusting TCP MSS to avoid fragmentation across tunnels. Why VPNs often rely on this to prevent black holes.\",\n      \"title\": \"MSS clamping\"\n    },\n    {\n      \"description\": \"VPN tunnel overhead as extra headers that reduce effective MTU. Why “works without VPN” can fail with VPN due to MTU issues.\",\n      \"title\": \"Tunnel overhead\"\n    },\n    {\n      \"description\": \"Loopback testing as checking a service via 127.0.0.1 or ::1 to isolate network from application issues. Why it’s the fastest first step.\",\n      \"title\": \"Localhost isolation\"\n    },\n    {\n      \"description\": \"Same-subnet testing as checking reachability to a peer on the local network. What it proves: link, IP configuration, and local switching.\",\n      \"title\": \"Local subnet testing\"\n    },\n    {\n      \"description\": \"Gateway reachability as verifying access to the default router address. What it proves: L2 connectivity and correct gateway configuration.\",\n      \"title\": \"Default gateway testing\"\n    },\n    {\n      \"description\": \"Routing-path testing as verifying you can reach an intermediate hop. Why failures early versus late point to different fault domains.\",\n      \"title\": \"Hop-by-hop isolation\"\n    },\n    {\n      \"description\": \"IP reachability testing with ping as using ICMP echo to measure RTT and loss. Why “ping blocked” is not the same as “host down.”\",\n      \"title\": \"Ping mental model\"\n    },\n    {\n      \"description\": \"Port reachability testing as checking whether a TCP port accepts connections. Why it separates routing problems from service-listener problems.\",\n      \"title\": \"TCP port testing\"\n    },\n    {\n      \"description\": \"UDP reachability testing as sending a datagram and observing ICMP errors or timeouts. Why UDP “open” is harder to prove than TCP “open.”\",\n      \"title\": \"UDP port testing\"\n    },\n    {\n      \"description\": \"Name resolution bypass as testing connectivity with a raw IP to avoid DNS as a variable. Why this isolates “can’t resolve” from “can’t reach.”\",\n      \"title\": \"Bypassing DNS for tests\"\n    },\n    {\n      \"description\": \"Route inspection as checking which gateway and interface will be used for a destination. Why the chosen route can differ from expectations with VPNs.\",\n      \"title\": \"Route lookup\"\n    },\n    {\n      \"description\": \"Interface inspection as verifying link state, IP address, and prefix on a NIC. Why a correct IP on the wrong interface still fails.\",\n      \"title\": \"Interface status checks\"\n    },\n    {\n      \"description\": \"ARP cache as the mapping between IP addresses and MAC addresses on a LAN. Why stale ARP can cause intermittent local failures.\",\n      \"title\": \"ARP cache\"\n    },\n    {\n      \"description\": \"Packet capture as recording traffic to see what actually went on the wire. Why it’s the fastest way to distinguish send failures from receive failures.\",\n      \"title\": \"Packet capture\"\n    },\n    {\n      \"description\": \"Capture points as choosing where to observe traffic: client, server, router, or load balancer. Why capturing on only one side can mislead.\",\n      \"title\": \"Capture location choice\"\n    },\n    {\n      \"description\": \"SYN-only observation as seeing outbound SYNs without SYN-ACK replies. What it suggests: drops, routing issues, or filtering on the path.\",\n      \"title\": \"SYN without SYN-ACK\"\n    },\n    {\n      \"description\": \"SYN-ACK without ACK observation as the server replying but the client not completing handshake. Common causes: client firewall, return-path issues, asymmetric routing.\",\n      \"title\": \"SYN-ACK without ACK\"\n    },\n    {\n      \"description\": \"Retransmission patterns as repeated sends indicating loss or blackholes. How spacing and counts hint at timeout settings and network health.\",\n      \"title\": \"Retransmission clues\"\n    },\n    {\n      \"description\": \"ICMP clueing as using unreachable and time-exceeded messages to localize failures. Why absence of ICMP doesn’t prove absence of problems.\",\n      \"title\": \"ICMP for diagnosis\"\n    },\n    {\n      \"description\": \"Layer isolation as separating link, IP routing, transport reachability, and application behavior. A stepwise checklist to avoid guessing.\",\n      \"title\": \"Layered debugging workflow\"\n    }\n  ]\n}",
      "outputTokens": 5555,
      "systemPrompt": "# Role\n\nYou are designing an **extensive** list of bite-sized, focused lessons for a specific chapter in a course.\n\nYou have expertise in instructional design, curriculum development, and creating granular learning paths. You have worked at top educational institutions creating micro-learning content that breaks down complex topics into digestible, single-concept lessons.\n\nYour mission is to create a lesson structure where each lesson covers **ONE SPECIFIC CONCEPT** that can be learned in 2-3 minutes and explained in 10 short tweets or less.\n\nYou deeply care about making learning accessible, focused, and efficient by breaking down topics into their smallest logical units.\n\n# Inputs\n\n- `COURSE_TITLE`: name of the overall course\n- `CHAPTER_TITLE`: title of this specific chapter\n- `CHAPTER_DESCRIPTION`: what this chapter covers\n- `LANGUAGE`: output language for titles and descriptions\n- `NEIGHBORING_CHAPTERS` (optional): titles and descriptions of chapters that come before and after this one in the course\n\n## Language\n\n- `en`: Use US region unless the content is about a different region.\n- `pt`: Use Brazilian Portuguese unless the content is about a different region.\n- `es`: Use Latin American Spanish unless the content is about a different region.\n\n# Goal\n\nProduce an **extensive** list of **single-concept** lessons that collectively cover everything in `CHAPTER_TITLE` and `CHAPTER_DESCRIPTION`. Each lesson should be so focused that a student can learn and understand the concept in 2-3 minutes.\n\n# Critical Requirements\n\n## Single-Concept Focus\n\n- **Each lesson MUST cover ONE SPECIFIC concept only**\n- If you can explain it in 10 short tweets or less, it's appropriately scoped\n- If it takes more than 10 tweets, **split it into multiple lessons**\n- If a topic is too broad, **break it down further**\n- Each lesson should be extremely focused on a single idea\n\n## Title & Description Requirements\n\n- Follow the same concise, no-fluff style as course chapter title and description\n- **NEVER** use words like \"learn\", \"understand\", \"explore\", \"introduction to\", \"basics of\", etc.\n- Go straight to the point\n- If you find yourself using **\"AND\"**, **\"OR\"**, or **\"VS\"** in a title, you should split it into separate lessons\n\n## Examples of Proper Granularity\n\n**TOO BROAD:**\n❌ \"Hardware vs. Software\"\n❌ \"Variables and Data Types\"\n❌ \"Functions and Methods\"\n\n**CORRECTLY BROKEN DOWN:**\n✅ \"What is Hardware?\"\n✅ \"What is Software?\"\n✅ \"How Hardware and Software Interact\"\n\nOr:\n\n✅ \"Variables: Storing Values\"\n✅ \"Data Types Overview\"\n✅ \"Numbers in Programming\"\n✅ \"Text (Strings) in Programming\"\n✅ \"Booleans (True/False Values)\"\n\n## Progression & Structure\n\n- Build a logical progression from basic to advanced concepts\n- Ensure lessons build on knowledge from previous lessons\n- Focus lessons specifically on THIS chapter, not the entire course\n- Don't add summary, review, or \"key concepts\" lessons\n- Don't add assessment or quiz lessons\n- Don't add final project or capstone lessons\n\n## Scope\n\n- Cover **everything** in `CHAPTER_DESCRIPTION` and `CHAPTER_TITLE`\n- Never go beyond the chapter's scope\n- Add **as many lessons as needed** to break down each concept fully\n- Don't limit the number of lessons arbitrarily\n- It's better to have many focused lessons than fewer broad ones\n- Make sure to have all lessons needed to **fully master the chapter's scope**\n\n## Neighboring Chapter Awareness\n\nWhen `NEIGHBORING_CHAPTERS` is provided, use it to avoid generating dedicated lessons on topics that have their own chapter. For example, if a neighboring chapter covers \"HTTP fundamentals,\" do not create standalone lessons teaching HTTP methods or status codes — those belong in that chapter, not this one.\n\nBrief contextual mentions are fine. For example, a lesson can reference HTTP to explain a concept, but should not become a standalone lesson _about_ HTTP.\n\n# Quality Checks\n\nBefore finalizing your lesson list, ask yourself for EACH lesson:\n\n1. **Is this lesson too broad?** → If yes, break it down further\n2. **Can this concept be explained in 10 short tweets or less?** → If no, split it\n3. **Does this lesson focus on a single specific concept?** → If no, split it\n4. **Does the title contain \"AND\", \"OR\", or \"VS\"?** → If yes, split into separate lessons\n5. **Would a student need more than 2-3 minutes to grasp this?** → If yes, simplify or split\n\n# Output Format\n\nEach lesson must include **exactly two fields**:\n\n- **Title** — short, specific, focused on the single concept\n- **Description** — 1-2 sentences describing what the lesson covers, no fluff\n\n## Good Title Examples\n\n- \"What is a Variable?\"\n- \"Integer Numbers\"\n- \"Floating-Point Numbers\"\n- \"Declaring Variables\"\n- \"Assigning Values\"\n- \"The Addition Operator\"\n- \"The Subtraction Operator\"\n\n## Good Description Examples\n\n- \"Memory locations that store values during program execution.\"\n- \"Whole numbers without decimal points: 1, 42, -17, 0.\"\n- \"Numbers with decimal points: 3.14, -0.5, 2.0.\"\n- \"Creating a variable with a name and type.\"\n- \"Storing a value into a variable using the assignment operator.\"\n\n# Last Check\n\nAfter creating your lesson list, verify:\n\n- \"Does each lesson cover ONLY ONE concept?\" → All must be YES\n- \"Can each lesson be explained in 10 tweets?\" → All must be YES\n- \"Have I covered EVERYTHING from the chapter description?\" → Must be YES\n- \"Are there any lessons that should be split further?\" → Must be NO\n- \"Are the titles and descriptions concise and to the point with no fluff?\" → Must be YES\n- \"Did I stay within the chapter's scope?\" → Must be YES\n- \"Does any lesson teach a topic that belongs in a neighboring chapter?\" → Must be NO\n\nThis should be the most **granular**, **focused**, and **extensive** lesson list possible for this chapter.\n",
      "testCaseId": "en-web-networking-fundamentals-1",
      "userPrompt": "\n    LANGUAGE: en\n    COURSE_TITLE: Web Development\n    CHAPTER_TITLE: Networking fundamentals\n    CHAPTER_DESCRIPTION: IP addressing, routing, NAT, TCP vs UDP, latency and bandwidth tradeoffs, and common failure modes. Practical mental models for debugging connectivity issues.\nNEIGHBORING_CHAPTERS:\n- \"Web development landscape\": Roles, responsibilities, and interfaces across front-end, back-end, full-stack, QA, DevOps, security, design, and product. How standards bodies and browser vendors shape the platform.\n- \"DNS and domains\": DNS records, resolvers, caching, propagation, and common configurations for web apps. Domain strategy, subdomains, and pitfalls with split-horizon DNS.\n- \"HTTP\": HTTP methods, status codes, headers, content negotiation, caching semantics, cookies, and redirects. HTTP/2 and HTTP/3 concepts and performance implications.\n- \"HTTPS and TLS\": TLS handshakes, certificate chains, HSTS, OCSP stapling, and modern TLS configuration choices. Secure transport patterns for browsers, APIs, and internal services.\n  "
    },
    {
      "duration": 75609.78204199998,
      "inputTokens": 1680,
      "output": "{\n  \"lessons\": [\n    {\n      \"description\": \"Conjunto de tipos numéricos integrados que seguem a hierarquia int → float → complex, com coerção automática em expressões.\",\n      \"title\": \"Torre numérica do Python\"\n    },\n    {\n      \"description\": \"Checagem do tipo concreto de um valor numérico retornada pelo built-in type().\",\n      \"title\": \"type() em valores numéricos\"\n    },\n    {\n      \"description\": \"Teste de pertencimento a uma classe numérica, incluindo relações como bool ser subclasse de int.\",\n      \"title\": \"isinstance() com tipos numéricos\"\n    },\n    {\n      \"description\": \"Números inteiros sem parte fracionária, com suporte a valores positivos, negativos e zero.\",\n      \"title\": \"int: conceito\"\n    },\n    {\n      \"description\": \"Inteiros com tamanho limitado apenas pela memória, sem overflow silencioso como em tipos fixos.\",\n      \"title\": \"int: precisão arbitrária\"\n    },\n    {\n      \"description\": \"Literal inteiro na base 10, sem prefixos, por exemplo 0, 42, -7.\",\n      \"title\": \"Literal int decimal\"\n    },\n    {\n      \"description\": \"Representação literal em base 2 usando prefixo 0b/0B.\",\n      \"title\": \"Literal int binário 0b\"\n    },\n    {\n      \"description\": \"Representação literal em base 8 usando prefixo 0o/0O.\",\n      \"title\": \"Literal int octal 0o\"\n    },\n    {\n      \"description\": \"Representação literal em base 16 usando prefixo 0x/0X.\",\n      \"title\": \"Literal int hexadecimal 0x\"\n    },\n    {\n      \"description\": \"Uso de _ em literais para separar milhares sem alterar o valor, como 1_000_000.\",\n      \"title\": \"_ em literais numéricos\"\n    },\n    {\n      \"description\": \"Conversão para inteiro especificando a base ao interpretar texto numérico, como int('FF', 16).\",\n      \"title\": \"int(): parâmetro base\"\n    },\n    {\n      \"description\": \"Conversão de float para int por truncamento em direção a zero, como int(3.9) → 3.\",\n      \"title\": \"int(): truncamento de float\"\n    },\n    {\n      \"description\": \"Conversão de bool para int usando 1 para True e 0 para False.\",\n      \"title\": \"int(): conversão de bool\"\n    },\n    {\n      \"description\": \"Quantidade de bits necessários para representar o valor absoluto de um int.\",\n      \"title\": \"int.bit_length()\"\n    },\n    {\n      \"description\": \"Representação de int em bytes com tamanho fixo, escolhendo byteorder e signed.\",\n      \"title\": \"int.to_bytes()\"\n    },\n    {\n      \"description\": \"Criação de int a partir de bytes, controlando byteorder e signed.\",\n      \"title\": \"int.from_bytes()\"\n    },\n    {\n      \"description\": \"Informações da implementação de inteiros, como número de bits por “dígito” interno.\",\n      \"title\": \"sys.int_info\"\n    },\n    {\n      \"description\": \"Número de ponto flutuante em dupla precisão (IEEE 754) usado pelo tipo float em CPython.\",\n      \"title\": \"float: IEEE 754 double\"\n    },\n    {\n      \"description\": \"Literal float com ponto decimal, como 3.14 ou 10.0.\",\n      \"title\": \"Literal float com ponto\"\n    },\n    {\n      \"description\": \"Literal float em notação exponencial, como 1e-3 ou 6.02e23.\",\n      \"title\": \"Notação científica em float\"\n    },\n    {\n      \"description\": \"Conversão de int para float, com possível perda de exatidão para inteiros muito grandes.\",\n      \"title\": \"float(): conversão de int\"\n    },\n    {\n      \"description\": \"Conversão de float a partir de texto numérico, delegando a interpretação ao parser do Python.\",\n      \"title\": \"float(): conversão de texto\"\n    },\n    {\n      \"description\": \"Limites e precisão do float da plataforma, como max, min e digitos significativos.\",\n      \"title\": \"sys.float_info\"\n    },\n    {\n      \"description\": \"Menor diferença tal que 1.0 + ε != 1.0, útil para raciocinar sobre precisão.\",\n      \"title\": \"Epsilon de máquina\"\n    },\n    {\n      \"description\": \"Menor incremento representável a partir de um valor específico (unit in the last place).\",\n      \"title\": \"math.ulp()\"\n    },\n    {\n      \"description\": \"Próximo float representável na direção de outro valor, útil para análise de arredondamento.\",\n      \"title\": \"math.nextafter()\"\n    },\n    {\n      \"description\": \"Constante de infinito positivo para float, usada em comparações e limites.\",\n      \"title\": \"math.inf\"\n    },\n    {\n      \"description\": \"Constante NaN (not-a-number), usada para representar resultados indefinidos.\",\n      \"title\": \"math.nan\"\n    },\n    {\n      \"description\": \"Comportamento de NaN em operações: quase toda operação com NaN resulta em NaN.\",\n      \"title\": \"NaN: propagação\"\n    },\n    {\n      \"description\": \"NaN não é igual a si mesmo; comparações com == sempre falham.\",\n      \"title\": \"NaN: comparação com ==\"\n    },\n    {\n      \"description\": \"Detecção confiável de NaN usando math.isnan(x).\",\n      \"title\": \"math.isnan()\"\n    },\n    {\n      \"description\": \"Comparações com infinito, como x < inf ser True para valores finitos.\",\n      \"title\": \"Infinito: comparações\"\n    },\n    {\n      \"description\": \"Existência de -0.0 distinto de 0.0 em IEEE 754, com efeitos em sinais e algumas funções.\",\n      \"title\": \"-0.0 em float\"\n    },\n    {\n      \"description\": \"Frações decimais comuns não têm representação binária finita, gerando aproximações.\",\n      \"title\": \"0.1 em binário\"\n    },\n    {\n      \"description\": \"Exemplo clássico de erro: 0.1 + 0.2 não resultar exatamente em 0.3 em float.\",\n      \"title\": \"0.1 + 0.2 != 0.3\"\n    },\n    {\n      \"description\": \"Comparação por tolerância usando math.isclose(a, b) com tolerâncias relativa e absoluta.\",\n      \"title\": \"math.isclose()\"\n    },\n    {\n      \"description\": \"Conceito de tolerância absoluta para comparar valores próximos de zero.\",\n      \"title\": \"Tolerância absoluta\"\n    },\n    {\n      \"description\": \"Conceito de tolerância relativa para comparar valores proporcionais à magnitude.\",\n      \"title\": \"Tolerância relativa\"\n    },\n    {\n      \"description\": \"Arredondamento bancário do round(): empates vão para o par mais próximo.\",\n      \"title\": \"round(): tie-to-even\"\n    },\n    {\n      \"description\": \"Arredondamento para inteiro com round(x, 0) retornando float, não int.\",\n      \"title\": \"round(): retorno com ndigits\"\n    },\n    {\n      \"description\": \"Somatório com menor erro acumulado usando math.fsum() em vez de sum().\",\n      \"title\": \"math.fsum()\"\n    },\n    {\n      \"description\": \"Soma de floats pode mudar com a ordem dos termos por falta de associatividade.\",\n      \"title\": \"Ordem na soma de floats\"\n    },\n    {\n      \"description\": \"Perda de significância ao subtrair números quase iguais, amplificando erro relativo.\",\n      \"title\": \"Cancelamento catastrófico\"\n    },\n    {\n      \"description\": \"Acúmulo de erro em loops numéricos por somas repetidas de incrementos não representáveis.\",\n      \"title\": \"Erro acumulado em iterações\"\n    },\n    {\n      \"description\": \"Número complexo com partes real e imaginária em float, representado por complex.\",\n      \"title\": \"complex: conceito\"\n    },\n    {\n      \"description\": \"Literal de imaginário puro com sufixo j/J, como 2j ou -0.5j.\",\n      \"title\": \"Literal imaginário j\"\n    },\n    {\n      \"description\": \"Construção complex(a, b) criando a + bj a partir de dois números reais.\",\n      \"title\": \"complex(): dois argumentos\"\n    },\n    {\n      \"description\": \"Construção complex(x) convertendo um número para complexo com parte imaginária 0.\",\n      \"title\": \"complex(): um argumento\"\n    },\n    {\n      \"description\": \"Atributo .real retorna a parte real do número complexo.\",\n      \"title\": \"complex.real\"\n    },\n    {\n      \"description\": \"Atributo .imag retorna a parte imaginária do número complexo.\",\n      \"title\": \"complex.imag\"\n    },\n    {\n      \"description\": \"Conjugado z* que inverte o sinal da parte imaginária, útil em cálculos.\",\n      \"title\": \"complex.conjugate()\"\n    },\n    {\n      \"description\": \"abs(z) retorna a magnitude (módulo) do complexo, sqrt(a²+b²).\",\n      \"title\": \"abs() em complex\"\n    },\n    {\n      \"description\": \"Números complexos não suportam ordenação (<, >); apenas igualdade faz sentido.\",\n      \"title\": \"Complexo: sem ordenação\"\n    },\n    {\n      \"description\": \"Funções matemáticas para complexos ficam em cmath, não em math.\",\n      \"title\": \"cmath: escopo\"\n    },\n    {\n      \"description\": \"Tipo lógico com dois valores: True e False.\",\n      \"title\": \"bool: conceito\"\n    },\n    {\n      \"description\": \"bool é subclasse de int, permitindo operações numéricas onde True vale 1 e False vale 0.\",\n      \"title\": \"bool: subclasse de int\"\n    },\n    {\n      \"description\": \"Conversão bool(x) usa “truthiness”; para números, zero vira False e não-zero vira True.\",\n      \"title\": \"bool(): números\"\n    },\n    {\n      \"description\": \"True se comporta como o inteiro 1 em contextos numéricos, inclusive em int(True).\",\n      \"title\": \"True como 1\"\n    },\n    {\n      \"description\": \"False se comporta como o inteiro 0 em contextos numéricos, inclusive em int(False).\",\n      \"title\": \"False como 0\"\n    },\n    {\n      \"description\": \"Valor singleton usado para representar ausência de valor, distinto de 0, '' e False.\",\n      \"title\": \"None: conceito\"\n    },\n    {\n      \"description\": \"Tipo do valor None, útil para checagens explícitas de retorno.\",\n      \"title\": \"NoneType\"\n    },\n    {\n      \"description\": \"Checagem idiomática de None com identidade: x is None.\",\n      \"title\": \"None: teste com is\"\n    },\n    {\n      \"description\": \"None não participa de operações aritméticas; usar None em contas gera TypeError.\",\n      \"title\": \"None: erro em aritmética\"\n    },\n    {\n      \"description\": \"Promoção automática para float quando int participa de uma expressão numérica com float.\",\n      \"title\": \"Coerção int→float\"\n    },\n    {\n      \"description\": \"Promoção automática para complex quando int participa de uma expressão numérica com complex.\",\n      \"title\": \"Coerção int→complex\"\n    },\n    {\n      \"description\": \"Promoção automática para complex quando float participa de uma expressão numérica com complex.\",\n      \"title\": \"Coerção float→complex\"\n    },\n    {\n      \"description\": \"Decimal existe para aritmética decimal com controle explícito de precisão e arredondamento.\",\n      \"title\": \"Decimal: motivação\"\n    },\n    {\n      \"description\": \"Criação de Decimal a partir de string preserva o valor decimal exato, como Decimal('0.1').\",\n      \"title\": \"Decimal(): entrada por string\"\n    },\n    {\n      \"description\": \"Criação de Decimal a partir de int é exata, como Decimal(10).\",\n      \"title\": \"Decimal(): entrada por int\"\n    },\n    {\n      \"description\": \"Decimal criado a partir de float carrega a aproximação binária; preferir from_float ou string.\",\n      \"title\": \"Decimal(): entrada por float\"\n    },\n    {\n      \"description\": \"Conversão explícita do float para Decimal representando exatamente o float subjacente.\",\n      \"title\": \"Decimal.from_float()\"\n    },\n    {\n      \"description\": \"Contexto decimal define precisão, arredondamento e traps para operações.\",\n      \"title\": \"Contexto do Decimal\"\n    },\n    {\n      \"description\": \"Acesso ao contexto atual com getcontext(), permitindo ajustar precisão global.\",\n      \"title\": \"decimal.getcontext()\"\n    },\n    {\n      \"description\": \"Contexto temporário com localcontext() para mudar precisão sem afetar o restante do código.\",\n      \"title\": \"decimal.localcontext()\"\n    },\n    {\n      \"description\": \"Fixação de casas decimais com quantize(), controlando escala e arredondamento.\",\n      \"title\": \"Decimal.quantize()\"\n    },\n    {\n      \"description\": \"Modos de arredondamento do Decimal, como ROUND_HALF_UP e ROUND_HALF_EVEN.\",\n      \"title\": \"Decimal: rounding modes\"\n    },\n    {\n      \"description\": \"Sinal, dígitos e expoente acessíveis via as_tuple() para inspeção do número.\",\n      \"title\": \"Decimal.as_tuple()\"\n    },\n    {\n      \"description\": \"Valor especial Decimal('NaN') no domínio decimal, com regras próprias de propagação.\",\n      \"title\": \"Decimal: NaN\"\n    },\n    {\n      \"description\": \"Valor especial Decimal('Infinity') no domínio decimal, distinto de math.inf.\",\n      \"title\": \"Decimal: Infinity\"\n    },\n    {\n      \"description\": \"Armadilhas (traps) do contexto podem transformar condições numéricas em exceções.\",\n      \"title\": \"Decimal: traps\"\n    },\n    {\n      \"description\": \"Fraction representa números racionais exatos como numerador/denominador inteiros.\",\n      \"title\": \"Fraction: conceito\"\n    },\n    {\n      \"description\": \"Fraction(n, d) normaliza sinal e reduz a fração pelo MDC automaticamente.\",\n      \"title\": \"Fraction(): normalização\"\n    },\n    {\n      \"description\": \"Atributo numerator expõe o numerador já simplificado.\",\n      \"title\": \"Fraction.numerator\"\n    },\n    {\n      \"description\": \"Atributo denominator expõe o denominador já simplificado e positivo.\",\n      \"title\": \"Fraction.denominator\"\n    },\n    {\n      \"description\": \"Fraction a partir de int é exata e mantém denominador 1.\",\n      \"title\": \"Fraction(): entrada por int\"\n    },\n    {\n      \"description\": \"Fraction a partir de float captura exatamente o float binário, podendo gerar denominadores grandes.\",\n      \"title\": \"Fraction(): entrada por float\"\n    },\n    {\n      \"description\": \"Aproximação racional de um float com limit_denominator(max_den), útil para “descobrir” frações simples.\",\n      \"title\": \"limit_denominator()\"\n    },\n    {\n      \"description\": \"Conversão exata de Decimal para Fraction quando o Decimal é finito, como Decimal('0.1') → 1/10.\",\n      \"title\": \"Fraction(): entrada por Decimal\"\n    },\n    {\n      \"description\": \"Conversão de Fraction para float pode reintroduzir erro por arredondamento binário.\",\n      \"title\": \"float(): a partir de Fraction\"\n    },\n    {\n      \"description\": \"Crescimento de numerador/denominador em operações sucessivas pode aumentar custo e memória.\",\n      \"title\": \"Fraction: crescimento de tamanho\"\n    },\n    {\n      \"description\": \"Mistura de Fraction com int preserva exatidão e mantém o resultado como Fraction.\",\n      \"title\": \"Fraction: coerção com int\"\n    },\n    {\n      \"description\": \"Mistura de Fraction com float converte para float, perdendo exatidão racional.\",\n      \"title\": \"Fraction: coerção com float\"\n    },\n    {\n      \"description\": \"Decimal não mistura implicitamente com float em operações, exigindo conversão explícita.\",\n      \"title\": \"Decimal: mistura com float\"\n    },\n    {\n      \"description\": \"Decimal mistura com int preservando domínio decimal, evitando float.\",\n      \"title\": \"Decimal: mistura com int\"\n    }\n  ]\n}",
      "outputTokens": 4842,
      "systemPrompt": "# Role\n\nYou are designing an **extensive** list of bite-sized, focused lessons for a specific chapter in a course.\n\nYou have expertise in instructional design, curriculum development, and creating granular learning paths. You have worked at top educational institutions creating micro-learning content that breaks down complex topics into digestible, single-concept lessons.\n\nYour mission is to create a lesson structure where each lesson covers **ONE SPECIFIC CONCEPT** that can be learned in 2-3 minutes and explained in 10 short tweets or less.\n\nYou deeply care about making learning accessible, focused, and efficient by breaking down topics into their smallest logical units.\n\n# Inputs\n\n- `COURSE_TITLE`: name of the overall course\n- `CHAPTER_TITLE`: title of this specific chapter\n- `CHAPTER_DESCRIPTION`: what this chapter covers\n- `LANGUAGE`: output language for titles and descriptions\n- `NEIGHBORING_CHAPTERS` (optional): titles and descriptions of chapters that come before and after this one in the course\n\n## Language\n\n- `en`: Use US region unless the content is about a different region.\n- `pt`: Use Brazilian Portuguese unless the content is about a different region.\n- `es`: Use Latin American Spanish unless the content is about a different region.\n\n# Goal\n\nProduce an **extensive** list of **single-concept** lessons that collectively cover everything in `CHAPTER_TITLE` and `CHAPTER_DESCRIPTION`. Each lesson should be so focused that a student can learn and understand the concept in 2-3 minutes.\n\n# Critical Requirements\n\n## Single-Concept Focus\n\n- **Each lesson MUST cover ONE SPECIFIC concept only**\n- If you can explain it in 10 short tweets or less, it's appropriately scoped\n- If it takes more than 10 tweets, **split it into multiple lessons**\n- If a topic is too broad, **break it down further**\n- Each lesson should be extremely focused on a single idea\n\n## Title & Description Requirements\n\n- Follow the same concise, no-fluff style as course chapter title and description\n- **NEVER** use words like \"learn\", \"understand\", \"explore\", \"introduction to\", \"basics of\", etc.\n- Go straight to the point\n- If you find yourself using **\"AND\"**, **\"OR\"**, or **\"VS\"** in a title, you should split it into separate lessons\n\n## Examples of Proper Granularity\n\n**TOO BROAD:**\n❌ \"Hardware vs. Software\"\n❌ \"Variables and Data Types\"\n❌ \"Functions and Methods\"\n\n**CORRECTLY BROKEN DOWN:**\n✅ \"What is Hardware?\"\n✅ \"What is Software?\"\n✅ \"How Hardware and Software Interact\"\n\nOr:\n\n✅ \"Variables: Storing Values\"\n✅ \"Data Types Overview\"\n✅ \"Numbers in Programming\"\n✅ \"Text (Strings) in Programming\"\n✅ \"Booleans (True/False Values)\"\n\n## Progression & Structure\n\n- Build a logical progression from basic to advanced concepts\n- Ensure lessons build on knowledge from previous lessons\n- Focus lessons specifically on THIS chapter, not the entire course\n- Don't add summary, review, or \"key concepts\" lessons\n- Don't add assessment or quiz lessons\n- Don't add final project or capstone lessons\n\n## Scope\n\n- Cover **everything** in `CHAPTER_DESCRIPTION` and `CHAPTER_TITLE`\n- Never go beyond the chapter's scope\n- Add **as many lessons as needed** to break down each concept fully\n- Don't limit the number of lessons arbitrarily\n- It's better to have many focused lessons than fewer broad ones\n- Make sure to have all lessons needed to **fully master the chapter's scope**\n\n## Neighboring Chapter Awareness\n\nWhen `NEIGHBORING_CHAPTERS` is provided, use it to avoid generating dedicated lessons on topics that have their own chapter. For example, if a neighboring chapter covers \"HTTP fundamentals,\" do not create standalone lessons teaching HTTP methods or status codes — those belong in that chapter, not this one.\n\nBrief contextual mentions are fine. For example, a lesson can reference HTTP to explain a concept, but should not become a standalone lesson _about_ HTTP.\n\n# Quality Checks\n\nBefore finalizing your lesson list, ask yourself for EACH lesson:\n\n1. **Is this lesson too broad?** → If yes, break it down further\n2. **Can this concept be explained in 10 short tweets or less?** → If no, split it\n3. **Does this lesson focus on a single specific concept?** → If no, split it\n4. **Does the title contain \"AND\", \"OR\", or \"VS\"?** → If yes, split into separate lessons\n5. **Would a student need more than 2-3 minutes to grasp this?** → If yes, simplify or split\n\n# Output Format\n\nEach lesson must include **exactly two fields**:\n\n- **Title** — short, specific, focused on the single concept\n- **Description** — 1-2 sentences describing what the lesson covers, no fluff\n\n## Good Title Examples\n\n- \"What is a Variable?\"\n- \"Integer Numbers\"\n- \"Floating-Point Numbers\"\n- \"Declaring Variables\"\n- \"Assigning Values\"\n- \"The Addition Operator\"\n- \"The Subtraction Operator\"\n\n## Good Description Examples\n\n- \"Memory locations that store values during program execution.\"\n- \"Whole numbers without decimal points: 1, 42, -17, 0.\"\n- \"Numbers with decimal points: 3.14, -0.5, 2.0.\"\n- \"Creating a variable with a name and type.\"\n- \"Storing a value into a variable using the assignment operator.\"\n\n# Last Check\n\nAfter creating your lesson list, verify:\n\n- \"Does each lesson cover ONLY ONE concept?\" → All must be YES\n- \"Can each lesson be explained in 10 tweets?\" → All must be YES\n- \"Have I covered EVERYTHING from the chapter description?\" → Must be YES\n- \"Are there any lessons that should be split further?\" → Must be NO\n- \"Are the titles and descriptions concise and to the point with no fluff?\" → Must be YES\n- \"Did I stay within the chapter's scope?\" → Must be YES\n- \"Does any lesson teach a topic that belongs in a neighboring chapter?\" → Must be NO\n\nThis should be the most **granular**, **focused**, and **extensive** lesson list possible for this chapter.\n",
      "testCaseId": "pt-python-tipos-numericos-1",
      "userPrompt": "\n    LANGUAGE: pt\n    COURSE_TITLE: Python\n    CHAPTER_TITLE: Tipos numéricos e valores especiais\n    CHAPTER_DESCRIPTION: Inteiros, floats, complexos, bool, None; conversões, precisão numérica, erros de arredondamento e uso de decimal/fractions.\nNEIGHBORING_CHAPTERS:\n- \"Ambiente de desenvolvimento\": Instalação e configuração do Python, múltiplas versões, PATH, virtual environments, VS Code/IDEs, REPL, Jupyter e boas práticas de organização local.\n- \"Execução de programas\": Execução em REPL, scripts e módulos; shebang, codificação, argumentos de linha de comando e status de saída do processo.\n- \"Sintaxe e convenções\": Regras de indentação, nomes, comentários, docstrings, literais, operadores e precedência; diferenças entre Python interativo e arquivo.\n- \"Texto e codificação\": Strings, bytes e bytearray; Unicode, normalização, encodings, f-strings, formatação avançada e manipulação eficiente.\n- \"Estruturas de dados fundamentais\": Listas, tuplas, dicionários e conjuntos; mutabilidade, cópia rasa vs profunda, hashing, ordenação e complexidade de operações.\n- \"Controle de fluxo\": if/elif/else, match/case, loops, break/continue, compreensão de escopo e padrões comuns de controle.\n  "
    },
    {
      "duration": 289584.594084,
      "inputTokens": 1696,
      "output": "{\n  \"lessons\": [\n    {\n      \"description\": \"Distribución desigual de densidad electrónica entre C y O que vuelve al carbono susceptible a ataque nucleofílico.\",\n      \"title\": \"Carbonilo: polarización C=O\"\n    },\n    {\n      \"description\": \"Dos formas límite que explican el carbono electrofílico y el oxígeno con carga parcial negativa.\",\n      \"title\": \"Carbonilo: contribución de resonancia\"\n    },\n    {\n      \"description\": \"El carbono del carbonilo actúa como centro electrofílico por el dipolo del enlace C=O.\",\n      \"title\": \"Carbonilo: carbono electrofílico\"\n    },\n    {\n      \"description\": \"El oxígeno carbonílico actúa como base de Lewis y se protona o coordina metales.\",\n      \"title\": \"Carbonilo: oxígeno básico\"\n    },\n    {\n      \"description\": \"El orbital π* del C=O como aceptor de electrones en el ataque nucleofílico.\",\n      \"title\": \"Carbonilo: LUMO π*\"\n    },\n    {\n      \"description\": \"El carbono carbonílico es sp2, con plano trigonal que define la aproximación del nucleófilo.\",\n      \"title\": \"Carbonilo: geometría trigonal plana\"\n    },\n    {\n      \"description\": \"Trayectoria preferida de ataque al C=O (~107°) por interacción óptima con π*.\",\n      \"title\": \"Ataque nucleofílico: ángulo Bürgi–Dunitz\"\n    },\n    {\n      \"description\": \"El ataque nucleofílico convierte C=O en un alcoholato en geometría tetraédrica.\",\n      \"title\": \"Intermedio tetraédrico: formación\"\n    },\n    {\n      \"description\": \"En aldehídos y cetonas el intermedio suele re-protonarse; no hay colapso por salida de grupo saliente.\",\n      \"title\": \"Intermedio tetraédrico: ausencia de colapso\"\n    },\n    {\n      \"description\": \"Reacomodos ácido–base que convierten alcoholatos en alcoholes sin cambiar conectividad.\",\n      \"title\": \"Transferencia de protón: función\"\n    },\n    {\n      \"description\": \"Protonación del oxígeno aumenta el carácter electrofílico del carbono del carbonilo.\",\n      \"title\": \"Protonación del carbonilo: activación\"\n    },\n    {\n      \"description\": \"Coordinación de BF3, TiCl4 u otros aumenta electrofilicidad sin necesidad de protonación fuerte.\",\n      \"title\": \"Ácido de Lewis: coordinación al oxígeno\"\n    },\n    {\n      \"description\": \"En medio básico se aumenta la fracción de nucleófilo reactivo o se genera un nucleófilo aniónico.\",\n      \"title\": \"Catálisis básica: activación del nucleófilo\"\n    },\n    {\n      \"description\": \"Muchas adiciones a carbonilos son reversibles; el equilibrio depende de estabilidad del producto.\",\n      \"title\": \"Adición reversible: criterio termodinámico\"\n    },\n    {\n      \"description\": \"Más reactivo por menor impedimento estérico y menor donación inductiva de grupos alquilo.\",\n      \"title\": \"Aldehído: electrofilicidad\"\n    },\n    {\n      \"description\": \"Menos reactiva por mayor impedimento estérico y mayor donación inductiva al carbonilo.\",\n      \"title\": \"Cetona: electrofilicidad\"\n    },\n    {\n      \"description\": \"A mayor volumen alrededor del carbonilo, menor velocidad de adición nucleofílica.\",\n      \"title\": \"Impedimento estérico: efecto en adición\"\n    },\n    {\n      \"description\": \"La conjugación con C=C reduce la reactividad 1,2 del carbonilo al deslocalizar la carga.\",\n      \"title\": \"Enona: conjugación del carbonilo\"\n    },\n    {\n      \"description\": \"La presencia de más grupos alquilo dona densidad al carbonilo y disminuye electrofilicidad.\",\n      \"title\": \"Efecto inductivo: sustituyentes alquilo\"\n    },\n    {\n      \"description\": \"Adiciones que generan un nuevo centro estereogénico suelen dar mezclas racémicas sin control quiral.\",\n      \"title\": \"Adición a carbonilo: origen de racemización\"\n    },\n    {\n      \"description\": \"Adición de agua produce un diol geminal; la posición del equilibrio depende del sustrato.\",\n      \"title\": \"Gem-diol: formación\"\n    },\n    {\n      \"description\": \"Aldehídos se hidratan más que cetonas por menor impedimento estérico.\",\n      \"title\": \"Gem-diol: aldehídos favorecidos\"\n    },\n    {\n      \"description\": \"Sustituyentes atrayentes aumentan hidratación al estabilizar el gem-diol.\",\n      \"title\": \"Gem-diol: efecto de grupos atrayentes\"\n    },\n    {\n      \"description\": \"Secuencia típica: ataque de H− al C=O seguido de protonación en el trabajo ácido.\",\n      \"title\": \"Hidruro: patrón mecanístico\"\n    },\n    {\n      \"description\": \"Fuente suave de hidruro que reduce aldehídos con facilidad en condiciones moderadas.\",\n      \"title\": \"NaBH4: reactividad\"\n    },\n    {\n      \"description\": \"Tolera alcoholes como solvente; la liberación de H2 suele ser lenta comparada con LiAlH4.\",\n      \"title\": \"NaBH4: compatibilidad con solventes próticos\"\n    },\n    {\n      \"description\": \"Selección común para reducir aldehídos en presencia de funciones menos reactivas al hidruro suave.\",\n      \"title\": \"NaBH4: quimioselectividad típica\"\n    },\n    {\n      \"description\": \"Puede reducir cetonas, pero con cinética menor; el calentamiento acelera el proceso.\",\n      \"title\": \"NaBH4: reducción de cetonas lenta\"\n    },\n    {\n      \"description\": \"Fuente fuerte de hidruro; reduce carbonilos de forma rápida pero exige medio estrictamente seco.\",\n      \"title\": \"LiAlH4: potencia reductora\"\n    },\n    {\n      \"description\": \"Reacciona violentamente con agua; el apagado se hace en etapas para controlar calor y gas.\",\n      \"title\": \"LiAlH4: apagado controlado\"\n    },\n    {\n      \"description\": \"El paso final convierte el alcoholato metálico en alcohol neutro mediante protonación.\",\n      \"title\": \"Trabajo ácido: protonación del alcoholato\"\n    },\n    {\n      \"description\": \"Aldehídos se convierten en alcoholes primarios tras adición de hidruro.\",\n      \"title\": \"Reducción: alcohol primario\"\n    },\n    {\n      \"description\": \"Cetonas se convierten en alcoholes secundarios tras adición de hidruro.\",\n      \"title\": \"Reducción: alcohol secundario\"\n    },\n    {\n      \"description\": \"Equivalente de carbanión que forma enlaces C–C al atacar aldehídos o cetonas.\",\n      \"title\": \"Reactivo de Grignard: carbanión equivalente\"\n    },\n    {\n      \"description\": \"Requiere ausencia de agua o alcoholes porque se destruye por protonación.\",\n      \"title\": \"Grignard: sensibilidad a protón\"\n    },\n    {\n      \"description\": \"La adición a H2C=O produce un alcohol primario con un carbono agregado.\",\n      \"title\": \"Grignard: adición a formaldehído\"\n    },\n    {\n      \"description\": \"La adición a aldehídos produce alcoholes secundarios tras el trabajo ácido.\",\n      \"title\": \"Grignard: adición a aldehído\"\n    },\n    {\n      \"description\": \"La adición a cetonas produce alcoholes terciarios tras el trabajo ácido.\",\n      \"title\": \"Grignard: adición a cetona\"\n    },\n    {\n      \"description\": \"Más básico que Grignard; favorece reacciones ácido–base cuando hay protones relativamente ácidos.\",\n      \"title\": \"Organolitio: basicidad dominante\"\n    },\n    {\n      \"description\": \"Tiende a dar adición 1,2 a enonas por carácter duro del nucleófilo carbaniónico.\",\n      \"title\": \"Organolitio: preferencia 1,2 en enonas\"\n    },\n    {\n      \"description\": \"La protonación final libera el alcohol y destruye el complejo organometálico remanente.\",\n      \"title\": \"Trabajo ácido: apagado de organometálico\"\n    },\n    {\n      \"description\": \"Ataque de CN− al carbonilo produce un alcohol con nitrilo adyacente.\",\n      \"title\": \"Cianuro: adición al carbonilo\"\n    },\n    {\n      \"description\": \"El equilibrio requiere una fuente de HCN; bases muy fuertes disminuyen la fracción de HCN.\",\n      \"title\": \"Cianuro: control de pH\"\n    },\n    {\n      \"description\": \"Formación reversible; retirar CN− o protonar/desprotonar puede desplazar el equilibrio.\",\n      \"title\": \"Cianohidrina: reversibilidad\"\n    },\n    {\n      \"description\": \"El ataque a un carbonilo plano crea un nuevo centro estereogénico en el carbono del antiguo carbonilo.\",\n      \"title\": \"Cianohidrina: centro quiral\"\n    },\n    {\n      \"description\": \"La adición al carbonilo protonado aumenta velocidad al mejorar el carácter electrofílico del carbono.\",\n      \"title\": \"Agua: adición en catálisis ácida\"\n    },\n    {\n      \"description\": \"Alcoholes atacan mejor al carbonilo activado; el resultado inmediato es un hemiacetal.\",\n      \"title\": \"Alcohol: adición a carbonilo activado\"\n    },\n    {\n      \"description\": \"Producto de adición de ROH al carbonilo con un grupo OR y un grupo OH en el mismo carbono.\",\n      \"title\": \"Hemiacetal: estructura\"\n    },\n    {\n      \"description\": \"Los hemiacetales suelen estar en equilibrio con el carbonilo; aldehídos se desplazan más hacia hemiacetal.\",\n      \"title\": \"Hemiacetal: equilibrio\"\n    },\n    {\n      \"description\": \"Paso de adición de amina al carbonilo activado que genera un aminoalcohol como intermedio.\",\n      \"title\": \"Amina primaria: carbinolamina\"\n    },\n    {\n      \"description\": \"La pérdida de agua desde carbinolamina produce un catión iminio que se desprotona a imina.\",\n      \"title\": \"Carbinolamina: deshidratación\"\n    },\n    {\n      \"description\": \"El ácido debe ser lo bastante débil para no protonar completamente la amina y bloquear su nucleofilia.\",\n      \"title\": \"Imina: acidez óptima de catálisis\"\n    },\n    {\n      \"description\": \"Reacción inversa en agua ácida que regenera el carbonilo mediante adición de agua al iminio.\",\n      \"title\": \"Imina: hidrólisis\"\n    },\n    {\n      \"description\": \"Intermedio neutro con doble enlace C=C–N que actúa como nucleófilo en Cα.\",\n      \"title\": \"Enamina: nucleofilia\"\n    },\n    {\n      \"description\": \"Se forma desde cetonas por condensación con aminas secundarias bajo catálisis ácida suave.\",\n      \"title\": \"Enamina: formación\"\n    },\n    {\n      \"description\": \"La hidrólisis ácida de la enamina regenera el carbonilo tras la reacción en Cα.\",\n      \"title\": \"Enamina: retorno a carbonilo\"\n    },\n    {\n      \"description\": \"Hidrógenos en Cα se vuelven ácidos por estabilización del anión/enolato por resonancia.\",\n      \"title\": \"Hidrógeno alfa: origen de acidez\"\n    },\n    {\n      \"description\": \"El enolato distribuye carga negativa entre oxígeno y carbono mediante resonancia.\",\n      \"title\": \"Enolato: estabilización por resonancia\"\n    },\n    {\n      \"description\": \"Aldehídos tienen Cα más ácido que alcanos; valores típicos alrededor de pKa 16–18.\",\n      \"title\": \"pKa alfa: aldehído\"\n    },\n    {\n      \"description\": \"Cetonas suelen ser menos ácidas que aldehídos; pKa típico alrededor de 19–21.\",\n      \"title\": \"pKa alfa: cetona\"\n    },\n    {\n      \"description\": \"Ésteres tienen Cα menos ácido que cetonas; pKa típico alrededor de 25.\",\n      \"title\": \"pKa alfa: éster\"\n    },\n    {\n      \"description\": \"1,3-dicarbonilos generan enolatos muy estabilizados; pKa típico alrededor de 9–13.\",\n      \"title\": \"pKa alfa: 1,3-dicarbonilo\"\n    },\n    {\n      \"description\": \"Forma de resonancia que coloca carga en oxígeno, favorecida por metales oxofílicos.\",\n      \"title\": \"Enolato: forma O\"\n    },\n    {\n      \"description\": \"Forma de resonancia que coloca carga en Cα, responsable de formación de enlaces C–C.\",\n      \"title\": \"Enolato: forma C\"\n    },\n    {\n      \"description\": \"La mayor contribución se ajusta a condiciones: metal, disolvente, electrófilo.\",\n      \"title\": \"Enolato: reparto de carga\"\n    },\n    {\n      \"description\": \"Equilibrio entre forma ceto y enol; suele favorecer la forma ceto salvo estabilización extra.\",\n      \"title\": \"Tautomería ceto-enol: dirección\"\n    },\n    {\n      \"description\": \"La protonación del oxígeno precede a la desprotonación en Cα para formar el enol.\",\n      \"title\": \"Enolización ácida: paso inicial\"\n    },\n    {\n      \"description\": \"La desprotonación en Cα genera el enol y regenera el catalizador ácido.\",\n      \"title\": \"Enolización ácida: paso determinante\"\n    },\n    {\n      \"description\": \"La base abstrae Hα y forma directamente el enolato; el solvente/protón lo reprotona.\",\n      \"title\": \"Enolización básica: formación de enolato\"\n    },\n    {\n      \"description\": \"Alcoholatos moderados pueden generar una pequeña fracción de enolato en equilibrio.\",\n      \"title\": \"Enolización básica: base conjugada\"\n    },\n    {\n      \"description\": \"En medio ácido el enol ataca a electrófilos; se evita usar electrófilos que se descompongan en ácido.\",\n      \"title\": \"Enol: reactividad en medio ácido\"\n    },\n    {\n      \"description\": \"El enol es nucleófilo en Cα por su doble enlace; reacciona como alqueno activado.\",\n      \"title\": \"Enol: nucleofilia en Cα\"\n    },\n    {\n      \"description\": \"El oxígeno del enol puede actuar como nucleófilo; su reacción depende del tipo de electrófilo.\",\n      \"title\": \"Enol: nucleofilia en oxígeno\"\n    },\n    {\n      \"description\": \"El enolato reacciona más rápido que el enol por mayor densidad electrónica y carga negativa.\",\n      \"title\": \"Enolato: nucleofilia elevada\"\n    },\n    {\n      \"description\": \"El sitio Cα del enolato forma enlaces C–C con electrófilos típicos de alquilación o adición.\",\n      \"title\": \"Enolato: ataque en Cα\"\n    },\n    {\n      \"description\": \"El sitio oxígeno del enolato forma enlaces C–O, generando enol éteres o derivados O-sustituidos.\",\n      \"title\": \"Enolato: ataque en oxígeno\"\n    },\n    {\n      \"description\": \"El metal puede coordinar al oxígeno, cambiando geometría, reactividad y selectividad.\",\n      \"title\": \"Contraión metálico: efecto estructural\"\n    },\n    {\n      \"description\": \"Enolatos de litio suelen formar pares iónicos apretados que favorecen ataque en carbono.\",\n      \"title\": \"Litio: pares iónicos apretados\"\n    },\n    {\n      \"description\": \"Enolatos de potasio suelen ser más disociados, lo que puede favorecer O-sustitución.\",\n      \"title\": \"Potasio: pares iónicos sueltos\"\n    },\n    {\n      \"description\": \"Los enolatos pueden agregarse (dímeros, tetrámeros), afectando velocidad y selectividad.\",\n      \"title\": \"Agregación de enolatos\"\n    },\n    {\n      \"description\": \"Solventes coordinantes aumentan disociación del par iónico y alteran nucleofilia aparente.\",\n      \"title\": \"Solvatación del catión\"\n    },\n    {\n      \"description\": \"Base fuerte y voluminosa que favorece desprotonación rápida en el sitio menos impedido.\",\n      \"title\": \"LDA: perfil de base\"\n    },\n    {\n      \"description\": \"Base fuerte no nucleofílica útil para generar enolatos sin reacciones laterales por sustitución.\",\n      \"title\": \"LiHMDS: perfil de base\"\n    },\n    {\n      \"description\": \"A menudo lleva a equilibration y formación del enolato más estable bajo condiciones más cálidas.\",\n      \"title\": \"t-BuOK: base equilibrante\"\n    },\n    {\n      \"description\": \"Enolato que se forma más rápido, típico a baja temperatura con bases voluminosas.\",\n      \"title\": \"Enolato cinético: criterio\"\n    },\n    {\n      \"description\": \"Enolato más estable; predomina tras equilibration a mayor temperatura o con bases reversibles.\",\n      \"title\": \"Enolato termodinámico: criterio\"\n    },\n    {\n      \"description\": \"Favorece cinética al minimizar equilibration y mantener el primer enolato formado.\",\n      \"title\": \"Temperatura baja: favor cinético\"\n    },\n    {\n      \"description\": \"Favorece termodinámica al permitir interconversión de enolatos por desprotonación/protonación.\",\n      \"title\": \"Temperatura alta: favor termodinámico\"\n    },\n    {\n      \"description\": \"Atrapamiento inmediato con electrófilo conserva la regioselectividad cinética.\",\n      \"title\": \"Trampa rápida: conservación cinética\"\n    },\n    {\n      \"description\": \"Tiempos largos antes de electrófilo permiten redistribución hacia el enolato termodinámico.\",\n      \"title\": \"Equilibrio previo: redistribución\"\n    },\n    {\n      \"description\": \"En carbonilos con dos posiciones α distintas, la desprotonación puede ocurrir en más de un sitio.\",\n      \"title\": \"Carbonilo asimétrico: sitios alfa\"\n    },\n    {\n      \"description\": \"La extracción del Hα menos sustituido suele ser más rápida por menor impedimento.\",\n      \"title\": \"Regioselectividad: sitio menos sustituido\"\n    },\n    {\n      \"description\": \"El enolato más sustituido suele ser más estable por mayor sustitución del doble enlace equivalente.\",\n      \"title\": \"Regioselectividad: sitio más sustituido\"\n    },\n    {\n      \"description\": \"Configuración geométrica que influye en estereoquímica de aldol por estados de transición tipo silla.\",\n      \"title\": \"Enolato: geometría E\"\n    },\n    {\n      \"description\": \"Configuración geométrica que puede favorecer productos sin en aldol bajo transición cerrada.\",\n      \"title\": \"Enolato: geometría Z\"\n    },\n    {\n      \"description\": \"El equilibrio E/Z depende del metal, solvente y temperatura; no siempre es libremente interconvertible.\",\n      \"title\": \"Geometría del enolato: factores\"\n    },\n    {\n      \"description\": \"Equivalente neutro de enolato que permite alquilación en Cα evitando bases fuertes en el sustrato.\",\n      \"title\": \"Enamina: equivalente de enolato\"\n    },\n    {\n      \"description\": \"La formación suele ocurrir en la posición α que conduce a la enamina más sustituida.\",\n      \"title\": \"Enamina: regioselectividad\"\n    },\n    {\n      \"description\": \"Derivado O-sililado del enol que actúa como nucleófilo en presencia de ácidos de Lewis.\",\n      \"title\": \"Silil enol éter: concepto\"\n    },\n    {\n      \"description\": \"Conversión de enolato a silil enol éter con TMSCl para fijar regioselectividad.\",\n      \"title\": \"Silil enol éter: formación\"\n    },\n    {\n      \"description\": \"Ácidos de Lewis activan el carbonilo aceptor y permiten reacción del silil enol éter sin base fuerte.\",\n      \"title\": \"Silil enol éter: activación Lewis\"\n    },\n    {\n      \"description\": \"O-sustitución produce éteres enólicos; suele aumentar con cationes grandes o electrófilos duros.\",\n      \"title\": \"O-alquilación: resultado\"\n    },\n    {\n      \"description\": \"C-sustitución produce un nuevo enlace C–C en Cα; típica con enolatos de litio bien coordinados.\",\n      \"title\": \"C-alquilación: resultado\"\n    },\n    {\n      \"description\": \"Electrófilos duros tienden a reaccionar en oxígeno por interacción con sitio más básico.\",\n      \"title\": \"Electrófilo duro: favor O\"\n    },\n    {\n      \"description\": \"Electrófilos más polarizables tienden a reaccionar en carbono por control de orbitales.\",\n      \"title\": \"Electrófilo blando: favor C\"\n    },\n    {\n      \"description\": \"Enolatos de potasio suelen dar más O-alquilación por mayor carácter iónico y menor quelación.\",\n      \"title\": \"Enolato de potasio: tendencia O\"\n    },\n    {\n      \"description\": \"Enolatos de litio suelen dar más C-alquilación por coordinación fuerte al oxígeno.\",\n      \"title\": \"Enolato de litio: tendencia C\"\n    },\n    {\n      \"description\": \"Halógenos se incorporan en Cα a través de la forma enol bajo condiciones ácidas.\",\n      \"title\": \"Halogenación alfa: vía enol\"\n    },\n    {\n      \"description\": \"En ácido, la halogenación se detiene en mono-sustitución porque el producto es menos enolizable.\",\n      \"title\": \"Monohalogenación alfa: razón\"\n    },\n    {\n      \"description\": \"En base, el producto halogenado se vuelve más ácido y se halogena repetidamente.\",\n      \"title\": \"Polihalogenación alfa: razón\"\n    },\n    {\n      \"description\": \"El intercambio con D2O revela enolización por incorporación de deuterio en Cα.\",\n      \"title\": \"Intercambio H/D alfa\"\n    },\n    {\n      \"description\": \"Formación de enlace C–C en Cα usando enolato como nucleófilo hacia un electrófilo alquílico.\",\n      \"title\": \"Alquilación alfa: concepto\"\n    },\n    {\n      \"description\": \"Electrófilos primarios suelen ser los más limpios; electrófilos impedidos generan más subproductos.\",\n      \"title\": \"Alquilación alfa: elección de electrófilo\"\n    },\n    {\n      \"description\": \"El producto alquilado puede ser más ácido y sufrir una segunda alquilación si hay base disponible.\",\n      \"title\": \"Alquilación alfa: sobrealquilación\"\n    },\n    {\n      \"description\": \"Uso de enolato preformado y control de equivalentes reduce la formación de productos polisustituidos.\",\n      \"title\": \"Alquilación alfa: control estequiométrico\"\n    },\n    {\n      \"description\": \"La dilución puede reducir reacciones laterales por autoconensación cuando hay carbonilos en mezcla.\",\n      \"title\": \"Alquilación alfa: efecto de dilución\"\n    },\n    {\n      \"description\": \"Formación de nuevo enlace C–C entre Cα de un donador y carbono carbonílico de un aceptor.\",\n      \"title\": \"Aldolización: enlace C–C\"\n    },\n    {\n      \"description\": \"La base genera una fracción de enolato que ataca a otro carbonilo, produciendo β-hidroxicarbonilo.\",\n      \"title\": \"Aldol base-catalizada: esquema\"\n    },\n    {\n      \"description\": \"Paso que determina conectividad: ataque del enolato al carbonilo aceptor.\",\n      \"title\": \"Aldol base-catalizada: paso C–C\"\n    },\n    {\n      \"description\": \"La protonación del alcoholato da el β-hidroxicarbonilo y regenera la base catalítica.\",\n      \"title\": \"Aldol base-catalizada: cierre catalítico\"\n    },\n    {\n      \"description\": \"En medio ácido, el nucleófilo es el enol; el aceptor suele ser un carbonilo protonado.\",\n      \"title\": \"Aldol ácida: esquema\"\n    },\n    {\n      \"description\": \"Enol ataca al carbonilo activado, formando el nuevo enlace C–C sin necesidad de enolato libre.\",\n      \"title\": \"Aldol ácida: paso C–C\"\n    },\n    {\n      \"description\": \"Un β-hidroxialdehído puede deshidratarse para dar una enal conjugada.\",\n      \"title\": \"Producto aldólico: aldehído\"\n    },\n    {\n      \"description\": \"Una β-hidroxicetona puede deshidratarse para dar una enona conjugada.\",\n      \"title\": \"Producto aldólico: cetona\"\n    },\n    {\n      \"description\": \"Eliminación vía E1cb desde el β-hidroxicarbonilo para formar un carbonilo α,β-insaturado.\",\n      \"title\": \"Condensación aldólica: deshidratación E1cb\"\n    },\n    {\n      \"description\": \"La formación de conjugación C=C–C=O suele impulsar la deshidratación bajo condiciones apropiadas.\",\n      \"title\": \"Condensación aldólica: fuerza impulsora\"\n    },\n    {\n      \"description\": \"La reacción puede revertir rompiendo el enlace C–C bajo condiciones básicas o térmicas.\",\n      \"title\": \"Retro-aldol: concepto\"\n    },\n    {\n      \"description\": \"La mezcla de dos carbonilos enolizables genera múltiples productos por competencia de donador/aceptor.\",\n      \"title\": \"Aldol cruzada: problema estadístico\"\n    },\n    {\n      \"description\": \"Usar un aceptor sin Hα impide que actúe como donador, reduciendo el número de productos posibles.\",\n      \"title\": \"Aldol cruzada: aceptor sin Hα\"\n    },\n    {\n      \"description\": \"Enolato generado antes de añadir el aceptor permite dirigir quién es el nucleófilo.\",\n      \"title\": \"Aldol dirigida: enolato preformado\"\n    },\n    {\n      \"description\": \"Añadir el aceptor a baja temperatura reduce equilibration y reacciones secundarias.\",\n      \"title\": \"Aldol dirigida: temperatura baja\"\n    },\n    {\n      \"description\": \"Reacción intramolecular suele ganar por ventaja entrópica al formar un anillo.\",\n      \"title\": \"Aldol intramolecular: ventaja\"\n    },\n    {\n      \"description\": \"Cierres de 5 miembros son frecuentes por geometría favorable de aproximación intramolecular.\",\n      \"title\": \"Aldol intramolecular: anillo 5\"\n    },\n    {\n      \"description\": \"Cierres de 6 miembros también son comunes por transición tipo silla de baja tensión.\",\n      \"title\": \"Aldol intramolecular: anillo 6\"\n    },\n    {\n      \"description\": \"A alta dilución se reduce la aldol intermolecular y se favorece la ciclación intramolecular.\",\n      \"title\": \"Aldol intramolecular: efecto de dilución\"\n    },\n    {\n      \"description\": \"Estado de transición tipo silla para aldoles con metales coordinados; predice estereoquímica relativa.\",\n      \"title\": \"Zimmerman–Traxler: modelo\"\n    },\n    {\n      \"description\": \"Enolatos Z suelen conducir a relación sin en el producto bajo transición cerrada tipo silla.\",\n      \"title\": \"Enolato Z: producto sin\"\n    },\n    {\n      \"description\": \"Enolatos E suelen conducir a relación anti en el producto bajo transición cerrada tipo silla.\",\n      \"title\": \"Enolato E: producto anti\"\n    },\n    {\n      \"description\": \"Coordinación del metal a heteroátomos vecinos puede fijar conformación del carbonilo aceptor.\",\n      \"title\": \"Quelación: control estereoquímico\"\n    },\n    {\n      \"description\": \"Solventes o aditivos coordinantes rompen quelación y cambian la diastereoselectividad.\",\n      \"title\": \"No quelación: control alterno\"\n    },\n    {\n      \"description\": \"Bajo base, el centro α puede epimerizar vía enolato, erosionando diastereoselectividad.\",\n      \"title\": \"Aldol: epimerización alfa\"\n    },\n    {\n      \"description\": \"La deshidratación puede ocurrir por calentamiento o por condiciones que favorezcan formación de enolato en β.\",\n      \"title\": \"Aldol: condiciones de deshidratación\"\n    },\n    {\n      \"description\": \"La reacción de un silil enol éter con un carbonilo activado por Lewis evita bases fuertes en el medio.\",\n      \"title\": \"Mukaiyama: aldol\"\n    },\n    {\n      \"description\": \"La regioselectividad se controla por cuál silil enol éter se prepara a partir del carbonilo inicial.\",\n      \"title\": \"Mukaiyama: control regioselectivo\"\n    },\n    {\n      \"description\": \"Condensación de ésteres que forma un β-cetoéster mediante ataque de un enolato a un éster.\",\n      \"title\": \"Claisen: definición\"\n    },\n    {\n      \"description\": \"El alcoxido desprotona Cα del éster para generar el enolato nucleófilo.\",\n      \"title\": \"Claisen: generación de enolato\"\n    },\n    {\n      \"description\": \"El enolato ataca al carbono acílico del éster y forma un intermedio tetraédrico acílico.\",\n      \"title\": \"Claisen: ataque acílico\"\n    },\n    {\n      \"description\": \"El intermedio colapsa expulsando OR−, regenerando el carbonilo del producto acílico.\",\n      \"title\": \"Claisen: salida de OR−\"\n    },\n    {\n      \"description\": \"El β-cetoéster se desprotona fácilmente; esta desprotonación impulsa la reacción hacia productos.\",\n      \"title\": \"Claisen: fuerza impulsora\"\n    },\n    {\n      \"description\": \"El trabajo ácido reprotona el enolato final y entrega el β-cetoéster neutro.\",\n      \"title\": \"Claisen: trabajo ácido\"\n    },\n    {\n      \"description\": \"Usar el mismo OR en base y éster evita intercambio de grupos alcoxi por transesterificación.\",\n      \"title\": \"Claisen: coincidencia de alcoxido\"\n    },\n    {\n      \"description\": \"El éster donador debe tener Hα; sin Hα no puede formar el enolato nucleófilo.\",\n      \"title\": \"Claisen: requisito de Hα\"\n    },\n    {\n      \"description\": \"Un componente sin Hα puede actuar sólo como aceptor acílico, ayudando a selectividad.\",\n      \"title\": \"Claisen cruzada: componente sin Hα\"\n    },\n    {\n      \"description\": \"El exceso de uno de los reactivos puede sesgar la formación hacia el producto deseado.\",\n      \"title\": \"Claisen cruzada: control por exceso\"\n    },\n    {\n      \"description\": \"Versión intramolecular de Claisen en diéstares que produce β-cetoéster cíclico.\",\n      \"title\": \"Dieckmann: concepto\"\n    },\n    {\n      \"description\": \"Cierres de 5 miembros son comunes en Dieckmann por cinética favorable.\",\n      \"title\": \"Dieckmann: anillo 5\"\n    },\n    {\n      \"description\": \"Cierres de 6 miembros también son favorables por baja tensión del anillo.\",\n      \"title\": \"Dieckmann: anillo 6\"\n    },\n    {\n      \"description\": \"El producto β-dicarbonílico puede existir con fracción enólica elevada por estabilización por resonancia.\",\n      \"title\": \"β-dicarbonilo: enol favorecido\"\n    },\n    {\n      \"description\": \"La enona tiene dos sitios electrofílicos: Cβ para 1,4 y carbono carbonílico para 1,2.\",\n      \"title\": \"Aceptor de Michael: enona\"\n    },\n    {\n      \"description\": \"La deslocalización del sistema conjugado hace al carbono β susceptible a ataque nucleofílico.\",\n      \"title\": \"Carbono β: electrofilicidad\"\n    },\n    {\n      \"description\": \"El nucleófilo ataca en Cβ, generando un enolato que luego se protona.\",\n      \"title\": \"Adición 1,4: secuencia\"\n    },\n    {\n      \"description\": \"La protonación del enolato final regenera el carbonilo y fija el producto saturado.\",\n      \"title\": \"Adición 1,4: protonación\"\n    },\n    {\n      \"description\": \"Ataque directo al carbono carbonílico de la enona genera un alcoholato alílico tras trabajo ácido.\",\n      \"title\": \"Adición 1,2: resultado\"\n    },\n    {\n      \"description\": \"Carbaniones duros tienden a 1,2 por interacción con el sitio más cargado del carbonilo.\",\n      \"title\": \"Nucleófilo duro: preferencia 1,2\"\n    },\n    {\n      \"description\": \"Nucleófilos más polarizables tienden a 1,4 por mejor acoplamiento con el sistema conjugado.\",\n      \"title\": \"Nucleófilo suave: preferencia 1,4\"\n    },\n    {\n      \"description\": \"Organocupratos suelen dar adición 1,4 selectiva a enonas, evitando 1,2 en muchos casos.\",\n      \"title\": \"Cuprato: 1,4 selectiva\"\n    },\n    {\n      \"description\": \"Enolatos estabilizados, como los de β-dicarbonilos, son donadores típicos en Michael.\",\n      \"title\": \"Donador de Michael: enolato estabilizado\"\n    },\n    {\n      \"description\": \"La enamina actúa como nucleófilo en Cα y, tras hidrólisis, entrega el producto tipo Michael.\",\n      \"title\": \"Donador de Michael: enamina\"\n    },\n    {\n      \"description\": \"Reversibilidad posible bajo base; el retro-Michael rompe el enlace C–C formado en 1,4.\",\n      \"title\": \"Retro-Michael: concepto\"\n    },\n    {\n      \"description\": \"NaBH4 suele reaccionar primero con aldehídos que con cetonas cuando ambos compiten por el hidruro.\",\n      \"title\": \"Quimioselectividad: aldehído preferido\"\n    },\n    {\n      \"description\": \"Organolitios tienden a reaccionar con el sitio más reactivo disponible, con poca tolerancia a grupos protónicos.\",\n      \"title\": \"Quimioselectividad: organolitio exigente\"\n    },\n    {\n      \"description\": \"Ácidos de Lewis incrementan selectividad al activar preferentemente el carbonilo con mejor capacidad de coordinación.\",\n      \"title\": \"Quimioselectividad: activación Lewis\"\n    },\n    {\n      \"description\": \"La elección de base determina si predomina el enolato cinético o el termodinámico.\",\n      \"title\": \"Selectividad: elección de base\"\n    },\n    {\n      \"description\": \"La elección de temperatura determina si la desprotonación queda bajo control cinético o termodinámico.\",\n      \"title\": \"Selectividad: elección de temperatura\"\n    },\n    {\n      \"description\": \"Atrapamiento rápido con electrófilo fija la regioselectividad del enolato generado inicialmente.\",\n      \"title\": \"Selectividad: momento de atrapamiento\"\n    },\n    {\n      \"description\": \"El contraión cambia O/C-alquilación; ajustar metal permite sesgar el sitio de reacción.\",\n      \"title\": \"Selectividad: metal del enolato\"\n    },\n    {\n      \"description\": \"En aldol cruzada, preformar el enolato evita autoaldolización del aceptor.\",\n      \"title\": \"Selectividad: estrategia en aldol cruzada\"\n    },\n    {\n      \"description\": \"En Claisen, usar alcoxido coincidente reduce productos por intercambio de OR durante la reacción.\",\n      \"title\": \"Selectividad: base coincidente en Claisen\"\n    },\n    {\n      \"description\": \"En Michael, cambiar nucleófilo de duro a suave desplaza la selectividad entre 1,2 y 1,4.\",\n      \"title\": \"Selectividad: control 1,2-1,4\"\n    }\n  ]\n}",
      "outputTokens": 17176,
      "systemPrompt": "# Role\n\nYou are designing an **extensive** list of bite-sized, focused lessons for a specific chapter in a course.\n\nYou have expertise in instructional design, curriculum development, and creating granular learning paths. You have worked at top educational institutions creating micro-learning content that breaks down complex topics into digestible, single-concept lessons.\n\nYour mission is to create a lesson structure where each lesson covers **ONE SPECIFIC CONCEPT** that can be learned in 2-3 minutes and explained in 10 short tweets or less.\n\nYou deeply care about making learning accessible, focused, and efficient by breaking down topics into their smallest logical units.\n\n# Inputs\n\n- `COURSE_TITLE`: name of the overall course\n- `CHAPTER_TITLE`: title of this specific chapter\n- `CHAPTER_DESCRIPTION`: what this chapter covers\n- `LANGUAGE`: output language for titles and descriptions\n- `NEIGHBORING_CHAPTERS` (optional): titles and descriptions of chapters that come before and after this one in the course\n\n## Language\n\n- `en`: Use US region unless the content is about a different region.\n- `pt`: Use Brazilian Portuguese unless the content is about a different region.\n- `es`: Use Latin American Spanish unless the content is about a different region.\n\n# Goal\n\nProduce an **extensive** list of **single-concept** lessons that collectively cover everything in `CHAPTER_TITLE` and `CHAPTER_DESCRIPTION`. Each lesson should be so focused that a student can learn and understand the concept in 2-3 minutes.\n\n# Critical Requirements\n\n## Single-Concept Focus\n\n- **Each lesson MUST cover ONE SPECIFIC concept only**\n- If you can explain it in 10 short tweets or less, it's appropriately scoped\n- If it takes more than 10 tweets, **split it into multiple lessons**\n- If a topic is too broad, **break it down further**\n- Each lesson should be extremely focused on a single idea\n\n## Title & Description Requirements\n\n- Follow the same concise, no-fluff style as course chapter title and description\n- **NEVER** use words like \"learn\", \"understand\", \"explore\", \"introduction to\", \"basics of\", etc.\n- Go straight to the point\n- If you find yourself using **\"AND\"**, **\"OR\"**, or **\"VS\"** in a title, you should split it into separate lessons\n\n## Examples of Proper Granularity\n\n**TOO BROAD:**\n❌ \"Hardware vs. Software\"\n❌ \"Variables and Data Types\"\n❌ \"Functions and Methods\"\n\n**CORRECTLY BROKEN DOWN:**\n✅ \"What is Hardware?\"\n✅ \"What is Software?\"\n✅ \"How Hardware and Software Interact\"\n\nOr:\n\n✅ \"Variables: Storing Values\"\n✅ \"Data Types Overview\"\n✅ \"Numbers in Programming\"\n✅ \"Text (Strings) in Programming\"\n✅ \"Booleans (True/False Values)\"\n\n## Progression & Structure\n\n- Build a logical progression from basic to advanced concepts\n- Ensure lessons build on knowledge from previous lessons\n- Focus lessons specifically on THIS chapter, not the entire course\n- Don't add summary, review, or \"key concepts\" lessons\n- Don't add assessment or quiz lessons\n- Don't add final project or capstone lessons\n\n## Scope\n\n- Cover **everything** in `CHAPTER_DESCRIPTION` and `CHAPTER_TITLE`\n- Never go beyond the chapter's scope\n- Add **as many lessons as needed** to break down each concept fully\n- Don't limit the number of lessons arbitrarily\n- It's better to have many focused lessons than fewer broad ones\n- Make sure to have all lessons needed to **fully master the chapter's scope**\n\n## Neighboring Chapter Awareness\n\nWhen `NEIGHBORING_CHAPTERS` is provided, use it to avoid generating dedicated lessons on topics that have their own chapter. For example, if a neighboring chapter covers \"HTTP fundamentals,\" do not create standalone lessons teaching HTTP methods or status codes — those belong in that chapter, not this one.\n\nBrief contextual mentions are fine. For example, a lesson can reference HTTP to explain a concept, but should not become a standalone lesson _about_ HTTP.\n\n# Quality Checks\n\nBefore finalizing your lesson list, ask yourself for EACH lesson:\n\n1. **Is this lesson too broad?** → If yes, break it down further\n2. **Can this concept be explained in 10 short tweets or less?** → If no, split it\n3. **Does this lesson focus on a single specific concept?** → If no, split it\n4. **Does the title contain \"AND\", \"OR\", or \"VS\"?** → If yes, split into separate lessons\n5. **Would a student need more than 2-3 minutes to grasp this?** → If yes, simplify or split\n\n# Output Format\n\nEach lesson must include **exactly two fields**:\n\n- **Title** — short, specific, focused on the single concept\n- **Description** — 1-2 sentences describing what the lesson covers, no fluff\n\n## Good Title Examples\n\n- \"What is a Variable?\"\n- \"Integer Numbers\"\n- \"Floating-Point Numbers\"\n- \"Declaring Variables\"\n- \"Assigning Values\"\n- \"The Addition Operator\"\n- \"The Subtraction Operator\"\n\n## Good Description Examples\n\n- \"Memory locations that store values during program execution.\"\n- \"Whole numbers without decimal points: 1, 42, -17, 0.\"\n- \"Numbers with decimal points: 3.14, -0.5, 2.0.\"\n- \"Creating a variable with a name and type.\"\n- \"Storing a value into a variable using the assignment operator.\"\n\n# Last Check\n\nAfter creating your lesson list, verify:\n\n- \"Does each lesson cover ONLY ONE concept?\" → All must be YES\n- \"Can each lesson be explained in 10 tweets?\" → All must be YES\n- \"Have I covered EVERYTHING from the chapter description?\" → Must be YES\n- \"Are there any lessons that should be split further?\" → Must be NO\n- \"Are the titles and descriptions concise and to the point with no fluff?\" → Must be YES\n- \"Did I stay within the chapter's scope?\" → Must be YES\n- \"Does any lesson teach a topic that belongs in a neighboring chapter?\" → Must be NO\n\nThis should be the most **granular**, **focused**, and **extensive** lesson list possible for this chapter.\n",
      "testCaseId": "es-quimica-carbonilos-enolatos-1",
      "userPrompt": "\n    LANGUAGE: es\n    COURSE_TITLE: Química\n    CHAPTER_TITLE: Carbonilos y enolatos\n    CHAPTER_DESCRIPTION: Adición nucleofílica a carbonilos, química de enoles/enolatos, aldol, Claisen, Michael y control de selectividad.\nNEIGHBORING_CHAPTERS:\n- \"Sustitución y eliminación\": SN1/SN2, E1/E2, reactividad, solventes, nucleófilos/bases, rearrangements y control de selectividad.\n- \"Adiciones a alquenos y alquinos\": Hidrogenación, halogenación, hidratación, hidroboración-oxidación, adiciones conjugadas y química de alquinos.\n- \"Química aromática\": Aromaticidad, sustitución electrofílica/nucleofílica aromática, directores, y reactividad de sistemas aromáticos extendidos.\n- \"Ácidos carboxílicos y derivados\": Reactividad de ácidos carboxílicos, derivados acílicos, química de amidas/ésteres/anhídridos y estrategias de activación.\n- \"Heterociclos\": Síntesis y reactividad de heterociclos aromáticos y saturados; aplicaciones en fármacos y materiales.\n- \"Radicales y fotoquímica orgánica\": Mecanismos radicalarios, iniciación/propagación/terminación, selectividad, y reacciones fotoquímicas orgánicas.\n  "
    },
    {
      "duration": 74766.53470800002,
      "inputTokens": 1602,
      "output": "{\n  \"lessons\": [\n    {\n      \"description\": \"Recurring fluctuations in aggregate economic activity around a longer-run trend.\",\n      \"title\": \"Business cycle\"\n    },\n    {\n      \"description\": \"A sustained period of rising aggregate output and income in the cycle chronology.\",\n      \"title\": \"Expansion\"\n    },\n    {\n      \"description\": \"A broad-based decline in economic activity lasting more than a short, transitory dip.\",\n      \"title\": \"Recession\"\n    },\n    {\n      \"description\": \"The local maximum of economic activity that marks the end of an expansion.\",\n      \"title\": \"Peak\"\n    },\n    {\n      \"description\": \"The local minimum of economic activity that marks the end of a recession.\",\n      \"title\": \"Trough\"\n    },\n    {\n      \"description\": \"A dating procedure that identifies peaks and troughs using multiple monthly indicators, not just GDP.\",\n      \"title\": \"NBER business cycle dating\"\n    },\n    {\n      \"description\": \"A general-purpose label for a small drop in activity that does not meet common recession criteria.\",\n      \"title\": \"Slowdown\"\n    },\n    {\n      \"description\": \"A very deep recession with large, persistent declines in output and employment.\",\n      \"title\": \"Depression\"\n    },\n    {\n      \"description\": \"A recession closely following a previous recession with little intervening recovery.\",\n      \"title\": \"Double-dip recession\"\n    },\n    {\n      \"description\": \"A recovery where unemployment remains elevated despite output growth after a trough.\",\n      \"title\": \"Jobless recovery\"\n    },\n    {\n      \"description\": \"The time from peak to trough in the business cycle chronology.\",\n      \"title\": \"Contraction duration\"\n    },\n    {\n      \"description\": \"The time from trough to peak in the business cycle chronology.\",\n      \"title\": \"Expansion duration\"\n    },\n    {\n      \"description\": \"The peak-to-trough percent decline in a chosen activity measure such as real GDP or employment.\",\n      \"title\": \"Recession depth\"\n    },\n    {\n      \"description\": \"The trough-to-peak percent increase in a chosen activity measure during an expansion.\",\n      \"title\": \"Expansion size\"\n    },\n    {\n      \"description\": \"Typical business-cycle movements concentrated at multi-quarter horizons rather than very short or very long horizons.\",\n      \"title\": \"Business-cycle frequency band\"\n    },\n    {\n      \"description\": \"The size of fluctuations measured as a dispersion statistic, commonly the standard deviation of a detrended series.\",\n      \"title\": \"Volatility\"\n    },\n    {\n      \"description\": \"Volatility of one series divided by volatility of another (often relative to GDP) to compare cyclicality strength.\",\n      \"title\": \"Relative volatility\"\n    },\n    {\n      \"description\": \"The tendency of a variable’s deviations from trend to remain similar from one period to the next.\",\n      \"title\": \"Persistence\"\n    },\n    {\n      \"description\": \"Correlation of a time series with its own past values as a simple measure of persistence.\",\n      \"title\": \"Autocorrelation\"\n    },\n    {\n      \"description\": \"A long-run growth path around which cyclical fluctuations occur.\",\n      \"title\": \"Trend\"\n    },\n    {\n      \"description\": \"Short-run deviations from trend that define expansions and recessions.\",\n      \"title\": \"Cycle component\"\n    },\n    {\n      \"description\": \"A transformation that removes the trend so cyclical movements can be compared across time.\",\n      \"title\": \"Detrending\"\n    },\n    {\n      \"description\": \"Using the logarithm of a level series so changes approximate percent changes and variance is stabilized.\",\n      \"title\": \"Log transformation\"\n    },\n    {\n      \"description\": \"Using percent changes (or log differences) as a simple way to focus on short-run movements.\",\n      \"title\": \"Growth rate series\"\n    },\n    {\n      \"description\": \"A fitted deterministic trend (often linear in logs) used to define deviations as the cycle component.\",\n      \"title\": \"Linear trend detrending\"\n    },\n    {\n      \"description\": \"A statistical filter that trades off smoothness of the trend against fit to the data to extract a cycle.\",\n      \"title\": \"Hodrick–Prescott filter\"\n    },\n    {\n      \"description\": \"A filter designed to isolate fluctuations in a chosen frequency band associated with business cycles.\",\n      \"title\": \"Band-pass filter\"\n    },\n    {\n      \"description\": \"The difference between actual output and an estimate of potential output, often expressed as a percent of potential.\",\n      \"title\": \"Output gap\"\n    },\n    {\n      \"description\": \"A benchmark concept for the level of output consistent with normal utilization of resources, used to define the output gap.\",\n      \"title\": \"Potential output\"\n    },\n    {\n      \"description\": \"The tendency for multiple aggregates to rise in expansions and fall in recessions at roughly the same time.\",\n      \"title\": \"Aggregate comovement\"\n    },\n    {\n      \"description\": \"A standardized measure of how two variables move together over time.\",\n      \"title\": \"Correlation\"\n    },\n    {\n      \"description\": \"Correlation computed for a range of leads and lags to detect which series tends to move first.\",\n      \"title\": \"Cross-correlation\"\n    },\n    {\n      \"description\": \"A variable whose cyclical component tends to move ahead of overall activity.\",\n      \"title\": \"Leading series\"\n    },\n    {\n      \"description\": \"A variable that moves roughly contemporaneously with overall activity.\",\n      \"title\": \"Coincident series\"\n    },\n    {\n      \"description\": \"A variable that tends to move after overall activity has turned.\",\n      \"title\": \"Lagging series\"\n    },\n    {\n      \"description\": \"Cyclical deviations that are positive in expansions and negative in recessions.\",\n      \"title\": \"Procyclical\"\n    },\n    {\n      \"description\": \"Cyclical deviations that are negative in expansions and positive in recessions.\",\n      \"title\": \"Countercyclical\"\n    },\n    {\n      \"description\": \"A variable whose cyclical component shows little systematic relation to the overall cycle.\",\n      \"title\": \"Acyclical\"\n    },\n    {\n      \"description\": \"A feature where downturns are typically sharper than upturns, even if expansions are longer.\",\n      \"title\": \"Cycle asymmetry\"\n    },\n    {\n      \"description\": \"Economic activity measures that track broad production, useful as high-frequency cycle indicators.\",\n      \"title\": \"Industrial production\"\n    },\n    {\n      \"description\": \"The extent to which the labor force is without work but actively seeking work; a core labor-market cycle indicator.\",\n      \"title\": \"Unemployment rate\"\n    },\n    {\n      \"description\": \"A regularity linking changes in unemployment to deviations of output from trend.\",\n      \"title\": \"Okun’s law\"\n    },\n    {\n      \"description\": \"A stylized fact that unemployment rises in recessions and falls in expansions.\",\n      \"title\": \"Unemployment countercyclicality\"\n    },\n    {\n      \"description\": \"A stylized fact that employment moves with the cycle, rising in expansions and falling in recessions.\",\n      \"title\": \"Employment procyclicality\"\n    },\n    {\n      \"description\": \"A labor input margin that typically falls in recessions and rises in expansions.\",\n      \"title\": \"Hours worked cyclicality\"\n    },\n    {\n      \"description\": \"The share of the population in the labor force can move with the cycle, affecting unemployment dynamics.\",\n      \"title\": \"Labor force participation cyclicality\"\n    },\n    {\n      \"description\": \"Flows into unemployment from job loss tend to spike at the start of recessions.\",\n      \"title\": \"Layoff inflows\"\n    },\n    {\n      \"description\": \"Job-finding rates typically drop in recessions, contributing to unemployment persistence.\",\n      \"title\": \"Job-finding outflows\"\n    },\n    {\n      \"description\": \"The percent change in an overall price index over a period; used to describe price dynamics over the cycle.\",\n      \"title\": \"Inflation rate\"\n    },\n    {\n      \"description\": \"The tendency of inflation to remain elevated or subdued once it moves, often captured by high autocorrelation.\",\n      \"title\": \"Inflation persistence\"\n    },\n    {\n      \"description\": \"The co-movement between inflation and real activity that varies across periods and policy regimes.\",\n      \"title\": \"Inflation cyclicality\"\n    },\n    {\n      \"description\": \"A negative empirical relationship between inflation and unemployment observed in some periods.\",\n      \"title\": \"Phillips curve correlation\"\n    },\n    {\n      \"description\": \"An episode where inflation rises while output falls, highlighting that inflation-activity comovement can reverse.\",\n      \"title\": \"Stagflation\"\n    },\n    {\n      \"description\": \"A sustained decline in the inflation rate, often occurring during or after downturns.\",\n      \"title\": \"Disinflation\"\n    },\n    {\n      \"description\": \"A sustained fall in the price level, distinct from merely low inflation.\",\n      \"title\": \"Deflation\"\n    },\n    {\n      \"description\": \"Inflation excluding volatile items, used to track underlying inflation movements over the cycle.\",\n      \"title\": \"Core inflation\"\n    },\n    {\n      \"description\": \"Inflation including all items, which can show stronger short-run cyclical swings due to volatile components.\",\n      \"title\": \"Headline inflation\"\n    },\n    {\n      \"description\": \"Output per hour worked as a summary statistic for efficiency that often varies systematically over the cycle.\",\n      \"title\": \"Labor productivity\"\n    },\n    {\n      \"description\": \"The stylized fact that measured labor productivity often rises in expansions and weakens in recessions.\",\n      \"title\": \"Procyclical labor productivity\"\n    },\n    {\n      \"description\": \"A broad efficiency term inferred from output relative to measured inputs, frequently found to be procyclical.\",\n      \"title\": \"Procyclical total factor productivity\"\n    },\n    {\n      \"description\": \"A measure of how intensively capital is used, typically falling in recessions and rising in expansions.\",\n      \"title\": \"Capacity utilization\"\n    },\n    {\n      \"description\": \"Real consumption tends to be smoother than GDP over the cycle in many countries.\",\n      \"title\": \"Consumption smoothness\"\n    },\n    {\n      \"description\": \"Spending on durable goods is typically much more volatile over the cycle than overall consumption.\",\n      \"title\": \"Durable consumption volatility\"\n    },\n    {\n      \"description\": \"Spending on nondurable goods tends to fluctuate less than durables over the cycle.\",\n      \"title\": \"Nondurable consumption volatility\"\n    },\n    {\n      \"description\": \"Service consumption often shows relatively muted cyclical movements compared with goods.\",\n      \"title\": \"Service consumption stability\"\n    },\n    {\n      \"description\": \"Private investment is typically highly procyclical and more volatile than GDP.\",\n      \"title\": \"Investment volatility\"\n    },\n    {\n      \"description\": \"Residential construction tends to be strongly procyclical and often turns before the broader economy.\",\n      \"title\": \"Housing cyclicality\"\n    },\n    {\n      \"description\": \"Inventory changes can amplify cycle turning points because production responds to desired stock adjustments.\",\n      \"title\": \"Inventory swings\"\n    },\n    {\n      \"description\": \"Government purchases often show limited cyclicality at business-cycle frequencies compared with private demand.\",\n      \"title\": \"Government spending cyclicality\"\n    },\n    {\n      \"description\": \"The trade balance often moves countercyclically when imports fall sharply in recessions.\",\n      \"title\": \"Net export countercyclicality\"\n    },\n    {\n      \"description\": \"Imports tend to be procyclical because they track domestic demand.\",\n      \"title\": \"Import procyclicality\"\n    },\n    {\n      \"description\": \"Exports tend to be procyclical with foreign demand, though the link depends on global conditions.\",\n      \"title\": \"Export procyclicality\"\n    },\n    {\n      \"description\": \"The tendency for output in many industries to move together over the cycle.\",\n      \"title\": \"Sectoral comovement\"\n    },\n    {\n      \"description\": \"Manufacturing output typically displays larger cyclical swings than many service industries.\",\n      \"title\": \"Manufacturing cyclicality\"\n    },\n    {\n      \"description\": \"Construction activity is often among the most cycle-sensitive sectors.\",\n      \"title\": \"Construction cyclicality\"\n    },\n    {\n      \"description\": \"Many market services show smaller amplitude swings than goods-producing sectors.\",\n      \"title\": \"Service-sector cyclicality\"\n    },\n    {\n      \"description\": \"Retail sales usually decline in recessions and rise in expansions, tracking household demand conditions.\",\n      \"title\": \"Retail sales cyclicality\"\n    },\n    {\n      \"description\": \"Spending on new capital goods tends to move strongly with the cycle, reflecting demand sensitivity.\",\n      \"title\": \"Capital goods cyclicality\"\n    },\n    {\n      \"description\": \"Nondurable goods production often fluctuates less than durables during recessions and recoveries.\",\n      \"title\": \"Nondurable production cyclicality\"\n    },\n    {\n      \"description\": \"Durable goods production often shows sharp contractions in recessions and strong rebounds in recoveries.\",\n      \"title\": \"Durable production cyclicality\"\n    },\n    {\n      \"description\": \"Commodity prices often rise in booms and fall in downturns, with large swings tied to global demand.\",\n      \"title\": \"Commodity price cyclicality\"\n    },\n    {\n      \"description\": \"Energy prices can generate prominent short-run inflation movements that complicate inflation-activity correlations.\",\n      \"title\": \"Energy price shocks\"\n    },\n    {\n      \"description\": \"Credit expansion commonly accelerates in booms and slows or reverses in recessions.\",\n      \"title\": \"Credit growth cyclicality\"\n    },\n    {\n      \"description\": \"Risk spreads often widen in downturns, reflecting higher perceived default risk and tighter financial conditions.\",\n      \"title\": \"Countercyclical credit spreads\"\n    },\n    {\n      \"description\": \"Default and delinquency rates typically rise in recessions and fall in expansions.\",\n      \"title\": \"Default cyclicality\"\n    },\n    {\n      \"description\": \"Equity prices often lead the cycle, moving ahead of turns in real activity though with substantial noise.\",\n      \"title\": \"Stock market leading behavior\"\n    },\n    {\n      \"description\": \"A period of reduced macro volatility relative to earlier decades, often dated from the mid-1980s to 2007.\",\n      \"title\": \"Great Moderation\"\n    },\n    {\n      \"description\": \"A structural break where measured volatility, persistence, or comovement changes across time.\",\n      \"title\": \"Regime change in cyclicality\"\n    },\n    {\n      \"description\": \"A synchronized downturn where financial stress coincided with large output declines across many countries.\",\n      \"title\": \"Global financial crisis cycle pattern\"\n    },\n    {\n      \"description\": \"A sharp, short contraction driven by public health restrictions with unusually rapid initial rebound in some aggregates.\",\n      \"title\": \"Pandemic recession pattern\"\n    },\n    {\n      \"description\": \"The empirical tendency for output to remain below a pre-crisis trend path long after a deep recession.\",\n      \"title\": \"Persistent output losses\"\n    },\n    {\n      \"description\": \"The degree to which regional economies within a country share common cycle turning points.\",\n      \"title\": \"Regional synchronization\"\n    },\n    {\n      \"description\": \"A common component in output movements across countries reflecting global shocks or shared financial conditions.\",\n      \"title\": \"Global business cycle factor\"\n    },\n    {\n      \"description\": \"Greater output volatility typical of many emerging economies compared with advanced economies.\",\n      \"title\": \"Emerging market volatility\"\n    },\n    {\n      \"description\": \"A pattern where different industries reach peaks or troughs at different times rather than moving in lockstep.\",\n      \"title\": \"Sectoral lead-lag structure\"\n    },\n    {\n      \"description\": \"Comovement generated when a shock to one industry shifts demand for inputs from upstream industries.\",\n      \"title\": \"Input-output propagation\"\n    },\n    {\n      \"description\": \"Within-sector variation that does not align with the aggregate cycle, useful for separating common factors from sector shocks.\",\n      \"title\": \"Idiosyncratic sector shocks\"\n    },\n    {\n      \"description\": \"A measurement issue where cycle assessments change as new data arrive or historical data are revised.\",\n      \"title\": \"Real-time data revisions\"\n    },\n    {\n      \"description\": \"Differences in cycle inference that arise solely from using different detrending or filtering methods.\",\n      \"title\": \"Filter sensitivity\"\n    },\n    {\n      \"description\": \"Using monthly indicators to capture turning points sooner than quarterly GDP can.\",\n      \"title\": \"Monthly cycle indicators\"\n    },\n    {\n      \"description\": \"A composite index summarizing the share of sectors expanding versus contracting at a point in time.\",\n      \"title\": \"Diffusion index\"\n    }\n  ]\n}",
      "outputTokens": 4417,
      "systemPrompt": "# Role\n\nYou are designing an **extensive** list of bite-sized, focused lessons for a specific chapter in a course.\n\nYou have expertise in instructional design, curriculum development, and creating granular learning paths. You have worked at top educational institutions creating micro-learning content that breaks down complex topics into digestible, single-concept lessons.\n\nYour mission is to create a lesson structure where each lesson covers **ONE SPECIFIC CONCEPT** that can be learned in 2-3 minutes and explained in 10 short tweets or less.\n\nYou deeply care about making learning accessible, focused, and efficient by breaking down topics into their smallest logical units.\n\n# Inputs\n\n- `COURSE_TITLE`: name of the overall course\n- `CHAPTER_TITLE`: title of this specific chapter\n- `CHAPTER_DESCRIPTION`: what this chapter covers\n- `LANGUAGE`: output language for titles and descriptions\n- `NEIGHBORING_CHAPTERS` (optional): titles and descriptions of chapters that come before and after this one in the course\n\n## Language\n\n- `en`: Use US region unless the content is about a different region.\n- `pt`: Use Brazilian Portuguese unless the content is about a different region.\n- `es`: Use Latin American Spanish unless the content is about a different region.\n\n# Goal\n\nProduce an **extensive** list of **single-concept** lessons that collectively cover everything in `CHAPTER_TITLE` and `CHAPTER_DESCRIPTION`. Each lesson should be so focused that a student can learn and understand the concept in 2-3 minutes.\n\n# Critical Requirements\n\n## Single-Concept Focus\n\n- **Each lesson MUST cover ONE SPECIFIC concept only**\n- If you can explain it in 10 short tweets or less, it's appropriately scoped\n- If it takes more than 10 tweets, **split it into multiple lessons**\n- If a topic is too broad, **break it down further**\n- Each lesson should be extremely focused on a single idea\n\n## Title & Description Requirements\n\n- Follow the same concise, no-fluff style as course chapter title and description\n- **NEVER** use words like \"learn\", \"understand\", \"explore\", \"introduction to\", \"basics of\", etc.\n- Go straight to the point\n- If you find yourself using **\"AND\"**, **\"OR\"**, or **\"VS\"** in a title, you should split it into separate lessons\n\n## Examples of Proper Granularity\n\n**TOO BROAD:**\n❌ \"Hardware vs. Software\"\n❌ \"Variables and Data Types\"\n❌ \"Functions and Methods\"\n\n**CORRECTLY BROKEN DOWN:**\n✅ \"What is Hardware?\"\n✅ \"What is Software?\"\n✅ \"How Hardware and Software Interact\"\n\nOr:\n\n✅ \"Variables: Storing Values\"\n✅ \"Data Types Overview\"\n✅ \"Numbers in Programming\"\n✅ \"Text (Strings) in Programming\"\n✅ \"Booleans (True/False Values)\"\n\n## Progression & Structure\n\n- Build a logical progression from basic to advanced concepts\n- Ensure lessons build on knowledge from previous lessons\n- Focus lessons specifically on THIS chapter, not the entire course\n- Don't add summary, review, or \"key concepts\" lessons\n- Don't add assessment or quiz lessons\n- Don't add final project or capstone lessons\n\n## Scope\n\n- Cover **everything** in `CHAPTER_DESCRIPTION` and `CHAPTER_TITLE`\n- Never go beyond the chapter's scope\n- Add **as many lessons as needed** to break down each concept fully\n- Don't limit the number of lessons arbitrarily\n- It's better to have many focused lessons than fewer broad ones\n- Make sure to have all lessons needed to **fully master the chapter's scope**\n\n## Neighboring Chapter Awareness\n\nWhen `NEIGHBORING_CHAPTERS` is provided, use it to avoid generating dedicated lessons on topics that have their own chapter. For example, if a neighboring chapter covers \"HTTP fundamentals,\" do not create standalone lessons teaching HTTP methods or status codes — those belong in that chapter, not this one.\n\nBrief contextual mentions are fine. For example, a lesson can reference HTTP to explain a concept, but should not become a standalone lesson _about_ HTTP.\n\n# Quality Checks\n\nBefore finalizing your lesson list, ask yourself for EACH lesson:\n\n1. **Is this lesson too broad?** → If yes, break it down further\n2. **Can this concept be explained in 10 short tweets or less?** → If no, split it\n3. **Does this lesson focus on a single specific concept?** → If no, split it\n4. **Does the title contain \"AND\", \"OR\", or \"VS\"?** → If yes, split into separate lessons\n5. **Would a student need more than 2-3 minutes to grasp this?** → If yes, simplify or split\n\n# Output Format\n\nEach lesson must include **exactly two fields**:\n\n- **Title** — short, specific, focused on the single concept\n- **Description** — 1-2 sentences describing what the lesson covers, no fluff\n\n## Good Title Examples\n\n- \"What is a Variable?\"\n- \"Integer Numbers\"\n- \"Floating-Point Numbers\"\n- \"Declaring Variables\"\n- \"Assigning Values\"\n- \"The Addition Operator\"\n- \"The Subtraction Operator\"\n\n## Good Description Examples\n\n- \"Memory locations that store values during program execution.\"\n- \"Whole numbers without decimal points: 1, 42, -17, 0.\"\n- \"Numbers with decimal points: 3.14, -0.5, 2.0.\"\n- \"Creating a variable with a name and type.\"\n- \"Storing a value into a variable using the assignment operator.\"\n\n# Last Check\n\nAfter creating your lesson list, verify:\n\n- \"Does each lesson cover ONLY ONE concept?\" → All must be YES\n- \"Can each lesson be explained in 10 tweets?\" → All must be YES\n- \"Have I covered EVERYTHING from the chapter description?\" → Must be YES\n- \"Are there any lessons that should be split further?\" → Must be NO\n- \"Are the titles and descriptions concise and to the point with no fluff?\" → Must be YES\n- \"Did I stay within the chapter's scope?\" → Must be YES\n- \"Does any lesson teach a topic that belongs in a neighboring chapter?\" → Must be NO\n\nThis should be the most **granular**, **focused**, and **extensive** lesson list possible for this chapter.\n",
      "testCaseId": "en-economics-business-cycles-1",
      "userPrompt": "\n    LANGUAGE: en\n    COURSE_TITLE: Economics\n    CHAPTER_TITLE: Business cycles\n    CHAPTER_DESCRIPTION: Business cycle facts, stylized patterns in output, inflation, unemployment, productivity, and comovements across sectors.\nNEIGHBORING_CHAPTERS:\n- \"Behavioral economics\": Behavioral biases, bounded rationality, time inconsistency, social preferences, and policy design with behavioral responses.\n- \"Experimental economics\": Laboratory and field experiments, incentive design, external validity, and behavioral/market design evidence.\n- \"Macroeconomic accounting\": National income and product accounts, sectoral balances, price indices, productivity, and flow-of-funds concepts.\n- \"Consumption and savings\": Consumption-saving, life-cycle and permanent income models, liquidity constraints, and empirical puzzles.\n- \"Investment and capital\": Investment theory, q-models, adjustment costs, irreversibility, and firm-level investment dynamics.\n- \"Unemployment and labor in macro\": Labor markets in macro, search and matching, wage setting, unemployment dynamics, and Beveridge curve analysis.\n  "
    },
    {
      "duration": 83231.25433399997,
      "inputTokens": 1672,
      "output": "{\n  \"lessons\": [\n    {\n      \"description\": \"Papel da arquitetura quando entregas e requisitos mudam o tempo todo. Foco em sustentar fluxo de mudança sem travar o time.\",\n      \"title\": \"Arquitetura em ambientes ágeis\"\n    },\n    {\n      \"description\": \"Arquitetura tratada como suposições que podem ser invalidadas por uso real. Mudanças viram parte do plano, não exceção.\",\n      \"title\": \"Arquitetura como hipótese\"\n    },\n    {\n      \"description\": \"Arquitetura definida pelo conjunto de escolhas que restringem soluções futuras. Inclui decisões técnicas e também restrições de evolução.\",\n      \"title\": \"Arquitetura como decisões\"\n    },\n    {\n      \"description\": \"Características que orientam escolhas arquiteturais além de funcionalidades. Exemplos comuns: desempenho, escalabilidade, manutenibilidade.\",\n      \"title\": \"Características arquiteturais\"\n    },\n    {\n      \"description\": \"Escolhas arquiteturais quase sempre otimizam algo ao custo de outra coisa. Tornar o trade-off explícito reduz retrabalho futuro.\",\n      \"title\": \"Trade-off arquitetural\"\n    },\n    {\n      \"description\": \"Quantidade mínima de arquitetura para permitir o próximo incremento com segurança. Evita overengineering sem cair em improviso.\",\n      \"title\": \"Arquitetura mínima viável\"\n    },\n    {\n      \"description\": \"Decidir tarde o suficiente para usar informação real sem perder oportunidades. Critério prático: antes que a decisão vire bloqueio.\",\n      \"title\": \"Último momento responsável\"\n    },\n    {\n      \"description\": \"Evolução do desenho em pequenos passos, guiada por feedback. Preserva opções enquanto o problema ainda está mudando.\",\n      \"title\": \"Design incremental\"\n    },\n    {\n      \"description\": \"Estrutura que surge de refatorações sucessivas conforme o produto cresce. Depende de disciplina para evitar degradação.\",\n      \"title\": \"Arquitetura emergente\"\n    },\n    {\n      \"description\": \"Mudanças estruturais que melhoram o design sem alterar comportamento externo. Mantém a arquitetura compatível com evolução contínua.\",\n      \"title\": \"Refatoração arquitetural\"\n    },\n    {\n      \"description\": \"Ciclo curto para verificar se a arquitetura ainda atende às características desejadas. Pode usar métricas, validações automatizadas ou revisões rápidas.\",\n      \"title\": \"Feedback arquitetural\"\n    },\n    {\n      \"description\": \"Decisões arquiteturais vistas como opções com valor de adiar. Útil para comparar custo de manter flexibilidade contra custo de decidir agora.\",\n      \"title\": \"Opções reais na arquitetura\"\n    },\n    {\n      \"description\": \"Escolhas com baixo custo de mudança, tratadas como experimentos. Favorecem velocidade quando a incerteza é alta.\",\n      \"title\": \"Decisão reversível\"\n    },\n    {\n      \"description\": \"Escolhas caras de desfazer, exigindo análise mais cuidadosa. Normalmente envolvem dados, plataforma ou contratos externos.\",\n      \"title\": \"Decisão irreversível\"\n    },\n    {\n      \"description\": \"Quanto esforço é necessário para alterar um aspecto do sistema. Arquitetura boa reduz o custo marginal de mudanças frequentes.\",\n      \"title\": \"Custo de mudança\"\n    },\n    {\n      \"description\": \"Capacidade do sistema de absorver mudanças de requisitos com impacto local. Depende de bons limites, baixo acoplamento e contratos claros.\",\n      \"title\": \"Mudança frequente como premissa\"\n    },\n    {\n      \"description\": \"Regra prática para priorizar mudanças arquiteturais conforme necessidade real. Evita construir “para o futuro” sem evidência.\",\n      \"title\": \"Evolução guiada por necessidade\"\n    },\n    {\n      \"description\": \"Entregas pequenas que atravessam o sistema com mínimo impacto estrutural. Ajuda a revelar limites ruins cedo.\",\n      \"title\": \"Fatia fina arquitetural\"\n    },\n    {\n      \"description\": \"Parte do sistema com responsabilidade clara e fronteiras definidas. Pode ser pacote, componente, serviço ou biblioteca.\",\n      \"title\": \"Módulo\"\n    },\n    {\n      \"description\": \"Capacidade de trocar ou evoluir partes do sistema sem efeitos colaterais amplos. Depende de fronteiras e contratos bem definidos.\",\n      \"title\": \"Modularidade\"\n    },\n    {\n      \"description\": \"O que fica dentro do módulo não deve vazar para fora. Reduz dependências acidentais e facilita mudanças internas.\",\n      \"title\": \"Encapsulamento\"\n    },\n    {\n      \"description\": \"Esconder detalhes de implementação atrás de uma interface estável. Mudanças internas não obrigam mudanças em quem usa.\",\n      \"title\": \"Ocultação de informação\"\n    },\n    {\n      \"description\": \"Interface que muda pouco e protege o restante do sistema da volatilidade. Frequentemente representa conceitos do domínio, não detalhes técnicos.\",\n      \"title\": \"Abstração estável\"\n    },\n    {\n      \"description\": \"Superfície de uso de um módulo exposta para outros módulos. Deve ser pequena, clara e com poucos pontos de extensão.\",\n      \"title\": \"Interface pública\"\n    },\n    {\n      \"description\": \"Regras explícitas sobre entradas, saídas, erros e invariantes. Contratos claros reduzem acoplamento e ambiguidade.\",\n      \"title\": \"Contrato de módulo\"\n    },\n    {\n      \"description\": \"Dependências declaradas e visíveis em código ou configuração. Evita acoplamento implícito por variáveis globais ou estados compartilhados.\",\n      \"title\": \"Dependência explícita\"\n    },\n    {\n      \"description\": \"Depender de abstrações, não de implementações concretas. Permite troca de componentes sem reescrever consumidores.\",\n      \"title\": \"Inversão de dependência\"\n    },\n    {\n      \"description\": \"Regra arquitetural para orientar quem pode depender de quem. Evita ciclos e reduz propagação de mudanças.\",\n      \"title\": \"Direção de dependência\"\n    },\n    {\n      \"description\": \"Dependência circular entre módulos que impede evolução isolada. Costuma exigir extração de abstrações ou quebra de responsabilidades.\",\n      \"title\": \"Ciclo de dependência\"\n    },\n    {\n      \"description\": \"Um módulo depende de detalhes de outro módulo para funcionar. Quanto maior o acoplamento, maior o raio de impacto de mudanças.\",\n      \"title\": \"Acoplamento\"\n    },\n    {\n      \"description\": \"Dependência no tempo de execução por ordem de chamadas ou disponibilidade simultânea. Aumenta fragilidade quando há variação de latência ou falhas.\",\n      \"title\": \"Acoplamento temporal\"\n    },\n    {\n      \"description\": \"Vários módulos dependem do mesmo armazenamento ou esquema como ponto central. Mudanças em dados se espalham rapidamente pelo sistema.\",\n      \"title\": \"Acoplamento por dados compartilhados\"\n    },\n    {\n      \"description\": \"Integração que exige resposta imediata para prosseguir. Pode ser simples, mas reduz autonomia e aumenta impacto de indisponibilidade.\",\n      \"title\": \"Acoplamento síncrono\"\n    },\n    {\n      \"description\": \"Dependência no formato de mensagens, campos e semântica. Mudanças de payload sem compatibilidade quebram consumidores.\",\n      \"title\": \"Acoplamento por formato de mensagem\"\n    },\n    {\n      \"description\": \"Consumidor depende de comportamento não documentado do provedor. Quebra facilmente quando o provedor refatora internamente.\",\n      \"title\": \"Acoplamento por conhecimento de implementação\"\n    },\n    {\n      \"description\": \"Quantidade de outros módulos que dependem de um módulo. Alta aferência aumenta responsabilidade de estabilidade.\",\n      \"title\": \"Aferência\"\n    },\n    {\n      \"description\": \"Quantidade de módulos dos quais um módulo depende. Alta eferência aumenta risco de propagação de mudanças para dentro.\",\n      \"title\": \"Eferência\"\n    },\n    {\n      \"description\": \"Métrica de estabilidade baseada em aferência e eferência: I = Ce/(Ca+Ce). Ajuda a identificar módulos frágeis por dependências externas.\",\n      \"title\": \"Instabilidade de módulo\"\n    },\n    {\n      \"description\": \"Quanto as partes internas de um módulo pertencem ao mesmo propósito. Coesão alta facilita evolução local e reduz efeitos colaterais.\",\n      \"title\": \"Coesão\"\n    },\n    {\n      \"description\": \"Módulo faz uma coisa bem definida e completa. Geralmente a forma mais desejável de coesão.\",\n      \"title\": \"Coesão funcional\"\n    },\n    {\n      \"description\": \"Partes do módulo formam um fluxo onde a saída de uma etapa vira entrada da próxima. Aceitável quando o fluxo é o propósito do módulo.\",\n      \"title\": \"Coesão sequencial\"\n    },\n    {\n      \"description\": \"Agrupamento sem relação forte, apenas por conveniência. Sinal comum: “util” genérico crescendo sem controle.\",\n      \"title\": \"Coesão por coincidência\"\n    },\n    {\n      \"description\": \"Sintomas como nomes genéricos, muitas razões para mudar ou métodos que não usam os mesmos dados. Indica necessidade de dividir responsabilidades.\",\n      \"title\": \"Sinais de baixa coesão\"\n    },\n    {\n      \"description\": \"Uma classe ou módulo com uma única razão principal para mudar. Heurística prática para dividir módulos e reduzir acoplamento.\",\n      \"title\": \"SRP como heurística\"\n    },\n    {\n      \"description\": \"Linha clara separando responsabilidades entre partes do sistema. Um bom boundary reduz impacto quando regras mudam.\",\n      \"title\": \"Boundary\"\n    },\n    {\n      \"description\": \"Transformar boundary em regra arquitetural checável. Exemplo: proibir dependência direta de um pacote interno.\",\n      \"title\": \"Boundary protegido\"\n    },\n    {\n      \"description\": \"Camada que traduz modelos e integrações para evitar que conceitos externos contaminem o núcleo. Útil quando integrações mudam com frequência.\",\n      \"title\": \"Camada anticorrupção\"\n    },\n    {\n      \"description\": \"Organização do código por domínios ou capacidades do negócio. Tende a melhorar modularidade quando requisitos mudam por área de produto.\",\n      \"title\": \"Divisão por domínio\"\n    },\n    {\n      \"description\": \"Organização do código por camadas técnicas (UI, serviço, persistência). Útil em alguns cenários, mas pode aumentar acoplamento transversal.\",\n      \"title\": \"Divisão por camada\"\n    },\n    {\n      \"description\": \"Monólito com módulos bem definidos e independentes no código. Mantém simplicidade de deploy com melhor isolamento interno.\",\n      \"title\": \"Monólito modular\"\n    },\n    {\n      \"description\": \"Ponto no design onde é fácil substituir uma dependência. Costuras bem colocadas viabilizam evolução sem reescrever tudo.\",\n      \"title\": \"Costura arquitetural\"\n    },\n    {\n      \"description\": \"Capacidade de substituir uma implementação por outra com mudança mínima. Geralmente depende de contratos pequenos e estáveis.\",\n      \"title\": \"Plugabilidade\"\n    },\n    {\n      \"description\": \"Evitar que detalhes concretos se espalhem pelo sistema. Exemplo: evitar depender diretamente de uma biblioteca específica fora de um módulo adaptador.\",\n      \"title\": \"Detalhe confinado\"\n    },\n    {\n      \"description\": \"Separar o que muda frequentemente do que precisa ser estável. Reduz retrabalho quando regras de negócio mudam rápido.\",\n      \"title\": \"Volatilidade isolada\"\n    },\n    {\n      \"description\": \"Manter caminhos alternativos abertos quando a incerteza é alta. Exemplo: evitar acoplar cedo em uma solução de persistência sem evidência.\",\n      \"title\": \"Preservação de opções\"\n    },\n    {\n      \"description\": \"Evitar criar um “framework interno” antes da hora. Prematuridade costuma aumentar complexidade sem retorno.\",\n      \"title\": \"Generalização precoce\"\n    },\n    {\n      \"description\": \"Manter compatibilidade ao alterar uma interface pública. Estratégia comum: adicionar campos sem remover os antigos até migração completa.\",\n      \"title\": \"Compatibilidade retroativa\"\n    },\n    {\n      \"description\": \"Evolução de contratos usando versões explícitas para reduzir quebras. Útil quando múltiplos consumidores evoluem em ritmos diferentes.\",\n      \"title\": \"Versionamento de contrato\"\n    },\n    {\n      \"description\": \"Mudança de contrato em etapas para permitir adoção gradual. Minimiza interrupções quando há dependências externas.\",\n      \"title\": \"Migração incremental\"\n    },\n    {\n      \"description\": \"Substituição gradual de partes antigas por novas mantendo o sistema funcionando. Reduz risco ao evitar big bang.\",\n      \"title\": \"Padrão estrangulador\"\n    },\n    {\n      \"description\": \"Registrar decisões arquiteturais em formato leve e rastreável. Ajuda a explicar o “porquê” quando o contexto muda.\",\n      \"title\": \"ADR\"\n    },\n    {\n      \"description\": \"Campos típicos: contexto, decisão, status, consequências. Mantém o registro curto sem perder o essencial.\",\n      \"title\": \"Estrutura de ADR\"\n    },\n    {\n      \"description\": \"Estado da decisão ao longo do tempo: proposta, aceita, depreciada, substituída. Evita que decisões antigas virem “lei” para sempre.\",\n      \"title\": \"Status de ADR\"\n    },\n    {\n      \"description\": \"Razões pelas quais a decisão foi tomada no contexto da época. Preserva intenção quando novas pessoas entram no time.\",\n      \"title\": \"Contexto de decisão\"\n    },\n    {\n      \"description\": \"Efeitos positivos e negativos esperados após uma decisão. Torna trade-offs explícitos para revisões futuras.\",\n      \"title\": \"Consequência de decisão\"\n    },\n    {\n      \"description\": \"Escolha que acontece se ninguém decidir explicitamente. Tornar o default claro evita divergência e discussões repetidas.\",\n      \"title\": \"Decisão por default\"\n    },\n    {\n      \"description\": \"Escolha tomada para destravar trabalho imediato, aceitando revisão futura. Útil quando o custo de adiar é baixo.\",\n      \"title\": \"Decisão provisória\"\n    },\n    {\n      \"description\": \"Decisão baseada em evidência coletada por um pequeno experimento. Reduz achismo em escolhas de alto impacto.\",\n      \"title\": \"Decisão por experimento\"\n    },\n    {\n      \"description\": \"Atividade curta para reduzir incerteza arquitetural com código mínimo. Deve ter hipótese, métrica de sucesso e tempo limitado.\",\n      \"title\": \"Spike arquitetural\"\n    },\n    {\n      \"description\": \"Protótipo para validar viabilidade técnica sem compromisso de produção. Ideal para checar limites de performance ou integração.\",\n      \"title\": \"Prova de conceito\"\n    },\n    {\n      \"description\": \"Regras simples que limitam escolhas para proteger a arquitetura. Exemplos: limites de dependência, padrões obrigatórios de comunicação interna.\",\n      \"title\": \"Guardrails arquiteturais\"\n    },\n    {\n      \"description\": \"Regra que impede diretamente um design indesejado. Deve ser objetiva, verificável e aplicada de forma consistente.\",\n      \"title\": \"Restrição arquitetural\"\n    },\n    {\n      \"description\": \"Padrão sugerido quando não há motivo forte para variar. Mantém consistência sem impedir inovação.\",\n      \"title\": \"Padrão recomendado\"\n    },\n    {\n      \"description\": \"Critério claro para quando uma exceção a um guardrail é aceitável. Evita burocracia e mantém responsabilidade.\",\n      \"title\": \"Exceção arquitetural\"\n    },\n    {\n      \"description\": \"Rotina curta para checar se a arquitetura continua alinhada a objetivos. Pode ser feita em checkpoints de evolução do produto.\",\n      \"title\": \"Revisão arquitetural contínua\"\n    },\n    {\n      \"description\": \"Checklist automatizado ou semiautomatizado que valida regras de arquitetura. Exemplo: proibir dependências entre camadas não permitidas.\",\n      \"title\": \"Teste arquitetural\"\n    },\n    {\n      \"description\": \"Função que mede se a arquitetura atende um atributo desejado. Pode ser automatizada, manual ou híbrida.\",\n      \"title\": \"Fitness function arquitetural\"\n    },\n    {\n      \"description\": \"Fitness function com resultado passa/falha baseado em um limite. Útil para regras rígidas como dependências proibidas.\",\n      \"title\": \"Fitness function binária\"\n    },\n    {\n      \"description\": \"Fitness function que produz valor numérico para acompanhar tendência. Útil para orçamento de desempenho ou tamanho de artefato.\",\n      \"title\": \"Fitness function contínua\"\n    },\n    {\n      \"description\": \"Verificação feita por inspeção humana com critérios claros. Útil quando automação ainda não é viável.\",\n      \"title\": \"Fitness function manual\"\n    },\n    {\n      \"description\": \"Verificação executada por ferramenta, script ou validação contínua. Reduz custo de controle conforme o sistema cresce.\",\n      \"title\": \"Fitness function automatizada\"\n    },\n    {\n      \"description\": \"Limite máximo aceito para um indicador de performance relevante. Evita degradação gradual enquanto funcionalidades são adicionadas.\",\n      \"title\": \"Orçamento de desempenho\"\n    },\n    {\n      \"description\": \"Regra que garante que módulos respeitam boundaries definidos. Pode checar dependências proibidas, ciclos ou violações de camada.\",\n      \"title\": \"Regra de dependência como fitness\"\n    },\n    {\n      \"description\": \"Limite para tamanho de módulo, componente ou pacote. Ajuda a identificar “módulos bola de neve” antes que virem gargalo.\",\n      \"title\": \"Orçamento de tamanho de módulo\"\n    },\n    {\n      \"description\": \"Limite para tempo de inicialização quando isso afeta fluxo de mudança. Ajuda a manter ciclos locais rápidos em sistemas grandes.\",\n      \"title\": \"Orçamento de inicialização\"\n    },\n    {\n      \"description\": \"Mapear módulos que mudam juntos com frequência usando histórico de commits. Indica boundaries mal definidos ou responsabilidades misturadas.\",\n      \"title\": \"Acoplamento por mudança\"\n    },\n    {\n      \"description\": \"Quanto uma mudança típica atravessa múltiplos módulos. Pode ser usado para priorizar melhorias de modularidade.\",\n      \"title\": \"Raio de impacto\"\n    },\n    {\n      \"description\": \"Recorte mínimo do sistema que pode evoluir de forma independente. Arquiteturas evolutivas buscam reduzir esse recorte ao longo do tempo.\",\n      \"title\": \"Unidade de evolução\"\n    },\n    {\n      \"description\": \"Como a estrutura do time influencia a estrutura do software. Útil para explicar acoplamento organizacional refletido no código.\",\n      \"title\": \"Lei de Conway\"\n    },\n    {\n      \"description\": \"Ajuste intencional do desenho do sistema para induzir colaboração desejada. Exemplo: criar boundaries para reduzir dependência entre times.\",\n      \"title\": \"Conway inversa\"\n    },\n    {\n      \"description\": \"Diagrama que mostra pessoas, sistemas externos e fronteiras do sistema. Ajuda a alinhar o que está dentro do escopo arquitetural.\",\n      \"title\": \"C4 nível contexto\"\n    },\n    {\n      \"description\": \"Diagrama que mostra principais aplicações, serviços e bancos envolvidos como containers. Ajuda a discutir modularidade em alto nível sem entrar em classes.\",\n      \"title\": \"C4 nível container\"\n    },\n    {\n      \"description\": \"Documento simples mantido perto do código para evitar desatualização. Foco em decisões, boundaries e contratos, não em detalhes de implementação.\",\n      \"title\": \"Documentação viva\"\n    }\n  ]\n}",
      "outputTokens": 5211,
      "systemPrompt": "# Role\n\nYou are designing an **extensive** list of bite-sized, focused lessons for a specific chapter in a course.\n\nYou have expertise in instructional design, curriculum development, and creating granular learning paths. You have worked at top educational institutions creating micro-learning content that breaks down complex topics into digestible, single-concept lessons.\n\nYour mission is to create a lesson structure where each lesson covers **ONE SPECIFIC CONCEPT** that can be learned in 2-3 minutes and explained in 10 short tweets or less.\n\nYou deeply care about making learning accessible, focused, and efficient by breaking down topics into their smallest logical units.\n\n# Inputs\n\n- `COURSE_TITLE`: name of the overall course\n- `CHAPTER_TITLE`: title of this specific chapter\n- `CHAPTER_DESCRIPTION`: what this chapter covers\n- `LANGUAGE`: output language for titles and descriptions\n- `NEIGHBORING_CHAPTERS` (optional): titles and descriptions of chapters that come before and after this one in the course\n\n## Language\n\n- `en`: Use US region unless the content is about a different region.\n- `pt`: Use Brazilian Portuguese unless the content is about a different region.\n- `es`: Use Latin American Spanish unless the content is about a different region.\n\n# Goal\n\nProduce an **extensive** list of **single-concept** lessons that collectively cover everything in `CHAPTER_TITLE` and `CHAPTER_DESCRIPTION`. Each lesson should be so focused that a student can learn and understand the concept in 2-3 minutes.\n\n# Critical Requirements\n\n## Single-Concept Focus\n\n- **Each lesson MUST cover ONE SPECIFIC concept only**\n- If you can explain it in 10 short tweets or less, it's appropriately scoped\n- If it takes more than 10 tweets, **split it into multiple lessons**\n- If a topic is too broad, **break it down further**\n- Each lesson should be extremely focused on a single idea\n\n## Title & Description Requirements\n\n- Follow the same concise, no-fluff style as course chapter title and description\n- **NEVER** use words like \"learn\", \"understand\", \"explore\", \"introduction to\", \"basics of\", etc.\n- Go straight to the point\n- If you find yourself using **\"AND\"**, **\"OR\"**, or **\"VS\"** in a title, you should split it into separate lessons\n\n## Examples of Proper Granularity\n\n**TOO BROAD:**\n❌ \"Hardware vs. Software\"\n❌ \"Variables and Data Types\"\n❌ \"Functions and Methods\"\n\n**CORRECTLY BROKEN DOWN:**\n✅ \"What is Hardware?\"\n✅ \"What is Software?\"\n✅ \"How Hardware and Software Interact\"\n\nOr:\n\n✅ \"Variables: Storing Values\"\n✅ \"Data Types Overview\"\n✅ \"Numbers in Programming\"\n✅ \"Text (Strings) in Programming\"\n✅ \"Booleans (True/False Values)\"\n\n## Progression & Structure\n\n- Build a logical progression from basic to advanced concepts\n- Ensure lessons build on knowledge from previous lessons\n- Focus lessons specifically on THIS chapter, not the entire course\n- Don't add summary, review, or \"key concepts\" lessons\n- Don't add assessment or quiz lessons\n- Don't add final project or capstone lessons\n\n## Scope\n\n- Cover **everything** in `CHAPTER_DESCRIPTION` and `CHAPTER_TITLE`\n- Never go beyond the chapter's scope\n- Add **as many lessons as needed** to break down each concept fully\n- Don't limit the number of lessons arbitrarily\n- It's better to have many focused lessons than fewer broad ones\n- Make sure to have all lessons needed to **fully master the chapter's scope**\n\n## Neighboring Chapter Awareness\n\nWhen `NEIGHBORING_CHAPTERS` is provided, use it to avoid generating dedicated lessons on topics that have their own chapter. For example, if a neighboring chapter covers \"HTTP fundamentals,\" do not create standalone lessons teaching HTTP methods or status codes — those belong in that chapter, not this one.\n\nBrief contextual mentions are fine. For example, a lesson can reference HTTP to explain a concept, but should not become a standalone lesson _about_ HTTP.\n\n# Quality Checks\n\nBefore finalizing your lesson list, ask yourself for EACH lesson:\n\n1. **Is this lesson too broad?** → If yes, break it down further\n2. **Can this concept be explained in 10 short tweets or less?** → If no, split it\n3. **Does this lesson focus on a single specific concept?** → If no, split it\n4. **Does the title contain \"AND\", \"OR\", or \"VS\"?** → If yes, split into separate lessons\n5. **Would a student need more than 2-3 minutes to grasp this?** → If yes, simplify or split\n\n# Output Format\n\nEach lesson must include **exactly two fields**:\n\n- **Title** — short, specific, focused on the single concept\n- **Description** — 1-2 sentences describing what the lesson covers, no fluff\n\n## Good Title Examples\n\n- \"What is a Variable?\"\n- \"Integer Numbers\"\n- \"Floating-Point Numbers\"\n- \"Declaring Variables\"\n- \"Assigning Values\"\n- \"The Addition Operator\"\n- \"The Subtraction Operator\"\n\n## Good Description Examples\n\n- \"Memory locations that store values during program execution.\"\n- \"Whole numbers without decimal points: 1, 42, -17, 0.\"\n- \"Numbers with decimal points: 3.14, -0.5, 2.0.\"\n- \"Creating a variable with a name and type.\"\n- \"Storing a value into a variable using the assignment operator.\"\n\n# Last Check\n\nAfter creating your lesson list, verify:\n\n- \"Does each lesson cover ONLY ONE concept?\" → All must be YES\n- \"Can each lesson be explained in 10 tweets?\" → All must be YES\n- \"Have I covered EVERYTHING from the chapter description?\" → Must be YES\n- \"Are there any lessons that should be split further?\" → Must be NO\n- \"Are the titles and descriptions concise and to the point with no fluff?\" → Must be YES\n- \"Did I stay within the chapter's scope?\" → Must be YES\n- \"Does any lesson teach a topic that belongs in a neighboring chapter?\" → Must be NO\n\nThis should be the most **granular**, **focused**, and **extensive** lesson list possible for this chapter.\n",
      "testCaseId": "pt-agile-arquitetura-agil-1",
      "userPrompt": "\n    LANGUAGE: pt\n    COURSE_TITLE: Metodologias Ágeis\n    CHAPTER_TITLE: Arquitetura em ambientes ágeis\n    CHAPTER_DESCRIPTION: Arquitetura evolutiva, modularidade, acoplamento/cohesão, fitness functions e decisões arquiteturais compatíveis com mudanças frequentes.\nNEIGHBORING_CHAPTERS:\n- \"Discovery e Delivery integrados\": Dual Track (Discovery/Delivery), discovery contínuo, e prevenção de 'teatro ágil' com entrega sem aprendizado.\n- \"DevOps e entrega contínua\": DevOps: colaboração Dev+Ops, automação, pipelines, IaC, e redução de handoffs para acelerar e estabilizar entregas.\n- \"SRE e confiabilidade em produtos digitais\": SRE: SLIs/SLOs, error budget, confiabilidade como requisito, e equilíbrio entre velocidade e estabilidade.\n- \"Dívida técnica e sustentabilidade\": Gestão de dívida técnica, qualidade interna, refatoração estratégica, e mecanismos de priorização junto ao valor de negócio.\n- \"Estratégias modernas de testes\": Qualidade e testes: pirâmide de testes, testes automatizados, testes exploratórios, e estratégias para sistemas distribuídos.\n- \"Segurança e DevSecOps\": Segurança no ciclo ágil: threat modeling, DevSecOps, shift-left, gestão de vulnerabilidades e resposta a incidentes.\n  "
    },
    {
      "duration": 87896.84529200001,
      "inputTokens": 1687,
      "output": "{\n  \"lessons\": [\n    {\n      \"description\": \"Death functions as a hard boundary that most magic cannot cross without severe tradeoffs.\",\n      \"title\": \"Death as a magical boundary\"\n    },\n    {\n      \"description\": \"Immortality appears as a recurring temptation that reshapes characters’ choices under pressure.\",\n      \"title\": \"Immortality as temptation\"\n    },\n    {\n      \"description\": \"Extended lifespan keeps the same life going longer without truly preventing death.\",\n      \"title\": \"Longevity as pseudo-immortality\"\n    },\n    {\n      \"description\": \"Survival that depends on continuously repairing damage rather than escaping death outright.\",\n      \"title\": \"Regeneration as survival strategy\"\n    },\n    {\n      \"description\": \"Returning a dead person to life and why the series treats it as unstable or incomplete.\",\n      \"title\": \"Resurrection as a broken promise\"\n    },\n    {\n      \"description\": \"Staying “un-dead” by anchoring the self to the world through an external mechanism.\",\n      \"title\": \"World-anchored immortality\"\n    },\n    {\n      \"description\": \"Immortality trades freedom for maintenance, secrecy, and escalating risk.\",\n      \"title\": \"Immortality as dependency\"\n    },\n    {\n      \"description\": \"Immortality tends to convert fear into domination, especially when death is treated as an enemy to defeat.\",\n      \"title\": \"Immortality as control drive\"\n    },\n    {\n      \"description\": \"Moral decay accelerates when death is treated as a rule to bypass rather than a limit to respect.\",\n      \"title\": \"Immortality as moral corrosion\"\n    },\n    {\n      \"description\": \"Alchemy is framed as a rare, high-status branch of magic linked to transformation and perfection.\",\n      \"title\": \"Alchemy in wizarding canon\"\n    },\n    {\n      \"description\": \"Alchemy targets fundamental transformation rather than surface alteration.\",\n      \"title\": \"Alchemy as deep transmutation\"\n    },\n    {\n      \"description\": \"Classical alchemy treats physical change as a mirror of inner change.\",\n      \"title\": \"Alchemy as inner refinement\"\n    },\n    {\n      \"description\": \"“Base metal” represents the ordinary self that alchemy tries to transform.\",\n      \"title\": \"Base metal symbolism\"\n    },\n    {\n      \"description\": \"Gold functions as the emblem of completion, purity, and incorruptibility.\",\n      \"title\": \"Gold symbolism\"\n    },\n    {\n      \"description\": \"The magnum opus is the idealized end-state alchemy claims is possible.\",\n      \"title\": \"Magnum opus concept\"\n    },\n    {\n      \"description\": \"Nigredo is the “blackening” phase: breakdown, rot, and confrontation with impurity.\",\n      \"title\": \"Nigredo stage\"\n    },\n    {\n      \"description\": \"Albedo is the “whitening” phase: cleansing, clarification, and separating the essential.\",\n      \"title\": \"Albedo stage\"\n    },\n    {\n      \"description\": \"Citrinitas marks “yellowing”: dawning insight and the approach to completion.\",\n      \"title\": \"Citrinitas stage\"\n    },\n    {\n      \"description\": \"Rubedo is the “reddening” phase: integration and the arrival of the finished work.\",\n      \"title\": \"Rubedo stage\"\n    },\n    {\n      \"description\": \"Circles encode containment, order, and controlled transformation in alchemical imagery.\",\n      \"title\": \"Alchemical circle meaning\"\n    },\n    {\n      \"description\": \"Alchemy relies on controlled environments where tiny changes have outsized effects.\",\n      \"title\": \"Laboratory as transformation space\"\n    },\n    {\n      \"description\": \"Alchemy’s secrecy functions as both protection and gatekeeping of dangerous power.\",\n      \"title\": \"Alchemy as guarded knowledge\"\n    },\n    {\n      \"description\": \"Alchemists occupy a niche tied to prestige, suspicion, and long time horizons.\",\n      \"title\": \"Alchemist social position\"\n    },\n    {\n      \"description\": \"The Stone is a legendary alchemical artifact credited with impossible transformations.\",\n      \"title\": \"Philosopher’s Stone definition\"\n    },\n    {\n      \"description\": \"Its uniqueness amplifies obsession because the solution to death becomes a single point of failure.\",\n      \"title\": \"Philosopher’s Stone scarcity\"\n    },\n    {\n      \"description\": \"Nicolas Flamel represents the long-lived human cost of possessing the “answer.”\",\n      \"title\": \"Nicolas Flamel role\"\n    },\n    {\n      \"description\": \"Control over the Stone becomes a political problem disguised as a personal one.\",\n      \"title\": \"Philosopher’s Stone custody\"\n    },\n    {\n      \"description\": \"Gold-making is a symbol of transcending scarcity, not just getting rich.\",\n      \"title\": \"Stone gold transmutation\"\n    },\n    {\n      \"description\": \"The Elixir is a repeatable life-extension output rather than a one-time miracle.\",\n      \"title\": \"Elixir of Life concept\"\n    },\n    {\n      \"description\": \"The Elixir requires continued access, turning immortality into a supply-chain problem.\",\n      \"title\": \"Elixir dose dependence\"\n    },\n    {\n      \"description\": \"Losing access to the Elixir forces mortality to return immediately, not gradually.\",\n      \"title\": \"Elixir access vulnerability\"\n    },\n    {\n      \"description\": \"The Elixir sustains life without resolving the meaning of life.\",\n      \"title\": \"Elixir without fulfillment\"\n    },\n    {\n      \"description\": \"Choosing to destroy the Stone frames mortality as an ethical decision, not a defeat.\",\n      \"title\": \"Stone destruction choice\"\n    },\n    {\n      \"description\": \"The Stone concentrates desire into a single object that reveals character under stress.\",\n      \"title\": \"Stone as desire magnet\"\n    },\n    {\n      \"description\": \"The protections around the Stone test traits like patience, logic, and restraint more than raw power.\",\n      \"title\": \"Stone protection as character filter\"\n    },\n    {\n      \"description\": \"The Mirror grants the Stone only to someone who wants it without wanting to use it.\",\n      \"title\": \"Mirror desire condition\"\n    },\n    {\n      \"description\": \"Flamel’s acceptance of death reframes “success” as knowing when to stop.\",\n      \"title\": \"Flamel mortality acceptance\"\n    },\n    {\n      \"description\": \"Unicorn blood extends life by violating innocence, making survival itself a curse.\",\n      \"title\": \"Unicorn blood life extension\"\n    },\n    {\n      \"description\": \"The cursed longevity from unicorn blood shows immortality gained by predation.\",\n      \"title\": \"Unicorn blood curse\"\n    },\n    {\n      \"description\": \"Parasitic survival depends on consuming another’s life, collapsing ethics into hunger.\",\n      \"title\": \"Parasitic survival model\"\n    },\n    {\n      \"description\": \"Souls are treated as real, damageable entities with consequences that persist beyond the body.\",\n      \"title\": \"Soul as metaphysical object\"\n    },\n    {\n      \"description\": \"A whole soul functions as the baseline for personhood, agency, and moral coherence.\",\n      \"title\": \"Soul integrity baseline\"\n    },\n    {\n      \"description\": \"Murder tears the soul by choice, making violence metaphysical self-harm.\",\n      \"title\": \"Murder as soul tearing\"\n    },\n    {\n      \"description\": \"A Horcrux is a container that holds a severed soul fragment to prevent final death.\",\n      \"title\": \"Horcrux definition\"\n    },\n    {\n      \"description\": \"Horcrux-making requires intent; the split is not an accident once the method is chosen.\",\n      \"title\": \"Horcrux creation intent\"\n    },\n    {\n      \"description\": \"The creation method is treated as taboo knowledge because it operationalizes atrocity.\",\n      \"title\": \"Horcrux ritual taboo\"\n    },\n    {\n      \"description\": \"Binding a fragment to an object turns a thing into an active site of corruption.\",\n      \"title\": \"Vessel binding principle\"\n    },\n    {\n      \"description\": \"A Horcrux keeps the maker from “moving on,” anchoring existence to the world by force.\",\n      \"title\": \"Death tether mechanism\"\n    },\n    {\n      \"description\": \"The body can be destroyed while the self persists as a reduced, dependent remainder.\",\n      \"title\": \"Disembodied persistence\"\n    },\n    {\n      \"description\": \"Pursuing multiple Horcruxes treats the soul like a resource to be spent.\",\n      \"title\": \"Multiple Horcrux logic\"\n    },\n    {\n      \"description\": \"The number seven functions as a fetishized target that replaces caution with symbolism.\",\n      \"title\": \"Seven as fixation\"\n    },\n    {\n      \"description\": \"More splits reduce stability, making immortality produce fragility instead of safety.\",\n      \"title\": \"Fragmentation instability\"\n    },\n    {\n      \"description\": \"Choosing significant objects externalizes ego, turning identity into a museum of trophies.\",\n      \"title\": \"Heirloom fixation\"\n    },\n    {\n      \"description\": \"A living creature as vessel adds mobility but introduces independent will and risk.\",\n      \"title\": \"Living vessel concept\"\n    },\n    {\n      \"description\": \"An accidental Horcrux reframes fragmentation as contagious when conditions align.\",\n      \"title\": \"Accidental Horcrux event\"\n    },\n    {\n      \"description\": \"The scar marks a boundary breach where foreign soul matter attaches to a person.\",\n      \"title\": \"Scar as metaphysical wound\"\n    },\n    {\n      \"description\": \"A fragment can carry traits that feel like inheritance without being true lineage.\",\n      \"title\": \"Trait transfer via fragment\"\n    },\n    {\n      \"description\": \"Horcrux proximity increases psychological pressure without requiring formal mind magic.\",\n      \"title\": \"Horcrux emotional pressure\"\n    },\n    {\n      \"description\": \"Some Horcruxes attempt to steer behavior by amplifying fear, anger, and isolation.\",\n      \"title\": \"Behavioral manipulation effect\"\n    },\n    {\n      \"description\": \"Possession occurs when the fragment gains leverage through attention, use, or vulnerability.\",\n      \"title\": \"Possession pathway\"\n    },\n    {\n      \"description\": \"A written Horcrux can simulate memory and personality to recruit the reader’s trust.\",\n      \"title\": \"Text-based Horcrux tactic\"\n    },\n    {\n      \"description\": \"The diary model feeds on disclosure, turning confession into fuel.\",\n      \"title\": \"Confession as nourishment\"\n    },\n    {\n      \"description\": \"A wearable Horcrux normalizes contact, making corruption feel like ordinary companionship.\",\n      \"title\": \"Wearable Horcrux exposure\"\n    },\n    {\n      \"description\": \"A cursed ring pattern pairs temptation with a trap that punishes grasping.\",\n      \"title\": \"Temptation trap design\"\n    },\n    {\n      \"description\": \"A vault-kept Horcrux turns defense into delay, buying time through inconvenience and secrecy.\",\n      \"title\": \"Concealment by isolation\"\n    },\n    {\n      \"description\": \"A public artifact Horcrux hides by blending into institutions and assumed legitimacy.\",\n      \"title\": \"Concealment by legitimacy\"\n    },\n    {\n      \"description\": \"A mobile Horcrux shifts the risk from discovery to betrayal by the living carrier.\",\n      \"title\": \"Mobility tradeoff\"\n    },\n    {\n      \"description\": \"A Horcrux can feel like a “presence,” blurring the line between object and agent.\",\n      \"title\": \"Artifact quasi-agency\"\n    },\n    {\n      \"description\": \"The maker’s dependence on fragments increases paranoia because every container becomes a hostage.\",\n      \"title\": \"Paranoia from dependency\"\n    },\n    {\n      \"description\": \"Horcrux immortality forces repeated violence to maintain a life built from harm.\",\n      \"title\": \"Violence as upkeep\"\n    },\n    {\n      \"description\": \"Fragmentation erodes empathy by repeatedly choosing self-preservation over personhood.\",\n      \"title\": \"Empathy erosion\"\n    },\n    {\n      \"description\": \"The self becomes less human as the soul is treated as divisible and expendable.\",\n      \"title\": \"Dehumanization feedback loop\"\n    },\n    {\n      \"description\": \"A Horcrux can only be destroyed by damage so severe the vessel cannot be repaired.\",\n      \"title\": \"Irreparable damage rule\"\n    },\n    {\n      \"description\": \"Basilisk venom works because its damage overwhelms magical healing and restoration.\",\n      \"title\": \"Basilisk venom property\"\n    },\n    {\n      \"description\": \"Fiendfyre destroys by consuming enchantment and matter beyond safe control.\",\n      \"title\": \"Fiendfyre consumption\"\n    },\n    {\n      \"description\": \"The sword’s power grows by absorbing what it defeats, enabling Horcrux destruction later.\",\n      \"title\": \"Sword absorption principle\"\n    },\n    {\n      \"description\": \"Destroying a Horcrux often produces backlash because the fragment resists annihilation.\",\n      \"title\": \"Destruction backlash\"\n    },\n    {\n      \"description\": \"A living Horcrux is destroyed by killing the host, making the “solution” morally loaded.\",\n      \"title\": \"Living Horcrux destruction\"\n    },\n    {\n      \"description\": \"Sacrificial death can neutralize a fragment without empowering the killer’s will to dominate.\",\n      \"title\": \"Sacrifice loophole\"\n    },\n    {\n      \"description\": \"The King’s Cross liminal scene visualizes a severed fragment as damaged, stunted being.\",\n      \"title\": \"Fragment in liminal space\"\n    },\n    {\n      \"description\": \"Remorse is framed as the only repair path because it confronts the tear’s moral cause.\",\n      \"title\": \"Remorse as soul repair\"\n    },\n    {\n      \"description\": \"A maimed soul becomes incapable of healthy afterlife transition, trapping the self in consequence.\",\n      \"title\": \"Afterlife blockage\"\n    },\n    {\n      \"description\": \"Voldemort’s reduced form embodies immortality that preserves existence while destroying humanity.\",\n      \"title\": \"Reduced-self consequence\"\n    },\n    {\n      \"description\": \"The Stone models immortality as renewal through craft, not violence through murder.\",\n      \"title\": \"Renewal-based immortality\"\n    },\n    {\n      \"description\": \"Horcruxes model immortality as anchoring through harm, not transformation through refinement.\",\n      \"title\": \"Harm-anchored immortality\"\n    },\n    {\n      \"description\": \"Both paths show that dodging death changes identity long before it changes lifespan.\",\n      \"title\": \"Identity under immortality\"\n    },\n    {\n      \"description\": \"Immortality reframes legacy from what you leave behind to what you refuse to release.\",\n      \"title\": \"Legacy distortion\"\n    }\n  ]\n}",
      "outputTokens": 4738,
      "systemPrompt": "# Role\n\nYou are designing an **extensive** list of bite-sized, focused lessons for a specific chapter in a course.\n\nYou have expertise in instructional design, curriculum development, and creating granular learning paths. You have worked at top educational institutions creating micro-learning content that breaks down complex topics into digestible, single-concept lessons.\n\nYour mission is to create a lesson structure where each lesson covers **ONE SPECIFIC CONCEPT** that can be learned in 2-3 minutes and explained in 10 short tweets or less.\n\nYou deeply care about making learning accessible, focused, and efficient by breaking down topics into their smallest logical units.\n\n# Inputs\n\n- `COURSE_TITLE`: name of the overall course\n- `CHAPTER_TITLE`: title of this specific chapter\n- `CHAPTER_DESCRIPTION`: what this chapter covers\n- `LANGUAGE`: output language for titles and descriptions\n- `NEIGHBORING_CHAPTERS` (optional): titles and descriptions of chapters that come before and after this one in the course\n\n## Language\n\n- `en`: Use US region unless the content is about a different region.\n- `pt`: Use Brazilian Portuguese unless the content is about a different region.\n- `es`: Use Latin American Spanish unless the content is about a different region.\n\n# Goal\n\nProduce an **extensive** list of **single-concept** lessons that collectively cover everything in `CHAPTER_TITLE` and `CHAPTER_DESCRIPTION`. Each lesson should be so focused that a student can learn and understand the concept in 2-3 minutes.\n\n# Critical Requirements\n\n## Single-Concept Focus\n\n- **Each lesson MUST cover ONE SPECIFIC concept only**\n- If you can explain it in 10 short tweets or less, it's appropriately scoped\n- If it takes more than 10 tweets, **split it into multiple lessons**\n- If a topic is too broad, **break it down further**\n- Each lesson should be extremely focused on a single idea\n\n## Title & Description Requirements\n\n- Follow the same concise, no-fluff style as course chapter title and description\n- **NEVER** use words like \"learn\", \"understand\", \"explore\", \"introduction to\", \"basics of\", etc.\n- Go straight to the point\n- If you find yourself using **\"AND\"**, **\"OR\"**, or **\"VS\"** in a title, you should split it into separate lessons\n\n## Examples of Proper Granularity\n\n**TOO BROAD:**\n❌ \"Hardware vs. Software\"\n❌ \"Variables and Data Types\"\n❌ \"Functions and Methods\"\n\n**CORRECTLY BROKEN DOWN:**\n✅ \"What is Hardware?\"\n✅ \"What is Software?\"\n✅ \"How Hardware and Software Interact\"\n\nOr:\n\n✅ \"Variables: Storing Values\"\n✅ \"Data Types Overview\"\n✅ \"Numbers in Programming\"\n✅ \"Text (Strings) in Programming\"\n✅ \"Booleans (True/False Values)\"\n\n## Progression & Structure\n\n- Build a logical progression from basic to advanced concepts\n- Ensure lessons build on knowledge from previous lessons\n- Focus lessons specifically on THIS chapter, not the entire course\n- Don't add summary, review, or \"key concepts\" lessons\n- Don't add assessment or quiz lessons\n- Don't add final project or capstone lessons\n\n## Scope\n\n- Cover **everything** in `CHAPTER_DESCRIPTION` and `CHAPTER_TITLE`\n- Never go beyond the chapter's scope\n- Add **as many lessons as needed** to break down each concept fully\n- Don't limit the number of lessons arbitrarily\n- It's better to have many focused lessons than fewer broad ones\n- Make sure to have all lessons needed to **fully master the chapter's scope**\n\n## Neighboring Chapter Awareness\n\nWhen `NEIGHBORING_CHAPTERS` is provided, use it to avoid generating dedicated lessons on topics that have their own chapter. For example, if a neighboring chapter covers \"HTTP fundamentals,\" do not create standalone lessons teaching HTTP methods or status codes — those belong in that chapter, not this one.\n\nBrief contextual mentions are fine. For example, a lesson can reference HTTP to explain a concept, but should not become a standalone lesson _about_ HTTP.\n\n# Quality Checks\n\nBefore finalizing your lesson list, ask yourself for EACH lesson:\n\n1. **Is this lesson too broad?** → If yes, break it down further\n2. **Can this concept be explained in 10 short tweets or less?** → If no, split it\n3. **Does this lesson focus on a single specific concept?** → If no, split it\n4. **Does the title contain \"AND\", \"OR\", or \"VS\"?** → If yes, split into separate lessons\n5. **Would a student need more than 2-3 minutes to grasp this?** → If yes, simplify or split\n\n# Output Format\n\nEach lesson must include **exactly two fields**:\n\n- **Title** — short, specific, focused on the single concept\n- **Description** — 1-2 sentences describing what the lesson covers, no fluff\n\n## Good Title Examples\n\n- \"What is a Variable?\"\n- \"Integer Numbers\"\n- \"Floating-Point Numbers\"\n- \"Declaring Variables\"\n- \"Assigning Values\"\n- \"The Addition Operator\"\n- \"The Subtraction Operator\"\n\n## Good Description Examples\n\n- \"Memory locations that store values during program execution.\"\n- \"Whole numbers without decimal points: 1, 42, -17, 0.\"\n- \"Numbers with decimal points: 3.14, -0.5, 2.0.\"\n- \"Creating a variable with a name and type.\"\n- \"Storing a value into a variable using the assignment operator.\"\n\n# Last Check\n\nAfter creating your lesson list, verify:\n\n- \"Does each lesson cover ONLY ONE concept?\" → All must be YES\n- \"Can each lesson be explained in 10 tweets?\" → All must be YES\n- \"Have I covered EVERYTHING from the chapter description?\" → Must be YES\n- \"Are there any lessons that should be split further?\" → Must be NO\n- \"Are the titles and descriptions concise and to the point with no fluff?\" → Must be YES\n- \"Did I stay within the chapter's scope?\" → Must be YES\n- \"Does any lesson teach a topic that belongs in a neighboring chapter?\" → Must be NO\n\nThis should be the most **granular**, **focused**, and **extensive** lesson list possible for this chapter.\n",
      "testCaseId": "en-harry-potter-alchemy-horcruxes-1",
      "userPrompt": "\n    LANGUAGE: en\n    COURSE_TITLE: Harry Potter\n    CHAPTER_TITLE: Alchemy, Horcruxes, and immortality\n    CHAPTER_DESCRIPTION: Alchemy, immortality myths, and the Philosopher's Stone as symbol. Horcrux metaphysics and the costs of soul fragmentation.\nNEIGHBORING_CHAPTERS:\n- \"Defense Against the Dark Arts\": Defense curriculum across eras and how teaching reflects politics. Practical spell selection, threat models, and the pedagogy of fear.\n- \"Divination and prophecy\": Divination's ambiguity, self-fulfilling prophecy, and narrative foreshadowing. Symbol systems: tea leaves, dreams, centaurs, and astronomy.\n- \"Mind magic and memory\": Mind magic: Legilimency, Occlumency, memory charms, and Pensieve ethics. Consent, epistemology, and the reliability of recollection.\n- \"Wandlore\": Wand woods, cores, allegiance, and the Elder Wand's legend. Comparative magical foci and what wandlore implies about power and identity.\n- \"Healing and magical medicine\": Magical healing, St Mungo's, and the boundaries of restorative magic. Disability, trauma, and long-term consequences in the series.\n- \"Beings, creatures, and species politics\": Werewolves, vampires, giants, goblins, house-elves, centaurs, and merpeople as political subjects. Rights, stereotypes, and allegory across species.\n  "
    },
    {
      "duration": 80226.95233400003,
      "inputTokens": 1731,
      "output": "{\n  \"lessons\": [\n    {\n      \"description\": \"Diferença entre automatizar a produção de um documento e automatizar uma decisão jurídica. Onde a automação agrega velocidade sem substituir juízo técnico.\",\n      \"title\": \"Automação de documentos: escopo\"\n    },\n    {\n      \"description\": \"Atividades repetitivas com baixa variabilidade: comunicações padrão, petições simples, procurações, notificações. Critérios práticos para identificar bom candidato.\",\n      \"title\": \"Critérios de automação: repetição\"\n    },\n    {\n      \"description\": \"Quando variáveis de fato mudam o raciocínio jurídico, automação tende a falhar. Sinais de que o documento exige análise caso a caso.\",\n      \"title\": \"Critérios de automação: variabilidade\"\n    },\n    {\n      \"description\": \"Separação entre coleta de dados, regras de montagem e texto final. Como essa separação reduz retrabalho e erro.\",\n      \"title\": \"Arquitetura de automação: camadas\"\n    },\n    {\n      \"description\": \"Papéis típicos: autor do conteúdo, revisor jurídico, mantenedor do template, usuário solicitante. Como responsabilidades evitam “dono inexistente”.\",\n      \"title\": \"Papéis na automação\"\n    },\n    {\n      \"description\": \"Registro do objetivo, público, entradas, saídas e exceções do template. Um artefato mínimo para manter consistência ao longo do tempo.\",\n      \"title\": \"Especificação de template\"\n    },\n    {\n      \"description\": \"Cláusulas como componentes reutilizáveis em vez de copiar e colar documentos. Benefícios para consistência e atualização em massa.\",\n      \"title\": \"Componentes reutilizáveis\"\n    },\n    {\n      \"description\": \"Campos variáveis que serão preenchidos por dados (nome, CNPJ, datas, valores). Boas práticas para nomear e documentar cada campo.\",\n      \"title\": \"Placeholders: campos variáveis\"\n    },\n    {\n      \"description\": \"Separação entre texto fixo e campos dinâmicos para reduzir quebras de formatação. Como minimizar edições manuais posteriores.\",\n      \"title\": \"Texto fixo: isolamento\"\n    },\n    {\n      \"description\": \"Blocos opcionais ativados por condição (ex.: existência de garantia). Como evitar condições ambíguas no template.\",\n      \"title\": \"Blocos condicionais\"\n    },\n    {\n      \"description\": \"Seleção de uma entre várias redações equivalentes com base em um parâmetro. Como manter opções rastreáveis e aprovadas.\",\n      \"title\": \"Alternativas de redação\"\n    },\n    {\n      \"description\": \"Listas variáveis (ex.: partes, testemunhas, anexos) com quantidade indefinida. Como estruturar para não quebrar numeração.\",\n      \"title\": \"Repetição de blocos\"\n    },\n    {\n      \"description\": \"Tabelas preenchidas automaticamente (ex.: cronograma, itens). Regras para manter alinhamento, quebras de página e totais.\",\n      \"title\": \"Tabelas dinâmicas\"\n    },\n    {\n      \"description\": \"Elementos “obrigatórios” por política interna (ex.: foro, confidencialidade). Como impedir geração sem trechos essenciais.\",\n      \"title\": \"Cláusulas obrigatórias\"\n    },\n    {\n      \"description\": \"Texto padrão que aparece quando um dado não é informado. Como escolher defaults que não gerem risco jurídico.\",\n      \"title\": \"Valores padrão\"\n    },\n    {\n      \"description\": \"Campos que exigem preenchimento antes de gerar o documento. Como reduzir documentos incompletos circulando para assinatura.\",\n      \"title\": \"Campos obrigatórios\"\n    },\n    {\n      \"description\": \"Tipos como texto, número, data, moeda, lista de opções. Como o tipo influencia validação e formatação.\",\n      \"title\": \"Tipos de dados no template\"\n    },\n    {\n      \"description\": \"Regras de formato para campos (CPF/CNPJ, CEP, datas). Como evitar dados inválidos sem depender de revisão manual.\",\n      \"title\": \"Validação de formato\"\n    },\n    {\n      \"description\": \"Regras de consistência entre campos (ex.: data final após data inicial). Como capturar incoerências cedo.\",\n      \"title\": \"Validação cruzada\"\n    },\n    {\n      \"description\": \"Escolhas padronizadas para reduzir variação de linguagem e facilitar auditoria. Quando evitar campo livre.\",\n      \"title\": \"Listas controladas\"\n    },\n    {\n      \"description\": \"Glossário mínimo para campos e termos do template. Como reduzir interpretações diferentes entre equipes.\",\n      \"title\": \"Dicionário de dados\"\n    },\n    {\n      \"description\": \"Questionários como interface para coletar dados sem expor o template. Boas práticas para orientar preenchimento.\",\n      \"title\": \"Questionário: finalidade\"\n    },\n    {\n      \"description\": \"Uma pergunta por conceito para reduzir respostas confusas. Como dividir perguntas longas em itens objetivos.\",\n      \"title\": \"Perguntas atômicas\"\n    },\n    {\n      \"description\": \"Ordem das perguntas para reduzir atrito e erros: do simples ao complexo. Como agrupar por tema sem duplicar dados.\",\n      \"title\": \"Sequência de perguntas\"\n    },\n    {\n      \"description\": \"Texto de ajuda curto que explica o que preencher e onde achar a informação. Como reduzir tickets de suporte.\",\n      \"title\": \"Ajuda contextual\"\n    },\n    {\n      \"description\": \"Ocultar perguntas que não se aplicam com base em respostas anteriores. Como reduzir ruído e inconsistência.\",\n      \"title\": \"Perguntas condicionais\"\n    },\n    {\n      \"description\": \"Permitir que o usuário sinalize “não sei” sem inventar dados. Como tratar isso no fluxo de aprovação.\",\n      \"title\": \"Resposta desconhecida\"\n    },\n    {\n      \"description\": \"Campos que mudam dependendo do tipo de parte (PF/PJ) ou cenário. Como evitar questionários duplicados.\",\n      \"title\": \"Coleta adaptativa\"\n    },\n    {\n      \"description\": \"Separar coleta de dados de aprovação jurídica. Como desenhar um ponto de controle sem travar o fluxo inteiro.\",\n      \"title\": \"Coleta antes da aprovação\"\n    },\n    {\n      \"description\": \"Mapeamento entre cada resposta e o trecho afetado no documento. Como facilitar revisão e debugging do template.\",\n      \"title\": \"Rastreabilidade pergunta-trecho\"\n    },\n    {\n      \"description\": \"Padrões de linguagem para manter voz institucional. Como aplicar consistência sem perder precisão jurídica.\",\n      \"title\": \"Guia de estilo: linguagem\"\n    },\n    {\n      \"description\": \"Uso de termos definidos de forma consistente em todo o documento. Como evitar sinônimos que criam ambiguidade.\",\n      \"title\": \"Vocabulário controlado\"\n    },\n    {\n      \"description\": \"Como padronizar datas, valores monetários e referências de artigos. Reduz variação e melhora leitura.\",\n      \"title\": \"Formatação padronizada\"\n    },\n    {\n      \"description\": \"Regras para parágrafos, espaçamento e estilos de título. Como reduzir “quebras” ao copiar trechos ou exportar.\",\n      \"title\": \"Estilos de parágrafo\"\n    },\n    {\n      \"description\": \"Numeração automática de cláusulas para manter coerência após inserções. Como evitar renumeração manual.\",\n      \"title\": \"Numeração automática\"\n    },\n    {\n      \"description\": \"Referências cruzadas que atualizam quando a numeração muda. Como evitar remissões erradas entre cláusulas.\",\n      \"title\": \"Referências cruzadas\"\n    },\n    {\n      \"description\": \"Geração de cabeçalhos, rodapés e identificação do documento com dados-chave. Como manter consistência institucional.\",\n      \"title\": \"Cabeçalho: metadados\"\n    },\n    {\n      \"description\": \"Sumário automático quando há estrutura longa. Como garantir que títulos estejam corretamente marcados.\",\n      \"title\": \"Sumário automático\"\n    },\n    {\n      \"description\": \"Anexos gerados por composição (ex.: lista de documentos, tabelas). Como vincular anexos às variáveis do caso.\",\n      \"title\": \"Anexos dinâmicos\"\n    },\n    {\n      \"description\": \"Estratégias para minimizar retrabalho após exportar para PDF. Como preservar links, marcas e estilos.\",\n      \"title\": \"Exportação: preservação\"\n    },\n    {\n      \"description\": \"Separar regras de negócio do texto para reduzir efeito cascata de alterações. Como documentar regras fora do corpo do contrato.\",\n      \"title\": \"Regras: desacoplamento\"\n    },\n    {\n      \"description\": \"Convenção de nomes para variáveis e blocos (ex.: parte_nome, prazo_dias). Como facilitar manutenção e revisão por pares.\",\n      \"title\": \"Convenção de nomenclatura\"\n    },\n    {\n      \"description\": \"Registro do porquê de uma cláusula existir e quando usar. Como evitar remoções “inocentes” que quebram política interna.\",\n      \"title\": \"Justificativa de cláusula\"\n    },\n    {\n      \"description\": \"Como representar exceções sem virar “template Frankenstein”. Um padrão para tratar casos raros com governança.\",\n      \"title\": \"Tratamento de exceções\"\n    },\n    {\n      \"description\": \"Campos calculados (ex.: multas, percentuais, total). Como evitar divergência entre texto e tabela.\",\n      \"title\": \"Cálculos automáticos\"\n    },\n    {\n      \"description\": \"Arredondamento e casas decimais em moeda. Como padronizar para evitar disputa por centavos ou inconsistência.\",\n      \"title\": \"Moeda: arredondamento\"\n    },\n    {\n      \"description\": \"Regra de pluralização automática (ex.: “dia/dias”, “parte/partes”). Como melhorar legibilidade sem ajustes manuais.\",\n      \"title\": \"Pluralização automática\"\n    },\n    {\n      \"description\": \"Gênero e concordância em trechos dinâmicos. Técnicas para evitar frases quebradas ao trocar “o/a”, “seu/sua”.\",\n      \"title\": \"Concordância automática\"\n    },\n    {\n      \"description\": \"Tratamento de campos vazios para não deixar espaços, vírgulas ou parênteses sobrando. Padrões de escrita para trechos condicionais.\",\n      \"title\": \"Campos vazios: limpeza\"\n    },\n    {\n      \"description\": \"Como validar um template com casos fictícios representativos. Construção de um conjunto mínimo que cobre caminhos críticos.\",\n      \"title\": \"Casos de teste do template\"\n    },\n    {\n      \"description\": \"Teste de regressão após alteração de cláusula ou regra. Como garantir que cenários antigos continuam gerando corretamente.\",\n      \"title\": \"Teste de regressão\"\n    },\n    {\n      \"description\": \"Checklist de qualidade para saída final: datas, partes, valores, foro, anexos. Como reduzir falhas repetidas.\",\n      \"title\": \"Checklist de saída\"\n    },\n    {\n      \"description\": \"Revisão por amostragem em alto volume. Como definir tamanho de amostra e critérios de reprovação para ajuste do template.\",\n      \"title\": \"Amostragem de qualidade\"\n    },\n    {\n      \"description\": \"Medição de “taxa de retrabalho” após geração automática. Como usar o indicador para priorizar melhorias no template.\",\n      \"title\": \"Retrabalho: métrica\"\n    },\n    {\n      \"description\": \"Pontos de falha comuns: variáveis mal mapeadas, blocos condicionais invertidos, defaults perigosos. Como prevenir com validações simples.\",\n      \"title\": \"Falhas comuns em templates\"\n    },\n    {\n      \"description\": \"Como registrar erros encontrados em produção com contexto (entrada, saída, versão). Um padrão para triagem sem caça ao culpado.\",\n      \"title\": \"Registro de incidentes\"\n    },\n    {\n      \"description\": \"Separar erro de dados do erro de template. Um procedimento para decidir se corrige o formulário ou a regra de montagem.\",\n      \"title\": \"Diagnóstico de erro\"\n    },\n    {\n      \"description\": \"Bloqueios que impedem geração quando faltam dados críticos. Como equilibrar segurança com fluidez operacional.\",\n      \"title\": \"Bloqueio por criticidade\"\n    },\n    {\n      \"description\": \"Alertas não bloqueantes para chamar atenção do revisor (ex.: valor fora de faixa). Como evitar “fadiga de alerta”.\",\n      \"title\": \"Alertas de consistência\"\n    },\n    {\n      \"description\": \"Uso de comentários internos no template que não aparecem na versão final. Como ajudar manutenção sem poluir o documento.\",\n      \"title\": \"Comentários internos\"\n    },\n    {\n      \"description\": \"Diferença entre revisão humana e checagem automática de consistência. Onde a automação de revisão realmente ajuda.\",\n      \"title\": \"Revisão assistida: escopo\"\n    },\n    {\n      \"description\": \"Comparação de versões para identificar mudanças no texto final. Como evitar que alterações passem despercebidas.\",\n      \"title\": \"Diff de documentos\"\n    },\n    {\n      \"description\": \"Controle de alterações para trilha de edição durante revisão. Como configurar para colaboração sem perda de histórico.\",\n      \"title\": \"Controle de alterações\"\n    },\n    {\n      \"description\": \"Padrão de comentários para revisão (ex.: “necessita fonte”, “verificar dado”). Como reduzir discussões dispersas.\",\n      \"title\": \"Comentários de revisão\"\n    },\n    {\n      \"description\": \"Verificação automática de termos proibidos ou preferenciais. Como aplicar política de linguagem sem depender de memória.\",\n      \"title\": \"Termos bloqueados\"\n    },\n    {\n      \"description\": \"Detecção de inconsistência entre campos repetidos (ex.: nome da parte em locais diferentes). Como evitar divergência textual.\",\n      \"title\": \"Consistência de campos\"\n    },\n    {\n      \"description\": \"Checagem de remissões internas (ex.: “conforme cláusula 7.2”). Como evitar apontamentos para cláusulas inexistentes.\",\n      \"title\": \"Checagem de remissões\"\n    },\n    {\n      \"description\": \"Verificação de anexos citados e efetivamente gerados. Como evitar “Anexo I” sem anexo.\",\n      \"title\": \"Checagem de anexos\"\n    },\n    {\n      \"description\": \"Identificação de lacunas típicas (ex.: deixar “___” no texto). Como configurar detecção de placeholders residuais.\",\n      \"title\": \"Placeholders residuais\"\n    },\n    {\n      \"description\": \"Revisão em camadas: dados, estrutura, mérito, forma. Como reduzir retrabalho ao revisar na ordem certa.\",\n      \"title\": \"Camadas de revisão\"\n    },\n    {\n      \"description\": \"Padronização de nomenclatura e localização para encontrar documentos rapidamente. Um esquema que reduz duplicidade.\",\n      \"title\": \"Convenção de nomes de arquivo\"\n    },\n    {\n      \"description\": \"Estrutura de pastas baseada em casos, clientes ou processos. Como escolher um critério primário consistente.\",\n      \"title\": \"Estrutura de pastas\"\n    },\n    {\n      \"description\": \"Etiquetas que permitem busca por tipo, status, jurisdição, área. Como definir um conjunto mínimo de tags úteis.\",\n      \"title\": \"Taxonomia de tags\"\n    },\n    {\n      \"description\": \"Metadados obrigatórios para governança (ex.: autor, data, versão, status). Como garantir preenchimento na entrada.\",\n      \"title\": \"Metadados obrigatórios\"\n    },\n    {\n      \"description\": \"Indexação para localizar documentos por conteúdo e metadados. Como evitar “documento invisível” no repositório.\",\n      \"title\": \"Indexação para busca\"\n    },\n    {\n      \"description\": \"OCR para tornar PDFs pesquisáveis. Limites e cuidados com qualidade de reconhecimento.\",\n      \"title\": \"OCR em PDFs\"\n    },\n    {\n      \"description\": \"Permissões por função para limitar acesso a documentos sensíveis. Como reduzir exposição sem travar colaboração.\",\n      \"title\": \"Controle de acesso\"\n    },\n    {\n      \"description\": \"Compartilhamento externo com validade e rastreio. Como reduzir risco de encaminhamento indevido.\",\n      \"title\": \"Links com expiração\"\n    },\n    {\n      \"description\": \"Registro de quem acessou, editou, baixou ou compartilhou. Como usar trilha de auditoria para investigação de incidentes.\",\n      \"title\": \"Trilha de auditoria\"\n    },\n    {\n      \"description\": \"Retenção conforme necessidade legal e operacional. Como evitar manter indefinidamente documentos que aumentam risco.\",\n      \"title\": \"Política de retenção\"\n    },\n    {\n      \"description\": \"Descarte seguro e comprovação de eliminação quando aplicável. Como reduzir risco de vazamento pós-vida útil.\",\n      \"title\": \"Descarte seguro\"\n    },\n    {\n      \"description\": \"Backups e restauração para incidentes de perda ou corrupção. Como definir periodicidade e teste de restore.\",\n      \"title\": \"Backup: restauração\"\n    },\n    {\n      \"description\": \"Padronização do status do documento (rascunho, em revisão, aprovado, arquivado). Como evitar uso de versão errada.\",\n      \"title\": \"Estados do documento\"\n    },\n    {\n      \"description\": \"Separar rascunhos de versões publicáveis. Como evitar que arquivo “em edição” seja enviado ao cliente.\",\n      \"title\": \"Separação rascunho-publicável\"\n    },\n    {\n      \"description\": \"Risco de gerar documento com dado incorreto e parecer “oficial”. Como reduzir com validações e pontos de controle.\",\n      \"title\": \"Risco: confiança excessiva\"\n    },\n    {\n      \"description\": \"Risco de cláusula desatualizada permanecer em templates antigos. Como mitigar com ciclo de revisão e depreciação.\",\n      \"title\": \"Risco: conteúdo obsoleto\"\n    },\n    {\n      \"description\": \"Risco de dados sensíveis vazarem por logs, campos e anexos automáticos. Como mapear dados pessoais no fluxo.\",\n      \"title\": \"Risco: vazamento de dados\"\n    },\n    {\n      \"description\": \"Risco de automação replicar erros em escala. Como tratar incidentes como prioridade alta por efeito multiplicador.\",\n      \"title\": \"Risco: erro em escala\"\n    },\n    {\n      \"description\": \"Risco de dependência de ferramenta ou fornecedor para manter templates. Como reduzir lock-in com padrões e documentação.\",\n      \"title\": \"Risco: dependência tecnológica\"\n    },\n    {\n      \"description\": \"Risco de alterações não autorizadas em modelos “oficiais”. Como usar permissões e trilha de auditoria para mitigar.\",\n      \"title\": \"Risco: edição não autorizada\"\n    },\n    {\n      \"description\": \"Risco de uso indevido do template fora do contexto previsto. Como controlar com escopo, disclaimers internos e bloqueios.\",\n      \"title\": \"Risco: uso fora do escopo\"\n    },\n    {\n      \"description\": \"Diferença entre versionar documentos finais e versionar templates. Por que o controle deve existir nos dois níveis.\",\n      \"title\": \"Versão: documento final\"\n    },\n    {\n      \"description\": \"Identificador de versão que sinaliza mudanças relevantes. Como usar major/minor/patch para templates.\",\n      \"title\": \"Versionamento semântico\"\n    },\n    {\n      \"description\": \"Registro do que mudou, por que mudou, quem aprovou. Como tornar alterações auditáveis e recuperáveis.\",\n      \"title\": \"Changelog do template\"\n    },\n    {\n      \"description\": \"Ponto único de verdade para modelos aprovados. Como evitar múltiplas cópias divergentes em pastas pessoais.\",\n      \"title\": \"Repositório oficial de templates\"\n    },\n    {\n      \"description\": \"Processo de check-in/check-out para evitar edições concorrentes. Como reduzir conflitos e perda de trabalho.\",\n      \"title\": \"Bloqueio de edição\"\n    },\n    {\n      \"description\": \"Ramo de trabalho para testar mudanças sem afetar produção. Como isolar experimentos até aprovação.\",\n      \"title\": \"Branch de template\"\n    },\n    {\n      \"description\": \"Etiquetas para marcar versões aprovadas para uso. Como impedir que “versão intermediária” vire padrão.\",\n      \"title\": \"Tag de aprovação\"\n    },\n    {\n      \"description\": \"Rollback para voltar a uma versão anterior após incidente. O que precisa estar pronto para reverter rapidamente.\",\n      \"title\": \"Rollback de versão\"\n    },\n    {\n      \"description\": \"Matriz que define quem pode propor, revisar e aprovar alterações. Como reduzir risco com separação de funções.\",\n      \"title\": \"Aprovação de mudanças\"\n    },\n    {\n      \"description\": \"Frequência definida para revisar modelos críticos. Como evitar revisão “só quando dá problema”.\",\n      \"title\": \"Revisão periódica\"\n    },\n    {\n      \"description\": \"Critérios para aposentar modelos antigos sem quebrar histórico. Como sinalizar depreciação para usuários.\",\n      \"title\": \"Depreciação de template\"\n    },\n    {\n      \"description\": \"Propriedade clara do conhecimento (cláusulas, regras, playbooks). Como evitar “órfãos” que ninguém mantém.\",\n      \"title\": \"Dono do conhecimento\"\n    },\n    {\n      \"description\": \"Curadoria para remover duplicatas e consolidar redações. Como reduzir biblioteca inflada e contraditória.\",\n      \"title\": \"Curadoria de cláusulas\"\n    },\n    {\n      \"description\": \"Política de criação de novos templates para evitar proliferação. Como exigir justificativa e escopo antes de criar.\",\n      \"title\": \"Governança: criação controlada\"\n    },\n    {\n      \"description\": \"Taxonomia para organizar templates por tipo, área, risco, uso permitido. Como facilitar descoberta sem confusão.\",\n      \"title\": \"Taxonomia de templates\"\n    },\n    {\n      \"description\": \"Regras de reutilização para evitar copiar um template e “virar outro”. Como incentivar componentes compartilhados.\",\n      \"title\": \"Reuso sem cópia\"\n    },\n    {\n      \"description\": \"Registro de decisões de redação para manter consistência ao longo do tempo. Como documentar “por que” além do “o quê”.\",\n      \"title\": \"Memória de decisões\"\n    },\n    {\n      \"description\": \"Canal para usuários reportarem problemas e sugerirem melhorias. Como transformar feedback em backlog priorizável.\",\n      \"title\": \"Feedback estruturado\"\n    },\n    {\n      \"description\": \"Critérios para priorizar ajustes: volume, risco, retrabalho, incidentes. Como decidir o que mexer primeiro.\",\n      \"title\": \"Priorização de melhorias\"\n    },\n    {\n      \"description\": \"Rastrear uso de cada template para identificar modelos críticos. Como usar métricas para governança sem vigiar pessoas.\",\n      \"title\": \"Métricas de uso\"\n    },\n    {\n      \"description\": \"Separar documentos de alta criticidade para controles mais rígidos. Como aplicar governança proporcional ao risco.\",\n      \"title\": \"Classificação por criticidade\"\n    },\n    {\n      \"description\": \"Documentação mínima para manutenção: objetivo, entradas, regras, versões, responsáveis. Como evitar conhecimento tácito virar gargalo.\",\n      \"title\": \"Documentação operacional\"\n    },\n    {\n      \"description\": \"Onboarding rápido para quem vai manter templates. O conjunto mínimo de informações para reduzir erro em alterações.\",\n      \"title\": \"Transferência de conhecimento\"\n    },\n    {\n      \"description\": \"Controle de acesso ao repositório de conhecimento jurídico. Como reduzir risco de vazamento e alterações acidentais.\",\n      \"title\": \"Acesso ao conhecimento\"\n    }\n  ]\n}",
      "outputTokens": 4776,
      "systemPrompt": "# Role\n\nYou are designing an **extensive** list of bite-sized, focused lessons for a specific chapter in a course.\n\nYou have expertise in instructional design, curriculum development, and creating granular learning paths. You have worked at top educational institutions creating micro-learning content that breaks down complex topics into digestible, single-concept lessons.\n\nYour mission is to create a lesson structure where each lesson covers **ONE SPECIFIC CONCEPT** that can be learned in 2-3 minutes and explained in 10 short tweets or less.\n\nYou deeply care about making learning accessible, focused, and efficient by breaking down topics into their smallest logical units.\n\n# Inputs\n\n- `COURSE_TITLE`: name of the overall course\n- `CHAPTER_TITLE`: title of this specific chapter\n- `CHAPTER_DESCRIPTION`: what this chapter covers\n- `LANGUAGE`: output language for titles and descriptions\n- `NEIGHBORING_CHAPTERS` (optional): titles and descriptions of chapters that come before and after this one in the course\n\n## Language\n\n- `en`: Use US region unless the content is about a different region.\n- `pt`: Use Brazilian Portuguese unless the content is about a different region.\n- `es`: Use Latin American Spanish unless the content is about a different region.\n\n# Goal\n\nProduce an **extensive** list of **single-concept** lessons that collectively cover everything in `CHAPTER_TITLE` and `CHAPTER_DESCRIPTION`. Each lesson should be so focused that a student can learn and understand the concept in 2-3 minutes.\n\n# Critical Requirements\n\n## Single-Concept Focus\n\n- **Each lesson MUST cover ONE SPECIFIC concept only**\n- If you can explain it in 10 short tweets or less, it's appropriately scoped\n- If it takes more than 10 tweets, **split it into multiple lessons**\n- If a topic is too broad, **break it down further**\n- Each lesson should be extremely focused on a single idea\n\n## Title & Description Requirements\n\n- Follow the same concise, no-fluff style as course chapter title and description\n- **NEVER** use words like \"learn\", \"understand\", \"explore\", \"introduction to\", \"basics of\", etc.\n- Go straight to the point\n- If you find yourself using **\"AND\"**, **\"OR\"**, or **\"VS\"** in a title, you should split it into separate lessons\n\n## Examples of Proper Granularity\n\n**TOO BROAD:**\n❌ \"Hardware vs. Software\"\n❌ \"Variables and Data Types\"\n❌ \"Functions and Methods\"\n\n**CORRECTLY BROKEN DOWN:**\n✅ \"What is Hardware?\"\n✅ \"What is Software?\"\n✅ \"How Hardware and Software Interact\"\n\nOr:\n\n✅ \"Variables: Storing Values\"\n✅ \"Data Types Overview\"\n✅ \"Numbers in Programming\"\n✅ \"Text (Strings) in Programming\"\n✅ \"Booleans (True/False Values)\"\n\n## Progression & Structure\n\n- Build a logical progression from basic to advanced concepts\n- Ensure lessons build on knowledge from previous lessons\n- Focus lessons specifically on THIS chapter, not the entire course\n- Don't add summary, review, or \"key concepts\" lessons\n- Don't add assessment or quiz lessons\n- Don't add final project or capstone lessons\n\n## Scope\n\n- Cover **everything** in `CHAPTER_DESCRIPTION` and `CHAPTER_TITLE`\n- Never go beyond the chapter's scope\n- Add **as many lessons as needed** to break down each concept fully\n- Don't limit the number of lessons arbitrarily\n- It's better to have many focused lessons than fewer broad ones\n- Make sure to have all lessons needed to **fully master the chapter's scope**\n\n## Neighboring Chapter Awareness\n\nWhen `NEIGHBORING_CHAPTERS` is provided, use it to avoid generating dedicated lessons on topics that have their own chapter. For example, if a neighboring chapter covers \"HTTP fundamentals,\" do not create standalone lessons teaching HTTP methods or status codes — those belong in that chapter, not this one.\n\nBrief contextual mentions are fine. For example, a lesson can reference HTTP to explain a concept, but should not become a standalone lesson _about_ HTTP.\n\n# Quality Checks\n\nBefore finalizing your lesson list, ask yourself for EACH lesson:\n\n1. **Is this lesson too broad?** → If yes, break it down further\n2. **Can this concept be explained in 10 short tweets or less?** → If no, split it\n3. **Does this lesson focus on a single specific concept?** → If no, split it\n4. **Does the title contain \"AND\", \"OR\", or \"VS\"?** → If yes, split into separate lessons\n5. **Would a student need more than 2-3 minutes to grasp this?** → If yes, simplify or split\n\n# Output Format\n\nEach lesson must include **exactly two fields**:\n\n- **Title** — short, specific, focused on the single concept\n- **Description** — 1-2 sentences describing what the lesson covers, no fluff\n\n## Good Title Examples\n\n- \"What is a Variable?\"\n- \"Integer Numbers\"\n- \"Floating-Point Numbers\"\n- \"Declaring Variables\"\n- \"Assigning Values\"\n- \"The Addition Operator\"\n- \"The Subtraction Operator\"\n\n## Good Description Examples\n\n- \"Memory locations that store values during program execution.\"\n- \"Whole numbers without decimal points: 1, 42, -17, 0.\"\n- \"Numbers with decimal points: 3.14, -0.5, 2.0.\"\n- \"Creating a variable with a name and type.\"\n- \"Storing a value into a variable using the assignment operator.\"\n\n# Last Check\n\nAfter creating your lesson list, verify:\n\n- \"Does each lesson cover ONLY ONE concept?\" → All must be YES\n- \"Can each lesson be explained in 10 tweets?\" → All must be YES\n- \"Have I covered EVERYTHING from the chapter description?\" → Must be YES\n- \"Are there any lessons that should be split further?\" → Must be NO\n- \"Are the titles and descriptions concise and to the point with no fluff?\" → Must be YES\n- \"Did I stay within the chapter's scope?\" → Must be YES\n- \"Does any lesson teach a topic that belongs in a neighboring chapter?\" → Must be NO\n\nThis should be the most **granular**, **focused**, and **extensive** lesson list possible for this chapter.\n",
      "testCaseId": "pt-direito-legal-tech-1",
      "userPrompt": "\n    LANGUAGE: pt\n    COURSE_TITLE: Direito\n    CHAPTER_TITLE: Legal tech e automação de documentos\n    CHAPTER_DESCRIPTION: Automação jurídica e qualidade: templates, revisão assistida, gestão documental e padronização. Riscos de automação, controle de versões e governança de conhecimento.\nNEIGHBORING_CHAPTERS:\n- \"Gestão de terceiros e due diligence\": Programas de integridade em terceiros: due diligence, cláusulas anticorrupção e monitoramento. Gestão de contratos, auditoria e encerramento por inadimplemento de compliance.\n- \"Estratégia contenciosa e gestão de disputas\": Estratégia de litígio: seleção de teses, definição de foro, gestão de portfólio e negociação de acordos. Monitoramento de precedentes, risco financeiro e comunicação com stakeholders.\n- \"Legal operations e gestão jurídica\": Gestão de escritórios e departamentos jurídicos: triagem, SLAs, indicadores e orçamento. Precificação, honorários, contratação de correspondentes e qualidade.\n- \"Operações contratuais\": Gestão de contratos: ciclo de vida, cláusulas padrão, aprovações e controle de obrigações. CLM, auditoria contratual e prevenção de disputas.\n- \"Negociação estratégica\": Negociação e mediação avançadas: BATNA, ZOPA, técnicas de influência e gestão de impasses. Construção de acordos complexos e multiparte.\n- \"Advocacia oral e persuasão\": Oratória e atuação em audiência: teoria do caso, exame e contrainterrogatório, sustentação oral e postura profissional. Comunicação com juízes, jurados e peritos.\n  "
    },
    {
      "duration": 55644.658042000025,
      "inputTokens": 1641,
      "output": "{\n  \"lessons\": [\n    {\n      \"description\": \"How physicians, police, and local authorities coordinated responses to epidemics under the monarchy, often through ad hoc rules and port controls.\",\n      \"title\": \"Imperial public health governance\"\n    },\n    {\n      \"description\": \"How ocean travel and expanding trade increased exposure to epidemic diseases in Brazilian port cities during the 1800s.\",\n      \"title\": \"Ports as epidemic gateways\"\n    },\n    {\n      \"description\": \"Isolation rules for ships, people, and goods as a core 19th-century tool to slow disease spread.\",\n      \"title\": \"Quarantine policy\"\n    },\n    {\n      \"description\": \"The idea that foul air and decomposing matter caused disease, shaping early sanitation priorities.\",\n      \"title\": \"Miasma theory in Brazil\"\n    },\n    {\n      \"description\": \"The shift from miasma explanations to germ-based causation, changing what counted as effective prevention.\",\n      \"title\": \"Germ theory adoption\"\n    },\n    {\n      \"description\": \"How medical degrees, journals, and societies consolidated professional authority over health debates.\",\n      \"title\": \"Medical professionalization\"\n    },\n    {\n      \"description\": \"Hospitals as sites of charity, control, and clinical observation before modern public health systems.\",\n      \"title\": \"Hospital care in the Empire\"\n    },\n    {\n      \"description\": \"How “cleanliness” became a moral and political language used to judge populations and spaces.\",\n      \"title\": \"Hygienism as social ideology\"\n    },\n    {\n      \"description\": \"Why smallpox vaccination became a recurring conflict over compulsion, trust, and access.\",\n      \"title\": \"Smallpox vaccination policy\"\n    },\n    {\n      \"description\": \"Community resistance to vaccination tied to coercion, rumors, and unequal enforcement.\",\n      \"title\": \"Anti-vaccination mobilization\"\n    },\n    {\n      \"description\": \"How yellow fever outbreaks shaped migration, commerce, and elite fears in coastal cities.\",\n      \"title\": \"Yellow fever outbreaks\"\n    },\n    {\n      \"description\": \"Cholera waves and the public health emphasis on water, waste, and emergency measures.\",\n      \"title\": \"Cholera epidemics\"\n    },\n    {\n      \"description\": \"How collecting deaths and diagnoses became a tool to govern cities and justify interventions.\",\n      \"title\": \"Vital statistics systems\"\n    },\n    {\n      \"description\": \"Building sewers, drains, and street cleaning as health policy justified by epidemic prevention.\",\n      \"title\": \"Sanitation infrastructure as health policy\"\n    },\n    {\n      \"description\": \"How landlords, tenants, and the state fought over who should pay for “healthy” housing upgrades.\",\n      \"title\": \"Sanitation costs and landlords\"\n    },\n    {\n      \"description\": \"Forcible entry, inspections, and demolition framed as health measures, often targeting the poor.\",\n      \"title\": \"Coercive health policing\"\n    },\n    {\n      \"description\": \"The political logic of “modernizing” the capital through sanitation, demolition, and image-making.\",\n      \"title\": \"Public health as nation branding\"\n    },\n    {\n      \"description\": \"How laboratories became trusted arbiters of diagnosis, causation, and policy legitimacy.\",\n      \"title\": \"Laboratory authority\"\n    },\n    {\n      \"description\": \"The rise of biomedical institutes producing vaccines, serums, and expertise for the state.\",\n      \"title\": \"Biomedical institutes\"\n    },\n    {\n      \"description\": \"How the Oswaldo Cruz Institute became a hub for bacteriology, training, and state campaigns.\",\n      \"title\": \"Oswaldo Cruz Institute\"\n    },\n    {\n      \"description\": \"Mosquito control as a state strategy after the acceptance of insect-borne transmission.\",\n      \"title\": \"Vector control policy\"\n    },\n    {\n      \"description\": \"Why house inspections and fumigation became flashpoints for privacy and class conflict.\",\n      \"title\": \"House-to-house inspection\"\n    },\n    {\n      \"description\": \"The 1904 uprising sparked by compulsory vaccination, urban reforms, and distrust of authorities.\",\n      \"title\": \"Vaccine Revolt\"\n    },\n    {\n      \"description\": \"How the Vaccine Revolt reshaped the political limits of coercive health interventions.\",\n      \"title\": \"Aftermath of the Vaccine Revolt\"\n    },\n    {\n      \"description\": \"A health agenda that linked “civilization” to bodily regulation, discipline, and policing.\",\n      \"title\": \"Hygiene campaigns as governance\"\n    },\n    {\n      \"description\": \"How quarantine stations, inspections, and documentation regulated immigrants through health status.\",\n      \"title\": \"Immigration health screening\"\n    },\n    {\n      \"description\": \"The idea that rural “endemics” held back national progress, justifying interior campaigns.\",\n      \"title\": \"Endemic disease nationalism\"\n    },\n    {\n      \"description\": \"Hookworm as a symbol of rural poverty and the push for treatment plus hygiene education.\",\n      \"title\": \"Hookworm campaigns\"\n    },\n    {\n      \"description\": \"How Rockefeller Foundation programs shaped Brazilian public health training and priorities.\",\n      \"title\": \"Rockefeller Foundation influence\"\n    },\n    {\n      \"description\": \"The use of mapping and field surveys to locate disease hotspots and plan interventions.\",\n      \"title\": \"Health mapping practices\"\n    },\n    {\n      \"description\": \"Malaria control through drainage, insecticides, and worksite programs tied to development projects.\",\n      \"title\": \"Malaria control models\"\n    },\n    {\n      \"description\": \"Yellow fever eradication as an international benchmark used to claim scientific modernity.\",\n      \"title\": \"Yellow fever eradication politics\"\n    },\n    {\n      \"description\": \"How leprosy policy centered on compulsory isolation and long-term confinement.\",\n      \"title\": \"Leprosy isolation policy\"\n    },\n    {\n      \"description\": \"Colonies and hospitals for people with leprosy as institutions of care mixed with segregation.\",\n      \"title\": \"Leprosy colonies\"\n    },\n    {\n      \"description\": \"How sexually transmitted infections were framed as threats to morality, family, and the nation.\",\n      \"title\": \"Venereal disease politics\"\n    },\n    {\n      \"description\": \"Maternal programs that tied childbirth, breastfeeding, and infant care to national improvement.\",\n      \"title\": \"Maternalism in health policy\"\n    },\n    {\n      \"description\": \"Early child health campaigns focused on nutrition, milk supply, and reducing infant deaths.\",\n      \"title\": \"Infant mortality campaigns\"\n    },\n    {\n      \"description\": \"Medical debates that ranked populations by “fitness,” shaping policy and social stigma.\",\n      \"title\": \"Eugenics in Brazil\"\n    },\n    {\n      \"description\": \"How “race” and miscegenation were medicalized in public debates about national health.\",\n      \"title\": \"Racialized medicine\"\n    },\n    {\n      \"description\": \"Workplace injury and disease as a driver of labor regulation and medical certification.\",\n      \"title\": \"Occupational health origins\"\n    },\n    {\n      \"description\": \"How Vargas-era social insurance linked formal employment to medical care access.\",\n      \"title\": \"Social insurance medicine\"\n    },\n    {\n      \"description\": \"Separate health benefits for workers created stratified access across labor markets.\",\n      \"title\": \"Benefits tied to formal work\"\n    },\n    {\n      \"description\": \"State propaganda that portrayed hygiene as patriotic duty under centralized rule.\",\n      \"title\": \"Health propaganda under Vargas\"\n    },\n    {\n      \"description\": \"How wartime cooperation expanded disease control into strategic regions and work camps.\",\n      \"title\": \"Wartime public health expansion\"\n    },\n    {\n      \"description\": \"SESP programs that built clinics and sanitation in development zones tied to industry and mining.\",\n      \"title\": \"SESP development health\"\n    },\n    {\n      \"description\": \"The use of DDT as a “miracle” tool and the later controversy over harms and dependency.\",\n      \"title\": \"DDT in vector control\"\n    },\n    {\n      \"description\": \"BCG vaccination campaigns as a key mid-century response to tuberculosis risk.\",\n      \"title\": \"Tuberculosis prevention\"\n    },\n    {\n      \"description\": \"Sanatoria as a tuberculosis policy centered on isolation, rest, and long stays.\",\n      \"title\": \"Tuberculosis sanatoriums\"\n    },\n    {\n      \"description\": \"How psychiatry and asylums produced long-term confinement as a solution to social problems.\",\n      \"title\": \"Asylum psychiatry\"\n    },\n    {\n      \"description\": \"The critique of asylum confinement that fueled later community-based mental health models.\",\n      \"title\": \"Anti-asylum movement\"\n    },\n    {\n      \"description\": \"How medical services split between public charity care and privately paid care in mid-century cities.\",\n      \"title\": \"Dual-track medical care\"\n    },\n    {\n      \"description\": \"Health ministries and state secretariats as bureaucracies that competed over funding and authority.\",\n      \"title\": \"Health bureaucracy growth\"\n    },\n    {\n      \"description\": \"How the military regime expanded social security medicine while maintaining unequal coverage.\",\n      \"title\": \"Health policy under dictatorship\"\n    },\n    {\n      \"description\": \"Contracting private hospitals with public funds as a mechanism that boosted the medical market.\",\n      \"title\": \"Public funding for private hospitals\"\n    },\n    {\n      \"description\": \"Community health experiments that emphasized territory, prevention, and primary care teams.\",\n      \"title\": \"Community medicine pilots\"\n    },\n    {\n      \"description\": \"The emergence of the “sanitary reform” movement linking health to democracy and citizenship.\",\n      \"title\": \"Sanitary reform movement\"\n    },\n    {\n      \"description\": \"Conferences that became political arenas for defining health as a right and shaping institutions.\",\n      \"title\": \"National health conferences\"\n    },\n    {\n      \"description\": \"The constitutional principle that health is a universal right and a duty of the state.\",\n      \"title\": \"Health as a constitutional right\"\n    },\n    {\n      \"description\": \"SUS as a unified system intended to replace fragmented, employment-based access.\",\n      \"title\": \"SUS creation\"\n    },\n    {\n      \"description\": \"Municipalization as the shift of service management to cities, changing accountability and capacity.\",\n      \"title\": \"Municipalization of SUS\"\n    },\n    {\n      \"description\": \"Health councils as participatory bodies intended to oversee budgets and priorities.\",\n      \"title\": \"Health councils\"\n    },\n    {\n      \"description\": \"Family Health Strategy teams as the core primary-care model using defined territories and home visits.\",\n      \"title\": \"Family Health Strategy\"\n    },\n    {\n      \"description\": \"Community health workers as trusted local agents connecting households to clinics and surveillance.\",\n      \"title\": \"Community health workers\"\n    },\n    {\n      \"description\": \"Vaccination schedule management as a logistics problem of cold chain, coverage, and continuity.\",\n      \"title\": \"National immunization program\"\n    },\n    {\n      \"description\": \"Why Brazil achieved high coverage through routine vaccination plus mass campaigns.\",\n      \"title\": \"Mass vaccination campaigns\"\n    },\n    {\n      \"description\": \"Judicial decisions that force the state to provide specific treatments, reshaping budgets and equity.\",\n      \"title\": \"Health judicialization\"\n    },\n    {\n      \"description\": \"Patent rules and procurement as levers that influence drug prices and treatment availability.\",\n      \"title\": \"Pharmaceutical politics\"\n    },\n    {\n      \"description\": \"Generic medicines policy as a strategy to reduce costs and widen access to essential drugs.\",\n      \"title\": \"Generic drug policy\"\n    },\n    {\n      \"description\": \"AIDS activism that reframed HIV from stigma to rights, pushing the state toward universal treatment.\",\n      \"title\": \"AIDS activism\"\n    },\n    {\n      \"description\": \"Brazil’s policy of free antiretroviral therapy as a landmark rights-based public health commitment.\",\n      \"title\": \"Universal HIV treatment\"\n    },\n    {\n      \"description\": \"Condom promotion and sex education as prevention strategies amid moral and political backlash.\",\n      \"title\": \"HIV prevention politics\"\n    },\n    {\n      \"description\": \"Dengue as a recurring urban epidemic shaped by mosquito ecology, infrastructure gaps, and governance.\",\n      \"title\": \"Dengue resurgence\"\n    },\n    {\n      \"description\": \"Zika and microcephaly as a crisis that exposed gaps in reproductive rights and disability support.\",\n      \"title\": \"Zika epidemic\"\n    },\n    {\n      \"description\": \"The gendered burden of caregiving and blame during Zika, concentrated among poor women.\",\n      \"title\": \"Gendered impacts of Zika\"\n    },\n    {\n      \"description\": \"Indigenous health districts as a subsystem with distinct governance, logistics, and political tensions.\",\n      \"title\": \"Indigenous health subsystem\"\n    },\n    {\n      \"description\": \"How mining, land conflict, and remoteness complicate disease control and care delivery for Indigenous peoples.\",\n      \"title\": \"Indigenous health barriers\"\n    },\n    {\n      \"description\": \"Prison health as an arena where overcrowding drives tuberculosis and limits continuity of care.\",\n      \"title\": \"Carceral health crisis\"\n    },\n    {\n      \"description\": \"Police violence and emergency care access as public health issues reflected in injury and death patterns.\",\n      \"title\": \"Violence as a health metric\"\n    },\n    {\n      \"description\": \"Private health plans as a parallel system that shapes provider incentives and access inequality.\",\n      \"title\": \"Private health insurance sector\"\n    },\n    {\n      \"description\": \"Austerity policies that constrain SUS staffing, supplies, and capacity during rising demand.\",\n      \"title\": \"Austerity and SUS capacity\"\n    },\n    {\n      \"description\": \"How ICU beds, oxygen supply, and staffing became central bottlenecks in pandemic response.\",\n      \"title\": \"Hospital surge capacity\"\n    },\n    {\n      \"description\": \"Testing and case reporting as political tools that shape perceived severity and policy timing.\",\n      \"title\": \"COVID-19 surveillance politics\"\n    },\n    {\n      \"description\": \"Non-pharmaceutical interventions as contested policies shaped by federalism and economic pressure.\",\n      \"title\": \"COVID-19 distancing policy\"\n    },\n    {\n      \"description\": \"Federal, state, and municipal conflicts that produced uneven rules and mixed messaging.\",\n      \"title\": \"Pandemic federalism\"\n    },\n    {\n      \"description\": \"Drug promotion without evidence as a political strategy that undermined trust in scientific institutions.\",\n      \"title\": \"COVID-19 unproven therapies\"\n    },\n    {\n      \"description\": \"Vaccine procurement choices that affected rollout speed, coverage, and diplomatic positioning.\",\n      \"title\": \"COVID-19 vaccine procurement\"\n    },\n    {\n      \"description\": \"Misinformation networks that reshaped risk perception and compliance with public health guidance.\",\n      \"title\": \"Health misinformation\"\n    },\n    {\n      \"description\": \"Excess mortality as a measurement that captures undercounting and indirect pandemic deaths.\",\n      \"title\": \"Excess mortality counts\"\n    },\n    {\n      \"description\": \"How crowded housing, informal work, and unequal healthcare access produced sharply different death rates.\",\n      \"title\": \"Inequality in pandemic outcomes\"\n    },\n    {\n      \"description\": \"Public mourning, memorials, and denialism as competing narratives that politicized pandemic memory.\",\n      \"title\": \"COVID-19 memory politics\"\n    }\n  ]\n}",
      "outputTokens": 2788,
      "systemPrompt": "# Role\n\nYou are designing an **extensive** list of bite-sized, focused lessons for a specific chapter in a course.\n\nYou have expertise in instructional design, curriculum development, and creating granular learning paths. You have worked at top educational institutions creating micro-learning content that breaks down complex topics into digestible, single-concept lessons.\n\nYour mission is to create a lesson structure where each lesson covers **ONE SPECIFIC CONCEPT** that can be learned in 2-3 minutes and explained in 10 short tweets or less.\n\nYou deeply care about making learning accessible, focused, and efficient by breaking down topics into their smallest logical units.\n\n# Inputs\n\n- `COURSE_TITLE`: name of the overall course\n- `CHAPTER_TITLE`: title of this specific chapter\n- `CHAPTER_DESCRIPTION`: what this chapter covers\n- `LANGUAGE`: output language for titles and descriptions\n- `NEIGHBORING_CHAPTERS` (optional): titles and descriptions of chapters that come before and after this one in the course\n\n## Language\n\n- `en`: Use US region unless the content is about a different region.\n- `pt`: Use Brazilian Portuguese unless the content is about a different region.\n- `es`: Use Latin American Spanish unless the content is about a different region.\n\n# Goal\n\nProduce an **extensive** list of **single-concept** lessons that collectively cover everything in `CHAPTER_TITLE` and `CHAPTER_DESCRIPTION`. Each lesson should be so focused that a student can learn and understand the concept in 2-3 minutes.\n\n# Critical Requirements\n\n## Single-Concept Focus\n\n- **Each lesson MUST cover ONE SPECIFIC concept only**\n- If you can explain it in 10 short tweets or less, it's appropriately scoped\n- If it takes more than 10 tweets, **split it into multiple lessons**\n- If a topic is too broad, **break it down further**\n- Each lesson should be extremely focused on a single idea\n\n## Title & Description Requirements\n\n- Follow the same concise, no-fluff style as course chapter title and description\n- **NEVER** use words like \"learn\", \"understand\", \"explore\", \"introduction to\", \"basics of\", etc.\n- Go straight to the point\n- If you find yourself using **\"AND\"**, **\"OR\"**, or **\"VS\"** in a title, you should split it into separate lessons\n\n## Examples of Proper Granularity\n\n**TOO BROAD:**\n❌ \"Hardware vs. Software\"\n❌ \"Variables and Data Types\"\n❌ \"Functions and Methods\"\n\n**CORRECTLY BROKEN DOWN:**\n✅ \"What is Hardware?\"\n✅ \"What is Software?\"\n✅ \"How Hardware and Software Interact\"\n\nOr:\n\n✅ \"Variables: Storing Values\"\n✅ \"Data Types Overview\"\n✅ \"Numbers in Programming\"\n✅ \"Text (Strings) in Programming\"\n✅ \"Booleans (True/False Values)\"\n\n## Progression & Structure\n\n- Build a logical progression from basic to advanced concepts\n- Ensure lessons build on knowledge from previous lessons\n- Focus lessons specifically on THIS chapter, not the entire course\n- Don't add summary, review, or \"key concepts\" lessons\n- Don't add assessment or quiz lessons\n- Don't add final project or capstone lessons\n\n## Scope\n\n- Cover **everything** in `CHAPTER_DESCRIPTION` and `CHAPTER_TITLE`\n- Never go beyond the chapter's scope\n- Add **as many lessons as needed** to break down each concept fully\n- Don't limit the number of lessons arbitrarily\n- It's better to have many focused lessons than fewer broad ones\n- Make sure to have all lessons needed to **fully master the chapter's scope**\n\n## Neighboring Chapter Awareness\n\nWhen `NEIGHBORING_CHAPTERS` is provided, use it to avoid generating dedicated lessons on topics that have their own chapter. For example, if a neighboring chapter covers \"HTTP fundamentals,\" do not create standalone lessons teaching HTTP methods or status codes — those belong in that chapter, not this one.\n\nBrief contextual mentions are fine. For example, a lesson can reference HTTP to explain a concept, but should not become a standalone lesson _about_ HTTP.\n\n# Quality Checks\n\nBefore finalizing your lesson list, ask yourself for EACH lesson:\n\n1. **Is this lesson too broad?** → If yes, break it down further\n2. **Can this concept be explained in 10 short tweets or less?** → If no, split it\n3. **Does this lesson focus on a single specific concept?** → If no, split it\n4. **Does the title contain \"AND\", \"OR\", or \"VS\"?** → If yes, split into separate lessons\n5. **Would a student need more than 2-3 minutes to grasp this?** → If yes, simplify or split\n\n# Output Format\n\nEach lesson must include **exactly two fields**:\n\n- **Title** — short, specific, focused on the single concept\n- **Description** — 1-2 sentences describing what the lesson covers, no fluff\n\n## Good Title Examples\n\n- \"What is a Variable?\"\n- \"Integer Numbers\"\n- \"Floating-Point Numbers\"\n- \"Declaring Variables\"\n- \"Assigning Values\"\n- \"The Addition Operator\"\n- \"The Subtraction Operator\"\n\n## Good Description Examples\n\n- \"Memory locations that store values during program execution.\"\n- \"Whole numbers without decimal points: 1, 42, -17, 0.\"\n- \"Numbers with decimal points: 3.14, -0.5, 2.0.\"\n- \"Creating a variable with a name and type.\"\n- \"Storing a value into a variable using the assignment operator.\"\n\n# Last Check\n\nAfter creating your lesson list, verify:\n\n- \"Does each lesson cover ONLY ONE concept?\" → All must be YES\n- \"Can each lesson be explained in 10 tweets?\" → All must be YES\n- \"Have I covered EVERYTHING from the chapter description?\" → Must be YES\n- \"Are there any lessons that should be split further?\" → Must be NO\n- \"Are the titles and descriptions concise and to the point with no fluff?\" → Must be YES\n- \"Did I stay within the chapter's scope?\" → Must be YES\n- \"Does any lesson teach a topic that belongs in a neighboring chapter?\" → Must be NO\n\nThis should be the most **granular**, **focused**, and **extensive** lesson list possible for this chapter.\n",
      "testCaseId": "en-brazilian-history-health-disease-1",
      "userPrompt": "\n    LANGUAGE: en\n    COURSE_TITLE: Brazilian History\n    CHAPTER_TITLE: Health and disease\n    CHAPTER_DESCRIPTION: Public health, epidemics, health systems, and biomedical politics from the 19th century to COVID-19; sanitation campaigns and inequality.\nNEIGHBORING_CHAPTERS:\n- \"Sports and society\": Football history, race and class in sport, club cultures, mega-events, and stadium politics; sport as national narrative.\n- \"Cities and urban inequality\": Urbanization, housing, sanitation, policing, and informal settlements; favelas, segregation, and metropolitan governance.\n- \"Environmental history and the Amazon\": Amazon, Cerrado, and Atlantic Forest histories: extraction, conservation, Indigenous stewardship, climate politics, and environmental governance.\n- \"Military and national security\": Professionalization of the armed forces, coups, doctrine, and defense policy; civil-military relations in democracy.\n- \"Foreign policy and international relations\": Diplomacy from empire to present: borders, regional leadership, multilateralism, South–South ties, and great-power relations.\n- \"Historiography and public memory\": How Brazil's past is narrated and contested: schools, monuments, museums, reparations debates, transitional justice, and public history.\n  "
    }
  ],
  "taskId": "chapter-lessons"
}
