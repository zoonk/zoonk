{
  "generatedAt": "2026-02-22T19:13:43.573Z",
  "modelId": "anthropic/claude-sonnet-4.6",
  "outputs": [
    {
      "duration": 33250.083625,
      "inputTokens": 1971,
      "output": "{\n  \"lessons\": [\n    {\n      \"description\": \"What a network is and why machines need addressing and routing to communicate across systems.\",\n      \"title\": \"What is a Network?\"\n    },\n    {\n      \"description\": \"Binary representation of IPv4 addresses and why machines use 32-bit numbers instead of human-readable names.\",\n      \"title\": \"IPv4 Address Structure\"\n    },\n    {\n      \"description\": \"What each octet in an IPv4 address means and how the four-part dotted notation maps to binary.\",\n      \"title\": \"Reading IPv4 Dotted-Decimal Notation\"\n    },\n    {\n      \"description\": \"The role of subnet masks in splitting an IP address into a network portion and a host portion.\",\n      \"title\": \"What is a Subnet Mask?\"\n    },\n    {\n      \"description\": \"CIDR slash notation explained: what /24, /16, and /8 mean and how to count hosts in a subnet.\",\n      \"title\": \"CIDR Notation\"\n    },\n    {\n      \"description\": \"Reserved private address ranges (10.x, 172.16.x, 192.168.x) and why they exist separately from public IP space.\",\n      \"title\": \"Private vs. Public IP Ranges\"\n    },\n    {\n      \"description\": \"How IPv6 expands address space to 128 bits, its colon-hex notation, and why the web is gradually adopting it.\",\n      \"title\": \"IPv6 Address Basics\"\n    },\n    {\n      \"description\": \"How routers forward packets hop by hop using routing tables to move data between networks.\",\n      \"title\": \"How Routing Works\"\n    },\n    {\n      \"description\": \"What a default gateway is and why every device needs one to reach addresses outside its local subnet.\",\n      \"title\": \"Default Gateway\"\n    },\n    {\n      \"description\": \"How routers build and update routing tables, including static routes and the concept of dynamic routing protocols.\",\n      \"title\": \"Routing Tables\"\n    },\n    {\n      \"description\": \"What happens at each hop as a packet travels from source to destination across multiple networks.\",\n      \"title\": \"Packet Hops Across the Internet\"\n    },\n    {\n      \"description\": \"The problem NAT solves: allowing many private-addressed devices to share a single public IP address.\",\n      \"title\": \"Why NAT Exists\"\n    },\n    {\n      \"description\": \"How a NAT device rewrites source IP and port on outbound packets and reverses the mapping on replies.\",\n      \"title\": \"How NAT Translates Packets\"\n    },\n    {\n      \"description\": \"Port Address Translation (PAT): the most common form of NAT used in home routers and cloud environments.\",\n      \"title\": \"PAT (Many-to-One NAT)\"\n    },\n    {\n      \"description\": \"Why NAT breaks inbound connections by default and the techniques used to work around it (port forwarding, hole punching).\",\n      \"title\": \"NAT and Inbound Connections\"\n    },\n    {\n      \"description\": \"How NAT affects web servers, APIs, and peer-to-peer applications in practice.\",\n      \"title\": \"NAT Implications for Web Apps\"\n    },\n    {\n      \"description\": \"The role of TCP in the transport layer: reliable, ordered, connection-oriented byte streams.\",\n      \"title\": \"What TCP Provides\"\n    },\n    {\n      \"description\": \"How the three-way handshake (SYN, SYN-ACK, ACK) establishes a TCP connection before data flows.\",\n      \"title\": \"TCP Three-Way Handshake\"\n    },\n    {\n      \"description\": \"How TCP acknowledgments and retransmissions guarantee that lost packets are detected and resent.\",\n      \"title\": \"TCP Reliability and Retransmission\"\n    },\n    {\n      \"description\": \"How TCP flow control prevents a fast sender from overwhelming a slow receiver using the receive window.\",\n      \"title\": \"TCP Flow Control\"\n    },\n    {\n      \"description\": \"How TCP congestion control detects network congestion and throttles send rate to prevent collapse.\",\n      \"title\": \"TCP Congestion Control\"\n    },\n    {\n      \"description\": \"The four-way FIN/ACK sequence TCP uses to gracefully close a connection on both sides.\",\n      \"title\": \"TCP Connection Teardown\"\n    },\n    {\n      \"description\": \"What UDP provides: a connectionless, unordered, best-effort datagram service with no retransmission.\",\n      \"title\": \"What UDP Provides\"\n    },\n    {\n      \"description\": \"Scenarios where UDP outperforms TCP: real-time audio, video, gaming, and DNS lookups.\",\n      \"title\": \"When to Choose UDP\"\n    },\n    {\n      \"description\": \"How modern protocols like QUIC use UDP as a foundation while adding reliability at the application layer.\",\n      \"title\": \"UDP as a Building Block (QUIC)\"\n    },\n    {\n      \"description\": \"The key tradeoffs: TCP adds overhead and latency for reliability; UDP is faster but loses data silently.\",\n      \"title\": \"TCP vs. UDP Tradeoffs\"\n    },\n    {\n      \"description\": \"What latency is, how it is measured in milliseconds, and what physical and logical factors determine it.\",\n      \"title\": \"What is Latency?\"\n    },\n    {\n      \"description\": \"Why the speed of light creates a hard lower bound on round-trip time across geographic distances.\",\n      \"title\": \"Propagation Delay\"\n    },\n    {\n      \"description\": \"Transmission delay: how link speed and packet size together determine how long it takes to put bits on the wire.\",\n      \"title\": \"Transmission Delay\"\n    },\n    {\n      \"description\": \"Processing and queuing delays added by routers, switches, and network buffers along a path.\",\n      \"title\": \"Queuing and Processing Delay\"\n    },\n    {\n      \"description\": \"What bandwidth is, how it differs from latency, and how to think about throughput vs. speed.\",\n      \"title\": \"What is Bandwidth?\"\n    },\n    {\n      \"description\": \"Why high bandwidth does not fix high latency and how each affects different types of web traffic differently.\",\n      \"title\": \"Latency vs. Bandwidth Tradeoffs\"\n    },\n    {\n      \"description\": \"How bufferbloat causes high latency on congested links even when bandwidth appears sufficient.\",\n      \"title\": \"Bufferbloat\"\n    },\n    {\n      \"description\": \"Using ping and traceroute to measure round-trip time and trace the hop-by-hop path of packets.\",\n      \"title\": \"Measuring Latency with Ping and Traceroute\"\n    },\n    {\n      \"description\": \"What packet loss is, how it is measured as a percentage, and its outsized impact on TCP throughput.\",\n      \"title\": \"Packet Loss and Its Impact\"\n    },\n    {\n      \"description\": \"Common network failure: a host unreachable because its IP is misconfigured or not on the expected subnet.\",\n      \"title\": \"IP Misconfiguration Failures\"\n    },\n    {\n      \"description\": \"Common network failure: routing black holes where packets are forwarded into a loop or dropped silently.\",\n      \"title\": \"Routing Black Holes\"\n    },\n    {\n      \"description\": \"Common network failure: NAT table exhaustion causing new connections to be silently dropped.\",\n      \"title\": \"NAT Table Exhaustion\"\n    },\n    {\n      \"description\": \"Common network failure: TCP connection timing out vs. being actively refused, and what each signals.\",\n      \"title\": \"Connection Timeout vs. Connection Refused\"\n    },\n    {\n      \"description\": \"Common network failure: asymmetric routing causing TCP sessions to break when replies take a different path.\",\n      \"title\": \"Asymmetric Routing Problems\"\n    },\n    {\n      \"description\": \"Common network failure: MTU mismatches causing large packets to be dropped, often silently (PMTUD failures).\",\n      \"title\": \"MTU and Packet Fragmentation Issues\"\n    },\n    {\n      \"description\": \"A step-by-step mental model for isolating connectivity problems: physical layer, IP, routing, transport, application.\",\n      \"title\": \"Layered Debugging Mental Model\"\n    },\n    {\n      \"description\": \"Reading ping output to distinguish between no route, packet loss, high latency, and DNS failure.\",\n      \"title\": \"Interpreting Ping Output\"\n    },\n    {\n      \"description\": \"Using traceroute output to identify where along a path latency spikes or packets stop being forwarded.\",\n      \"title\": \"Interpreting Traceroute Output\"\n    },\n    {\n      \"description\": \"Using netstat or ss to inspect open connections, listening ports, and socket states on a local machine.\",\n      \"title\": \"Inspecting Connections with netstat/ss\"\n    },\n    {\n      \"description\": \"Using tcpdump or Wireshark to capture raw packets and confirm whether traffic is leaving or arriving at a host.\",\n      \"title\": \"Packet Capture Basics\"\n    },\n    {\n      \"description\": \"A practical checklist for debugging: can you ping the gateway? Can you reach a public IP? Is the port open?\",\n      \"title\": \"Connectivity Debugging Checklist\"\n    }\n  ]\n}",
      "outputTokens": 1686,
      "systemPrompt": "# Role\n\nYou are designing an **extensive** list of bite-sized, focused lessons for a specific chapter in a course.\n\nYou have expertise in instructional design, curriculum development, and creating granular learning paths. You have worked at top educational institutions creating micro-learning content that breaks down complex topics into digestible, single-concept lessons.\n\nYour mission is to create a lesson structure where each lesson covers **ONE SPECIFIC CONCEPT** that can be learned in 2-3 minutes and explained in 10 short tweets or less.\n\nYou deeply care about making learning accessible, focused, and efficient by breaking down topics into their smallest logical units.\n\n# Inputs\n\n- `COURSE_TITLE`: name of the overall course\n- `CHAPTER_TITLE`: title of this specific chapter\n- `CHAPTER_DESCRIPTION`: what this chapter covers\n- `LANGUAGE`: output language for titles and descriptions\n- `NEIGHBORING_CHAPTERS` (optional): titles and descriptions of chapters that come before and after this one in the course\n\n## Language\n\n- `en`: Use US region unless the content is about a different region.\n- `pt`: Use Brazilian Portuguese unless the content is about a different region.\n- `es`: Use Latin American Spanish unless the content is about a different region.\n\n# Goal\n\nProduce an **extensive** list of **single-concept** lessons that collectively cover everything in `CHAPTER_TITLE` and `CHAPTER_DESCRIPTION`. Each lesson should be so focused that a student can learn and understand the concept in 2-3 minutes.\n\n# Critical Requirements\n\n## Single-Concept Focus\n\n- **Each lesson MUST cover ONE SPECIFIC concept only**\n- If you can explain it in 10 short tweets or less, it's appropriately scoped\n- If it takes more than 10 tweets, **split it into multiple lessons**\n- If a topic is too broad, **break it down further**\n- Each lesson should be extremely focused on a single idea\n\n## Title & Description Requirements\n\n- Follow the same concise, no-fluff style as course chapter title and description\n- **NEVER** use words like \"learn\", \"understand\", \"explore\", \"introduction to\", \"basics of\", etc.\n- Go straight to the point\n- If you find yourself using **\"AND\"**, **\"OR\"**, or **\"VS\"** in a title, you should split it into separate lessons\n\n## Examples of Proper Granularity\n\n**TOO BROAD:**\n❌ \"Hardware vs. Software\"\n❌ \"Variables and Data Types\"\n❌ \"Functions and Methods\"\n\n**CORRECTLY BROKEN DOWN:**\n✅ \"What is Hardware?\"\n✅ \"What is Software?\"\n✅ \"How Hardware and Software Interact\"\n\nOr:\n\n✅ \"Variables: Storing Values\"\n✅ \"Data Types Overview\"\n✅ \"Numbers in Programming\"\n✅ \"Text (Strings) in Programming\"\n✅ \"Booleans (True/False Values)\"\n\n## Progression & Structure\n\n- Build a logical progression from basic to advanced concepts\n- Ensure lessons build on knowledge from previous lessons\n- Focus lessons specifically on THIS chapter, not the entire course\n- Don't add summary, review, or \"key concepts\" lessons\n- Don't add assessment or quiz lessons\n- Don't add final project or capstone lessons\n\n## Scope\n\n- Cover **everything** in `CHAPTER_DESCRIPTION` and `CHAPTER_TITLE`\n- Never go beyond the chapter's scope\n- Add **as many lessons as needed** to break down each concept fully\n- Don't limit the number of lessons arbitrarily\n- It's better to have many focused lessons than fewer broad ones\n- Make sure to have all lessons needed to **fully master the chapter's scope**\n\n## Neighboring Chapter Awareness\n\nWhen `NEIGHBORING_CHAPTERS` is provided, use it to avoid generating dedicated lessons on topics that have their own chapter. For example, if a neighboring chapter covers \"HTTP fundamentals,\" do not create standalone lessons teaching HTTP methods or status codes — those belong in that chapter, not this one.\n\nBrief contextual mentions are fine. For example, a lesson can reference HTTP to explain a concept, but should not become a standalone lesson _about_ HTTP.\n\n# Quality Checks\n\nBefore finalizing your lesson list, ask yourself for EACH lesson:\n\n1. **Is this lesson too broad?** → If yes, break it down further\n2. **Can this concept be explained in 10 short tweets or less?** → If no, split it\n3. **Does this lesson focus on a single specific concept?** → If no, split it\n4. **Does the title contain \"AND\", \"OR\", or \"VS\"?** → If yes, split into separate lessons\n5. **Would a student need more than 2-3 minutes to grasp this?** → If yes, simplify or split\n\n# Output Format\n\nEach lesson must include **exactly two fields**:\n\n- **Title** — short, specific, focused on the single concept\n- **Description** — 1-2 sentences describing what the lesson covers, no fluff\n\n## Good Title Examples\n\n- \"What is a Variable?\"\n- \"Integer Numbers\"\n- \"Floating-Point Numbers\"\n- \"Declaring Variables\"\n- \"Assigning Values\"\n- \"The Addition Operator\"\n- \"The Subtraction Operator\"\n\n## Good Description Examples\n\n- \"Memory locations that store values during program execution.\"\n- \"Whole numbers without decimal points: 1, 42, -17, 0.\"\n- \"Numbers with decimal points: 3.14, -0.5, 2.0.\"\n- \"Creating a variable with a name and type.\"\n- \"Storing a value into a variable using the assignment operator.\"\n\n# Last Check\n\nAfter creating your lesson list, verify:\n\n- \"Does each lesson cover ONLY ONE concept?\" → All must be YES\n- \"Can each lesson be explained in 10 tweets?\" → All must be YES\n- \"Have I covered EVERYTHING from the chapter description?\" → Must be YES\n- \"Are there any lessons that should be split further?\" → Must be NO\n- \"Are the titles and descriptions concise and to the point with no fluff?\" → Must be YES\n- \"Did I stay within the chapter's scope?\" → Must be YES\n- \"Does any lesson teach a topic that belongs in a neighboring chapter?\" → Must be NO\n\nThis should be the most **granular**, **focused**, and **extensive** lesson list possible for this chapter.\n",
      "testCaseId": "en-web-networking-fundamentals-1",
      "userPrompt": "\n    LANGUAGE: en\n    COURSE_TITLE: Web Development\n    CHAPTER_TITLE: Networking fundamentals\n    CHAPTER_DESCRIPTION: IP addressing, routing, NAT, TCP vs UDP, latency and bandwidth tradeoffs, and common failure modes. Practical mental models for debugging connectivity issues.\nNEIGHBORING_CHAPTERS:\n- \"Web development landscape\": Roles, responsibilities, and interfaces across front-end, back-end, full-stack, QA, DevOps, security, design, and product. How standards bodies and browser vendors shape the platform.\n- \"DNS and domains\": DNS records, resolvers, caching, propagation, and common configurations for web apps. Domain strategy, subdomains, and pitfalls with split-horizon DNS.\n- \"HTTP\": HTTP methods, status codes, headers, content negotiation, caching semantics, cookies, and redirects. HTTP/2 and HTTP/3 concepts and performance implications.\n- \"HTTPS and TLS\": TLS handshakes, certificate chains, HSTS, OCSP stapling, and modern TLS configuration choices. Secure transport patterns for browsers, APIs, and internal services.\n  "
    },
    {
      "duration": 26632.852125000005,
      "inputTokens": 2078,
      "output": "{\n  \"lessons\": [\n    {\n      \"description\": \"Números inteiros em Python: representação, ausência de limite de tamanho e exemplos práticos.\",\n      \"title\": \"O tipo int\"\n    },\n    {\n      \"description\": \"Como o Python lida com inteiros de tamanho arbitrário, sem overflow, diferente de outras linguagens.\",\n      \"title\": \"Inteiros de precisão arbitrária\"\n    },\n    {\n      \"description\": \"Literais inteiros em base decimal, binária (0b), octal (0o) e hexadecimal (0x).\",\n      \"title\": \"Literais inteiros em diferentes bases\"\n    },\n    {\n      \"description\": \"Uso do underscore como separador visual em literais numéricos grandes, como 1_000_000.\",\n      \"title\": \"Separadores visuais em literais numéricos\"\n    },\n    {\n      \"description\": \"Números de ponto flutuante em Python: representação interna, exemplos e faixa de valores suportada.\",\n      \"title\": \"O tipo float\"\n    },\n    {\n      \"description\": \"Como floats são armazenados internamente usando o padrão IEEE 754 de dupla precisão.\",\n      \"title\": \"Representação IEEE 754\"\n    },\n    {\n      \"description\": \"Por que 0.1 + 0.2 não é exatamente 0.3 e como a base binária causa imprecisões em frações decimais.\",\n      \"title\": \"Erros de arredondamento em floats\"\n    },\n    {\n      \"description\": \"A função round() e suas limitações: quando o arredondamento pode surpreender devido à representação binária.\",\n      \"title\": \"A função round() e suas limitações\"\n    },\n    {\n      \"description\": \"Literais float em notação científica, como 1.5e10 e 2.3e-4, e quando usá-los.\",\n      \"title\": \"Notação científica em floats\"\n    },\n    {\n      \"description\": \"Os valores especiais float: inf, -inf e nan — o que representam e como surgem.\",\n      \"title\": \"Valores especiais: inf e nan\"\n    },\n    {\n      \"description\": \"Como verificar se um float é inf ou nan usando math.isinf() e math.isnan().\",\n      \"title\": \"Verificando inf e nan\"\n    },\n    {\n      \"description\": \"O tipo complex em Python: parte real, parte imaginária e a notação com j.\",\n      \"title\": \"O tipo complex\"\n    },\n    {\n      \"description\": \"Como acessar as partes real e imaginária de um número complexo com .real e .imag.\",\n      \"title\": \"Atributos real e imag do tipo complex\"\n    },\n    {\n      \"description\": \"Operações aritméticas básicas com números complexos: soma, subtração, multiplicação e divisão.\",\n      \"title\": \"Operações com números complexos\"\n    },\n    {\n      \"description\": \"O tipo bool como subclasse de int: True equivale a 1 e False equivale a 0.\",\n      \"title\": \"O tipo bool como subtipo de int\"\n    },\n    {\n      \"description\": \"Como True e False se comportam em contextos numéricos, como somas e comparações com inteiros.\",\n      \"title\": \"Bool em contextos numéricos\"\n    },\n    {\n      \"description\": \"O valor None em Python: o que representa e como difere de zero, False ou string vazia.\",\n      \"title\": \"O valor None\"\n    },\n    {\n      \"description\": \"Como verificar se uma variável é None usando o operador is, e por que não usar ==.\",\n      \"title\": \"Verificando None com is\"\n    },\n    {\n      \"description\": \"Conversão de float e bool para int com int(): truncamento em vez de arredondamento.\",\n      \"title\": \"Conversão para int com int()\"\n    },\n    {\n      \"description\": \"Conversão de int e bool para float com float(): quando e como usar.\",\n      \"title\": \"Conversão para float com float()\"\n    },\n    {\n      \"description\": \"Conversão de int e float para complex com complex(): criando números complexos a partir de outros tipos.\",\n      \"title\": \"Conversão para complex com complex()\"\n    },\n    {\n      \"description\": \"Conversão de valores numéricos para bool com bool(): quais valores são considerados falsy.\",\n      \"title\": \"Conversão para bool com bool()\"\n    },\n    {\n      \"description\": \"Conversão implícita que o Python realiza automaticamente entre int e float em operações mistas.\",\n      \"title\": \"Conversão implícita entre tipos numéricos\"\n    },\n    {\n      \"description\": \"O módulo decimal e a classe Decimal: aritmética de ponto fixo com precisão controlada.\",\n      \"title\": \"O módulo decimal e a classe Decimal\"\n    },\n    {\n      \"description\": \"Como definir a precisão global do módulo decimal com decimal.getcontext().prec.\",\n      \"title\": \"Configurando a precisão do Decimal\"\n    },\n    {\n      \"description\": \"Modos de arredondamento disponíveis no módulo decimal, como ROUND_HALF_UP e ROUND_HALF_EVEN.\",\n      \"title\": \"Modos de arredondamento no Decimal\"\n    },\n    {\n      \"description\": \"Quando usar Decimal em vez de float: casos financeiros e situações que exigem precisão decimal exata.\",\n      \"title\": \"Quando usar Decimal em vez de float\"\n    },\n    {\n      \"description\": \"O módulo fractions e a classe Fraction: representação exata de números racionais como p/q.\",\n      \"title\": \"O módulo fractions e a classe Fraction\"\n    },\n    {\n      \"description\": \"Como criar Fraction a partir de inteiros, floats, strings e outros Fraction.\",\n      \"title\": \"Criando objetos Fraction\"\n    },\n    {\n      \"description\": \"Operações aritméticas com Fraction e como o resultado é sempre uma fração exata e simplificada.\",\n      \"title\": \"Aritmética com Fraction\"\n    },\n    {\n      \"description\": \"Quando usar Fraction em vez de float ou Decimal para garantir exatidão em cálculos racionais.\",\n      \"title\": \"Quando usar Fraction\"\n    },\n    {\n      \"description\": \"Funções úteis do módulo math para trabalhar com inteiros: floor(), ceil() e trunc().\",\n      \"title\": \"floor(), ceil() e trunc()\"\n    },\n    {\n      \"description\": \"A função math.isclose() para comparar floats levando em conta tolerância numérica.\",\n      \"title\": \"Comparando floats com math.isclose()\"\n    },\n    {\n      \"description\": \"Como os operadores / e // se diferenciam: divisão real e divisão inteira (floor division).\",\n      \"title\": \"Divisão real vs. divisão inteira\"\n    },\n    {\n      \"description\": \"O operador % para calcular o resto da divisão e seu comportamento com números negativos.\",\n      \"title\": \"O operador módulo %\"\n    },\n    {\n      \"description\": \"O operador ** para exponenciação e a função pow() com três argumentos para exponenciação modular.\",\n      \"title\": \"Exponenciação com ** e pow()\"\n    },\n    {\n      \"description\": \"A função abs() aplicada a int, float e complex, e o que representa em cada caso.\",\n      \"title\": \"A função abs() com tipos numéricos\"\n    },\n    {\n      \"description\": \"A função divmod() e como ela retorna quociente e resto em uma única chamada.\",\n      \"title\": \"A função divmod()\"\n    }\n  ]\n}",
      "outputTokens": 1500,
      "systemPrompt": "# Role\n\nYou are designing an **extensive** list of bite-sized, focused lessons for a specific chapter in a course.\n\nYou have expertise in instructional design, curriculum development, and creating granular learning paths. You have worked at top educational institutions creating micro-learning content that breaks down complex topics into digestible, single-concept lessons.\n\nYour mission is to create a lesson structure where each lesson covers **ONE SPECIFIC CONCEPT** that can be learned in 2-3 minutes and explained in 10 short tweets or less.\n\nYou deeply care about making learning accessible, focused, and efficient by breaking down topics into their smallest logical units.\n\n# Inputs\n\n- `COURSE_TITLE`: name of the overall course\n- `CHAPTER_TITLE`: title of this specific chapter\n- `CHAPTER_DESCRIPTION`: what this chapter covers\n- `LANGUAGE`: output language for titles and descriptions\n- `NEIGHBORING_CHAPTERS` (optional): titles and descriptions of chapters that come before and after this one in the course\n\n## Language\n\n- `en`: Use US region unless the content is about a different region.\n- `pt`: Use Brazilian Portuguese unless the content is about a different region.\n- `es`: Use Latin American Spanish unless the content is about a different region.\n\n# Goal\n\nProduce an **extensive** list of **single-concept** lessons that collectively cover everything in `CHAPTER_TITLE` and `CHAPTER_DESCRIPTION`. Each lesson should be so focused that a student can learn and understand the concept in 2-3 minutes.\n\n# Critical Requirements\n\n## Single-Concept Focus\n\n- **Each lesson MUST cover ONE SPECIFIC concept only**\n- If you can explain it in 10 short tweets or less, it's appropriately scoped\n- If it takes more than 10 tweets, **split it into multiple lessons**\n- If a topic is too broad, **break it down further**\n- Each lesson should be extremely focused on a single idea\n\n## Title & Description Requirements\n\n- Follow the same concise, no-fluff style as course chapter title and description\n- **NEVER** use words like \"learn\", \"understand\", \"explore\", \"introduction to\", \"basics of\", etc.\n- Go straight to the point\n- If you find yourself using **\"AND\"**, **\"OR\"**, or **\"VS\"** in a title, you should split it into separate lessons\n\n## Examples of Proper Granularity\n\n**TOO BROAD:**\n❌ \"Hardware vs. Software\"\n❌ \"Variables and Data Types\"\n❌ \"Functions and Methods\"\n\n**CORRECTLY BROKEN DOWN:**\n✅ \"What is Hardware?\"\n✅ \"What is Software?\"\n✅ \"How Hardware and Software Interact\"\n\nOr:\n\n✅ \"Variables: Storing Values\"\n✅ \"Data Types Overview\"\n✅ \"Numbers in Programming\"\n✅ \"Text (Strings) in Programming\"\n✅ \"Booleans (True/False Values)\"\n\n## Progression & Structure\n\n- Build a logical progression from basic to advanced concepts\n- Ensure lessons build on knowledge from previous lessons\n- Focus lessons specifically on THIS chapter, not the entire course\n- Don't add summary, review, or \"key concepts\" lessons\n- Don't add assessment or quiz lessons\n- Don't add final project or capstone lessons\n\n## Scope\n\n- Cover **everything** in `CHAPTER_DESCRIPTION` and `CHAPTER_TITLE`\n- Never go beyond the chapter's scope\n- Add **as many lessons as needed** to break down each concept fully\n- Don't limit the number of lessons arbitrarily\n- It's better to have many focused lessons than fewer broad ones\n- Make sure to have all lessons needed to **fully master the chapter's scope**\n\n## Neighboring Chapter Awareness\n\nWhen `NEIGHBORING_CHAPTERS` is provided, use it to avoid generating dedicated lessons on topics that have their own chapter. For example, if a neighboring chapter covers \"HTTP fundamentals,\" do not create standalone lessons teaching HTTP methods or status codes — those belong in that chapter, not this one.\n\nBrief contextual mentions are fine. For example, a lesson can reference HTTP to explain a concept, but should not become a standalone lesson _about_ HTTP.\n\n# Quality Checks\n\nBefore finalizing your lesson list, ask yourself for EACH lesson:\n\n1. **Is this lesson too broad?** → If yes, break it down further\n2. **Can this concept be explained in 10 short tweets or less?** → If no, split it\n3. **Does this lesson focus on a single specific concept?** → If no, split it\n4. **Does the title contain \"AND\", \"OR\", or \"VS\"?** → If yes, split into separate lessons\n5. **Would a student need more than 2-3 minutes to grasp this?** → If yes, simplify or split\n\n# Output Format\n\nEach lesson must include **exactly two fields**:\n\n- **Title** — short, specific, focused on the single concept\n- **Description** — 1-2 sentences describing what the lesson covers, no fluff\n\n## Good Title Examples\n\n- \"What is a Variable?\"\n- \"Integer Numbers\"\n- \"Floating-Point Numbers\"\n- \"Declaring Variables\"\n- \"Assigning Values\"\n- \"The Addition Operator\"\n- \"The Subtraction Operator\"\n\n## Good Description Examples\n\n- \"Memory locations that store values during program execution.\"\n- \"Whole numbers without decimal points: 1, 42, -17, 0.\"\n- \"Numbers with decimal points: 3.14, -0.5, 2.0.\"\n- \"Creating a variable with a name and type.\"\n- \"Storing a value into a variable using the assignment operator.\"\n\n# Last Check\n\nAfter creating your lesson list, verify:\n\n- \"Does each lesson cover ONLY ONE concept?\" → All must be YES\n- \"Can each lesson be explained in 10 tweets?\" → All must be YES\n- \"Have I covered EVERYTHING from the chapter description?\" → Must be YES\n- \"Are there any lessons that should be split further?\" → Must be NO\n- \"Are the titles and descriptions concise and to the point with no fluff?\" → Must be YES\n- \"Did I stay within the chapter's scope?\" → Must be YES\n- \"Does any lesson teach a topic that belongs in a neighboring chapter?\" → Must be NO\n\nThis should be the most **granular**, **focused**, and **extensive** lesson list possible for this chapter.\n",
      "testCaseId": "pt-python-tipos-numericos-1",
      "userPrompt": "\n    LANGUAGE: pt\n    COURSE_TITLE: Python\n    CHAPTER_TITLE: Tipos numéricos e valores especiais\n    CHAPTER_DESCRIPTION: Inteiros, floats, complexos, bool, None; conversões, precisão numérica, erros de arredondamento e uso de decimal/fractions.\nNEIGHBORING_CHAPTERS:\n- \"Ambiente de desenvolvimento\": Instalação e configuração do Python, múltiplas versões, PATH, virtual environments, VS Code/IDEs, REPL, Jupyter e boas práticas de organização local.\n- \"Execução de programas\": Execução em REPL, scripts e módulos; shebang, codificação, argumentos de linha de comando e status de saída do processo.\n- \"Sintaxe e convenções\": Regras de indentação, nomes, comentários, docstrings, literais, operadores e precedência; diferenças entre Python interativo e arquivo.\n- \"Texto e codificação\": Strings, bytes e bytearray; Unicode, normalização, encodings, f-strings, formatação avançada e manipulação eficiente.\n- \"Estruturas de dados fundamentais\": Listas, tuplas, dicionários e conjuntos; mutabilidade, cópia rasa vs profunda, hashing, ordenação e complexidade de operações.\n- \"Controle de fluxo\": if/elif/else, match/case, loops, break/continue, compreensão de escopo e padrões comuns de controle.\n  "
    },
    {
      "duration": 48240.03595800002,
      "inputTokens": 2080,
      "output": "{\n  \"lessons\": [\n    {\n      \"description\": \"El grupo carbonilo (C=O): geometría sp², polaridad y distribución electrónica que define su reactividad.\",\n      \"title\": \"El grupo carbonilo: estructura y polaridad\"\n    },\n    {\n      \"description\": \"Por qué el carbono carbonílico actúa como electrófilo y el oxígeno como reservorio de densidad electrónica.\",\n      \"title\": \"El carbono carbonílico como electrófilo\"\n    },\n    {\n      \"description\": \"Comparación de la reactividad de aldehídos frente a cetonas en adiciones nucleofílicas, basada en efectos estéricos y electrónicos.\",\n      \"title\": \"Reactividad relativa: aldehídos vs. cetonas\"\n    },\n    {\n      \"description\": \"Mecanismo general de adición nucleofílica al carbonilo: ataque al carbono, formación del intermediario tetraédrico y protonación.\",\n      \"title\": \"Mecanismo de adición nucleofílica al carbonilo\"\n    },\n    {\n      \"description\": \"Adición de HCN al carbonilo para formar cianhidrinas: mecanismo, condiciones y relevancia sintética.\",\n      \"title\": \"Adición de HCN: formación de cianhidrinas\"\n    },\n    {\n      \"description\": \"Adición de hidruros (NaBH₄, LiAlH₄) al carbonilo: selectividad y productos obtenidos.\",\n      \"title\": \"Adición de hidruros al carbonilo\"\n    },\n    {\n      \"description\": \"Reacción de reactivos de Grignard con aldehídos y cetonas: mecanismo y productos alcohol.\",\n      \"title\": \"Adición de reactivos de Grignard\"\n    },\n    {\n      \"description\": \"Adición de agua al carbonilo para formar hidratos gem-diol: equilibrio y factores que lo controlan.\",\n      \"title\": \"Adición de agua: formación de hidratos\"\n    },\n    {\n      \"description\": \"Reacción de alcoholes con aldehídos para formar hemiacetales y acetales: mecanismo ácido-catalizado y reversibilidad.\",\n      \"title\": \"Formación de hemiacetales y acetales\"\n    },\n    {\n      \"description\": \"Uso de acetales como grupos protectores del carbonilo en síntesis orgánica: instalación y remoción.\",\n      \"title\": \"Acetales como grupos protectores\"\n    },\n    {\n      \"description\": \"Reacción de aminas primarias con carbonilos para formar iminas (bases de Schiff): mecanismo y condiciones de pH.\",\n      \"title\": \"Formación de iminas\"\n    },\n    {\n      \"description\": \"Reacción de aminas secundarias con carbonilos para formar enaminas: mecanismo y aplicaciones sintéticas.\",\n      \"title\": \"Formación de enaminas\"\n    },\n    {\n      \"description\": \"Reducción de iminas a aminas mediante hidrogenación o hidruros: síntesis de aminas por aminación reductiva.\",\n      \"title\": \"Aminación reductiva\"\n    },\n    {\n      \"description\": \"Adición de bisulfito de sodio al carbonilo: mecanismo, selectividad y uso en purificación.\",\n      \"title\": \"Adición de bisulfito de sodio\"\n    },\n    {\n      \"description\": \"El carbono α del carbonilo: acidez de los hidrógenos alfa y efecto estabilizador de la resonancia sobre el anión resultante.\",\n      \"title\": \"Acidez del hidrógeno alfa (α)\"\n    },\n    {\n      \"description\": \"El enol como tautómero del compuesto carbonílico: estructura, estabilidad y equilibrio tautomérico ceto-enol.\",\n      \"title\": \"Tautomería ceto-enol\"\n    },\n    {\n      \"description\": \"Factores que desplazan el equilibrio hacia el enol: conjugación, aromatización y quelación intramolecular.\",\n      \"title\": \"Factores que estabilizan el enol\"\n    },\n    {\n      \"description\": \"Catálisis ácida y básica en la interconversión ceto-enol: mecanismos detallados de cada vía.\",\n      \"title\": \"Catálisis ácida en la tautomería ceto-enol\"\n    },\n    {\n      \"description\": \"Mecanismo de catálisis básica en la tautomería ceto-enol y formación del enolato.\",\n      \"title\": \"Catálisis básica en la tautomería ceto-enol\"\n    },\n    {\n      \"description\": \"El enolato como nucleófilo: estructura, deslocalización de carga y ambifilia (ataque por C u O).\",\n      \"title\": \"El enolato: estructura y nucleofilia\"\n    },\n    {\n      \"description\": \"Uso de bases fuertes (LDA, NaH, NaOEt) para generar enolatos cinéticos y termodinámicos.\",\n      \"title\": \"Generación de enolatos con bases fuertes\"\n    },\n    {\n      \"description\": \"Diferencia entre enolato cinético y termodinámico: condiciones de formación y regioselectividad.\",\n      \"title\": \"Enolato cinético vs. termodinámico\"\n    },\n    {\n      \"description\": \"Alquilación directa de enolatos con haluros de alquilo: mecanismo SN2 y limitaciones.\",\n      \"title\": \"Alquilación de enolatos\"\n    },\n    {\n      \"description\": \"Reacción aldólica entre dos moléculas del mismo aldehído o cetona: mecanismo base-catalizado.\",\n      \"title\": \"Condensación aldólica: mecanismo base-catalizado\"\n    },\n    {\n      \"description\": \"Mecanismo ácido-catalizado de la reacción aldólica: formación del enol y ataque electrofílico.\",\n      \"title\": \"Condensación aldólica: mecanismo ácido-catalizado\"\n    },\n    {\n      \"description\": \"Producto de la adición aldólica (β-hidroxicarbonilo) y su deshidratación a enona conjugada.\",\n      \"title\": \"Producto aldólico y deshidratación\"\n    },\n    {\n      \"description\": \"Aldol cruzado entre dos compuestos carbonílicos diferentes: problemas de selectividad y estrategias para controlarlo.\",\n      \"title\": \"Aldol cruzado: selectividad\"\n    },\n    {\n      \"description\": \"Uso de enolatos preformados en aldol cruzado dirigido para obtener un solo producto.\",\n      \"title\": \"Aldol cruzado dirigido con enolatos preformados\"\n    },\n    {\n      \"description\": \"Control de la estereoquímica en la reacción aldólica: estados de transición de Zimmermann-Traxler y diastereoselectividad.\",\n      \"title\": \"Estereoquímica de la reacción aldólica\"\n    },\n    {\n      \"description\": \"Aldol intramolecular: formación de anillos de cinco y seis miembros y factores que favorecen la ciclización.\",\n      \"title\": \"Aldol intramolecular\"\n    },\n    {\n      \"description\": \"Condensación de Claisen entre dos ésteres: mecanismo y formación del β-cetoéster.\",\n      \"title\": \"Condensación de Claisen: mecanismo\"\n    },\n    {\n      \"description\": \"Claisen cruzado (Claisen mixto): condiciones para obtener selectividad usando un éster sin hidrógenos alfa.\",\n      \"title\": \"Claisen cruzado\"\n    },\n    {\n      \"description\": \"Condensación de Dieckmann: Claisen intramolecular para formar β-cetoésteres cíclicos.\",\n      \"title\": \"Condensación de Dieckmann\"\n    },\n    {\n      \"description\": \"El acetoacetato de etilo como synthon de metilcetona: alquilación y descarboxilación en síntesis.\",\n      \"title\": \"Síntesis del acetoacetato de etilo\"\n    },\n    {\n      \"description\": \"El malonato de dietilo como synthon de ácido acético sustituido: alquilación y descarboxilación.\",\n      \"title\": \"Síntesis del malonato de dietilo\"\n    },\n    {\n      \"description\": \"Adición de Michael: adición 1,4 de un nucleófilo suave a un sistema carbonílico α,β-insaturado.\",\n      \"title\": \"Adición de Michael: concepto 1,4\"\n    },\n    {\n      \"description\": \"Diferencia entre adición 1,2 y 1,4 (conjugada) a enones: control termodinámico y cinético.\",\n      \"title\": \"Adición 1,2 vs. adición 1,4 a enones\"\n    },\n    {\n      \"description\": \"Nucleófilos blandos de Michael: enolatos, malonatos, tioles y aminas como dadores de Michael.\",\n      \"title\": \"Dadores de Michael: tipos de nucleófilos\"\n    },\n    {\n      \"description\": \"Reacción de Robinson: combinación de adición de Michael y condensación aldólica para formar ciclohexenonas.\",\n      \"title\": \"Anulación de Robinson\"\n    },\n    {\n      \"description\": \"Mecanismo detallado de la anulación de Robinson: secuencia Michael-aldol y formación del anillo.\",\n      \"title\": \"Mecanismo de la anulación de Robinson\"\n    },\n    {\n      \"description\": \"Reactividad de β-cetoésteres y 1,3-dicarbonilos como dadores de Michael por su alta acidez α.\",\n      \"title\": \"β-Cetoésteres como dadores de Michael\"\n    },\n    {\n      \"description\": \"Concepto de dureza y blandura (HSAB) aplicado a la reactividad 1,2 vs. 1,4 de carbonilos insaturados.\",\n      \"title\": \"Principio HSAB y selectividad 1,2 vs. 1,4\"\n    },\n    {\n      \"description\": \"Uso de cuprato de litio (R₂CuLi) para adición conjugada 1,4 selectiva a enones.\",\n      \"title\": \"Cupratos de litio en adición 1,4\"\n    },\n    {\n      \"description\": \"Control de regioselectividad en enolatos de cetonas asimétricas: elección de base, temperatura y disolvente.\",\n      \"title\": \"Regioselectividad en la enolización de cetonas asimétricas\"\n    },\n    {\n      \"description\": \"Enolatos de silicio (enol sililados): preparación, estabilidad y uso en reacciones aldólicas de Mukaiyama.\",\n      \"title\": \"Enoles sililados: preparación y reactividad\"\n    },\n    {\n      \"description\": \"Reacción aldólica de Mukaiyama: adición de enol sililado a aldehído activado por ácido de Lewis.\",\n      \"title\": \"Aldol de Mukaiyama\"\n    },\n    {\n      \"description\": \"Descarboxilación de β-cetoácidos y ácidos malónicos: mecanismo por estado de transición de seis miembros.\",\n      \"title\": \"Descarboxilación de β-cetoácidos\"\n    },\n    {\n      \"description\": \"Halogenación en posición alfa del carbonilo en condiciones ácidas: mecanismo y monoselectividad.\",\n      \"title\": \"Halogenación alfa en medio ácido\"\n    },\n    {\n      \"description\": \"Halogenación alfa en condiciones básicas y la reacción del haloformo: mecanismo y aplicación sintética.\",\n      \"title\": \"Halogenación alfa en medio básico y reacción del haloformo\"\n    },\n    {\n      \"description\": \"Reacción de Mannich: condensación de un carbonilo con formaldehído y una amina para formar la base de Mannich.\",\n      \"title\": \"Reacción de Mannich\"\n    },\n    {\n      \"description\": \"Condensación de Knoevenagel: reacción de un aldehído con un compuesto 1,3-dicarbonílico activo en presencia de amina.\",\n      \"title\": \"Condensación de Knoevenagel\"\n    },\n    {\n      \"description\": \"Síntesis de Stork con enaminas: alquilación y acilación regioselectiva a través de enaminas y posterior hidrólisis.\",\n      \"title\": \"Alquilación de enaminas (síntesis de Stork)\"\n    },\n    {\n      \"description\": \"Estrategias generales para controlar la quimioselectividad, regioselectividad y estereoselectividad en reacciones de carbonilos y enolatos.\",\n      \"title\": \"Control de selectividad en reacciones de carbonilos\"\n    }\n  ]\n}",
      "outputTokens": 2739,
      "systemPrompt": "# Role\n\nYou are designing an **extensive** list of bite-sized, focused lessons for a specific chapter in a course.\n\nYou have expertise in instructional design, curriculum development, and creating granular learning paths. You have worked at top educational institutions creating micro-learning content that breaks down complex topics into digestible, single-concept lessons.\n\nYour mission is to create a lesson structure where each lesson covers **ONE SPECIFIC CONCEPT** that can be learned in 2-3 minutes and explained in 10 short tweets or less.\n\nYou deeply care about making learning accessible, focused, and efficient by breaking down topics into their smallest logical units.\n\n# Inputs\n\n- `COURSE_TITLE`: name of the overall course\n- `CHAPTER_TITLE`: title of this specific chapter\n- `CHAPTER_DESCRIPTION`: what this chapter covers\n- `LANGUAGE`: output language for titles and descriptions\n- `NEIGHBORING_CHAPTERS` (optional): titles and descriptions of chapters that come before and after this one in the course\n\n## Language\n\n- `en`: Use US region unless the content is about a different region.\n- `pt`: Use Brazilian Portuguese unless the content is about a different region.\n- `es`: Use Latin American Spanish unless the content is about a different region.\n\n# Goal\n\nProduce an **extensive** list of **single-concept** lessons that collectively cover everything in `CHAPTER_TITLE` and `CHAPTER_DESCRIPTION`. Each lesson should be so focused that a student can learn and understand the concept in 2-3 minutes.\n\n# Critical Requirements\n\n## Single-Concept Focus\n\n- **Each lesson MUST cover ONE SPECIFIC concept only**\n- If you can explain it in 10 short tweets or less, it's appropriately scoped\n- If it takes more than 10 tweets, **split it into multiple lessons**\n- If a topic is too broad, **break it down further**\n- Each lesson should be extremely focused on a single idea\n\n## Title & Description Requirements\n\n- Follow the same concise, no-fluff style as course chapter title and description\n- **NEVER** use words like \"learn\", \"understand\", \"explore\", \"introduction to\", \"basics of\", etc.\n- Go straight to the point\n- If you find yourself using **\"AND\"**, **\"OR\"**, or **\"VS\"** in a title, you should split it into separate lessons\n\n## Examples of Proper Granularity\n\n**TOO BROAD:**\n❌ \"Hardware vs. Software\"\n❌ \"Variables and Data Types\"\n❌ \"Functions and Methods\"\n\n**CORRECTLY BROKEN DOWN:**\n✅ \"What is Hardware?\"\n✅ \"What is Software?\"\n✅ \"How Hardware and Software Interact\"\n\nOr:\n\n✅ \"Variables: Storing Values\"\n✅ \"Data Types Overview\"\n✅ \"Numbers in Programming\"\n✅ \"Text (Strings) in Programming\"\n✅ \"Booleans (True/False Values)\"\n\n## Progression & Structure\n\n- Build a logical progression from basic to advanced concepts\n- Ensure lessons build on knowledge from previous lessons\n- Focus lessons specifically on THIS chapter, not the entire course\n- Don't add summary, review, or \"key concepts\" lessons\n- Don't add assessment or quiz lessons\n- Don't add final project or capstone lessons\n\n## Scope\n\n- Cover **everything** in `CHAPTER_DESCRIPTION` and `CHAPTER_TITLE`\n- Never go beyond the chapter's scope\n- Add **as many lessons as needed** to break down each concept fully\n- Don't limit the number of lessons arbitrarily\n- It's better to have many focused lessons than fewer broad ones\n- Make sure to have all lessons needed to **fully master the chapter's scope**\n\n## Neighboring Chapter Awareness\n\nWhen `NEIGHBORING_CHAPTERS` is provided, use it to avoid generating dedicated lessons on topics that have their own chapter. For example, if a neighboring chapter covers \"HTTP fundamentals,\" do not create standalone lessons teaching HTTP methods or status codes — those belong in that chapter, not this one.\n\nBrief contextual mentions are fine. For example, a lesson can reference HTTP to explain a concept, but should not become a standalone lesson _about_ HTTP.\n\n# Quality Checks\n\nBefore finalizing your lesson list, ask yourself for EACH lesson:\n\n1. **Is this lesson too broad?** → If yes, break it down further\n2. **Can this concept be explained in 10 short tweets or less?** → If no, split it\n3. **Does this lesson focus on a single specific concept?** → If no, split it\n4. **Does the title contain \"AND\", \"OR\", or \"VS\"?** → If yes, split into separate lessons\n5. **Would a student need more than 2-3 minutes to grasp this?** → If yes, simplify or split\n\n# Output Format\n\nEach lesson must include **exactly two fields**:\n\n- **Title** — short, specific, focused on the single concept\n- **Description** — 1-2 sentences describing what the lesson covers, no fluff\n\n## Good Title Examples\n\n- \"What is a Variable?\"\n- \"Integer Numbers\"\n- \"Floating-Point Numbers\"\n- \"Declaring Variables\"\n- \"Assigning Values\"\n- \"The Addition Operator\"\n- \"The Subtraction Operator\"\n\n## Good Description Examples\n\n- \"Memory locations that store values during program execution.\"\n- \"Whole numbers without decimal points: 1, 42, -17, 0.\"\n- \"Numbers with decimal points: 3.14, -0.5, 2.0.\"\n- \"Creating a variable with a name and type.\"\n- \"Storing a value into a variable using the assignment operator.\"\n\n# Last Check\n\nAfter creating your lesson list, verify:\n\n- \"Does each lesson cover ONLY ONE concept?\" → All must be YES\n- \"Can each lesson be explained in 10 tweets?\" → All must be YES\n- \"Have I covered EVERYTHING from the chapter description?\" → Must be YES\n- \"Are there any lessons that should be split further?\" → Must be NO\n- \"Are the titles and descriptions concise and to the point with no fluff?\" → Must be YES\n- \"Did I stay within the chapter's scope?\" → Must be YES\n- \"Does any lesson teach a topic that belongs in a neighboring chapter?\" → Must be NO\n\nThis should be the most **granular**, **focused**, and **extensive** lesson list possible for this chapter.\n",
      "testCaseId": "es-quimica-carbonilos-enolatos-1",
      "userPrompt": "\n    LANGUAGE: es\n    COURSE_TITLE: Química\n    CHAPTER_TITLE: Carbonilos y enolatos\n    CHAPTER_DESCRIPTION: Adición nucleofílica a carbonilos, química de enoles/enolatos, aldol, Claisen, Michael y control de selectividad.\nNEIGHBORING_CHAPTERS:\n- \"Sustitución y eliminación\": SN1/SN2, E1/E2, reactividad, solventes, nucleófilos/bases, rearrangements y control de selectividad.\n- \"Adiciones a alquenos y alquinos\": Hidrogenación, halogenación, hidratación, hidroboración-oxidación, adiciones conjugadas y química de alquinos.\n- \"Química aromática\": Aromaticidad, sustitución electrofílica/nucleofílica aromática, directores, y reactividad de sistemas aromáticos extendidos.\n- \"Ácidos carboxílicos y derivados\": Reactividad de ácidos carboxílicos, derivados acílicos, química de amidas/ésteres/anhídridos y estrategias de activación.\n- \"Heterociclos\": Síntesis y reactividad de heterociclos aromáticos y saturados; aplicaciones en fármacos y materiales.\n- \"Radicales y fotoquímica orgánica\": Mecanismos radicalarios, iniciación/propagación/terminación, selectividad, y reacciones fotoquímicas orgánicas.\n  "
    },
    {
      "duration": 21202.321959000023,
      "inputTokens": 1955,
      "output": "{\n  \"lessons\": [\n    {\n      \"description\": \"What a business cycle is and how it differs from long-run growth trends.\",\n      \"title\": \"What Is a Business Cycle?\"\n    },\n    {\n      \"description\": \"The four canonical phases of a business cycle: expansion, peak, contraction, and trough.\",\n      \"title\": \"Phases of a Business Cycle\"\n    },\n    {\n      \"description\": \"How economists date business cycle turning points and who officially determines them.\",\n      \"title\": \"Dating Business Cycle Peaks and Troughs\"\n    },\n    {\n      \"description\": \"The difference between business cycle fluctuations and the long-run growth trend in output.\",\n      \"title\": \"Trend vs. Cycle in Output\"\n    },\n    {\n      \"description\": \"Statistical methods used to separate the cyclical component of a series from its trend, such as the HP filter.\",\n      \"title\": \"Detrending Economic Data\"\n    },\n    {\n      \"description\": \"How real GDP moves over the business cycle and what typical peak-to-trough magnitudes look like.\",\n      \"title\": \"Output Fluctuations Over the Cycle\"\n    },\n    {\n      \"description\": \"The concept of the output gap: the difference between actual and potential output.\",\n      \"title\": \"The Output Gap\"\n    },\n    {\n      \"description\": \"How consumption spending moves relative to GDP over the business cycle and its degree of comovement.\",\n      \"title\": \"Consumption and the Business Cycle\"\n    },\n    {\n      \"description\": \"How business investment moves relative to GDP over the cycle and why it is more volatile than consumption.\",\n      \"title\": \"Investment Volatility Over the Cycle\"\n    },\n    {\n      \"description\": \"How government spending and net exports comove with output during expansions and recessions.\",\n      \"title\": \"Government Spending and Net Exports Over the Cycle\"\n    },\n    {\n      \"description\": \"How inflation behaves over the business cycle: procyclicality, timing, and typical magnitudes.\",\n      \"title\": \"Inflation Patterns Over the Cycle\"\n    },\n    {\n      \"description\": \"The concept of procyclicality: when a variable moves in the same direction as output.\",\n      \"title\": \"Procyclicality Defined\"\n    },\n    {\n      \"description\": \"The concept of countercyclicality: when a variable moves opposite to output.\",\n      \"title\": \"Countercyclicality Defined\"\n    },\n    {\n      \"description\": \"The concept of acyclicality: when a variable shows no consistent relationship with output.\",\n      \"title\": \"Acyclicality Defined\"\n    },\n    {\n      \"description\": \"How to measure comovement between two macroeconomic series using cross-correlations.\",\n      \"title\": \"Measuring Comovement with Cross-Correlations\"\n    },\n    {\n      \"description\": \"The distinction between leading, coincident, and lagging indicators in business cycle analysis.\",\n      \"title\": \"Leading, Coincident, and Lagging Indicators\"\n    },\n    {\n      \"description\": \"Why unemployment rises during recessions and falls during expansions, and how it lags the cycle.\",\n      \"title\": \"Unemployment Over the Business Cycle\"\n    },\n    {\n      \"description\": \"Okun's Law: the empirical relationship between changes in unemployment and changes in output.\",\n      \"title\": \"Okun's Law\"\n    },\n    {\n      \"description\": \"How labor force participation rates move over the business cycle.\",\n      \"title\": \"Labor Force Participation Over the Cycle\"\n    },\n    {\n      \"description\": \"How average hours worked per employee fluctuate over the cycle, separate from changes in employment.\",\n      \"title\": \"Hours Worked Over the Cycle\"\n    },\n    {\n      \"description\": \"How labor productivity (output per worker or per hour) moves over the business cycle.\",\n      \"title\": \"Labor Productivity Over the Cycle\"\n    },\n    {\n      \"description\": \"The phenomenon of procyclical productivity: why measured productivity tends to rise in booms and fall in recessions.\",\n      \"title\": \"Procyclical Productivity\"\n    },\n    {\n      \"description\": \"How total factor productivity (TFP) behaves over the business cycle and why it matters for cycle theories.\",\n      \"title\": \"TFP Fluctuations Over the Cycle\"\n    },\n    {\n      \"description\": \"How real wages move over the business cycle and whether they are procyclical, countercyclical, or acyclical.\",\n      \"title\": \"Real Wages Over the Cycle\"\n    },\n    {\n      \"description\": \"How price levels and markups behave over the cycle, and whether markups are procyclical or countercyclical.\",\n      \"title\": \"Price Markups Over the Cycle\"\n    },\n    {\n      \"description\": \"How interest rates, both short- and long-term, move relative to output over the business cycle.\",\n      \"title\": \"Interest Rates Over the Cycle\"\n    },\n    {\n      \"description\": \"How money supply and credit aggregates comove with output over the business cycle.\",\n      \"title\": \"Money and Credit Over the Cycle\"\n    },\n    {\n      \"description\": \"How stock prices and asset values move relative to output and their leading indicator properties.\",\n      \"title\": \"Asset Prices Over the Cycle\"\n    },\n    {\n      \"description\": \"How durable goods sectors fluctuate much more than nondurable goods and services during the cycle.\",\n      \"title\": \"Durables vs. Nondurables Across Sectors\"\n    },\n    {\n      \"description\": \"Comovement across industries: why most sectors expand and contract together during the business cycle.\",\n      \"title\": \"Sectoral Comovement During the Cycle\"\n    },\n    {\n      \"description\": \"How trade (imports and exports) responds to the domestic business cycle and its comovement with output.\",\n      \"title\": \"Trade Flows Over the Cycle\"\n    },\n    {\n      \"description\": \"Key stylized facts about U.S. business cycles summarized as a set of agreed-upon empirical regularities.\",\n      \"title\": \"Stylized Facts of U.S. Business Cycles\"\n    },\n    {\n      \"description\": \"How business cycles in different countries tend to move together, especially among closely integrated economies.\",\n      \"title\": \"International Business Cycle Synchronization\"\n    },\n    {\n      \"description\": \"The empirical regularity that recessions tend to be shorter but sharper than expansions.\",\n      \"title\": \"Asymmetry Between Recessions and Expansions\"\n    },\n    {\n      \"description\": \"How the size and frequency of business cycle fluctuations have changed over time, including the Great Moderation.\",\n      \"title\": \"Changes in Business Cycle Volatility Over Time\"\n    }\n  ]\n}",
      "outputTokens": 1217,
      "systemPrompt": "# Role\n\nYou are designing an **extensive** list of bite-sized, focused lessons for a specific chapter in a course.\n\nYou have expertise in instructional design, curriculum development, and creating granular learning paths. You have worked at top educational institutions creating micro-learning content that breaks down complex topics into digestible, single-concept lessons.\n\nYour mission is to create a lesson structure where each lesson covers **ONE SPECIFIC CONCEPT** that can be learned in 2-3 minutes and explained in 10 short tweets or less.\n\nYou deeply care about making learning accessible, focused, and efficient by breaking down topics into their smallest logical units.\n\n# Inputs\n\n- `COURSE_TITLE`: name of the overall course\n- `CHAPTER_TITLE`: title of this specific chapter\n- `CHAPTER_DESCRIPTION`: what this chapter covers\n- `LANGUAGE`: output language for titles and descriptions\n- `NEIGHBORING_CHAPTERS` (optional): titles and descriptions of chapters that come before and after this one in the course\n\n## Language\n\n- `en`: Use US region unless the content is about a different region.\n- `pt`: Use Brazilian Portuguese unless the content is about a different region.\n- `es`: Use Latin American Spanish unless the content is about a different region.\n\n# Goal\n\nProduce an **extensive** list of **single-concept** lessons that collectively cover everything in `CHAPTER_TITLE` and `CHAPTER_DESCRIPTION`. Each lesson should be so focused that a student can learn and understand the concept in 2-3 minutes.\n\n# Critical Requirements\n\n## Single-Concept Focus\n\n- **Each lesson MUST cover ONE SPECIFIC concept only**\n- If you can explain it in 10 short tweets or less, it's appropriately scoped\n- If it takes more than 10 tweets, **split it into multiple lessons**\n- If a topic is too broad, **break it down further**\n- Each lesson should be extremely focused on a single idea\n\n## Title & Description Requirements\n\n- Follow the same concise, no-fluff style as course chapter title and description\n- **NEVER** use words like \"learn\", \"understand\", \"explore\", \"introduction to\", \"basics of\", etc.\n- Go straight to the point\n- If you find yourself using **\"AND\"**, **\"OR\"**, or **\"VS\"** in a title, you should split it into separate lessons\n\n## Examples of Proper Granularity\n\n**TOO BROAD:**\n❌ \"Hardware vs. Software\"\n❌ \"Variables and Data Types\"\n❌ \"Functions and Methods\"\n\n**CORRECTLY BROKEN DOWN:**\n✅ \"What is Hardware?\"\n✅ \"What is Software?\"\n✅ \"How Hardware and Software Interact\"\n\nOr:\n\n✅ \"Variables: Storing Values\"\n✅ \"Data Types Overview\"\n✅ \"Numbers in Programming\"\n✅ \"Text (Strings) in Programming\"\n✅ \"Booleans (True/False Values)\"\n\n## Progression & Structure\n\n- Build a logical progression from basic to advanced concepts\n- Ensure lessons build on knowledge from previous lessons\n- Focus lessons specifically on THIS chapter, not the entire course\n- Don't add summary, review, or \"key concepts\" lessons\n- Don't add assessment or quiz lessons\n- Don't add final project or capstone lessons\n\n## Scope\n\n- Cover **everything** in `CHAPTER_DESCRIPTION` and `CHAPTER_TITLE`\n- Never go beyond the chapter's scope\n- Add **as many lessons as needed** to break down each concept fully\n- Don't limit the number of lessons arbitrarily\n- It's better to have many focused lessons than fewer broad ones\n- Make sure to have all lessons needed to **fully master the chapter's scope**\n\n## Neighboring Chapter Awareness\n\nWhen `NEIGHBORING_CHAPTERS` is provided, use it to avoid generating dedicated lessons on topics that have their own chapter. For example, if a neighboring chapter covers \"HTTP fundamentals,\" do not create standalone lessons teaching HTTP methods or status codes — those belong in that chapter, not this one.\n\nBrief contextual mentions are fine. For example, a lesson can reference HTTP to explain a concept, but should not become a standalone lesson _about_ HTTP.\n\n# Quality Checks\n\nBefore finalizing your lesson list, ask yourself for EACH lesson:\n\n1. **Is this lesson too broad?** → If yes, break it down further\n2. **Can this concept be explained in 10 short tweets or less?** → If no, split it\n3. **Does this lesson focus on a single specific concept?** → If no, split it\n4. **Does the title contain \"AND\", \"OR\", or \"VS\"?** → If yes, split into separate lessons\n5. **Would a student need more than 2-3 minutes to grasp this?** → If yes, simplify or split\n\n# Output Format\n\nEach lesson must include **exactly two fields**:\n\n- **Title** — short, specific, focused on the single concept\n- **Description** — 1-2 sentences describing what the lesson covers, no fluff\n\n## Good Title Examples\n\n- \"What is a Variable?\"\n- \"Integer Numbers\"\n- \"Floating-Point Numbers\"\n- \"Declaring Variables\"\n- \"Assigning Values\"\n- \"The Addition Operator\"\n- \"The Subtraction Operator\"\n\n## Good Description Examples\n\n- \"Memory locations that store values during program execution.\"\n- \"Whole numbers without decimal points: 1, 42, -17, 0.\"\n- \"Numbers with decimal points: 3.14, -0.5, 2.0.\"\n- \"Creating a variable with a name and type.\"\n- \"Storing a value into a variable using the assignment operator.\"\n\n# Last Check\n\nAfter creating your lesson list, verify:\n\n- \"Does each lesson cover ONLY ONE concept?\" → All must be YES\n- \"Can each lesson be explained in 10 tweets?\" → All must be YES\n- \"Have I covered EVERYTHING from the chapter description?\" → Must be YES\n- \"Are there any lessons that should be split further?\" → Must be NO\n- \"Are the titles and descriptions concise and to the point with no fluff?\" → Must be YES\n- \"Did I stay within the chapter's scope?\" → Must be YES\n- \"Does any lesson teach a topic that belongs in a neighboring chapter?\" → Must be NO\n\nThis should be the most **granular**, **focused**, and **extensive** lesson list possible for this chapter.\n",
      "testCaseId": "en-economics-business-cycles-1",
      "userPrompt": "\n    LANGUAGE: en\n    COURSE_TITLE: Economics\n    CHAPTER_TITLE: Business cycles\n    CHAPTER_DESCRIPTION: Business cycle facts, stylized patterns in output, inflation, unemployment, productivity, and comovements across sectors.\nNEIGHBORING_CHAPTERS:\n- \"Behavioral economics\": Behavioral biases, bounded rationality, time inconsistency, social preferences, and policy design with behavioral responses.\n- \"Experimental economics\": Laboratory and field experiments, incentive design, external validity, and behavioral/market design evidence.\n- \"Macroeconomic accounting\": National income and product accounts, sectoral balances, price indices, productivity, and flow-of-funds concepts.\n- \"Consumption and savings\": Consumption-saving, life-cycle and permanent income models, liquidity constraints, and empirical puzzles.\n- \"Investment and capital\": Investment theory, q-models, adjustment costs, irreversibility, and firm-level investment dynamics.\n- \"Unemployment and labor in macro\": Labor markets in macro, search and matching, wage setting, unemployment dynamics, and Beveridge curve analysis.\n  "
    },
    {
      "duration": 23567.691125000012,
      "inputTokens": 2105,
      "output": "{\n  \"lessons\": [\n    {\n      \"description\": \"O que é arquitetura evolutiva e por que ela é essencial em contextos de mudanças frequentes e incerteza.\",\n      \"title\": \"O que é arquitetura evolutiva\"\n    },\n    {\n      \"description\": \"Como a arquitetura tradicional (Big Design Up Front) conflita com os princípios ágeis de entrega incremental.\",\n      \"title\": \"BDUF vs. arquitetura incremental\"\n    },\n    {\n      \"description\": \"O princípio de adiar decisões arquiteturais irreversíveis até o último momento responsável possível.\",\n      \"title\": \"Decisões no último momento responsável\"\n    },\n    {\n      \"description\": \"Como estruturar um sistema em módulos independentes para suportar mudanças sem impacto em cascata.\",\n      \"title\": \"Modularidade: dividindo sistemas em partes independentes\"\n    },\n    {\n      \"description\": \"O que é acoplamento e como o acoplamento alto dificulta mudanças e evolução do sistema.\",\n      \"title\": \"Acoplamento: o custo das dependências\"\n    },\n    {\n      \"description\": \"Os diferentes tipos de acoplamento entre módulos e suas consequências para a manutenção do sistema.\",\n      \"title\": \"Tipos de acoplamento\"\n    },\n    {\n      \"description\": \"Como reduzir o acoplamento entre componentes usando abstrações e interfaces bem definidas.\",\n      \"title\": \"Estratégias para reduzir acoplamento\"\n    },\n    {\n      \"description\": \"O que é coesão e por que módulos com alta coesão são mais fáceis de entender, testar e modificar.\",\n      \"title\": \"Coesão: responsabilidade única por módulo\"\n    },\n    {\n      \"description\": \"Os diferentes graus de coesão e como identificar módulos com baixa coesão no código.\",\n      \"title\": \"Tipos de coesão\"\n    },\n    {\n      \"description\": \"Como o equilíbrio entre acoplamento baixo e coesão alta guia decisões de design arquitetural.\",\n      \"title\": \"A relação entre acoplamento e coesão\"\n    },\n    {\n      \"description\": \"O que são fitness functions e como elas atuam como guardiãs dos atributos arquiteturais ao longo do tempo.\",\n      \"title\": \"O que são fitness functions\"\n    },\n    {\n      \"description\": \"Como definir fitness functions para atributos como performance, segurança e escalabilidade.\",\n      \"title\": \"Definindo fitness functions para atributos arquiteturais\"\n    },\n    {\n      \"description\": \"Como executar fitness functions de forma automatizada em pipelines para proteger decisões arquiteturais.\",\n      \"title\": \"Fitness functions automatizadas em pipelines\"\n    },\n    {\n      \"description\": \"Como usar fitness functions para detectar regressões arquiteturais antes que cheguem à produção.\",\n      \"title\": \"Fitness functions como rede de segurança arquitetural\"\n    },\n    {\n      \"description\": \"O que são ADRs (Architecture Decision Records) e como registrar decisões arquiteturais de forma estruturada.\",\n      \"title\": \"Architecture Decision Records (ADRs)\"\n    },\n    {\n      \"description\": \"A estrutura de um ADR: contexto, decisão, consequências e alternativas consideradas.\",\n      \"title\": \"Anatomia de um ADR\"\n    },\n    {\n      \"description\": \"Como manter um histórico vivo de decisões arquiteturais e revisar ADRs quando o contexto muda.\",\n      \"title\": \"Ciclo de vida de um ADR\"\n    },\n    {\n      \"description\": \"Como avaliar o impacto de uma mudança arquitetural considerando reversibilidade e custo de mudança.\",\n      \"title\": \"Reversibilidade como critério de decisão arquitetural\"\n    },\n    {\n      \"description\": \"O conceito de dívida arquitetural e como ela se acumula quando decisões são postergadas ou mal documentadas.\",\n      \"title\": \"Dívida arquitetural: conceito e origem\"\n    },\n    {\n      \"description\": \"Como identificar gargalos arquiteturais que impedem a agilidade da equipe e a velocidade de entrega.\",\n      \"title\": \"Identificando gargalos arquiteturais\"\n    },\n    {\n      \"description\": \"Como decompor um sistema em serviços ou componentes com fronteiras bem definidas que suportam mudanças independentes.\",\n      \"title\": \"Decomposição por domínio de negócio\"\n    },\n    {\n      \"description\": \"O conceito de fronteira de contexto (bounded context) e sua importância para evitar acoplamento entre domínios.\",\n      \"title\": \"Bounded contexts como fronteiras arquiteturais\"\n    },\n    {\n      \"description\": \"Como estruturas de comunicação entre times influenciam a arquitetura do sistema, conforme a Lei de Conway.\",\n      \"title\": \"Lei de Conway e estrutura de times\"\n    },\n    {\n      \"description\": \"Como usar a Inverse Conway Maneuver para alinhar a estrutura de times à arquitetura desejada.\",\n      \"title\": \"Inverse Conway Maneuver\"\n    },\n    {\n      \"description\": \"Como o conceito de strangler fig pattern permite substituir partes de um sistema legado de forma incremental e segura.\",\n      \"title\": \"Strangler Fig Pattern: evolução incremental de sistemas legados\"\n    },\n    {\n      \"description\": \"Como arquiteturas baseadas em eventos aumentam o desacoplamento e suportam mudanças independentes entre componentes.\",\n      \"title\": \"Arquitetura orientada a eventos e desacoplamento\"\n    },\n    {\n      \"description\": \"Como criar pontos de extensão no sistema que permitem adicionar funcionalidades sem modificar código existente.\",\n      \"title\": \"Extensibilidade sem modificação: Open/Closed em arquitetura\"\n    },\n    {\n      \"description\": \"Como práticas de spike e prova de conceito ajudam a validar decisões arquiteturais antes de comprometer o design.\",\n      \"title\": \"Spikes arquiteturais: validando decisões antes de decidir\"\n    },\n    {\n      \"description\": \"Como equilibrar a necessidade de consistência arquitetural com a autonomia das equipes em ambientes ágeis.\",\n      \"title\": \"Consistência arquitetural em times autônomos\"\n    },\n    {\n      \"description\": \"O papel do arquiteto em ambientes ágeis: facilitador de decisões distribuídas em vez de centralizador.\",\n      \"title\": \"O papel do arquiteto em times ágeis\"\n    }\n  ]\n}",
      "outputTokens": 1322,
      "systemPrompt": "# Role\n\nYou are designing an **extensive** list of bite-sized, focused lessons for a specific chapter in a course.\n\nYou have expertise in instructional design, curriculum development, and creating granular learning paths. You have worked at top educational institutions creating micro-learning content that breaks down complex topics into digestible, single-concept lessons.\n\nYour mission is to create a lesson structure where each lesson covers **ONE SPECIFIC CONCEPT** that can be learned in 2-3 minutes and explained in 10 short tweets or less.\n\nYou deeply care about making learning accessible, focused, and efficient by breaking down topics into their smallest logical units.\n\n# Inputs\n\n- `COURSE_TITLE`: name of the overall course\n- `CHAPTER_TITLE`: title of this specific chapter\n- `CHAPTER_DESCRIPTION`: what this chapter covers\n- `LANGUAGE`: output language for titles and descriptions\n- `NEIGHBORING_CHAPTERS` (optional): titles and descriptions of chapters that come before and after this one in the course\n\n## Language\n\n- `en`: Use US region unless the content is about a different region.\n- `pt`: Use Brazilian Portuguese unless the content is about a different region.\n- `es`: Use Latin American Spanish unless the content is about a different region.\n\n# Goal\n\nProduce an **extensive** list of **single-concept** lessons that collectively cover everything in `CHAPTER_TITLE` and `CHAPTER_DESCRIPTION`. Each lesson should be so focused that a student can learn and understand the concept in 2-3 minutes.\n\n# Critical Requirements\n\n## Single-Concept Focus\n\n- **Each lesson MUST cover ONE SPECIFIC concept only**\n- If you can explain it in 10 short tweets or less, it's appropriately scoped\n- If it takes more than 10 tweets, **split it into multiple lessons**\n- If a topic is too broad, **break it down further**\n- Each lesson should be extremely focused on a single idea\n\n## Title & Description Requirements\n\n- Follow the same concise, no-fluff style as course chapter title and description\n- **NEVER** use words like \"learn\", \"understand\", \"explore\", \"introduction to\", \"basics of\", etc.\n- Go straight to the point\n- If you find yourself using **\"AND\"**, **\"OR\"**, or **\"VS\"** in a title, you should split it into separate lessons\n\n## Examples of Proper Granularity\n\n**TOO BROAD:**\n❌ \"Hardware vs. Software\"\n❌ \"Variables and Data Types\"\n❌ \"Functions and Methods\"\n\n**CORRECTLY BROKEN DOWN:**\n✅ \"What is Hardware?\"\n✅ \"What is Software?\"\n✅ \"How Hardware and Software Interact\"\n\nOr:\n\n✅ \"Variables: Storing Values\"\n✅ \"Data Types Overview\"\n✅ \"Numbers in Programming\"\n✅ \"Text (Strings) in Programming\"\n✅ \"Booleans (True/False Values)\"\n\n## Progression & Structure\n\n- Build a logical progression from basic to advanced concepts\n- Ensure lessons build on knowledge from previous lessons\n- Focus lessons specifically on THIS chapter, not the entire course\n- Don't add summary, review, or \"key concepts\" lessons\n- Don't add assessment or quiz lessons\n- Don't add final project or capstone lessons\n\n## Scope\n\n- Cover **everything** in `CHAPTER_DESCRIPTION` and `CHAPTER_TITLE`\n- Never go beyond the chapter's scope\n- Add **as many lessons as needed** to break down each concept fully\n- Don't limit the number of lessons arbitrarily\n- It's better to have many focused lessons than fewer broad ones\n- Make sure to have all lessons needed to **fully master the chapter's scope**\n\n## Neighboring Chapter Awareness\n\nWhen `NEIGHBORING_CHAPTERS` is provided, use it to avoid generating dedicated lessons on topics that have their own chapter. For example, if a neighboring chapter covers \"HTTP fundamentals,\" do not create standalone lessons teaching HTTP methods or status codes — those belong in that chapter, not this one.\n\nBrief contextual mentions are fine. For example, a lesson can reference HTTP to explain a concept, but should not become a standalone lesson _about_ HTTP.\n\n# Quality Checks\n\nBefore finalizing your lesson list, ask yourself for EACH lesson:\n\n1. **Is this lesson too broad?** → If yes, break it down further\n2. **Can this concept be explained in 10 short tweets or less?** → If no, split it\n3. **Does this lesson focus on a single specific concept?** → If no, split it\n4. **Does the title contain \"AND\", \"OR\", or \"VS\"?** → If yes, split into separate lessons\n5. **Would a student need more than 2-3 minutes to grasp this?** → If yes, simplify or split\n\n# Output Format\n\nEach lesson must include **exactly two fields**:\n\n- **Title** — short, specific, focused on the single concept\n- **Description** — 1-2 sentences describing what the lesson covers, no fluff\n\n## Good Title Examples\n\n- \"What is a Variable?\"\n- \"Integer Numbers\"\n- \"Floating-Point Numbers\"\n- \"Declaring Variables\"\n- \"Assigning Values\"\n- \"The Addition Operator\"\n- \"The Subtraction Operator\"\n\n## Good Description Examples\n\n- \"Memory locations that store values during program execution.\"\n- \"Whole numbers without decimal points: 1, 42, -17, 0.\"\n- \"Numbers with decimal points: 3.14, -0.5, 2.0.\"\n- \"Creating a variable with a name and type.\"\n- \"Storing a value into a variable using the assignment operator.\"\n\n# Last Check\n\nAfter creating your lesson list, verify:\n\n- \"Does each lesson cover ONLY ONE concept?\" → All must be YES\n- \"Can each lesson be explained in 10 tweets?\" → All must be YES\n- \"Have I covered EVERYTHING from the chapter description?\" → Must be YES\n- \"Are there any lessons that should be split further?\" → Must be NO\n- \"Are the titles and descriptions concise and to the point with no fluff?\" → Must be YES\n- \"Did I stay within the chapter's scope?\" → Must be YES\n- \"Does any lesson teach a topic that belongs in a neighboring chapter?\" → Must be NO\n\nThis should be the most **granular**, **focused**, and **extensive** lesson list possible for this chapter.\n",
      "testCaseId": "pt-agile-arquitetura-agil-1",
      "userPrompt": "\n    LANGUAGE: pt\n    COURSE_TITLE: Metodologias Ágeis\n    CHAPTER_TITLE: Arquitetura em ambientes ágeis\n    CHAPTER_DESCRIPTION: Arquitetura evolutiva, modularidade, acoplamento/cohesão, fitness functions e decisões arquiteturais compatíveis com mudanças frequentes.\nNEIGHBORING_CHAPTERS:\n- \"Discovery e Delivery integrados\": Dual Track (Discovery/Delivery), discovery contínuo, e prevenção de 'teatro ágil' com entrega sem aprendizado.\n- \"DevOps e entrega contínua\": DevOps: colaboração Dev+Ops, automação, pipelines, IaC, e redução de handoffs para acelerar e estabilizar entregas.\n- \"SRE e confiabilidade em produtos digitais\": SRE: SLIs/SLOs, error budget, confiabilidade como requisito, e equilíbrio entre velocidade e estabilidade.\n- \"Dívida técnica e sustentabilidade\": Gestão de dívida técnica, qualidade interna, refatoração estratégica, e mecanismos de priorização junto ao valor de negócio.\n- \"Estratégias modernas de testes\": Qualidade e testes: pirâmide de testes, testes automatizados, testes exploratórios, e estratégias para sistemas distribuídos.\n- \"Segurança e DevSecOps\": Segurança no ciclo ágil: threat modeling, DevSecOps, shift-left, gestão de vulnerabilidades e resposta a incidentes.\n  "
    },
    {
      "duration": 32999.37020800001,
      "inputTokens": 2063,
      "output": "{\n  \"lessons\": [\n    {\n      \"description\": \"The historical and philosophical tradition of alchemy as the pursuit of transforming base metals into gold and achieving perfection.\",\n      \"title\": \"What Is Alchemy?\"\n    },\n    {\n      \"description\": \"The four classical elements—earth, water, fire, and air—and how alchemical theory uses them as a framework for transformation.\",\n      \"title\": \"The Four Elements in Alchemical Theory\"\n    },\n    {\n      \"description\": \"The concept of Nigredo, Albedo, and Rubedo: the three (or four) stages of the alchemical Great Work and what each stage represents.\",\n      \"title\": \"Stages of the Great Work\"\n    },\n    {\n      \"description\": \"The Philosopher's Stone as the legendary end-product of alchemy, said to perfect any substance it touches.\",\n      \"title\": \"What Is the Philosopher's Stone?\"\n    },\n    {\n      \"description\": \"The Stone's supposed power to turn lead into gold and what that transformation symbolized beyond mere wealth in alchemical tradition.\",\n      \"title\": \"The Stone's Power of Transmutation\"\n    },\n    {\n      \"description\": \"The Elixir of Life as a product of the Philosopher's Stone and its role in granting extended life or immortality.\",\n      \"title\": \"The Elixir of Life\"\n    },\n    {\n      \"description\": \"Nicolas Flamel as a real historical figure and how his legend grew into one of the most famous alchemical myths in Western culture.\",\n      \"title\": \"Nicolas Flamel: The Historical Figure\"\n    },\n    {\n      \"description\": \"How the Harry Potter series incorporates Nicolas Flamel and his Stone, and how Rowling adapts the historical myth for her fictional world.\",\n      \"title\": \"Flamel in the Harry Potter Canon\"\n    },\n    {\n      \"description\": \"How the Philosopher's Stone functions as a narrative symbol of temptation, purity of motive, and the danger of obsession in the first book.\",\n      \"title\": \"The Stone as a Literary Symbol\"\n    },\n    {\n      \"description\": \"Why Dumbledore and Flamel chose to destroy the Stone, and what that decision says about the ethics of immortality in the series.\",\n      \"title\": \"The Decision to Destroy the Stone\"\n    },\n    {\n      \"description\": \"How the desire for immortality appears across world mythologies and why it is so consistently framed as hubristic or tragic.\",\n      \"title\": \"Immortality Myths Across Cultures\"\n    },\n    {\n      \"description\": \"The Greek myth of Tithonus and similar stories where immortality without eternal youth becomes a curse rather than a gift.\",\n      \"title\": \"Immortality Without Youth: The Tithonus Problem\"\n    },\n    {\n      \"description\": \"The philosophical distinction between fearing death and desiring life, and why characters like Voldemort conflate the two.\",\n      \"title\": \"Fear of Death vs. Desire for Life\"\n    },\n    {\n      \"description\": \"Dumbledore's view that death is 'the next great adventure' and how it contrasts with Voldemort's terror of non-existence.\",\n      \"title\": \"Dumbledore's Philosophy of Death\"\n    },\n    {\n      \"description\": \"What a Horcrux is: an object in which a witch or wizard hides a fragment of their soul to anchor themselves to life.\",\n      \"title\": \"What Is a Horcrux?\"\n    },\n    {\n      \"description\": \"The act of murder as the mechanism for splitting the soul, and why killing is specifically chosen as the catalyst for Horcrux creation.\",\n      \"title\": \"Murder as the Mechanism of Soul-Splitting\"\n    },\n    {\n      \"description\": \"What the soul represents in the Harry Potter universe and why its integrity is treated as the foundation of identity and humanity.\",\n      \"title\": \"The Soul in Harry Potter's World\"\n    },\n    {\n      \"description\": \"The metaphysical cost of splitting the soul: how each fragmentation diminishes the creator's humanity and emotional capacity.\",\n      \"title\": \"Soul Fragmentation and Loss of Humanity\"\n    },\n    {\n      \"description\": \"How Voldemort's progressive loss of human appearance parallels his soul's increasing fragmentation across the series.\",\n      \"title\": \"Physical Deterioration as a Sign of Fragmentation\"\n    },\n    {\n      \"description\": \"The seven Horcruxes Voldemort created, their identities, and the logic behind choosing seven as the number of splits.\",\n      \"title\": \"Voldemort's Seven Horcruxes\"\n    },\n    {\n      \"description\": \"Tom Riddle's diary as the first Horcrux: its function as both a memory vessel and an active agent capable of possessing others.\",\n      \"title\": \"The Diary: Horcrux as Conscious Agent\"\n    },\n    {\n      \"description\": \"Marvolo Gaunt's ring as a Horcrux and its concealed identity as the Resurrection Stone, linking two major magical artifacts.\",\n      \"title\": \"The Ring: A Horcrux Hiding a Hallow\"\n    },\n    {\n      \"description\": \"Slytherin's locket as a Horcrux, its effects on those who wear it, and how it weaponizes the wearer's deepest fears and doubts.\",\n      \"title\": \"The Locket: Emotional Corruption as Defense\"\n    },\n    {\n      \"description\": \"Hufflepuff's cup as a Horcrux and what its choice reveals about Voldemort's obsession with the Hogwarts founders as symbols of legitimacy.\",\n      \"title\": \"The Cup: Voldemort's Obsession with Lineage\"\n    },\n    {\n      \"description\": \"Ravenclaw's diadem as a Horcrux and the irony of a Dark Lord hiding part of his soul in an object symbolizing wisdom.\",\n      \"title\": \"The Diadem: Wisdom Corrupted\"\n    },\n    {\n      \"description\": \"Nagini as a living Horcrux and the unique magical and ethical implications of fragmenting a soul into a sentient creature.\",\n      \"title\": \"Nagini: A Living Horcrux\"\n    },\n    {\n      \"description\": \"How Harry Potter became an unintended Horcrux and what that means for the metaphysics of soul-splitting in the series.\",\n      \"title\": \"Harry as an Accidental Horcrux\"\n    },\n    {\n      \"description\": \"The specific method required to destroy a Horcrux and why ordinary damage is insufficient to eliminate the soul fragment within.\",\n      \"title\": \"How to Destroy a Horcrux\"\n    },\n    {\n      \"description\": \"Basilisk venom and Fiendfyre as the primary destroyers of Horcruxes, and what makes them capable of permanent magical destruction.\",\n      \"title\": \"Basilisk Venom and Fiendfyre as Destroyers\"\n    },\n    {\n      \"description\": \"How the Horcrux hunt structures the plot of the final books and replaces Hogwarts as the central setting and mission of the story.\",\n      \"title\": \"The Horcrux Hunt as Narrative Structure\"\n    },\n    {\n      \"description\": \"How creating multiple Horcruxes trades moral wholeness and emotional capacity for mere physical survival, making it a false bargain.\",\n      \"title\": \"Immortality Through Horcruxes: The True Cost\"\n    },\n    {\n      \"description\": \"The parallel between Voldemort's Horcruxes and Frodo's Ring in Tolkien—objects of power that corrupt and isolate their creators or bearers.\",\n      \"title\": \"Horcruxes and Tolkien's One Ring: A Parallel\"\n    },\n    {\n      \"description\": \"How alchemy's symbolic stages—decay, purification, perfection—map onto Harry's journey from innocence through suffering to sacrifice.\",\n      \"title\": \"Harry's Journey as an Alchemical Process\"\n    },\n    {\n      \"description\": \"How Voldemort's pursuit of immortality ultimately makes him more vulnerable, not less, because his soul cannot move on naturally.\",\n      \"title\": \"Immortality as Vulnerability\"\n    },\n    {\n      \"description\": \"The series' central moral argument: that accepting mortality is an act of courage, while fleeing it produces the worst kinds of evil.\",\n      \"title\": \"Accepting Death as Moral Courage\"\n    }\n  ]\n}",
      "outputTokens": 1606,
      "systemPrompt": "# Role\n\nYou are designing an **extensive** list of bite-sized, focused lessons for a specific chapter in a course.\n\nYou have expertise in instructional design, curriculum development, and creating granular learning paths. You have worked at top educational institutions creating micro-learning content that breaks down complex topics into digestible, single-concept lessons.\n\nYour mission is to create a lesson structure where each lesson covers **ONE SPECIFIC CONCEPT** that can be learned in 2-3 minutes and explained in 10 short tweets or less.\n\nYou deeply care about making learning accessible, focused, and efficient by breaking down topics into their smallest logical units.\n\n# Inputs\n\n- `COURSE_TITLE`: name of the overall course\n- `CHAPTER_TITLE`: title of this specific chapter\n- `CHAPTER_DESCRIPTION`: what this chapter covers\n- `LANGUAGE`: output language for titles and descriptions\n- `NEIGHBORING_CHAPTERS` (optional): titles and descriptions of chapters that come before and after this one in the course\n\n## Language\n\n- `en`: Use US region unless the content is about a different region.\n- `pt`: Use Brazilian Portuguese unless the content is about a different region.\n- `es`: Use Latin American Spanish unless the content is about a different region.\n\n# Goal\n\nProduce an **extensive** list of **single-concept** lessons that collectively cover everything in `CHAPTER_TITLE` and `CHAPTER_DESCRIPTION`. Each lesson should be so focused that a student can learn and understand the concept in 2-3 minutes.\n\n# Critical Requirements\n\n## Single-Concept Focus\n\n- **Each lesson MUST cover ONE SPECIFIC concept only**\n- If you can explain it in 10 short tweets or less, it's appropriately scoped\n- If it takes more than 10 tweets, **split it into multiple lessons**\n- If a topic is too broad, **break it down further**\n- Each lesson should be extremely focused on a single idea\n\n## Title & Description Requirements\n\n- Follow the same concise, no-fluff style as course chapter title and description\n- **NEVER** use words like \"learn\", \"understand\", \"explore\", \"introduction to\", \"basics of\", etc.\n- Go straight to the point\n- If you find yourself using **\"AND\"**, **\"OR\"**, or **\"VS\"** in a title, you should split it into separate lessons\n\n## Examples of Proper Granularity\n\n**TOO BROAD:**\n❌ \"Hardware vs. Software\"\n❌ \"Variables and Data Types\"\n❌ \"Functions and Methods\"\n\n**CORRECTLY BROKEN DOWN:**\n✅ \"What is Hardware?\"\n✅ \"What is Software?\"\n✅ \"How Hardware and Software Interact\"\n\nOr:\n\n✅ \"Variables: Storing Values\"\n✅ \"Data Types Overview\"\n✅ \"Numbers in Programming\"\n✅ \"Text (Strings) in Programming\"\n✅ \"Booleans (True/False Values)\"\n\n## Progression & Structure\n\n- Build a logical progression from basic to advanced concepts\n- Ensure lessons build on knowledge from previous lessons\n- Focus lessons specifically on THIS chapter, not the entire course\n- Don't add summary, review, or \"key concepts\" lessons\n- Don't add assessment or quiz lessons\n- Don't add final project or capstone lessons\n\n## Scope\n\n- Cover **everything** in `CHAPTER_DESCRIPTION` and `CHAPTER_TITLE`\n- Never go beyond the chapter's scope\n- Add **as many lessons as needed** to break down each concept fully\n- Don't limit the number of lessons arbitrarily\n- It's better to have many focused lessons than fewer broad ones\n- Make sure to have all lessons needed to **fully master the chapter's scope**\n\n## Neighboring Chapter Awareness\n\nWhen `NEIGHBORING_CHAPTERS` is provided, use it to avoid generating dedicated lessons on topics that have their own chapter. For example, if a neighboring chapter covers \"HTTP fundamentals,\" do not create standalone lessons teaching HTTP methods or status codes — those belong in that chapter, not this one.\n\nBrief contextual mentions are fine. For example, a lesson can reference HTTP to explain a concept, but should not become a standalone lesson _about_ HTTP.\n\n# Quality Checks\n\nBefore finalizing your lesson list, ask yourself for EACH lesson:\n\n1. **Is this lesson too broad?** → If yes, break it down further\n2. **Can this concept be explained in 10 short tweets or less?** → If no, split it\n3. **Does this lesson focus on a single specific concept?** → If no, split it\n4. **Does the title contain \"AND\", \"OR\", or \"VS\"?** → If yes, split into separate lessons\n5. **Would a student need more than 2-3 minutes to grasp this?** → If yes, simplify or split\n\n# Output Format\n\nEach lesson must include **exactly two fields**:\n\n- **Title** — short, specific, focused on the single concept\n- **Description** — 1-2 sentences describing what the lesson covers, no fluff\n\n## Good Title Examples\n\n- \"What is a Variable?\"\n- \"Integer Numbers\"\n- \"Floating-Point Numbers\"\n- \"Declaring Variables\"\n- \"Assigning Values\"\n- \"The Addition Operator\"\n- \"The Subtraction Operator\"\n\n## Good Description Examples\n\n- \"Memory locations that store values during program execution.\"\n- \"Whole numbers without decimal points: 1, 42, -17, 0.\"\n- \"Numbers with decimal points: 3.14, -0.5, 2.0.\"\n- \"Creating a variable with a name and type.\"\n- \"Storing a value into a variable using the assignment operator.\"\n\n# Last Check\n\nAfter creating your lesson list, verify:\n\n- \"Does each lesson cover ONLY ONE concept?\" → All must be YES\n- \"Can each lesson be explained in 10 tweets?\" → All must be YES\n- \"Have I covered EVERYTHING from the chapter description?\" → Must be YES\n- \"Are there any lessons that should be split further?\" → Must be NO\n- \"Are the titles and descriptions concise and to the point with no fluff?\" → Must be YES\n- \"Did I stay within the chapter's scope?\" → Must be YES\n- \"Does any lesson teach a topic that belongs in a neighboring chapter?\" → Must be NO\n\nThis should be the most **granular**, **focused**, and **extensive** lesson list possible for this chapter.\n",
      "testCaseId": "en-harry-potter-alchemy-horcruxes-1",
      "userPrompt": "\n    LANGUAGE: en\n    COURSE_TITLE: Harry Potter\n    CHAPTER_TITLE: Alchemy, Horcruxes, and immortality\n    CHAPTER_DESCRIPTION: Alchemy, immortality myths, and the Philosopher's Stone as symbol. Horcrux metaphysics and the costs of soul fragmentation.\nNEIGHBORING_CHAPTERS:\n- \"Defense Against the Dark Arts\": Defense curriculum across eras and how teaching reflects politics. Practical spell selection, threat models, and the pedagogy of fear.\n- \"Divination and prophecy\": Divination's ambiguity, self-fulfilling prophecy, and narrative foreshadowing. Symbol systems: tea leaves, dreams, centaurs, and astronomy.\n- \"Mind magic and memory\": Mind magic: Legilimency, Occlumency, memory charms, and Pensieve ethics. Consent, epistemology, and the reliability of recollection.\n- \"Wandlore\": Wand woods, cores, allegiance, and the Elder Wand's legend. Comparative magical foci and what wandlore implies about power and identity.\n- \"Healing and magical medicine\": Magical healing, St Mungo's, and the boundaries of restorative magic. Disability, trauma, and long-term consequences in the series.\n- \"Beings, creatures, and species politics\": Werewolves, vampires, giants, goblins, house-elves, centaurs, and merpeople as political subjects. Rights, stereotypes, and allegory across species.\n  "
    },
    {
      "duration": 28468.270749999996,
      "inputTokens": 2173,
      "output": "{\n  \"lessons\": [\n    {\n      \"description\": \"O que é automação jurídica, por que ela surgiu e qual problema ela resolve no cotidiano do direito.\",\n      \"title\": \"O que é automação jurídica\"\n    },\n    {\n      \"description\": \"Diferença entre automação simples (macros, preenchimento automático) e automação avançada (fluxos condicionais, integração de sistemas).\",\n      \"title\": \"Níveis de automação jurídica\"\n    },\n    {\n      \"description\": \"Como mapear processos documentais antes de automatizá-los: identificação de repetições, variáveis e exceções.\",\n      \"title\": \"Mapeamento de processos antes da automação\"\n    },\n    {\n      \"description\": \"O que é um template jurídico e como ele difere de um simples modelo de documento.\",\n      \"title\": \"O que é um template jurídico\"\n    },\n    {\n      \"description\": \"Como definir e estruturar variáveis dentro de um template: campos fixos, campos dinâmicos e campos condicionais.\",\n      \"title\": \"Variáveis em templates jurídicos\"\n    },\n    {\n      \"description\": \"Como usar lógica condicional (se/então) para adaptar cláusulas automaticamente conforme as respostas do usuário.\",\n      \"title\": \"Lógica condicional em templates\"\n    },\n    {\n      \"description\": \"Como criar cláusulas modulares que podem ser inseridas ou removidas automaticamente no documento final.\",\n      \"title\": \"Cláusulas modulares e blocos de texto\"\n    },\n    {\n      \"description\": \"Principais ferramentas do mercado para criação e gestão de templates jurídicos automatizados.\",\n      \"title\": \"Ferramentas de automação de templates\"\n    },\n    {\n      \"description\": \"Como integrar templates jurídicos a formulários de coleta de dados para gerar documentos automaticamente.\",\n      \"title\": \"Integração de templates com formulários\"\n    },\n    {\n      \"description\": \"Como garantir que templates automatizados reflitam a linguagem jurídica correta e a política interna da organização.\",\n      \"title\": \"Padronização de linguagem em templates\"\n    },\n    {\n      \"description\": \"O que é revisão assistida por tecnologia e como ela difere da revisão manual tradicional.\",\n      \"title\": \"O que é revisão assistida por tecnologia\"\n    },\n    {\n      \"description\": \"Como ferramentas de revisão assistida identificam inconsistências, lacunas e cláusulas problemáticas em documentos jurídicos.\",\n      \"title\": \"Identificação de inconsistências em revisão assistida\"\n    },\n    {\n      \"description\": \"Como usar checklists digitais integrados ao fluxo de revisão para garantir que nenhum item seja esquecido.\",\n      \"title\": \"Checklists digitais na revisão de documentos\"\n    },\n    {\n      \"description\": \"Como a comparação automática de versões (redline) funciona e como interpretar os resultados.\",\n      \"title\": \"Comparação automática de versões (redline)\"\n    },\n    {\n      \"description\": \"O que é gestão documental jurídica e quais são seus componentes essenciais: armazenamento, acesso, recuperação e descarte.\",\n      \"title\": \"O que é gestão documental jurídica\"\n    },\n    {\n      \"description\": \"Como estruturar uma taxonomia de pastas e metadados para facilitar a localização de documentos jurídicos.\",\n      \"title\": \"Taxonomia e metadados em documentos jurídicos\"\n    },\n    {\n      \"description\": \"Como definir permissões de acesso a documentos jurídicos por perfil de usuário e nível de confidencialidade.\",\n      \"title\": \"Controle de acesso a documentos jurídicos\"\n    },\n    {\n      \"description\": \"O que é controle de versões em documentos jurídicos e por que ele é crítico para evitar uso de versões desatualizadas.\",\n      \"title\": \"O que é controle de versões\"\n    },\n    {\n      \"description\": \"Como nomear arquivos e versões de forma padronizada para garantir rastreabilidade e clareza.\",\n      \"title\": \"Nomenclatura padronizada de versões\"\n    },\n    {\n      \"description\": \"Como sistemas de controle de versões registram o histórico de alterações, autores e datas de modificação.\",\n      \"title\": \"Histórico de alterações e rastreabilidade\"\n    },\n    {\n      \"description\": \"Como definir o documento oficial (versão master) e evitar conflitos entre versões paralelas.\",\n      \"title\": \"Versão master e controle de conflitos\"\n    },\n    {\n      \"description\": \"O que é padronização documental e como ela reduz erros, retrabalho e inconsistências nos documentos jurídicos.\",\n      \"title\": \"O que é padronização documental\"\n    },\n    {\n      \"description\": \"Como criar e manter um guia de estilo jurídico interno com regras de formatação, terminologia e estrutura.\",\n      \"title\": \"Guia de estilo jurídico interno\"\n    },\n    {\n      \"description\": \"Como auditar periodicamente templates e modelos para garantir que estejam atualizados com a legislação e jurisprudência vigentes.\",\n      \"title\": \"Auditoria de templates e modelos\"\n    },\n    {\n      \"description\": \"O que é governança de conhecimento jurídico e por que ela é necessária em escritórios e departamentos jurídicos.\",\n      \"title\": \"O que é governança de conhecimento jurídico\"\n    },\n    {\n      \"description\": \"Como estruturar uma base de conhecimento jurídico com precedentes internos, teses e modelos aprovados.\",\n      \"title\": \"Base de conhecimento jurídico interno\"\n    },\n    {\n      \"description\": \"Como definir responsáveis pela criação, aprovação e atualização de documentos dentro da governança documental.\",\n      \"title\": \"Papéis e responsabilidades na governança documental\"\n    },\n    {\n      \"description\": \"Como estabelecer fluxos de aprovação para novos templates e modelos antes de sua publicação e uso.\",\n      \"title\": \"Fluxos de aprovação de novos templates\"\n    },\n    {\n      \"description\": \"Principais riscos de depender excessivamente de automação sem supervisão humana adequada em documentos jurídicos.\",\n      \"title\": \"Riscos do excesso de automação jurídica\"\n    },\n    {\n      \"description\": \"Como erros em templates se propagam para todos os documentos gerados e como mitigar esse risco.\",\n      \"title\": \"Propagação de erros em automação\"\n    },\n    {\n      \"description\": \"Riscos jurídicos de usar documentos gerados automaticamente sem revisão: nulidades, lacunas e interpretações equivocadas.\",\n      \"title\": \"Riscos de documentos sem revisão humana\"\n    },\n    {\n      \"description\": \"Como automatizar sem perder personalização e adequação ao caso concreto: limites da automação.\",\n      \"title\": \"Limites da automação jurídica\"\n    },\n    {\n      \"description\": \"Como definir quais documentos devem ser automatizados e quais exigem elaboração manual ou revisão especializada.\",\n      \"title\": \"Critérios para decidir o que automatizar\"\n    },\n    {\n      \"description\": \"Como criar políticas internas que regulamentam o uso de ferramentas de automação no ambiente jurídico.\",\n      \"title\": \"Políticas internas de uso de automação\"\n    },\n    {\n      \"description\": \"Como treinar equipes jurídicas para usar ferramentas de automação corretamente e com senso crítico.\",\n      \"title\": \"Capacitação de equipes em automação jurídica\"\n    },\n    {\n      \"description\": \"Como medir o impacto da automação jurídica em produtividade, qualidade e redução de erros.\",\n      \"title\": \"Indicadores de qualidade na automação jurídica\"\n    },\n    {\n      \"description\": \"Como garantir que dados inseridos em ferramentas de automação estejam protegidos e em conformidade com a LGPD.\",\n      \"title\": \"Segurança e privacidade de dados na automação jurídica\"\n    },\n    {\n      \"description\": \"Como selecionar fornecedores de tecnologia jurídica avaliando segurança, suporte, integração e conformidade regulatória.\",\n      \"title\": \"Seleção de fornecedores de legal tech\"\n    }\n  ]\n}",
      "outputTokens": 1722,
      "systemPrompt": "# Role\n\nYou are designing an **extensive** list of bite-sized, focused lessons for a specific chapter in a course.\n\nYou have expertise in instructional design, curriculum development, and creating granular learning paths. You have worked at top educational institutions creating micro-learning content that breaks down complex topics into digestible, single-concept lessons.\n\nYour mission is to create a lesson structure where each lesson covers **ONE SPECIFIC CONCEPT** that can be learned in 2-3 minutes and explained in 10 short tweets or less.\n\nYou deeply care about making learning accessible, focused, and efficient by breaking down topics into their smallest logical units.\n\n# Inputs\n\n- `COURSE_TITLE`: name of the overall course\n- `CHAPTER_TITLE`: title of this specific chapter\n- `CHAPTER_DESCRIPTION`: what this chapter covers\n- `LANGUAGE`: output language for titles and descriptions\n- `NEIGHBORING_CHAPTERS` (optional): titles and descriptions of chapters that come before and after this one in the course\n\n## Language\n\n- `en`: Use US region unless the content is about a different region.\n- `pt`: Use Brazilian Portuguese unless the content is about a different region.\n- `es`: Use Latin American Spanish unless the content is about a different region.\n\n# Goal\n\nProduce an **extensive** list of **single-concept** lessons that collectively cover everything in `CHAPTER_TITLE` and `CHAPTER_DESCRIPTION`. Each lesson should be so focused that a student can learn and understand the concept in 2-3 minutes.\n\n# Critical Requirements\n\n## Single-Concept Focus\n\n- **Each lesson MUST cover ONE SPECIFIC concept only**\n- If you can explain it in 10 short tweets or less, it's appropriately scoped\n- If it takes more than 10 tweets, **split it into multiple lessons**\n- If a topic is too broad, **break it down further**\n- Each lesson should be extremely focused on a single idea\n\n## Title & Description Requirements\n\n- Follow the same concise, no-fluff style as course chapter title and description\n- **NEVER** use words like \"learn\", \"understand\", \"explore\", \"introduction to\", \"basics of\", etc.\n- Go straight to the point\n- If you find yourself using **\"AND\"**, **\"OR\"**, or **\"VS\"** in a title, you should split it into separate lessons\n\n## Examples of Proper Granularity\n\n**TOO BROAD:**\n❌ \"Hardware vs. Software\"\n❌ \"Variables and Data Types\"\n❌ \"Functions and Methods\"\n\n**CORRECTLY BROKEN DOWN:**\n✅ \"What is Hardware?\"\n✅ \"What is Software?\"\n✅ \"How Hardware and Software Interact\"\n\nOr:\n\n✅ \"Variables: Storing Values\"\n✅ \"Data Types Overview\"\n✅ \"Numbers in Programming\"\n✅ \"Text (Strings) in Programming\"\n✅ \"Booleans (True/False Values)\"\n\n## Progression & Structure\n\n- Build a logical progression from basic to advanced concepts\n- Ensure lessons build on knowledge from previous lessons\n- Focus lessons specifically on THIS chapter, not the entire course\n- Don't add summary, review, or \"key concepts\" lessons\n- Don't add assessment or quiz lessons\n- Don't add final project or capstone lessons\n\n## Scope\n\n- Cover **everything** in `CHAPTER_DESCRIPTION` and `CHAPTER_TITLE`\n- Never go beyond the chapter's scope\n- Add **as many lessons as needed** to break down each concept fully\n- Don't limit the number of lessons arbitrarily\n- It's better to have many focused lessons than fewer broad ones\n- Make sure to have all lessons needed to **fully master the chapter's scope**\n\n## Neighboring Chapter Awareness\n\nWhen `NEIGHBORING_CHAPTERS` is provided, use it to avoid generating dedicated lessons on topics that have their own chapter. For example, if a neighboring chapter covers \"HTTP fundamentals,\" do not create standalone lessons teaching HTTP methods or status codes — those belong in that chapter, not this one.\n\nBrief contextual mentions are fine. For example, a lesson can reference HTTP to explain a concept, but should not become a standalone lesson _about_ HTTP.\n\n# Quality Checks\n\nBefore finalizing your lesson list, ask yourself for EACH lesson:\n\n1. **Is this lesson too broad?** → If yes, break it down further\n2. **Can this concept be explained in 10 short tweets or less?** → If no, split it\n3. **Does this lesson focus on a single specific concept?** → If no, split it\n4. **Does the title contain \"AND\", \"OR\", or \"VS\"?** → If yes, split into separate lessons\n5. **Would a student need more than 2-3 minutes to grasp this?** → If yes, simplify or split\n\n# Output Format\n\nEach lesson must include **exactly two fields**:\n\n- **Title** — short, specific, focused on the single concept\n- **Description** — 1-2 sentences describing what the lesson covers, no fluff\n\n## Good Title Examples\n\n- \"What is a Variable?\"\n- \"Integer Numbers\"\n- \"Floating-Point Numbers\"\n- \"Declaring Variables\"\n- \"Assigning Values\"\n- \"The Addition Operator\"\n- \"The Subtraction Operator\"\n\n## Good Description Examples\n\n- \"Memory locations that store values during program execution.\"\n- \"Whole numbers without decimal points: 1, 42, -17, 0.\"\n- \"Numbers with decimal points: 3.14, -0.5, 2.0.\"\n- \"Creating a variable with a name and type.\"\n- \"Storing a value into a variable using the assignment operator.\"\n\n# Last Check\n\nAfter creating your lesson list, verify:\n\n- \"Does each lesson cover ONLY ONE concept?\" → All must be YES\n- \"Can each lesson be explained in 10 tweets?\" → All must be YES\n- \"Have I covered EVERYTHING from the chapter description?\" → Must be YES\n- \"Are there any lessons that should be split further?\" → Must be NO\n- \"Are the titles and descriptions concise and to the point with no fluff?\" → Must be YES\n- \"Did I stay within the chapter's scope?\" → Must be YES\n- \"Does any lesson teach a topic that belongs in a neighboring chapter?\" → Must be NO\n\nThis should be the most **granular**, **focused**, and **extensive** lesson list possible for this chapter.\n",
      "testCaseId": "pt-direito-legal-tech-1",
      "userPrompt": "\n    LANGUAGE: pt\n    COURSE_TITLE: Direito\n    CHAPTER_TITLE: Legal tech e automação de documentos\n    CHAPTER_DESCRIPTION: Automação jurídica e qualidade: templates, revisão assistida, gestão documental e padronização. Riscos de automação, controle de versões e governança de conhecimento.\nNEIGHBORING_CHAPTERS:\n- \"Gestão de terceiros e due diligence\": Programas de integridade em terceiros: due diligence, cláusulas anticorrupção e monitoramento. Gestão de contratos, auditoria e encerramento por inadimplemento de compliance.\n- \"Estratégia contenciosa e gestão de disputas\": Estratégia de litígio: seleção de teses, definição de foro, gestão de portfólio e negociação de acordos. Monitoramento de precedentes, risco financeiro e comunicação com stakeholders.\n- \"Legal operations e gestão jurídica\": Gestão de escritórios e departamentos jurídicos: triagem, SLAs, indicadores e orçamento. Precificação, honorários, contratação de correspondentes e qualidade.\n- \"Operações contratuais\": Gestão de contratos: ciclo de vida, cláusulas padrão, aprovações e controle de obrigações. CLM, auditoria contratual e prevenção de disputas.\n- \"Negociação estratégica\": Negociação e mediação avançadas: BATNA, ZOPA, técnicas de influência e gestão de impasses. Construção de acordos complexos e multiparte.\n- \"Advocacia oral e persuasão\": Oratória e atuação em audiência: teoria do caso, exame e contrainterrogatório, sustentação oral e postura profissional. Comunicação com juízes, jurados e peritos.\n  "
    },
    {
      "duration": 62781.820999999996,
      "inputTokens": 1995,
      "output": "{\n  \"lessons\": [\n    {\n      \"description\": \"How \\\"health\\\" and \\\"disease\\\" were defined and politicized in 19th-century Brazil, shaped by colonial legacies and emerging medical institutions.\",\n      \"title\": \"Concepts of Health in 19th-Century Brazil\"\n    },\n    {\n      \"description\": \"The disease landscape of the Brazilian Empire: yellow fever, cholera, smallpox, and their geographic spread through port cities and the interior.\",\n      \"title\": \"Major Epidemics of the Brazilian Empire\"\n    },\n    {\n      \"description\": \"How yellow fever devastated Rio de Janeiro from the 1850s onward, killing immigrants and disrupting commerce and daily life.\",\n      \"title\": \"Yellow Fever in Rio de Janeiro\"\n    },\n    {\n      \"description\": \"The 1855–1856 cholera epidemic's arrival through ports, its spread inland, and its disproportionate toll on enslaved people and the poor.\",\n      \"title\": \"The 1855 Cholera Epidemic\"\n    },\n    {\n      \"description\": \"How smallpox circulated throughout the 19th century and why early vaccination efforts struggled against distrust and logistical barriers.\",\n      \"title\": \"Smallpox in the 19th Century\"\n    },\n    {\n      \"description\": \"The role of the Imperial government in organizing early public health responses: quarantines, port inspections, and hygiene boards.\",\n      \"title\": \"State Responses to Epidemics Under the Empire\"\n    },\n    {\n      \"description\": \"How racial and class hierarchies shaped who was blamed for disease, who received treatment, and who was left to die in 19th-century Brazil.\",\n      \"title\": \"Race, Class, and Epidemic Blame in the 19th Century\"\n    },\n    {\n      \"description\": \"How European germ theory and tropical medicine frameworks were imported and adapted by Brazilian scientists in the late 19th century.\",\n      \"title\": \"The Arrival of Germ Theory in Brazil\"\n    },\n    {\n      \"description\": \"The founding of key scientific institutions — including the Bacteriological Institute and the Oswaldo Cruz Institute — and their mission to combat infectious disease.\",\n      \"title\": \"The Birth of Brazilian Public Health Institutions\"\n    },\n    {\n      \"description\": \"Oswaldo Cruz's life, scientific training, and rise to Director-General of Public Health in the newly established republic.\",\n      \"title\": \"Oswaldo Cruz: The Man Behind the Campaign\"\n    },\n    {\n      \"description\": \"The sweeping urban sanitation campaign launched in Rio de Janeiro in the early 1900s: drainage, demolition, and mosquito eradication.\",\n      \"title\": \"The Rio de Janeiro Sanitation Campaign (1903–1906)\"\n    },\n    {\n      \"description\": \"The compulsory smallpox vaccination decree of 1904, its legal basis, and the government's strategy for enforcing it.\",\n      \"title\": \"The 1904 Compulsory Vaccination Law\"\n    },\n    {\n      \"description\": \"The popular uprising against forced vaccination in November 1904: who participated, what they destroyed, and how the government responded.\",\n      \"title\": \"The Vaccine Revolt of 1904\"\n    },\n    {\n      \"description\": \"Why Rio's poor and working class rejected vaccination: distrust of the state, household invasion, and memories of prior abuses.\",\n      \"title\": \"Popular Distrust and Anti-Vaccination Sentiment\"\n    },\n    {\n      \"description\": \"How the Vaccine Revolt ended and what its suppression revealed about power, citizenship, and public health authority in the First Republic.\",\n      \"title\": \"The Aftermath of the Vaccine Revolt\"\n    },\n    {\n      \"description\": \"The demolition of cortiços (tenements) and working-class neighborhoods in central Rio under the guise of sanitation, and where displaced residents went.\",\n      \"title\": \"Sanitation as Urban Displacement\"\n    },\n    {\n      \"description\": \"Carlos Chagas's discovery of Chagas disease in 1909: the parasite, the vector, and the populations most affected in the rural interior.\",\n      \"title\": \"The Discovery of Chagas Disease\"\n    },\n    {\n      \"description\": \"How Chagas disease exposed the health crisis of Brazil's rural poor and challenged the myth of the coast as the true Brazil.\",\n      \"title\": \"Chagas Disease and the Image of Rural Brazil\"\n    },\n    {\n      \"description\": \"The expeditions led by Oswaldo Cruz Institute researchers into Brazil's interior and what they documented about disease and living conditions.\",\n      \"title\": \"Interior Health Expeditions and the Sertão\"\n    },\n    {\n      \"description\": \"How the 1918 Spanish flu reached Brazil through ports, spread through major cities, and overwhelmed unprepared health infrastructure.\",\n      \"title\": \"The Spanish Flu in Brazil (1918)\"\n    },\n    {\n      \"description\": \"The mortality pattern of the 1918 flu in Brazil: which cities, which demographics, and why the health system failed to contain it.\",\n      \"title\": \"Death Toll and Social Impact of the 1918 Flu\"\n    },\n    {\n      \"description\": \"The creation of the National Department of Public Health (DNSP) in 1920 and the centralization of sanitation authority under the federal government.\",\n      \"title\": \"Centralization of Public Health in the 1920s\"\n    },\n    {\n      \"description\": \"Debates between sanitarists and eugenicists in the 1920s over whether Brazil's health problems stemmed from disease or from racial composition.\",\n      \"title\": \"Sanitarism vs. Eugenics in the 1920s\"\n    },\n    {\n      \"description\": \"The rural health movement of the 1910s–1920s: campaigns to bring sanitation infrastructure and medical services to the Brazilian interior.\",\n      \"title\": \"The Rural Sanitation Movement\"\n    },\n    {\n      \"description\": \"How the Vargas era (1930–1945) restructured federal health agencies, created the Ministry of Education and Health, and expanded public health ambitions.\",\n      \"title\": \"Public Health Under Getúlio Vargas\"\n    },\n    {\n      \"description\": \"The role of malaria in shaping Brazilian economic development, settlement patterns, and labor capacity, especially in agricultural zones.\",\n      \"title\": \"Malaria and Economic Development\"\n    },\n    {\n      \"description\": \"The Malaria Service's campaigns in the 1930s–1940s, including the American cooperative effort to eradicate Anopheles gambiae from the Northeast.\",\n      \"title\": \"Malaria Eradication Campaigns in the Northeast\"\n    },\n    {\n      \"description\": \"DDT's introduction in Brazil after World War II, its use in anti-malaria campaigns, and early evidence of its ecological and health consequences.\",\n      \"title\": \"DDT and Postwar Malaria Control\"\n    },\n    {\n      \"description\": \"The creation of SESP (Special Public Health Service) in 1942 as a US-Brazil wartime partnership to protect workers in strategic resource zones.\",\n      \"title\": \"SESP and Wartime Health Cooperation\"\n    },\n    {\n      \"description\": \"How tuberculosis became a major urban killer in early 20th-century Brazil and which populations bore the heaviest burden.\",\n      \"title\": \"Tuberculosis as an Urban Health Crisis\"\n    },\n    {\n      \"description\": \"The National Tuberculosis Service and its campaigns, including BCG vaccination, sanatoriums, and the limits of coverage for the poor.\",\n      \"title\": \"State Responses to Tuberculosis\"\n    },\n    {\n      \"description\": \"How leprosy was managed in Brazil through compulsory isolation in leprosaria and the social stigma attached to patients and their families.\",\n      \"title\": \"Leprosy, Isolation, and the Leprosaria System\"\n    },\n    {\n      \"description\": \"The dismantling of compulsory isolation for leprosy patients in the 1960s and the decades-long struggle for recognition and reparations.\",\n      \"title\": \"The End of Compulsory Leprosy Isolation\"\n    },\n    {\n      \"description\": \"How Brazil's postwar developmentalism shaped health policy: prioritizing worker productivity, industrial expansion, and urban healthcare infrastructure.\",\n      \"title\": \"Developmentalism and Health Policy (1950s–1960s)\"\n    },\n    {\n      \"description\": \"The creation of INAMPS and the fragmented social insurance model that provided healthcare to formal workers while excluding the rural and informal poor.\",\n      \"title\": \"Social Insurance and Healthcare Exclusion Under INAMPS\"\n    },\n    {\n      \"description\": \"The military dictatorship's (1964–1985) approach to public health: technocratic management, privatization of hospital care, and neglect of preventive medicine.\",\n      \"title\": \"Public Health Under Military Rule\"\n    },\n    {\n      \"description\": \"How the military regime expanded private hospital networks at public expense, creating structural dependence on for-profit healthcare.\",\n      \"title\": \"Privatization of Healthcare During the Dictatorship\"\n    },\n    {\n      \"description\": \"Infant mortality rates during the 1960s–1970s, their regional and racial distribution, and debates over whether the regime suppressed the data.\",\n      \"title\": \"Infant Mortality and the Dictatorship\"\n    },\n    {\n      \"description\": \"The Sanitarist Movement (Movimento Sanitarista) of the 1970s–1980s: academics, activists, and health workers who demanded a universal public health system.\",\n      \"title\": \"The Sanitarist Movement and Health Reform\"\n    },\n    {\n      \"description\": \"How the redemocratization process opened space for health rights advocates, culminating in the historic 8th National Health Conference of 1986.\",\n      \"title\": \"The 8th National Health Conference (1986)\"\n    },\n    {\n      \"description\": \"The constitutional provisions of 1988 that declared health a universal right and laid the legal foundation for the Unified Health System.\",\n      \"title\": \"Health as a Constitutional Right (1988)\"\n    },\n    {\n      \"description\": \"The creation and structure of the SUS (Sistema Único de Saúde): its principles of universality, equity, and decentralization.\",\n      \"title\": \"The Creation of the SUS\"\n    },\n    {\n      \"description\": \"The political and financial battles over implementing the SUS through the 1990s and the persistent underfunding of the public system.\",\n      \"title\": \"Implementing the SUS: Challenges of the 1990s\"\n    },\n    {\n      \"description\": \"The parallel growth of private health insurance (planos de saúde) and how it created a two-tier health system alongside the SUS.\",\n      \"title\": \"Private Health Plans and the Two-Tier System\"\n    },\n    {\n      \"description\": \"Brazil's Family Health Strategy (Estratégia Saúde da Família), its community health agents, and its impact on primary care in underserved areas.\",\n      \"title\": \"The Family Health Strategy\"\n    },\n    {\n      \"description\": \"The AIDS epidemic's arrival in Brazil in the early 1980s, initial media representations, and which populations were first affected.\",\n      \"title\": \"The AIDS Epidemic in Brazil: Early Years\"\n    },\n    {\n      \"description\": \"Brazil's internationally recognized response to AIDS: generic drug production, universal antiretroviral treatment, and confrontation with pharmaceutical patent rules.\",\n      \"title\": \"Brazil's AIDS Policy and Generic Drug Production\"\n    },\n    {\n      \"description\": \"How AIDS activism in Brazil shaped health politics, challenged stigma, and forced government accountability on drug access and patient rights.\",\n      \"title\": \"AIDS Activism and Health Politics\"\n    },\n    {\n      \"description\": \"Regional disparities in health outcomes across Brazil: how the Northeast, North, and rural areas consistently lag behind the South and Southeast.\",\n      \"title\": \"Regional Inequalities in Health Outcomes\"\n    },\n    {\n      \"description\": \"How race correlates with health access, maternal mortality, infant mortality, and chronic disease in Brazil, and structural explanations for these gaps.\",\n      \"title\": \"Race and Health Inequality in Brazil\"\n    },\n    {\n      \"description\": \"Maternal mortality in Brazil: rates, racial disparities, and the role of obstetric violence in public health debates.\",\n      \"title\": \"Maternal Mortality and Obstetric Violence\"\n    },\n    {\n      \"description\": \"Dengue fever's emergence as a recurring urban epidemic in Brazil, driven by urbanization, inadequate sanitation, and vector control failures.\",\n      \"title\": \"The Dengue Epidemic\"\n    },\n    {\n      \"description\": \"The Zika virus outbreak of 2015–2016, the microcephaly crisis, and its geographic concentration in the poor Northeast.\",\n      \"title\": \"The Zika Outbreak and the Microcephaly Crisis\"\n    },\n    {\n      \"description\": \"How the Zika crisis intersected with gender: the burden placed on women, reproductive rights debates, and state responses to affected families.\",\n      \"title\": \"Zika, Gender, and Reproductive Rights\"\n    },\n    {\n      \"description\": \"The chikungunya epidemic in Brazil and how it compounded the ongoing Aedes aegypti vector crisis alongside dengue and Zika.\",\n      \"title\": \"Chikungunya and the Aedes aegypti Crisis\"\n    },\n    {\n      \"description\": \"Brazil's public health infrastructure on the eve of COVID-19: strengths of the SUS, accumulated underfunding, and political vulnerabilities.\",\n      \"title\": \"Brazil's Health System Before COVID-19\"\n    },\n    {\n      \"description\": \"The Bolsonaro government's initial dismissal of COVID-19, its conflicts with state governors and the World Health Organization, and early policy failures.\",\n      \"title\": \"The Bolsonaro Government's COVID-19 Response\"\n    },\n    {\n      \"description\": \"Brazil's catastrophic COVID-19 death toll, its racial and socioeconomic distribution, and the collapse of health systems in Manaus and other cities.\",\n      \"title\": \"COVID-19 Deaths and Health System Collapse\"\n    },\n    {\n      \"description\": \"The Manaus oxygen crisis of January 2021: why hospitals ran out of oxygen, who was responsible, and what it revealed about federal neglect.\",\n      \"title\": \"The Manaus Oxygen Crisis (2021)\"\n    },\n    {\n      \"description\": \"The vaccine scandal involving irregular purchases of COVID-19 vaccines (Covaxin and others) and the congressional investigation into the Bolsonaro government.\",\n      \"title\": \"The COVID-19 Vaccine Procurement Scandals\"\n    },\n    {\n      \"description\": \"Brazil's role in developing the Oxford-AstraZeneca vaccine through Fiocruz and the Butantan Institute's production of CoronaVac with China's Sinovac.\",\n      \"title\": \"Fiocruz, Butantan, and Vaccine Production\"\n    },\n    {\n      \"description\": \"How COVID-19 vaccine hesitancy was cultivated in Brazil, the role of social media, and the Bolsonaro government's promotion of unproven treatments.\",\n      \"title\": \"Vaccine Hesitancy and Disinformation in Brazil\"\n    },\n    {\n      \"description\": \"The Brazilian Senate's investigation (CPI da COVID) into the federal government's handling of the pandemic and its key findings.\",\n      \"title\": \"The CPI da COVID Parliamentary Inquiry\"\n    },\n    {\n      \"description\": \"Indigenous communities' vulnerability to COVID-19, the federal government's failures in protecting them, and comparisons to earlier epidemic devastation.\",\n      \"title\": \"COVID-19 and Indigenous Communities\"\n    },\n    {\n      \"description\": \"How the SUS performed during COVID-19: its role as the primary treatment infrastructure, its limits, and debates about its future after the pandemic.\",\n      \"title\": \"The SUS During COVID-19\"\n    },\n    {\n      \"description\": \"The long history of health inequality in Brazil from empire to pandemic: how poverty, race, and geography have consistently determined who gets sick and who survives.\",\n      \"title\": \"Health Inequality as a Structural Pattern\"\n    }\n  ]\n}",
      "outputTokens": 3081,
      "systemPrompt": "# Role\n\nYou are designing an **extensive** list of bite-sized, focused lessons for a specific chapter in a course.\n\nYou have expertise in instructional design, curriculum development, and creating granular learning paths. You have worked at top educational institutions creating micro-learning content that breaks down complex topics into digestible, single-concept lessons.\n\nYour mission is to create a lesson structure where each lesson covers **ONE SPECIFIC CONCEPT** that can be learned in 2-3 minutes and explained in 10 short tweets or less.\n\nYou deeply care about making learning accessible, focused, and efficient by breaking down topics into their smallest logical units.\n\n# Inputs\n\n- `COURSE_TITLE`: name of the overall course\n- `CHAPTER_TITLE`: title of this specific chapter\n- `CHAPTER_DESCRIPTION`: what this chapter covers\n- `LANGUAGE`: output language for titles and descriptions\n- `NEIGHBORING_CHAPTERS` (optional): titles and descriptions of chapters that come before and after this one in the course\n\n## Language\n\n- `en`: Use US region unless the content is about a different region.\n- `pt`: Use Brazilian Portuguese unless the content is about a different region.\n- `es`: Use Latin American Spanish unless the content is about a different region.\n\n# Goal\n\nProduce an **extensive** list of **single-concept** lessons that collectively cover everything in `CHAPTER_TITLE` and `CHAPTER_DESCRIPTION`. Each lesson should be so focused that a student can learn and understand the concept in 2-3 minutes.\n\n# Critical Requirements\n\n## Single-Concept Focus\n\n- **Each lesson MUST cover ONE SPECIFIC concept only**\n- If you can explain it in 10 short tweets or less, it's appropriately scoped\n- If it takes more than 10 tweets, **split it into multiple lessons**\n- If a topic is too broad, **break it down further**\n- Each lesson should be extremely focused on a single idea\n\n## Title & Description Requirements\n\n- Follow the same concise, no-fluff style as course chapter title and description\n- **NEVER** use words like \"learn\", \"understand\", \"explore\", \"introduction to\", \"basics of\", etc.\n- Go straight to the point\n- If you find yourself using **\"AND\"**, **\"OR\"**, or **\"VS\"** in a title, you should split it into separate lessons\n\n## Examples of Proper Granularity\n\n**TOO BROAD:**\n❌ \"Hardware vs. Software\"\n❌ \"Variables and Data Types\"\n❌ \"Functions and Methods\"\n\n**CORRECTLY BROKEN DOWN:**\n✅ \"What is Hardware?\"\n✅ \"What is Software?\"\n✅ \"How Hardware and Software Interact\"\n\nOr:\n\n✅ \"Variables: Storing Values\"\n✅ \"Data Types Overview\"\n✅ \"Numbers in Programming\"\n✅ \"Text (Strings) in Programming\"\n✅ \"Booleans (True/False Values)\"\n\n## Progression & Structure\n\n- Build a logical progression from basic to advanced concepts\n- Ensure lessons build on knowledge from previous lessons\n- Focus lessons specifically on THIS chapter, not the entire course\n- Don't add summary, review, or \"key concepts\" lessons\n- Don't add assessment or quiz lessons\n- Don't add final project or capstone lessons\n\n## Scope\n\n- Cover **everything** in `CHAPTER_DESCRIPTION` and `CHAPTER_TITLE`\n- Never go beyond the chapter's scope\n- Add **as many lessons as needed** to break down each concept fully\n- Don't limit the number of lessons arbitrarily\n- It's better to have many focused lessons than fewer broad ones\n- Make sure to have all lessons needed to **fully master the chapter's scope**\n\n## Neighboring Chapter Awareness\n\nWhen `NEIGHBORING_CHAPTERS` is provided, use it to avoid generating dedicated lessons on topics that have their own chapter. For example, if a neighboring chapter covers \"HTTP fundamentals,\" do not create standalone lessons teaching HTTP methods or status codes — those belong in that chapter, not this one.\n\nBrief contextual mentions are fine. For example, a lesson can reference HTTP to explain a concept, but should not become a standalone lesson _about_ HTTP.\n\n# Quality Checks\n\nBefore finalizing your lesson list, ask yourself for EACH lesson:\n\n1. **Is this lesson too broad?** → If yes, break it down further\n2. **Can this concept be explained in 10 short tweets or less?** → If no, split it\n3. **Does this lesson focus on a single specific concept?** → If no, split it\n4. **Does the title contain \"AND\", \"OR\", or \"VS\"?** → If yes, split into separate lessons\n5. **Would a student need more than 2-3 minutes to grasp this?** → If yes, simplify or split\n\n# Output Format\n\nEach lesson must include **exactly two fields**:\n\n- **Title** — short, specific, focused on the single concept\n- **Description** — 1-2 sentences describing what the lesson covers, no fluff\n\n## Good Title Examples\n\n- \"What is a Variable?\"\n- \"Integer Numbers\"\n- \"Floating-Point Numbers\"\n- \"Declaring Variables\"\n- \"Assigning Values\"\n- \"The Addition Operator\"\n- \"The Subtraction Operator\"\n\n## Good Description Examples\n\n- \"Memory locations that store values during program execution.\"\n- \"Whole numbers without decimal points: 1, 42, -17, 0.\"\n- \"Numbers with decimal points: 3.14, -0.5, 2.0.\"\n- \"Creating a variable with a name and type.\"\n- \"Storing a value into a variable using the assignment operator.\"\n\n# Last Check\n\nAfter creating your lesson list, verify:\n\n- \"Does each lesson cover ONLY ONE concept?\" → All must be YES\n- \"Can each lesson be explained in 10 tweets?\" → All must be YES\n- \"Have I covered EVERYTHING from the chapter description?\" → Must be YES\n- \"Are there any lessons that should be split further?\" → Must be NO\n- \"Are the titles and descriptions concise and to the point with no fluff?\" → Must be YES\n- \"Did I stay within the chapter's scope?\" → Must be YES\n- \"Does any lesson teach a topic that belongs in a neighboring chapter?\" → Must be NO\n\nThis should be the most **granular**, **focused**, and **extensive** lesson list possible for this chapter.\n",
      "testCaseId": "en-brazilian-history-health-disease-1",
      "userPrompt": "\n    LANGUAGE: en\n    COURSE_TITLE: Brazilian History\n    CHAPTER_TITLE: Health and disease\n    CHAPTER_DESCRIPTION: Public health, epidemics, health systems, and biomedical politics from the 19th century to COVID-19; sanitation campaigns and inequality.\nNEIGHBORING_CHAPTERS:\n- \"Sports and society\": Football history, race and class in sport, club cultures, mega-events, and stadium politics; sport as national narrative.\n- \"Cities and urban inequality\": Urbanization, housing, sanitation, policing, and informal settlements; favelas, segregation, and metropolitan governance.\n- \"Environmental history and the Amazon\": Amazon, Cerrado, and Atlantic Forest histories: extraction, conservation, Indigenous stewardship, climate politics, and environmental governance.\n- \"Military and national security\": Professionalization of the armed forces, coups, doctrine, and defense policy; civil-military relations in democracy.\n- \"Foreign policy and international relations\": Diplomacy from empire to present: borders, regional leadership, multilateralism, South–South ties, and great-power relations.\n- \"Historiography and public memory\": How Brazil's past is narrated and contested: schools, monuments, museums, reparations debates, transitional justice, and public history.\n  "
    }
  ],
  "taskId": "chapter-lessons"
}
