{
  "generatedAt": "2026-02-22T19:10:54.744Z",
  "modelId": "openai/gpt-5.2",
  "outputs": [
    {
      "duration": 76414.25475000001,
      "inputTokens": 1608,
      "output": "{\n  \"lessons\": [\n    {\n      \"description\": \"How data is split into layers so each layer solves one job (link, internet, transport, application). How encapsulation explains what you see in packet captures.\",\n      \"title\": \"The Layered Networking Model\"\n    },\n    {\n      \"description\": \"What a “packet” represents at the network layer and what an IP packet can carry. Why packet headers exist at all.\",\n      \"title\": \"Packets\"\n    },\n    {\n      \"description\": \"What a “frame” represents on a local network and how it differs from an IP packet. Why frames are rewritten at every hop.\",\n      \"title\": \"Frames\"\n    },\n    {\n      \"description\": \"How an IP packet gets wrapped inside a link-layer frame for travel over a local network. What changes at each layer during forwarding.\",\n      \"title\": \"Encapsulation\"\n    },\n    {\n      \"description\": \"A single sentence definition of the internet: networks connected by routers that forward IP packets. Why this matters for debugging paths.\",\n      \"title\": \"What “IP Networking” Means\"\n    },\n    {\n      \"description\": \"What IPv4 addresses represent (a 32-bit identifier for an interface on an IP network). Why addresses identify location, not a device identity.\",\n      \"title\": \"IPv4 Addresses\"\n    },\n    {\n      \"description\": \"How dotted-decimal notation maps to a 32-bit number. Quick mental conversion cues for common octets.\",\n      \"title\": \"IPv4 Dotted-Decimal Notation\"\n    },\n    {\n      \"description\": \"What a subnet mask does: splits an IP address into network part and host part. Why the mask is required to decide “local vs remote.”\",\n      \"title\": \"Subnet Masks\"\n    },\n    {\n      \"description\": \"What CIDR notation means (e.g., /24) and how to infer network size from the prefix. Common prefix lengths used in practice.\",\n      \"title\": \"CIDR Prefix Lengths\"\n    },\n    {\n      \"description\": \"The concept of a network address (all host bits 0) and why it’s not assignable to a host interface.\",\n      \"title\": \"Network Address\"\n    },\n    {\n      \"description\": \"The concept of a broadcast address (all host bits 1) and what broadcast means on IPv4 subnets.\",\n      \"title\": \"Broadcast Address\"\n    },\n    {\n      \"description\": \"How to compute the usable host range for a given IPv4 CIDR block. Why /31 and /32 are special cases.\",\n      \"title\": \"Usable Host Range\"\n    },\n    {\n      \"description\": \"What “private IP space” means and why it can’t be routed on the public internet. Typical ranges used for home and cloud networks.\",\n      \"title\": \"Private IPv4 Ranges\"\n    },\n    {\n      \"description\": \"What “public IP” means and why it must be globally unique for internet routing. How public IPs relate to your ISP or cloud provider.\",\n      \"title\": \"Public IPv4 Addresses\"\n    },\n    {\n      \"description\": \"What a loopback address is and why 127.0.0.1 never leaves your machine. How localhost differs from your LAN IP.\",\n      \"title\": \"Loopback Address\"\n    },\n    {\n      \"description\": \"What a link-local address is (169.254.0.0/16) and when it appears. What it implies when you see it in troubleshooting.\",\n      \"title\": \"IPv4 Link-Local Addresses\"\n    },\n    {\n      \"description\": \"Why a device needs a default gateway for off-subnet traffic. The “where to send unknown networks” rule.\",\n      \"title\": \"Default Gateway\"\n    },\n    {\n      \"description\": \"What a routing table is: a set of destination prefixes mapped to next hops or interfaces. Why the table is consulted per packet.\",\n      \"title\": \"Routing Tables\"\n    },\n    {\n      \"description\": \"How routers choose a route using the longest-prefix match rule. Why a /24 beats a /16 even if both exist.\",\n      \"title\": \"Longest-Prefix Match\"\n    },\n    {\n      \"description\": \"What “next hop” means and how it differs from the final destination IP. How traceroute relates to hop-by-hop forwarding.\",\n      \"title\": \"Next-Hop Forwarding\"\n    },\n    {\n      \"description\": \"What TTL is in IP and why it prevents infinite loops. How TTL expiration shows up in diagnostics.\",\n      \"title\": \"IP Time To Live\"\n    },\n    {\n      \"description\": \"What a routing loop is and why it causes repeated hops until TTL hits zero. Common causes in misconfiguration.\",\n      \"title\": \"Routing Loops\"\n    },\n    {\n      \"description\": \"How ICMP fits into IP networks as control and error signaling. Why blocking ICMP can hide useful failure information.\",\n      \"title\": \"ICMP Messages\"\n    },\n    {\n      \"description\": \"What ICMP “Destination Unreachable” means at a high level. How it narrows down “no route” vs “filtered” scenarios.\",\n      \"title\": \"ICMP Destination Unreachable\"\n    },\n    {\n      \"description\": \"What ICMP “Time Exceeded” means and how it powers traceroute-style debugging. Why you might see missing hops.\",\n      \"title\": \"ICMP Time Exceeded\"\n    },\n    {\n      \"description\": \"What path MTU means and why the smallest MTU on the path wins. How MTU issues cause “works for small payloads” bugs.\",\n      \"title\": \"Path MTU\"\n    },\n    {\n      \"description\": \"What IP fragmentation is and why it’s fragile on modern networks. How DF (Don’t Fragment) changes failure behavior.\",\n      \"title\": \"IP Fragmentation\"\n    },\n    {\n      \"description\": \"What an MSS is for TCP and how it relates to MTU. Why MSS clamping can “fix” certain VPN and NAT paths.\",\n      \"title\": \"TCP Maximum Segment Size\"\n    },\n    {\n      \"description\": \"The purpose of ports as transport-layer endpoints on a host. How IP + port identifies a specific socket.\",\n      \"title\": \"Ports\"\n    },\n    {\n      \"description\": \"Why servers typically listen on well-known ports and clients use ephemeral ports. How this affects firewall rules.\",\n      \"title\": \"Ephemeral Ports\"\n    },\n    {\n      \"description\": \"What a socket is (IP, port, protocol) as the unit of communication. Why TCP and UDP sockets behave differently.\",\n      \"title\": \"Sockets\"\n    },\n    {\n      \"description\": \"What TCP provides: ordered, reliable byte stream with congestion control. When that reliability costs latency.\",\n      \"title\": \"TCP Guarantees\"\n    },\n    {\n      \"description\": \"What UDP provides: best-effort datagrams with no built-in reliability. Why “fast” really means “less overhead, more responsibility.”\",\n      \"title\": \"UDP Guarantees\"\n    },\n    {\n      \"description\": \"How TCP’s three-way handshake establishes a connection and initial sequence numbers. Where handshake failures show up.\",\n      \"title\": \"TCP Three-Way Handshake\"\n    },\n    {\n      \"description\": \"What SYN, SYN-ACK, and ACK represent in TCP connection setup. How to interpret these flags in a capture.\",\n      \"title\": \"TCP Handshake Flags\"\n    },\n    {\n      \"description\": \"What TCP sequence numbers do to order bytes in a stream. Why packet reordering doesn’t necessarily break TCP.\",\n      \"title\": \"TCP Sequence Numbers\"\n    },\n    {\n      \"description\": \"What TCP acknowledgments mean and how they drive retransmission. The difference between cumulative ACKs and missing data.\",\n      \"title\": \"TCP Acknowledgments\"\n    },\n    {\n      \"description\": \"What TCP retransmission is and why it happens (loss, reordering, timeouts). How retransmits inflate perceived latency.\",\n      \"title\": \"TCP Retransmissions\"\n    },\n    {\n      \"description\": \"What the TCP receive window is and how it limits in-flight data. Why small windows cap throughput.\",\n      \"title\": \"TCP Flow Control Window\"\n    },\n    {\n      \"description\": \"What TCP congestion control is trying to prevent (network overload). Why throughput can drop even with no application changes.\",\n      \"title\": \"TCP Congestion Control\"\n    },\n    {\n      \"description\": \"What “head-of-line blocking” means inside a single TCP stream. Why one lost packet can stall subsequent bytes.\",\n      \"title\": \"TCP Head-of-Line Blocking\"\n    },\n    {\n      \"description\": \"How TCP connection teardown works with FIN packets. What “half-close” means in practice.\",\n      \"title\": \"TCP Connection Teardown\"\n    },\n    {\n      \"description\": \"What RST means in TCP and why it indicates an abrupt close. How it differs from a timeout.\",\n      \"title\": \"TCP Reset Packets\"\n    },\n    {\n      \"description\": \"What TIME_WAIT is and why it exists to prevent old packets from corrupting new connections. Why it can cause port exhaustion.\",\n      \"title\": \"TCP TIME_WAIT\"\n    },\n    {\n      \"description\": \"The minimal fields in a UDP datagram and what gets checked. Why UDP checksums matter more than people think.\",\n      \"title\": \"UDP Datagram Anatomy\"\n    },\n    {\n      \"description\": \"What “connectionless” means for UDP at the transport layer. Why NAT and firewalls still create state for it.\",\n      \"title\": \"UDP Connectionless State\"\n    },\n    {\n      \"description\": \"What latency measures (time) and how it differs from throughput (rate). Why improving one can hurt the other.\",\n      \"title\": \"Latency\"\n    },\n    {\n      \"description\": \"What bandwidth measures (bits per second) and what it does not guarantee. Why high bandwidth can still feel slow.\",\n      \"title\": \"Bandwidth\"\n    },\n    {\n      \"description\": \"What round-trip time (RTT) is and why many protocols pay RTT costs repeatedly. How RTT shapes page and API performance.\",\n      \"title\": \"Round-Trip Time\"\n    },\n    {\n      \"description\": \"Why “distance” and router hops affect latency even on fast links. Speed-of-light and queuing as separate contributors.\",\n      \"title\": \"Sources of Latency\"\n    },\n    {\n      \"description\": \"What jitter is: variability in latency over time. Why jitter hurts real-time traffic more than average latency.\",\n      \"title\": \"Jitter\"\n    },\n    {\n      \"description\": \"What packet loss is and how even small percentages hurt TCP throughput. Why loss often appears as “random slowness.”\",\n      \"title\": \"Packet Loss\"\n    },\n    {\n      \"description\": \"What bufferbloat is and why big queues increase latency under load. A quick mental model for “lag spikes when uploading.”\",\n      \"title\": \"Bufferbloat\"\n    },\n    {\n      \"description\": \"The bandwidth-delay product as “bytes in flight” needed to fill a path. Why long-RTT links require larger windows.\",\n      \"title\": \"Bandwidth-Delay Product\"\n    },\n    {\n      \"description\": \"Why small payloads are latency-dominated and large transfers are bandwidth-dominated. How this guides performance expectations.\",\n      \"title\": \"Latency-Dominated Transfers\"\n    },\n    {\n      \"description\": \"The idea of goodput (useful payload rate) vs raw bandwidth. How retransmissions and overhead reduce effective throughput.\",\n      \"title\": \"Goodput\"\n    },\n    {\n      \"description\": \"What NAT is: rewriting IP addresses (often ports too) across a boundary. Why it exists in IPv4-heavy environments.\",\n      \"title\": \"Network Address Translation\"\n    },\n    {\n      \"description\": \"What SNAT does: changes the source address for outbound traffic. Why your private host appears as one public IP.\",\n      \"title\": \"Source NAT\"\n    },\n    {\n      \"description\": \"What DNAT does: changes the destination address for inbound traffic. How it enables port forwarding to internal services.\",\n      \"title\": \"Destination NAT\"\n    },\n    {\n      \"description\": \"How PAT (port address translation) multiplexes many private clients onto one public IP using ports. Why collisions require careful mapping.\",\n      \"title\": \"Port Address Translation\"\n    },\n    {\n      \"description\": \"What a NAT mapping is and how it binds internal tuples to external tuples. Why mappings expire.\",\n      \"title\": \"NAT Mappings\"\n    },\n    {\n      \"description\": \"What a NAT timeout is and why idle UDP flows break more often than TCP. How keepalives prevent expiry.\",\n      \"title\": \"NAT Timeouts\"\n    },\n    {\n      \"description\": \"What “double NAT” means and why it complicates inbound connections and debugging. Common symptoms in home networks.\",\n      \"title\": \"Double NAT\"\n    },\n    {\n      \"description\": \"How NAT affects peer-to-peer connectivity by blocking unsolicited inbound packets. Why “it works outbound only” is a NAT clue.\",\n      \"title\": \"NAT Inbound Limits\"\n    },\n    {\n      \"description\": \"The core difference between stateful and stateless filtering. Why statefulness matters for return traffic.\",\n      \"title\": \"Stateful Firewalls\"\n    },\n    {\n      \"description\": \"What an allowlist rule means in practice for source, destination, port, and protocol. How overly broad rules hide misconfigurations.\",\n      \"title\": \"Firewall Allow Rules\"\n    },\n    {\n      \"description\": \"What a deny rule means and why order and precedence matter. How silent drops differ from explicit rejects.\",\n      \"title\": \"Firewall Deny Rules\"\n    },\n    {\n      \"description\": \"What “silent drop” means and how it creates timeouts instead of errors. Why timeouts are harder to debug than rejects.\",\n      \"title\": \"Silent Packet Drops\"\n    },\n    {\n      \"description\": \"What “reject” behavior means (explicit error) and how it shortens debugging cycles. Typical signals: RST or ICMP unreachable.\",\n      \"title\": \"Explicit Rejects\"\n    },\n    {\n      \"description\": \"What an ACL is as a list of match conditions for traffic. Why direction (ingress vs egress) changes outcomes.\",\n      \"title\": \"Access Control Lists\"\n    },\n    {\n      \"description\": \"What asymmetric routing is: request and response take different paths. Why it breaks stateful firewalls and some NAT setups.\",\n      \"title\": \"Asymmetric Routing\"\n    },\n    {\n      \"description\": \"What a “blackhole route” does by discarding traffic to a prefix. Why it can look like a firewall issue.\",\n      \"title\": \"Blackhole Routes\"\n    },\n    {\n      \"description\": \"What ARP does on IPv4 LANs: mapping IP addresses to MAC addresses. Why ARP is needed before the first packet can be sent locally.\",\n      \"title\": \"ARP Resolution\"\n    },\n    {\n      \"description\": \"What an ARP cache is and why stale entries cause intermittent connectivity. Typical fixes: timeouts and gratuitous ARP.\",\n      \"title\": \"ARP Cache\"\n    },\n    {\n      \"description\": \"What an ARP spoofing symptom looks like at a high level (wrong MAC for an IP). Why it can appear as random misrouting on a LAN.\",\n      \"title\": \"ARP Poisoning Symptoms\"\n    },\n    {\n      \"description\": \"What a MAC address identifies and why it’s only meaningful on the local link. Why routers don’t forward MAC addresses.\",\n      \"title\": \"MAC Addresses\"\n    },\n    {\n      \"description\": \"How a switch forwards frames using a MAC address table. Why loops in switching can melt a network.\",\n      \"title\": \"Switch Forwarding Tables\"\n    },\n    {\n      \"description\": \"What a default route (0.0.0.0/0) means in a routing table. Why it’s the catch-all for unknown destinations.\",\n      \"title\": \"Default Route\"\n    },\n    {\n      \"description\": \"What “local subnet” means operationally: destinations you can reach without a router. How the subnet mask decides it.\",\n      \"title\": \"On-Subnet Traffic\"\n    },\n    {\n      \"description\": \"What “off-subnet” means and why it must go to a gateway. Common misconfig: wrong gateway IP.\",\n      \"title\": \"Off-Subnet Traffic\"\n    },\n    {\n      \"description\": \"What a routing metric is and how it influences route selection when prefix lengths tie. Why “lowest cost” wins.\",\n      \"title\": \"Routing Metrics\"\n    },\n    {\n      \"description\": \"What a host route (/32) is used for. Why it can override broader routes for specific destinations.\",\n      \"title\": \"Host Routes\"\n    },\n    {\n      \"description\": \"What a subnet route (e.g., /24) represents. Why it’s the most common unit for internal network design.\",\n      \"title\": \"Subnet Routes\"\n    },\n    {\n      \"description\": \"What “reachability” means at the IP layer: a route exists and forwarding works. Why reachability doesn’t imply the port is open.\",\n      \"title\": \"IP Reachability\"\n    },\n    {\n      \"description\": \"What “connectivity” means at the transport layer: packets reach a specific port and protocol. Why ping success doesn’t prove app health.\",\n      \"title\": \"Port Reachability\"\n    },\n    {\n      \"description\": \"Why “works from one network but not another” usually points to routing, NAT, or firewall differences. A quick decision tree for isolating scope.\",\n      \"title\": \"Network-Specific Failures\"\n    },\n    {\n      \"description\": \"Why “works on Wi‑Fi but not cellular” often indicates MTU, NAT type, or firewall policy differences. What to test first.\",\n      \"title\": \"Access-Network Differences\"\n    },\n    {\n      \"description\": \"What a timeout implies: packets are being dropped, delayed, or filtered silently. Why timeouts are ambiguous without additional signals.\",\n      \"title\": \"Timeouts as a Symptom\"\n    },\n    {\n      \"description\": \"What “connection refused” implies: the host is reachable but nothing is listening on that port or a reject rule is in place. Why it’s a good sign during debugging.\",\n      \"title\": \"Connection Refused\"\n    },\n    {\n      \"description\": \"What “no route to host” typically implies: missing route, down interface, or ICMP unreachable from a router. How it differs from DNS failures.\",\n      \"title\": \"No Route to Host\"\n    },\n    {\n      \"description\": \"What “host unreachable” implies at the IP layer. Common causes: ARP failure, gateway down, or local routing problems.\",\n      \"title\": \"Host Unreachable\"\n    },\n    {\n      \"description\": \"What intermittent failures indicate: flapping links, unstable Wi‑Fi, overloaded NAT tables, or ARP churn. How to distinguish from consistent misconfig.\",\n      \"title\": \"Intermittent Connectivity\"\n    },\n    {\n      \"description\": \"What packet loss bursts indicate vs steady loss. Why bursts often correlate with congestion or Wi‑Fi interference.\",\n      \"title\": \"Loss Patterns\"\n    },\n    {\n      \"description\": \"What “slow but not down” often indicates: congestion, bufferbloat, retransmissions, or window limits. Why bandwidth tests can mislead.\",\n      \"title\": \"Slow Connections\"\n    },\n    {\n      \"description\": \"What “fast sometimes” implies about contention and queueing. Why time-of-day correlation points to shared links.\",\n      \"title\": \"Variable Throughput\"\n    },\n    {\n      \"description\": \"Why “small requests work, large requests fail” often points to MTU/MSS issues. A mental model for fragmentation blackholes.\",\n      \"title\": \"MTU Blackholes\"\n    },\n    {\n      \"description\": \"Why “TCP works, UDP fails” often indicates firewall rules or NAT timeouts. How to reason about statefulness differences.\",\n      \"title\": \"UDP Blockage Clues\"\n    },\n    {\n      \"description\": \"Why “UDP works, TCP fails” can indicate SYN filtering, MSS issues, or stateful inspection problems. What symptoms look like in retries.\",\n      \"title\": \"TCP Handshake Failures\"\n    },\n    {\n      \"description\": \"Why a service can be reachable by IP but not by name without making DNS the culprit. Separating naming from routing in your mental model.\",\n      \"title\": \"Name vs Network Separation\"\n    },\n    {\n      \"description\": \"What “local firewall” means on a host and how it differs from network firewalls. Why localhost tests can bypass the real problem.\",\n      \"title\": \"Host Firewall Scope\"\n    },\n    {\n      \"description\": \"What “security group” style filtering means conceptually (per-interface allow rules). How missing egress rules can break outbound calls.\",\n      \"title\": \"Perimeter Filtering Scope\"\n    },\n    {\n      \"description\": \"A step-by-step mental model: local interface → gateway → NAT → internet → remote edge → remote host. Where each class of failure typically occurs.\",\n      \"title\": \"The Connectivity Path Checklist\"\n    },\n    {\n      \"description\": \"What “last known good boundary” means in debugging. How to move one hop at a time to isolate the failing segment.\",\n      \"title\": \"Binary Search for Network Faults\"\n    },\n    {\n      \"description\": \"Why changing one variable at a time beats random retries. Example variables: network, device, protocol, port, payload size.\",\n      \"title\": \"One-Variable Debugging\"\n    },\n    {\n      \"description\": \"How to interpret “it works from the server but not from my laptop” without jumping to conclusions. The difference between source IP, route, and policy.\",\n      \"title\": \"Source Matters\"\n    },\n    {\n      \"description\": \"What a “five-tuple” is (src IP, src port, dst IP, dst port, protocol). Why firewalls and NATs key on it.\",\n      \"title\": \"The Five-Tuple\"\n    },\n    {\n      \"description\": \"What “session state” means in middleboxes. Why rebooting a router can temporarily “fix” things by clearing state.\",\n      \"title\": \"Middlebox State\"\n    },\n    {\n      \"description\": \"What “port exhaustion” means on clients or NAT gateways. Symptoms: new connections fail while existing ones work.\",\n      \"title\": \"Port Exhaustion\"\n    },\n    {\n      \"description\": \"What a “listen socket” is and why binding to 127.0.0.1 blocks external access. Common misconfig in dev servers.\",\n      \"title\": \"Binding to the Wrong Interface\"\n    },\n    {\n      \"description\": \"What “0.0.0.0” bind means for servers and why it exposes a service on all interfaces. Security and debugging implications.\",\n      \"title\": \"Binding to 0.0.0.0\"\n    },\n    {\n      \"description\": \"What “hairpin NAT” is: accessing a public IP from inside the same NAT. Why it fails on some routers.\",\n      \"title\": \"Hairpin NAT\"\n    },\n    {\n      \"description\": \"Why clock skew usually isn’t a networking issue but can mimic it in higher layers. When to suspect it during connectivity debugging.\",\n      \"title\": \"Clock Skew as a False Lead\"\n    },\n    {\n      \"description\": \"What “packet capture” represents conceptually even if you don’t use tools yet. Why observing traffic beats guessing.\",\n      \"title\": \"Traffic Observation Mindset\"\n    }\n  ]\n}",
      "outputTokens": 3834,
      "systemPrompt": "# Role\n\nYou are designing an **extensive** list of bite-sized, focused lessons for a specific chapter in a course.\n\nYou have expertise in instructional design, curriculum development, and creating granular learning paths. You have worked at top educational institutions creating micro-learning content that breaks down complex topics into digestible, single-concept lessons.\n\nYour mission is to create a lesson structure where each lesson covers **ONE SPECIFIC CONCEPT** that can be learned in 2-3 minutes and explained in 10 short tweets or less.\n\nYou deeply care about making learning accessible, focused, and efficient by breaking down topics into their smallest logical units.\n\n# Inputs\n\n- `COURSE_TITLE`: name of the overall course\n- `CHAPTER_TITLE`: title of this specific chapter\n- `CHAPTER_DESCRIPTION`: what this chapter covers\n- `LANGUAGE`: output language for titles and descriptions\n- `NEIGHBORING_CHAPTERS` (optional): titles and descriptions of chapters that come before and after this one in the course\n\n## Language\n\n- `en`: Use US region unless the content is about a different region.\n- `pt`: Use Brazilian Portuguese unless the content is about a different region.\n- `es`: Use Latin American Spanish unless the content is about a different region.\n\n# Goal\n\nProduce an **extensive** list of **single-concept** lessons that collectively cover everything in `CHAPTER_TITLE` and `CHAPTER_DESCRIPTION`. Each lesson should be so focused that a student can learn and understand the concept in 2-3 minutes.\n\n# Critical Requirements\n\n## Single-Concept Focus\n\n- **Each lesson MUST cover ONE SPECIFIC concept only**\n- If you can explain it in 10 short tweets or less, it's appropriately scoped\n- If it takes more than 10 tweets, **split it into multiple lessons**\n- If a topic is too broad, **break it down further**\n- Each lesson should be extremely focused on a single idea\n\n## Title & Description Requirements\n\n- Follow the same concise, no-fluff style as course chapter title and description\n- **NEVER** use words like \"learn\", \"understand\", \"explore\", \"introduction to\", \"basics of\", etc.\n- Go straight to the point\n- If you find yourself using **\"AND\"**, **\"OR\"**, or **\"VS\"** in a title, you should split it into separate lessons\n\n## Examples of Proper Granularity\n\n**TOO BROAD:**\n❌ \"Hardware vs. Software\"\n❌ \"Variables and Data Types\"\n❌ \"Functions and Methods\"\n\n**CORRECTLY BROKEN DOWN:**\n✅ \"What is Hardware?\"\n✅ \"What is Software?\"\n✅ \"How Hardware and Software Interact\"\n\nOr:\n\n✅ \"Variables: Storing Values\"\n✅ \"Data Types Overview\"\n✅ \"Numbers in Programming\"\n✅ \"Text (Strings) in Programming\"\n✅ \"Booleans (True/False Values)\"\n\n## Progression & Structure\n\n- Build a logical progression from basic to advanced concepts\n- Ensure lessons build on knowledge from previous lessons\n- Focus lessons specifically on THIS chapter, not the entire course\n- Don't add summary, review, or \"key concepts\" lessons\n- Don't add assessment or quiz lessons\n- Don't add final project or capstone lessons\n\n## Scope\n\n- Cover **everything** in `CHAPTER_DESCRIPTION` and `CHAPTER_TITLE`\n- Never go beyond the chapter's scope\n- Add **as many lessons as needed** to break down each concept fully\n- Don't limit the number of lessons arbitrarily\n- It's better to have many focused lessons than fewer broad ones\n- Make sure to have all lessons needed to **fully master the chapter's scope**\n\n## Neighboring Chapter Awareness\n\nWhen `NEIGHBORING_CHAPTERS` is provided, use it to avoid generating dedicated lessons on topics that have their own chapter. For example, if a neighboring chapter covers \"HTTP fundamentals,\" do not create standalone lessons teaching HTTP methods or status codes — those belong in that chapter, not this one.\n\nBrief contextual mentions are fine. For example, a lesson can reference HTTP to explain a concept, but should not become a standalone lesson _about_ HTTP.\n\n# Quality Checks\n\nBefore finalizing your lesson list, ask yourself for EACH lesson:\n\n1. **Is this lesson too broad?** → If yes, break it down further\n2. **Can this concept be explained in 10 short tweets or less?** → If no, split it\n3. **Does this lesson focus on a single specific concept?** → If no, split it\n4. **Does the title contain \"AND\", \"OR\", or \"VS\"?** → If yes, split into separate lessons\n5. **Would a student need more than 2-3 minutes to grasp this?** → If yes, simplify or split\n\n# Output Format\n\nEach lesson must include **exactly two fields**:\n\n- **Title** — short, specific, focused on the single concept\n- **Description** — 1-2 sentences describing what the lesson covers, no fluff\n\n## Good Title Examples\n\n- \"What is a Variable?\"\n- \"Integer Numbers\"\n- \"Floating-Point Numbers\"\n- \"Declaring Variables\"\n- \"Assigning Values\"\n- \"The Addition Operator\"\n- \"The Subtraction Operator\"\n\n## Good Description Examples\n\n- \"Memory locations that store values during program execution.\"\n- \"Whole numbers without decimal points: 1, 42, -17, 0.\"\n- \"Numbers with decimal points: 3.14, -0.5, 2.0.\"\n- \"Creating a variable with a name and type.\"\n- \"Storing a value into a variable using the assignment operator.\"\n\n# Last Check\n\nAfter creating your lesson list, verify:\n\n- \"Does each lesson cover ONLY ONE concept?\" → All must be YES\n- \"Can each lesson be explained in 10 tweets?\" → All must be YES\n- \"Have I covered EVERYTHING from the chapter description?\" → Must be YES\n- \"Are there any lessons that should be split further?\" → Must be NO\n- \"Are the titles and descriptions concise and to the point with no fluff?\" → Must be YES\n- \"Did I stay within the chapter's scope?\" → Must be YES\n- \"Does any lesson teach a topic that belongs in a neighboring chapter?\" → Must be NO\n\nThis should be the most **granular**, **focused**, and **extensive** lesson list possible for this chapter.\n",
      "testCaseId": "en-web-networking-fundamentals-1",
      "userPrompt": "\n    LANGUAGE: en\n    COURSE_TITLE: Web Development\n    CHAPTER_TITLE: Networking fundamentals\n    CHAPTER_DESCRIPTION: IP addressing, routing, NAT, TCP vs UDP, latency and bandwidth tradeoffs, and common failure modes. Practical mental models for debugging connectivity issues.\nNEIGHBORING_CHAPTERS:\n- \"Web development landscape\": Roles, responsibilities, and interfaces across front-end, back-end, full-stack, QA, DevOps, security, design, and product. How standards bodies and browser vendors shape the platform.\n- \"DNS and domains\": DNS records, resolvers, caching, propagation, and common configurations for web apps. Domain strategy, subdomains, and pitfalls with split-horizon DNS.\n- \"HTTP\": HTTP methods, status codes, headers, content negotiation, caching semantics, cookies, and redirects. HTTP/2 and HTTP/3 concepts and performance implications.\n- \"HTTPS and TLS\": TLS handshakes, certificate chains, HSTS, OCSP stapling, and modern TLS configuration choices. Secure transport patterns for browsers, APIs, and internal services.\n  "
    },
    {
      "duration": 40945.440333,
      "inputTokens": 1680,
      "output": "{\n  \"lessons\": [\n    {\n      \"description\": \"O tipo int representa números inteiros de tamanho arbitrário, limitado pela memória disponível.\",\n      \"title\": \"int: inteiros em Python\"\n    },\n    {\n      \"description\": \"Como escrever inteiros em base 10, incluindo sinais + e - e o zero.\",\n      \"title\": \"Literais inteiros decimais\"\n    },\n    {\n      \"description\": \"Prefixos 0b, 0o e 0x para representar inteiros em binário, octal e hexadecimal.\",\n      \"title\": \"Literais inteiros em outras bases\"\n    },\n    {\n      \"description\": \"Uso de underscores em literais numéricos para melhorar legibilidade sem mudar o valor.\",\n      \"title\": \"Underscore em literais numéricos\"\n    },\n    {\n      \"description\": \"A representação interna de int não transborda como em linguagens de tamanho fixo; o custo é desempenho e memória.\",\n      \"title\": \"Inteiros sem overflow\"\n    },\n    {\n      \"description\": \"O operador // faz divisão inteira e devolve o quociente truncado para baixo.\",\n      \"title\": \"Divisão inteira com //\"\n    },\n    {\n      \"description\": \"O operador % devolve o resto da divisão e segue regras de sinal específicas do Python.\",\n      \"title\": \"Resto da divisão com %\"\n    },\n    {\n      \"description\": \"A identidade a == (a//b)*b + (a%b) e suas consequências para sinais negativos.\",\n      \"title\": \"Relação entre // e %\"\n    },\n    {\n      \"description\": \"divmod(a, b) retorna (quociente, resto) em uma única operação.\",\n      \"title\": \"divmod: quociente e resto\"\n    },\n    {\n      \"description\": \"pow(a, b) eleva a à potência b; com três argumentos calcula potência modular.\",\n      \"title\": \"pow: potência e potência modular\"\n    },\n    {\n      \"description\": \"O operador ** calcula potência e tem precedência específica em expressões.\",\n      \"title\": \"Potência com **\"\n    },\n    {\n      \"description\": \"abs(x) retorna o valor absoluto de um número.\",\n      \"title\": \"abs: valor absoluto\"\n    },\n    {\n      \"description\": \"round(x) arredonda para o inteiro mais próximo com regra de empate para par.\",\n      \"title\": \"round: arredondamento para par\"\n    },\n    {\n      \"description\": \"round(x, ndigits) arredonda para um número específico de casas decimais ou dígitos significativos.\",\n      \"title\": \"round com ndigits\"\n    },\n    {\n      \"description\": \"O tipo float representa números de ponto flutuante em dupla precisão (IEEE 754) na maioria das plataformas.\",\n      \"title\": \"float: ponto flutuante\"\n    },\n    {\n      \"description\": \"Como escrever floats com ponto decimal e como 1.0 difere de 1 em tipo.\",\n      \"title\": \"Literais float com ponto\"\n    },\n    {\n      \"description\": \"Notação científica com e/E para representar números muito grandes ou muito pequenos.\",\n      \"title\": \"Literais float em notação científica\"\n    },\n    {\n      \"description\": \"float('nan'), float('inf') e float('-inf') criam valores especiais a partir de strings.\",\n      \"title\": \"Criando NaN e infinito com float()\"\n    },\n    {\n      \"description\": \"float('1.23') converte string numérica; falhas levantam ValueError.\",\n      \"title\": \"Conversão de string para float\"\n    },\n    {\n      \"description\": \"int(3.9) trunca em direção a zero; não faz arredondamento.\",\n      \"title\": \"Conversão float para int\"\n    },\n    {\n      \"description\": \"float(10) converte int para float e pode perder precisão para inteiros muito grandes.\",\n      \"title\": \"Conversão int para float\"\n    },\n    {\n      \"description\": \"complex(a, b) cria número complexo a + bj; com string, faz parsing do literal.\",\n      \"title\": \"complex: criação de complexos\"\n    },\n    {\n      \"description\": \"Literais como 2+3j e 4j; j é a unidade imaginária em Python.\",\n      \"title\": \"Literais complex com j\"\n    },\n    {\n      \"description\": \"Acessos .real e .imag para obter partes real e imaginária.\",\n      \"title\": \"Partes real e imaginária\"\n    },\n    {\n      \"description\": \"conjugate() devolve o conjugado de um complexo.\",\n      \"title\": \"Conjugado de complex\"\n    },\n    {\n      \"description\": \"Operações aritméticas com complex seguem álgebra complexa e retornam complex.\",\n      \"title\": \"Aritmética com complex\"\n    },\n    {\n      \"description\": \"O tipo bool tem apenas True e False e é subclasse de int.\",\n      \"title\": \"bool: valores lógicos\"\n    },\n    {\n      \"description\": \"True e False se comportam como 1 e 0 em operações numéricas.\",\n      \"title\": \"bool como int\"\n    },\n    {\n      \"description\": \"bool(x) usa regras de truthiness para converter valores em True/False.\",\n      \"title\": \"Conversão para bool com bool()\"\n    },\n    {\n      \"description\": \"Comparações (==, <, > etc.) retornam bool.\",\n      \"title\": \"Comparações retornam bool\"\n    },\n    {\n      \"description\": \"None representa ausência de valor e é singleton em Python.\",\n      \"title\": \"None: ausência de valor\"\n    },\n    {\n      \"description\": \"Use is e is not para testar identidade com None; igualdade não é o padrão.\",\n      \"title\": \"Comparação com None usando is\"\n    },\n    {\n      \"description\": \"None não é 0 nem False; diferenças ao testar condições e ao imprimir valores.\",\n      \"title\": \"None não é zero\"\n    },\n    {\n      \"description\": \"type(x) retorna a classe do objeto, útil para inspecionar valores numéricos.\",\n      \"title\": \"type: inspeção de tipo\"\n    },\n    {\n      \"description\": \"isinstance(x, t) verifica se um valor pertence a um tipo ou hierarquia de tipos.\",\n      \"title\": \"isinstance: checagem de tipo\"\n    },\n    {\n      \"description\": \"Valores int e float em expressões binárias podem promover para float.\",\n      \"title\": \"Promoção numérica int→float\"\n    },\n    {\n      \"description\": \"Operações entre int e float normalmente produzem float devido à coerção.\",\n      \"title\": \"Coerção em operações int e float\"\n    },\n    {\n      \"description\": \"Operações com bool podem surpreender em somas e contagens por serem inteiros.\",\n      \"title\": \"Efeito de bool em aritmética\"\n    },\n    {\n      \"description\": \"O tipo de um resultado pode depender do operador usado (/, //, **).\",\n      \"title\": \"Tipo do resultado por operador\"\n    },\n    {\n      \"description\": \"float tem precisão finita; muitos decimais não podem ser representados exatamente.\",\n      \"title\": \"Precisão finita de float\"\n    },\n    {\n      \"description\": \"0.1 não é exato em binário; somas como 0.1+0.2 exibem erro de representação.\",\n      \"title\": \"0.1 em binário\"\n    },\n    {\n      \"description\": \"Erro de arredondamento se acumula em somas repetidas e algoritmos iterativos.\",\n      \"title\": \"Acúmulo de erro numérico\"\n    },\n    {\n      \"description\": \"Representações com repr() mostram mais dígitos para revelar o valor armazenado.\",\n      \"title\": \"repr de floats\"\n    },\n    {\n      \"description\": \"format e f-strings permitem controlar casas e arredondamento exibido sem mudar o valor interno.\",\n      \"title\": \"Formatação de float sem alterar valor\"\n    },\n    {\n      \"description\": \"Comparar floats com == pode falhar por erros de arredondamento.\",\n      \"title\": \"Igualdade de float\"\n    },\n    {\n      \"description\": \"math.isclose compara floats por tolerância relativa e absoluta.\",\n      \"title\": \"Comparação com math.isclose\"\n    },\n    {\n      \"description\": \"Escolha de rel_tol e abs_tol define o que é “próximo o suficiente” para o domínio.\",\n      \"title\": \"Tolerâncias em isclose\"\n    },\n    {\n      \"description\": \"NaN não é igual a si mesmo; isso afeta comparações e conjuntos.\",\n      \"title\": \"NaN e comparações\"\n    },\n    {\n      \"description\": \"math.isnan detecta NaN de forma explícita.\",\n      \"title\": \"Detecção de NaN\"\n    },\n    {\n      \"description\": \"Inf segue regras específicas: operações com infinito e limites de divisão.\",\n      \"title\": \"Infinito em operações\"\n    },\n    {\n      \"description\": \"math.isinf detecta +inf e -inf.\",\n      \"title\": \"Detecção de infinito\"\n    },\n    {\n      \"description\": \"-0.0 existe em IEEE 754; pode aparecer em operações e em formatação.\",\n      \"title\": \"Zero negativo em float\"\n    },\n    {\n      \"description\": \"float('nan') propagado em operações pode mascarar erros se não for checado.\",\n      \"title\": \"Propagação de NaN\"\n    },\n    {\n      \"description\": \"A soma de muitos números pode perder precisão; ordem de soma importa.\",\n      \"title\": \"Ordem de soma e precisão\"\n    },\n    {\n      \"description\": \"math.fsum soma iteráveis com maior estabilidade numérica do que sum().\",\n      \"title\": \"Soma precisa com math.fsum\"\n    },\n    {\n      \"description\": \"x += y pode sofrer arredondamentos diferentes de x = x + y em alguns cenários de tipo e coerção.\",\n      \"title\": \"Efeito de atribuição composta em números\"\n    },\n    {\n      \"description\": \"decimal.Decimal representa decimais exatos base-10 com precisão configurável.\",\n      \"title\": \"Decimal: números decimais exatos\"\n    },\n    {\n      \"description\": \"Criar Decimal a partir de string evita levar o erro do float para dentro do Decimal.\",\n      \"title\": \"Decimal a partir de string\"\n    },\n    {\n      \"description\": \"Criar Decimal a partir de float incorpora o valor binário aproximado do float.\",\n      \"title\": \"Decimal a partir de float\"\n    },\n    {\n      \"description\": \"O contexto do decimal define precisão, arredondamento e flags de operação.\",\n      \"title\": \"Contexto do decimal\"\n    },\n    {\n      \"description\": \"getcontext().prec controla o número de dígitos significativos em operações.\",\n      \"title\": \"Precisão no contexto decimal\"\n    },\n    {\n      \"description\": \"Modos de arredondamento do decimal (por exemplo, ROUND_HALF_UP) mudam resultados em empates.\",\n      \"title\": \"Arredondamento no decimal\"\n    },\n    {\n      \"description\": \"Quantize fixa casas decimais e aplica arredondamento controlado.\",\n      \"title\": \"Decimal.quantize\"\n    },\n    {\n      \"description\": \"Flags e traps do decimal permitem detectar inexact, rounded e outras condições.\",\n      \"title\": \"Sinalização de erros no decimal\"\n    },\n    {\n      \"description\": \"fractions.Fraction representa números racionais como numerador/denominador reduzidos.\",\n      \"title\": \"Fraction: números racionais\"\n    },\n    {\n      \"description\": \"Fraction(3, 4) cria uma fração exata e normaliza sinal e redução.\",\n      \"title\": \"Criação de Fraction por numerador e denominador\"\n    },\n    {\n      \"description\": \"Fraction('0.1') cria a fração exata do decimal da string, não do float binário.\",\n      \"title\": \"Fraction a partir de string\"\n    },\n    {\n      \"description\": \"Fraction.from_float converte um float para a fração exata que ele representa em binário.\",\n      \"title\": \"Fraction.from_float\"\n    },\n    {\n      \"description\": \"limit_denominator aproxima um float por uma fração simples com denominador limitado.\",\n      \"title\": \"Fraction.limit_denominator\"\n    },\n    {\n      \"description\": \"Operações com Fraction mantêm exatidão racional, mas podem crescer em tamanho.\",\n      \"title\": \"Crescimento de numerador e denominador\"\n    },\n    {\n      \"description\": \"Converter Fraction para float pode reintroduzir erro por representação limitada.\",\n      \"title\": \"Fraction para float\"\n    },\n    {\n      \"description\": \"Escolha entre float, Decimal e Fraction depende de exatidão desejada e custo computacional.\",\n      \"title\": \"Quando usar float\"\n    },\n    {\n      \"description\": \"Uso típico de Decimal em dinheiro e quantidades decimais com arredondamento previsível.\",\n      \"title\": \"Quando usar Decimal\"\n    },\n    {\n      \"description\": \"Uso típico de Fraction em razões exatas e cálculos racionais.\",\n      \"title\": \"Quando usar Fraction\"\n    },\n    {\n      \"description\": \"int('101', 2) e similares convertem strings em diferentes bases para int.\",\n      \"title\": \"int com base em string\"\n    },\n    {\n      \"description\": \"bin, oct e hex produzem strings com prefixos representando um inteiro em várias bases.\",\n      \"title\": \"bin oct hex\"\n    },\n    {\n      \"description\": \"float.is_integer verifica se um float representa um inteiro exato.\",\n      \"title\": \"float.is_integer\"\n    },\n    {\n      \"description\": \"as_integer_ratio retorna (numerador, denominador) exatos para um float finito.\",\n      \"title\": \"float.as_integer_ratio\"\n    },\n    {\n      \"description\": \"int.bit_length retorna quantos bits são necessários para representar o inteiro em binário.\",\n      \"title\": \"bit_length em int\"\n    },\n    {\n      \"description\": \"to_bytes converte int para sequência de bytes com tamanho e endianness definidos.\",\n      \"title\": \"int.to_bytes\"\n    },\n    {\n      \"description\": \"from_bytes converte bytes para int com endianness definido.\",\n      \"title\": \"int.from_bytes\"\n    },\n    {\n      \"description\": \"Operações bit a bit (&, |, ^, ~, <<, >>) funcionam apenas com inteiros.\",\n      \"title\": \"Bitwise em int\"\n    },\n    {\n      \"description\": \"O deslocamento << multiplica por potências de 2 preservando exatidão em int.\",\n      \"title\": \"Deslocamento à esquerda\"\n    },\n    {\n      \"description\": \"O deslocamento >> divide por potências de 2 com arredondamento para baixo.\",\n      \"title\": \"Deslocamento à direita\"\n    },\n    {\n      \"description\": \"Máscaras de bits extraem e alteram subconjuntos de bits em inteiros.\",\n      \"title\": \"Máscaras de bits\"\n    },\n    {\n      \"description\": \"O operador ~ inverte bits em inteiros usando representação de complemento de dois conceitual.\",\n      \"title\": \"Complemento bit a bit\"\n    },\n    {\n      \"description\": \"Ordem de precedência entre operadores numéricos pode mudar o resultado sem parênteses.\",\n      \"title\": \"Precedência em expressões numéricas\"\n    },\n    {\n      \"description\": \"Parênteses controlam agrupamento e ajudam a evitar surpresas em cálculos com floats.\",\n      \"title\": \"Parênteses em cálculos numéricos\"\n    },\n    {\n      \"description\": \"OverflowError pode ocorrer ao converter números muito grandes para float.\",\n      \"title\": \"Overflow na conversão para float\"\n    },\n    {\n      \"description\": \"ZeroDivisionError ocorre em divisão por zero com int e float; em float também pode gerar inf em alguns contextos não-Python.\",\n      \"title\": \"Divisão por zero em Python\"\n    },\n    {\n      \"description\": \"ValueError ocorre em conversões inválidas como int('3.2') ou float('abc').\",\n      \"title\": \"Erros em conversões numéricas\"\n    },\n    {\n      \"description\": \"Negar um número com -x difere de subtrair: é um operador unário com precedência própria.\",\n      \"title\": \"Menos unário em números\"\n    }\n  ]\n}",
      "outputTokens": 2631,
      "systemPrompt": "# Role\n\nYou are designing an **extensive** list of bite-sized, focused lessons for a specific chapter in a course.\n\nYou have expertise in instructional design, curriculum development, and creating granular learning paths. You have worked at top educational institutions creating micro-learning content that breaks down complex topics into digestible, single-concept lessons.\n\nYour mission is to create a lesson structure where each lesson covers **ONE SPECIFIC CONCEPT** that can be learned in 2-3 minutes and explained in 10 short tweets or less.\n\nYou deeply care about making learning accessible, focused, and efficient by breaking down topics into their smallest logical units.\n\n# Inputs\n\n- `COURSE_TITLE`: name of the overall course\n- `CHAPTER_TITLE`: title of this specific chapter\n- `CHAPTER_DESCRIPTION`: what this chapter covers\n- `LANGUAGE`: output language for titles and descriptions\n- `NEIGHBORING_CHAPTERS` (optional): titles and descriptions of chapters that come before and after this one in the course\n\n## Language\n\n- `en`: Use US region unless the content is about a different region.\n- `pt`: Use Brazilian Portuguese unless the content is about a different region.\n- `es`: Use Latin American Spanish unless the content is about a different region.\n\n# Goal\n\nProduce an **extensive** list of **single-concept** lessons that collectively cover everything in `CHAPTER_TITLE` and `CHAPTER_DESCRIPTION`. Each lesson should be so focused that a student can learn and understand the concept in 2-3 minutes.\n\n# Critical Requirements\n\n## Single-Concept Focus\n\n- **Each lesson MUST cover ONE SPECIFIC concept only**\n- If you can explain it in 10 short tweets or less, it's appropriately scoped\n- If it takes more than 10 tweets, **split it into multiple lessons**\n- If a topic is too broad, **break it down further**\n- Each lesson should be extremely focused on a single idea\n\n## Title & Description Requirements\n\n- Follow the same concise, no-fluff style as course chapter title and description\n- **NEVER** use words like \"learn\", \"understand\", \"explore\", \"introduction to\", \"basics of\", etc.\n- Go straight to the point\n- If you find yourself using **\"AND\"**, **\"OR\"**, or **\"VS\"** in a title, you should split it into separate lessons\n\n## Examples of Proper Granularity\n\n**TOO BROAD:**\n❌ \"Hardware vs. Software\"\n❌ \"Variables and Data Types\"\n❌ \"Functions and Methods\"\n\n**CORRECTLY BROKEN DOWN:**\n✅ \"What is Hardware?\"\n✅ \"What is Software?\"\n✅ \"How Hardware and Software Interact\"\n\nOr:\n\n✅ \"Variables: Storing Values\"\n✅ \"Data Types Overview\"\n✅ \"Numbers in Programming\"\n✅ \"Text (Strings) in Programming\"\n✅ \"Booleans (True/False Values)\"\n\n## Progression & Structure\n\n- Build a logical progression from basic to advanced concepts\n- Ensure lessons build on knowledge from previous lessons\n- Focus lessons specifically on THIS chapter, not the entire course\n- Don't add summary, review, or \"key concepts\" lessons\n- Don't add assessment or quiz lessons\n- Don't add final project or capstone lessons\n\n## Scope\n\n- Cover **everything** in `CHAPTER_DESCRIPTION` and `CHAPTER_TITLE`\n- Never go beyond the chapter's scope\n- Add **as many lessons as needed** to break down each concept fully\n- Don't limit the number of lessons arbitrarily\n- It's better to have many focused lessons than fewer broad ones\n- Make sure to have all lessons needed to **fully master the chapter's scope**\n\n## Neighboring Chapter Awareness\n\nWhen `NEIGHBORING_CHAPTERS` is provided, use it to avoid generating dedicated lessons on topics that have their own chapter. For example, if a neighboring chapter covers \"HTTP fundamentals,\" do not create standalone lessons teaching HTTP methods or status codes — those belong in that chapter, not this one.\n\nBrief contextual mentions are fine. For example, a lesson can reference HTTP to explain a concept, but should not become a standalone lesson _about_ HTTP.\n\n# Quality Checks\n\nBefore finalizing your lesson list, ask yourself for EACH lesson:\n\n1. **Is this lesson too broad?** → If yes, break it down further\n2. **Can this concept be explained in 10 short tweets or less?** → If no, split it\n3. **Does this lesson focus on a single specific concept?** → If no, split it\n4. **Does the title contain \"AND\", \"OR\", or \"VS\"?** → If yes, split into separate lessons\n5. **Would a student need more than 2-3 minutes to grasp this?** → If yes, simplify or split\n\n# Output Format\n\nEach lesson must include **exactly two fields**:\n\n- **Title** — short, specific, focused on the single concept\n- **Description** — 1-2 sentences describing what the lesson covers, no fluff\n\n## Good Title Examples\n\n- \"What is a Variable?\"\n- \"Integer Numbers\"\n- \"Floating-Point Numbers\"\n- \"Declaring Variables\"\n- \"Assigning Values\"\n- \"The Addition Operator\"\n- \"The Subtraction Operator\"\n\n## Good Description Examples\n\n- \"Memory locations that store values during program execution.\"\n- \"Whole numbers without decimal points: 1, 42, -17, 0.\"\n- \"Numbers with decimal points: 3.14, -0.5, 2.0.\"\n- \"Creating a variable with a name and type.\"\n- \"Storing a value into a variable using the assignment operator.\"\n\n# Last Check\n\nAfter creating your lesson list, verify:\n\n- \"Does each lesson cover ONLY ONE concept?\" → All must be YES\n- \"Can each lesson be explained in 10 tweets?\" → All must be YES\n- \"Have I covered EVERYTHING from the chapter description?\" → Must be YES\n- \"Are there any lessons that should be split further?\" → Must be NO\n- \"Are the titles and descriptions concise and to the point with no fluff?\" → Must be YES\n- \"Did I stay within the chapter's scope?\" → Must be YES\n- \"Does any lesson teach a topic that belongs in a neighboring chapter?\" → Must be NO\n\nThis should be the most **granular**, **focused**, and **extensive** lesson list possible for this chapter.\n",
      "testCaseId": "pt-python-tipos-numericos-1",
      "userPrompt": "\n    LANGUAGE: pt\n    COURSE_TITLE: Python\n    CHAPTER_TITLE: Tipos numéricos e valores especiais\n    CHAPTER_DESCRIPTION: Inteiros, floats, complexos, bool, None; conversões, precisão numérica, erros de arredondamento e uso de decimal/fractions.\nNEIGHBORING_CHAPTERS:\n- \"Ambiente de desenvolvimento\": Instalação e configuração do Python, múltiplas versões, PATH, virtual environments, VS Code/IDEs, REPL, Jupyter e boas práticas de organização local.\n- \"Execução de programas\": Execução em REPL, scripts e módulos; shebang, codificação, argumentos de linha de comando e status de saída do processo.\n- \"Sintaxe e convenções\": Regras de indentação, nomes, comentários, docstrings, literais, operadores e precedência; diferenças entre Python interativo e arquivo.\n- \"Texto e codificação\": Strings, bytes e bytearray; Unicode, normalização, encodings, f-strings, formatação avançada e manipulação eficiente.\n- \"Estruturas de dados fundamentais\": Listas, tuplas, dicionários e conjuntos; mutabilidade, cópia rasa vs profunda, hashing, ordenação e complexidade de operações.\n- \"Controle de fluxo\": if/elif/else, match/case, loops, break/continue, compreensão de escopo e padrões comuns de controle.\n  "
    },
    {
      "duration": 53128.522333,
      "inputTokens": 1696,
      "output": "{\n  \"lessons\": [\n    {\n      \"description\": \"Polarización del enlace C=O y su efecto en la electrofilicidad del carbono carbonílico.\",\n      \"title\": \"Polarización del carbonilo\"\n    },\n    {\n      \"description\": \"Geometría trigonal plana del carbono sp2 en aldehídos y cetonas y consecuencias estereoquímicas de atacar por ambas caras.\",\n      \"title\": \"Geometría del centro carbonílico\"\n    },\n    {\n      \"description\": \"Cómo los efectos inductivos y de resonancia de sustituyentes modifican la carga parcial del carbono del carbonilo.\",\n      \"title\": \"Efectos electrónicos en electrofilicidad del carbonilo\"\n    },\n    {\n      \"description\": \"Cómo el impedimento estérico alrededor del carbonilo cambia la velocidad de adición nucleofílica.\",\n      \"title\": \"Efecto estérico en adición a carbonilos\"\n    },\n    {\n      \"description\": \"Diferencias de reactividad entre aldehídos y cetonas hacia nucleófilos.\",\n      \"title\": \"Aldehídos: mayor reactividad relativa\"\n    },\n    {\n      \"description\": \"Diferencias de reactividad entre aldehídos y cetonas hacia nucleófilos.\",\n      \"title\": \"Cetonas: menor reactividad relativa\"\n    },\n    {\n      \"description\": \"Relación entre fuerza del nucleófilo, polarizabilidad y velocidad de ataque al carbonilo.\",\n      \"title\": \"Nucleofilicidad en adición al carbonilo\"\n    },\n    {\n      \"description\": \"Cómo un ácido de Lewis aumenta la electrofilicidad del carbonilo al coordinarse al oxígeno.\",\n      \"title\": \"Activación del carbonilo por ácido de Lewis\"\n    },\n    {\n      \"description\": \"Cómo un ácido de Brønsted facilita la adición al carbonilo mediante protonación del oxígeno.\",\n      \"title\": \"Activación del carbonilo por protonación\"\n    },\n    {\n      \"description\": \"Secuencia mínima: ataque nucleofílico, formación de alcoxido y protonación para dar alcohol.\",\n      \"title\": \"Pasos de adición nucleofílica al carbonilo\"\n    },\n    {\n      \"description\": \"Cómo se forma el intermedio tetraédrico y qué enlaces se crean y se rompen en ese paso.\",\n      \"title\": \"Intermedio tetraédrico\"\n    },\n    {\n      \"description\": \"Cómo el alcoxido se protona en condiciones ácidas y qué determina el sitio de protonación.\",\n      \"title\": \"Protonación del alcoxido\"\n    },\n    {\n      \"description\": \"Cómo se desprotona el nucleófilo o el aducto en condiciones básicas para regenerar la base.\",\n      \"title\": \"Desprotonación en condiciones básicas\"\n    },\n    {\n      \"description\": \"Cuándo la formación del enlace C–Nu es el paso lento y cómo se reconoce en un perfil energético.\",\n      \"title\": \"Paso determinante de velocidad en adición\"\n    },\n    {\n      \"description\": \"Cómo la reversibilidad de la adición depende de la estabilidad del producto y del nucleófilo.\",\n      \"title\": \"Reversibilidad de la adición al carbonilo\"\n    },\n    {\n      \"description\": \"Cómo se puede proteger un carbonilo como acetal para evitar adiciones durante una secuencia sintética.\",\n      \"title\": \"Protección del carbonilo como acetal\"\n    },\n    {\n      \"description\": \"Cómo la hidrólisis ácida de acetales regenera el carbonilo sin afectar enlaces C–C formados.\",\n      \"title\": \"Desprotección de acetales\"\n    },\n    {\n      \"description\": \"Equilibrio entre carbonilo y enol y por qué suele favorecer la forma carbonílica.\",\n      \"title\": \"Tautomería ceto–enol\"\n    },\n    {\n      \"description\": \"Qué estabiliza un enol: conjugación y puentes de hidrógeno intramoleculares.\",\n      \"title\": \"Estabilización de enoles\"\n    },\n    {\n      \"description\": \"Migración de protón y cambio de doble enlace bajo catálisis ácida para formar enoles.\",\n      \"title\": \"Enolización catalizada por ácido\"\n    },\n    {\n      \"description\": \"Desprotonación alfa por base para formar enolatos y qué controla la facilidad de desprotonación.\",\n      \"title\": \"Enolización catalizada por base\"\n    },\n    {\n      \"description\": \"Qué define un hidrógeno alfa y por qué es más ácido junto a un carbonilo.\",\n      \"title\": \"Hidrógenos alfa del carbonilo\"\n    },\n    {\n      \"description\": \"Resonancia del enolato y reparto de carga entre oxígeno y carbono alfa.\",\n      \"title\": \"Estructuras de resonancia del enolato\"\n    },\n    {\n      \"description\": \"Preferencia de coordinación a oxígeno en enolatos y su impacto en reactividad.\",\n      \"title\": \"Enolato O-coordinado\"\n    },\n    {\n      \"description\": \"Nucleofilicidad en el carbono alfa del enolato y por qué es el sitio típico para formar enlaces C–C.\",\n      \"title\": \"Enolato C-nucleófilo\"\n    },\n    {\n      \"description\": \"Relación pKa entre base y sustrato para estimar si un enolato se forma cuantitativamente.\",\n      \"title\": \"pKa y formación de enolatos\"\n    },\n    {\n      \"description\": \"Cómo LDA y bases voluminosas favorecen enolatos cinéticos por desprotonación rápida.\",\n      \"title\": \"Base fuerte y enolato cinético\"\n    },\n    {\n      \"description\": \"Cómo bases pequeñas y condiciones reversibles favorecen enolatos termodinámicos.\",\n      \"title\": \"Enolato termodinámico\"\n    },\n    {\n      \"description\": \"Cómo temperatura, solvente y tiempo desplazan cinético vs termodinámico.\",\n      \"title\": \"Condiciones para control cinético\"\n    },\n    {\n      \"description\": \"Cómo la estabilidad del alqueno más sustituido en el enolato gobierna el producto termodinámico.\",\n      \"title\": \"Condiciones para control termodinámico\"\n    },\n    {\n      \"description\": \"Criterios prácticos para elegir qué carbono alfa se desprotona en carbonilos asimétricos.\",\n      \"title\": \"Regioselectividad de enolización\"\n    },\n    {\n      \"description\": \"Cómo un sustituyente puede sesgar la enolización por efectos estéricos o electrónicos.\",\n      \"title\": \"Dirección estérica en enolización\"\n    },\n    {\n      \"description\": \"Cómo un quelato metal–oxígeno puede fijar conformación y cambiar la regioselectividad.\",\n      \"title\": \"Dirección por quelación\"\n    },\n    {\n      \"description\": \"Qué es un enolato “equivalente” y por qué evita mezclas en la química alfa.\",\n      \"title\": \"Concepto de equivalente de enolato\"\n    },\n    {\n      \"description\": \"Generación de enolatos de sililo a partir de carbonilos y su utilidad como nucleófilos controlables.\",\n      \"title\": \"Enol éteres de sililo\"\n    },\n    {\n      \"description\": \"Cómo la silylación captura el enol y congela su regioconfiguración.\",\n      \"title\": \"Trampas de enolización por silylación\"\n    },\n    {\n      \"description\": \"Qué hace un enamina como nucleófilo alfa y por qué es selectiva en alquilación/acilación.\",\n      \"title\": \"Enaminas como nucleófilos alfa\"\n    },\n    {\n      \"description\": \"Formación de enaminas desde cetonas y aminas secundarias bajo eliminación de agua.\",\n      \"title\": \"Formación de enaminas\"\n    },\n    {\n      \"description\": \"Hidrólisis ácida de enaminas para regenerar el carbonilo después de formar el enlace C–C.\",\n      \"title\": \"Hidrólisis de enaminas\"\n    },\n    {\n      \"description\": \"Cuándo un electrófilo reacciona en oxígeno en lugar de carbono en un enolato.\",\n      \"title\": \"O-alquilación del enolato\"\n    },\n    {\n      \"description\": \"Factores que favorecen alquilación en carbono para formar un enlace C–C alfa.\",\n      \"title\": \"C-alquilación del enolato\"\n    },\n    {\n      \"description\": \"Cómo el metal, el solvente y el electrófilo sesgan O- vs C-alquilación.\",\n      \"title\": \"Control de O- vs C-alquilación\"\n    },\n    {\n      \"description\": \"Qué significa 1,2-adición en carbonilos α,β-insaturados y dónde se forma el nuevo enlace.\",\n      \"title\": \"Adición 1,2 a enonas\"\n    },\n    {\n      \"description\": \"Qué significa 1,4-adición en carbonilos α,β-insaturados y cómo se genera el enolato resultante.\",\n      \"title\": \"Adición conjugada 1,4\"\n    },\n    {\n      \"description\": \"Criterios de nucleófilos “duros” y “blandos” para predecir 1,2 vs 1,4.\",\n      \"title\": \"Dureza/blandura en 1,2 vs 1,4\"\n    },\n    {\n      \"description\": \"Qué es un cuprato (Gilman) y por qué favorece adición conjugada a enonas.\",\n      \"title\": \"Organocupratos en adición 1,4\"\n    },\n    {\n      \"description\": \"Cómo el enolato generado tras 1,4-adición se protona o se atrapa con electrófilos.\",\n      \"title\": \"Destino del enolato tras 1,4-adición\"\n    },\n    {\n      \"description\": \"Definición de reacción aldólica: formación de β-hidroxicarbonilos desde enolatos y carbonilos.\",\n      \"title\": \"Producto de aldol\"\n    },\n    {\n      \"description\": \"Formación del enolato donador en aldol bajo base y su ataque al carbonilo aceptor.\",\n      \"title\": \"Paso C–C en aldol\"\n    },\n    {\n      \"description\": \"Protonación del alcoxido aldólico para dar el β-hidroxicarbonilo.\",\n      \"title\": \"Protonación en aldol\"\n    },\n    {\n      \"description\": \"Cuándo una aldol es reversible y cómo eso afecta la distribución de productos.\",\n      \"title\": \"Reversibilidad de aldol\"\n    },\n    {\n      \"description\": \"Qué diferencia una auto-aldol de una aldol cruzada en términos de número de productos posibles.\",\n      \"title\": \"Auto-aldol\"\n    },\n    {\n      \"description\": \"Cómo se reduce la mezcla en aldol cruzada eligiendo un socio sin hidrógenos alfa.\",\n      \"title\": \"Aldol cruzada con aceptor sin alfa\"\n    },\n    {\n      \"description\": \"Cómo se usa preformación de enolato para controlar qué socio actúa como donador.\",\n      \"title\": \"Aldol cruzada con enolato preformado\"\n    },\n    {\n      \"description\": \"Deshidratación de β-hidroxicarbonilos para dar α,β-insaturados bajo catálisis ácida o básica.\",\n      \"title\": \"Deshidratación aldólica\"\n    },\n    {\n      \"description\": \"Eliminación E1cb en deshidratación aldólica bajo base y por qué favorece alquenos conjugados.\",\n      \"title\": \"Mecanismo E1cb en deshidratación\"\n    },\n    {\n      \"description\": \"Cómo se selecciona el alqueno E o Z en la deshidratación según condiciones y sustrato.\",\n      \"title\": \"Selectividad E/Z en deshidratación\"\n    },\n    {\n      \"description\": \"Qué es la condensación de Claisen: formación de β-cetoésteres desde ésteres y enolatos.\",\n      \"title\": \"Producto de Claisen\"\n    },\n    {\n      \"description\": \"Por qué Claisen requiere una base alcoxido concordante con el grupo OR del éster.\",\n      \"title\": \"Elección de base en Claisen\"\n    },\n    {\n      \"description\": \"Formación del enolato del éster como nucleófilo en Claisen.\",\n      \"title\": \"Enolato de éster en Claisen\"\n    },\n    {\n      \"description\": \"Ataque del enolato al éster para dar un intermedio tetraédrico acílico.\",\n      \"title\": \"Intermedio tetraédrico en Claisen\"\n    },\n    {\n      \"description\": \"Colapso del intermedio con expulsión de alcoxido como grupo saliente.\",\n      \"title\": \"Eliminación de alcoxido en Claisen\"\n    },\n    {\n      \"description\": \"Desprotonación del β-cetoéster formado y por qué impulsa el equilibrio.\",\n      \"title\": \"Desprotonación impulsora en Claisen\"\n    },\n    {\n      \"description\": \"Trabajo ácido para reprotonar y aislar el β-cetoéster después de Claisen.\",\n      \"title\": \"Trabajo ácido en Claisen\"\n    },\n    {\n      \"description\": \"Qué distingue una Claisen cruzada y cómo se evita la estadística de productos.\",\n      \"title\": \"Claisen cruzada\"\n    },\n    {\n      \"description\": \"Qué es Dieckmann: Claisen intramolecular para formar anillos β-cetoésteres.\",\n      \"title\": \"Condensación de Dieckmann\"\n    },\n    {\n      \"description\": \"Preferencia por tamaños de anillo en Dieckmann y consecuencias en rendimiento.\",\n      \"title\": \"Tamaño de anillo en Dieckmann\"\n    },\n    {\n      \"description\": \"Qué es una adición de Michael: adición conjugada de un enolato a un aceptor α,β-insaturado.\",\n      \"title\": \"Producto de Michael\"\n    },\n    {\n      \"description\": \"Qué define un aceptor de Michael y cómo los sustituyentes activan el doble enlace.\",\n      \"title\": \"Aceptor de Michael\"\n    },\n    {\n      \"description\": \"Qué define un donador de Michael y cómo su enolato se genera bajo condiciones suaves.\",\n      \"title\": \"Donador de Michael\"\n    },\n    {\n      \"description\": \"Formación del enlace C–C en Michael mediante ataque 1,4 al carbono beta.\",\n      \"title\": \"Paso C–C en Michael\"\n    },\n    {\n      \"description\": \"Protonación del enolato tras Michael para dar el carbonilo saturado final.\",\n      \"title\": \"Protonación tras Michael\"\n    },\n    {\n      \"description\": \"Cómo la estabilización del enolato del donador afecta la velocidad y la reversibilidad de Michael.\",\n      \"title\": \"Reactividad del enolato en Michael\"\n    },\n    {\n      \"description\": \"Qué es una secuencia Michael–aldol en una anulación y cómo conecta dos formaciones C–C.\",\n      \"title\": \"Anulación de Robinson: conectividad\"\n    },\n    {\n      \"description\": \"Paso de Michael que instala la cadena 1,5-dicarbonílica en la anulación de Robinson.\",\n      \"title\": \"Anulación de Robinson: paso Michael\"\n    },\n    {\n      \"description\": \"Ciclación aldólica intramolecular del 1,5-dicarbonilo para formar el anillo.\",\n      \"title\": \"Anulación de Robinson: ciclación aldólica\"\n    },\n    {\n      \"description\": \"Deshidratación final que genera la enona conjugada en la anulación de Robinson.\",\n      \"title\": \"Anulación de Robinson: deshidratación\"\n    },\n    {\n      \"description\": \"Qué significa quimioselectividad en presencia de múltiples carbonilos y nucleófilos.\",\n      \"title\": \"Quimioselectividad en carbonilos\"\n    },\n    {\n      \"description\": \"Cómo la diferencia aldehído/cetona se usa para dirigir una adición o una aldol cruzada.\",\n      \"title\": \"Selección de aldehído como aceptor\"\n    },\n    {\n      \"description\": \"Cómo proteger temporalmente un carbonilo para forzar reacción en otro sitio.\",\n      \"title\": \"Protección para quimioselectividad\"\n    },\n    {\n      \"description\": \"Qué significa regioselectividad en química alfa y por qué aparecen dos sitios alfa posibles.\",\n      \"title\": \"Regioselectividad alfa\"\n    },\n    {\n      \"description\": \"Cómo bases voluminosas favorecen desprotonación en el sitio menos sustituido (cinético).\",\n      \"title\": \"Regioselectividad por base voluminosas\"\n    },\n    {\n      \"description\": \"Cómo condiciones reversibles favorecen el enolato más sustituido (termodinámico).\",\n      \"title\": \"Regioselectividad por equilibrio\"\n    },\n    {\n      \"description\": \"Qué significa estereoselectividad en aldol: control de sin/anti en el β-hidroxicarbonilo.\",\n      \"title\": \"Diastereoselectividad sin/anti en aldol\"\n    },\n    {\n      \"description\": \"Cómo un estado de transición tipo Zimmerman–Traxler racionaliza sin/anti en aldol metálica.\",\n      \"title\": \"Modelo Zimmerman–Traxler\"\n    },\n    {\n      \"description\": \"Cómo la geometría E/Z del enolato se traduce en sin/anti en el producto de aldol.\",\n      \"title\": \"Geometría del enolato y sin/anti\"\n    },\n    {\n      \"description\": \"Qué controla la selectividad facial (Re/Si) al atacar un carbonilo proquiral.\",\n      \"title\": \"Selección de cara en adición a carbonilos\"\n    },\n    {\n      \"description\": \"Cómo un auxiliar o un entorno quelante puede sesgar el ataque a una cara específica del carbonilo.\",\n      \"title\": \"Dirección por quelación en selectividad facial\"\n    },\n    {\n      \"description\": \"Qué significa control cinético en reacciones de enolatos aplicado a selectividad de producto.\",\n      \"title\": \"Control cinético de selectividad\"\n    },\n    {\n      \"description\": \"Qué significa control termodinámico en reacciones de enolatos aplicado a selectividad de producto.\",\n      \"title\": \"Control termodinámico de selectividad\"\n    }\n  ]\n}",
      "outputTokens": 3107,
      "systemPrompt": "# Role\n\nYou are designing an **extensive** list of bite-sized, focused lessons for a specific chapter in a course.\n\nYou have expertise in instructional design, curriculum development, and creating granular learning paths. You have worked at top educational institutions creating micro-learning content that breaks down complex topics into digestible, single-concept lessons.\n\nYour mission is to create a lesson structure where each lesson covers **ONE SPECIFIC CONCEPT** that can be learned in 2-3 minutes and explained in 10 short tweets or less.\n\nYou deeply care about making learning accessible, focused, and efficient by breaking down topics into their smallest logical units.\n\n# Inputs\n\n- `COURSE_TITLE`: name of the overall course\n- `CHAPTER_TITLE`: title of this specific chapter\n- `CHAPTER_DESCRIPTION`: what this chapter covers\n- `LANGUAGE`: output language for titles and descriptions\n- `NEIGHBORING_CHAPTERS` (optional): titles and descriptions of chapters that come before and after this one in the course\n\n## Language\n\n- `en`: Use US region unless the content is about a different region.\n- `pt`: Use Brazilian Portuguese unless the content is about a different region.\n- `es`: Use Latin American Spanish unless the content is about a different region.\n\n# Goal\n\nProduce an **extensive** list of **single-concept** lessons that collectively cover everything in `CHAPTER_TITLE` and `CHAPTER_DESCRIPTION`. Each lesson should be so focused that a student can learn and understand the concept in 2-3 minutes.\n\n# Critical Requirements\n\n## Single-Concept Focus\n\n- **Each lesson MUST cover ONE SPECIFIC concept only**\n- If you can explain it in 10 short tweets or less, it's appropriately scoped\n- If it takes more than 10 tweets, **split it into multiple lessons**\n- If a topic is too broad, **break it down further**\n- Each lesson should be extremely focused on a single idea\n\n## Title & Description Requirements\n\n- Follow the same concise, no-fluff style as course chapter title and description\n- **NEVER** use words like \"learn\", \"understand\", \"explore\", \"introduction to\", \"basics of\", etc.\n- Go straight to the point\n- If you find yourself using **\"AND\"**, **\"OR\"**, or **\"VS\"** in a title, you should split it into separate lessons\n\n## Examples of Proper Granularity\n\n**TOO BROAD:**\n❌ \"Hardware vs. Software\"\n❌ \"Variables and Data Types\"\n❌ \"Functions and Methods\"\n\n**CORRECTLY BROKEN DOWN:**\n✅ \"What is Hardware?\"\n✅ \"What is Software?\"\n✅ \"How Hardware and Software Interact\"\n\nOr:\n\n✅ \"Variables: Storing Values\"\n✅ \"Data Types Overview\"\n✅ \"Numbers in Programming\"\n✅ \"Text (Strings) in Programming\"\n✅ \"Booleans (True/False Values)\"\n\n## Progression & Structure\n\n- Build a logical progression from basic to advanced concepts\n- Ensure lessons build on knowledge from previous lessons\n- Focus lessons specifically on THIS chapter, not the entire course\n- Don't add summary, review, or \"key concepts\" lessons\n- Don't add assessment or quiz lessons\n- Don't add final project or capstone lessons\n\n## Scope\n\n- Cover **everything** in `CHAPTER_DESCRIPTION` and `CHAPTER_TITLE`\n- Never go beyond the chapter's scope\n- Add **as many lessons as needed** to break down each concept fully\n- Don't limit the number of lessons arbitrarily\n- It's better to have many focused lessons than fewer broad ones\n- Make sure to have all lessons needed to **fully master the chapter's scope**\n\n## Neighboring Chapter Awareness\n\nWhen `NEIGHBORING_CHAPTERS` is provided, use it to avoid generating dedicated lessons on topics that have their own chapter. For example, if a neighboring chapter covers \"HTTP fundamentals,\" do not create standalone lessons teaching HTTP methods or status codes — those belong in that chapter, not this one.\n\nBrief contextual mentions are fine. For example, a lesson can reference HTTP to explain a concept, but should not become a standalone lesson _about_ HTTP.\n\n# Quality Checks\n\nBefore finalizing your lesson list, ask yourself for EACH lesson:\n\n1. **Is this lesson too broad?** → If yes, break it down further\n2. **Can this concept be explained in 10 short tweets or less?** → If no, split it\n3. **Does this lesson focus on a single specific concept?** → If no, split it\n4. **Does the title contain \"AND\", \"OR\", or \"VS\"?** → If yes, split into separate lessons\n5. **Would a student need more than 2-3 minutes to grasp this?** → If yes, simplify or split\n\n# Output Format\n\nEach lesson must include **exactly two fields**:\n\n- **Title** — short, specific, focused on the single concept\n- **Description** — 1-2 sentences describing what the lesson covers, no fluff\n\n## Good Title Examples\n\n- \"What is a Variable?\"\n- \"Integer Numbers\"\n- \"Floating-Point Numbers\"\n- \"Declaring Variables\"\n- \"Assigning Values\"\n- \"The Addition Operator\"\n- \"The Subtraction Operator\"\n\n## Good Description Examples\n\n- \"Memory locations that store values during program execution.\"\n- \"Whole numbers without decimal points: 1, 42, -17, 0.\"\n- \"Numbers with decimal points: 3.14, -0.5, 2.0.\"\n- \"Creating a variable with a name and type.\"\n- \"Storing a value into a variable using the assignment operator.\"\n\n# Last Check\n\nAfter creating your lesson list, verify:\n\n- \"Does each lesson cover ONLY ONE concept?\" → All must be YES\n- \"Can each lesson be explained in 10 tweets?\" → All must be YES\n- \"Have I covered EVERYTHING from the chapter description?\" → Must be YES\n- \"Are there any lessons that should be split further?\" → Must be NO\n- \"Are the titles and descriptions concise and to the point with no fluff?\" → Must be YES\n- \"Did I stay within the chapter's scope?\" → Must be YES\n- \"Does any lesson teach a topic that belongs in a neighboring chapter?\" → Must be NO\n\nThis should be the most **granular**, **focused**, and **extensive** lesson list possible for this chapter.\n",
      "testCaseId": "es-quimica-carbonilos-enolatos-1",
      "userPrompt": "\n    LANGUAGE: es\n    COURSE_TITLE: Química\n    CHAPTER_TITLE: Carbonilos y enolatos\n    CHAPTER_DESCRIPTION: Adición nucleofílica a carbonilos, química de enoles/enolatos, aldol, Claisen, Michael y control de selectividad.\nNEIGHBORING_CHAPTERS:\n- \"Sustitución y eliminación\": SN1/SN2, E1/E2, reactividad, solventes, nucleófilos/bases, rearrangements y control de selectividad.\n- \"Adiciones a alquenos y alquinos\": Hidrogenación, halogenación, hidratación, hidroboración-oxidación, adiciones conjugadas y química de alquinos.\n- \"Química aromática\": Aromaticidad, sustitución electrofílica/nucleofílica aromática, directores, y reactividad de sistemas aromáticos extendidos.\n- \"Ácidos carboxílicos y derivados\": Reactividad de ácidos carboxílicos, derivados acílicos, química de amidas/ésteres/anhídridos y estrategias de activación.\n- \"Heterociclos\": Síntesis y reactividad de heterociclos aromáticos y saturados; aplicaciones en fármacos y materiales.\n- \"Radicales y fotoquímica orgánica\": Mecanismos radicalarios, iniciación/propagación/terminación, selectividad, y reacciones fotoquímicas orgánicas.\n  "
    },
    {
      "duration": 47084.632750000004,
      "inputTokens": 1602,
      "output": "{\n  \"lessons\": [\n    {\n      \"description\": \"A recurring pattern of expansions and recessions in aggregate economic activity around a long-run trend.\",\n      \"title\": \"Business cycles: definition\"\n    },\n    {\n      \"description\": \"The typical horizon over which business cycle fluctuations play out, distinct from seasonal variation and long-run growth.\",\n      \"title\": \"Business cycle frequency\"\n    },\n    {\n      \"description\": \"The idea of separating long-run trend growth from short-run cyclical fluctuations in macro time series.\",\n      \"title\": \"Trend component\"\n    },\n    {\n      \"description\": \"Short-run deviations of a variable from its trend level, often expressed as a percent deviation or gap.\",\n      \"title\": \"Cyclical component\"\n    },\n    {\n      \"description\": \"The statistical operation used to remove long-run movements to study business cycle fluctuations.\",\n      \"title\": \"Detrending\"\n    },\n    {\n      \"description\": \"A measure of output relative to potential output, used to summarize whether the economy is running hot or slack.\",\n      \"title\": \"Output gap\"\n    },\n    {\n      \"description\": \"The meaning of “potential output” as a benchmark for sustainable production given technology and resources.\",\n      \"title\": \"Potential output\"\n    },\n    {\n      \"description\": \"A rise in aggregate activity characterized by increasing output, income, and employment.\",\n      \"title\": \"Expansion\"\n    },\n    {\n      \"description\": \"A broad, sustained decline in aggregate activity, typically visible in output and employment measures.\",\n      \"title\": \"Recession\"\n    },\n    {\n      \"description\": \"The point at which aggregate activity stops falling and starts rising.\",\n      \"title\": \"Trough\"\n    },\n    {\n      \"description\": \"The point at which aggregate activity stops rising and starts falling.\",\n      \"title\": \"Peak\"\n    },\n    {\n      \"description\": \"The size of a cyclical movement, often measured by peak-to-trough change in output or employment.\",\n      \"title\": \"Cycle amplitude\"\n    },\n    {\n      \"description\": \"How quickly output and other indicators return toward trend after a downturn.\",\n      \"title\": \"Recovery speed\"\n    },\n    {\n      \"description\": \"A prolonged period of weak output growth and below-trend activity following a recession.\",\n      \"title\": \"Slump\"\n    },\n    {\n      \"description\": \"A persistent shortfall of output from potential lasting for years, not just quarters.\",\n      \"title\": \"Prolonged output gap\"\n    },\n    {\n      \"description\": \"How economists use “aggregate fluctuations” to refer to economy-wide comovements across many variables.\",\n      \"title\": \"Aggregate fluctuations\"\n    },\n    {\n      \"description\": \"The core empirical patterns that many macro variables display over the business cycle.\",\n      \"title\": \"Stylized facts\"\n    },\n    {\n      \"description\": \"Average behavior over many cycles used to summarize typical cyclical patterns.\",\n      \"title\": \"Business cycle averages\"\n    },\n    {\n      \"description\": \"A temporary change in a variable that dissipates over time rather than permanently shifting its level or growth rate.\",\n      \"title\": \"Transitory movement\"\n    },\n    {\n      \"description\": \"A movement that permanently changes the level or path of a macro variable.\",\n      \"title\": \"Persistent movement\"\n    },\n    {\n      \"description\": \"The level of output per person, often more informative for welfare than total output.\",\n      \"title\": \"Output per capita\"\n    },\n    {\n      \"description\": \"A summary measure of volatility using the standard deviation of cyclical components.\",\n      \"title\": \"Cyclical volatility\"\n    },\n    {\n      \"description\": \"How output typically varies more than consumption in business cycle data.\",\n      \"title\": \"Output volatility\"\n    },\n    {\n      \"description\": \"The empirical regularity that consumption is smoother than output over the cycle.\",\n      \"title\": \"Consumption smoothing in data\"\n    },\n    {\n      \"description\": \"The typical cyclical sensitivity of investment relative to output.\",\n      \"title\": \"Investment volatility\"\n    },\n    {\n      \"description\": \"The regularity that hours worked vary substantially over the cycle compared with real wages.\",\n      \"title\": \"Hours volatility\"\n    },\n    {\n      \"description\": \"The strength of co-movement between two cyclical series measured by their correlation.\",\n      \"title\": \"Cyclical correlation\"\n    },\n    {\n      \"description\": \"A variable that tends to move in the same direction as output over the cycle.\",\n      \"title\": \"Procyclical variable\"\n    },\n    {\n      \"description\": \"A variable that tends to move in the opposite direction of output over the cycle.\",\n      \"title\": \"Countercyclical variable\"\n    },\n    {\n      \"description\": \"A variable with little systematic relation to the cycle, showing low correlation with output.\",\n      \"title\": \"Acyclical variable\"\n    },\n    {\n      \"description\": \"A variable that tends to move before output turns, providing early signals of peaks or troughs.\",\n      \"title\": \"Leading variable\"\n    },\n    {\n      \"description\": \"A variable that tends to move at roughly the same time as output.\",\n      \"title\": \"Coincident variable\"\n    },\n    {\n      \"description\": \"A variable that tends to move after output has already turned.\",\n      \"title\": \"Lagging variable\"\n    },\n    {\n      \"description\": \"Measuring whether changes in one variable precede changes in another using lead-lag correlations.\",\n      \"title\": \"Lead-lag correlation\"\n    },\n    {\n      \"description\": \"The tendency for sectoral and macro variables to rise and fall together during expansions and recessions.\",\n      \"title\": \"Comovement\"\n    },\n    {\n      \"description\": \"How production across industries often expands and contracts together even when shocks originate in one place.\",\n      \"title\": \"Cross-sector comovement\"\n    },\n    {\n      \"description\": \"The idea that input-output linkages transmit shocks across industries through supply chains.\",\n      \"title\": \"Supply chain propagation\"\n    },\n    {\n      \"description\": \"How changes in final demand for one sector’s output affect upstream industries via intermediate goods demand.\",\n      \"title\": \"Upstream propagation\"\n    },\n    {\n      \"description\": \"How disruptions or booms in input-producing sectors affect downstream production capacity.\",\n      \"title\": \"Downstream propagation\"\n    },\n    {\n      \"description\": \"The role of common macro shocks in creating broad comovement across many sectors at once.\",\n      \"title\": \"Common shocks\"\n    },\n    {\n      \"description\": \"Idiosyncratic sector shocks that may or may not aggregate depending on propagation mechanisms.\",\n      \"title\": \"Sector-specific shocks\"\n    },\n    {\n      \"description\": \"Why some sectors (like durables) display larger cyclical swings than others.\",\n      \"title\": \"Sectoral cyclicality\"\n    },\n    {\n      \"description\": \"How durable goods demand typically fluctuates more than nondurable demand over the cycle.\",\n      \"title\": \"Durables cyclicality\"\n    },\n    {\n      \"description\": \"How construction and real-estate-related activity tends to be strongly cyclical.\",\n      \"title\": \"Construction cyclicality\"\n    },\n    {\n      \"description\": \"How services activity often appears less volatile than goods production over the cycle.\",\n      \"title\": \"Services cyclicality\"\n    },\n    {\n      \"description\": \"The cyclical pattern of inventory accumulation and liquidation as firms adjust production to demand.\",\n      \"title\": \"Inventory cycle\"\n    },\n    {\n      \"description\": \"How firms often cut production more than sales initially, leading to inventory changes.\",\n      \"title\": \"Unplanned inventory adjustment\"\n    },\n    {\n      \"description\": \"How sales-to-inventory ratios move over the cycle as a signal of stock imbalances.\",\n      \"title\": \"Sales-inventory ratio\"\n    },\n    {\n      \"description\": \"A broad measure of price inflation across many goods and services used in macro analysis.\",\n      \"title\": \"Inflation: concept\"\n    },\n    {\n      \"description\": \"The difference between the price level and the inflation rate, and why inflation is a rate of change.\",\n      \"title\": \"Price level\"\n    },\n    {\n      \"description\": \"Short-run variation in inflation associated with cyclical conditions and shocks.\",\n      \"title\": \"Inflation cyclicality\"\n    },\n    {\n      \"description\": \"The empirical tendency for inflation to rise when the economy is above potential and fall when below.\",\n      \"title\": \"Inflation and slack\"\n    },\n    {\n      \"description\": \"A situation where inflation remains high while output is weak, complicating simple cyclical patterns.\",\n      \"title\": \"Stagflation\"\n    },\n    {\n      \"description\": \"The role of supply-side cost increases (like energy) in pushing inflation up during weak activity.\",\n      \"title\": \"Cost-push inflation shocks\"\n    },\n    {\n      \"description\": \"Inflation driven by strong demand relative to productive capacity and tight resource constraints.\",\n      \"title\": \"Demand-pull inflation pressures\"\n    },\n    {\n      \"description\": \"Why inflation often responds with delays to changes in economic activity and labor market conditions.\",\n      \"title\": \"Inflation lag\"\n    },\n    {\n      \"description\": \"Separating persistent inflation movements from short-lived price changes to study cyclical behavior.\",\n      \"title\": \"Inflation persistence\"\n    },\n    {\n      \"description\": \"How inflation expectations can influence current price-setting and wage-setting, affecting cyclical inflation.\",\n      \"title\": \"Expectations in inflation dynamics\"\n    },\n    {\n      \"description\": \"A labor market situation where some workers want jobs at prevailing wages but cannot find them.\",\n      \"title\": \"Unemployment: concept\"\n    },\n    {\n      \"description\": \"The fraction of the labor force that is unemployed and actively seeking work.\",\n      \"title\": \"Unemployment rate\"\n    },\n    {\n      \"description\": \"The number of employed people, a key coincident indicator over the cycle.\",\n      \"title\": \"Employment\"\n    },\n    {\n      \"description\": \"Total hours worked, capturing adjustments along both employment and hours-per-worker margins.\",\n      \"title\": \"Hours worked\"\n    },\n    {\n      \"description\": \"A measure of labor input capturing average hours per worker, which often falls in downturns.\",\n      \"title\": \"Average hours\"\n    },\n    {\n      \"description\": \"The empirical regularity that unemployment rises in recessions and falls in expansions.\",\n      \"title\": \"Unemployment cyclicality\"\n    },\n    {\n      \"description\": \"Why unemployment typically lags output changes, rising after output slows and falling after recovery begins.\",\n      \"title\": \"Unemployment lag\"\n    },\n    {\n      \"description\": \"A quantitative rule of thumb linking changes in unemployment to deviations of output from trend.\",\n      \"title\": \"Okun’s law: concept\"\n    },\n    {\n      \"description\": \"The sensitivity of unemployment to output changes and why it differs across countries and eras.\",\n      \"title\": \"Okun coefficient\"\n    },\n    {\n      \"description\": \"The difference between cyclical unemployment and unemployment tied to longer-run structural factors.\",\n      \"title\": \"Cyclical unemployment\"\n    },\n    {\n      \"description\": \"The tendency for unemployment to remain elevated even after output begins to recover.\",\n      \"title\": \"Unemployment persistence\"\n    },\n    {\n      \"description\": \"A decline in labor force participation that can mask labor market weakness in the unemployment rate.\",\n      \"title\": \"Labor force participation cyclicality\"\n    },\n    {\n      \"description\": \"Workers marginally attached to the labor force who become active job seekers when conditions improve.\",\n      \"title\": \"Discouraged workers\"\n    },\n    {\n      \"description\": \"Part-time employment for economic reasons as a cyclical indicator of labor market slack.\",\n      \"title\": \"Involuntary part-time work\"\n    },\n    {\n      \"description\": \"The idea that recessions can change labor market dynamics in ways that persist beyond the downturn.\",\n      \"title\": \"Scarring effects\"\n    },\n    {\n      \"description\": \"The amount of output produced per unit of labor input, central for decomposing output movements.\",\n      \"title\": \"Labor productivity: concept\"\n    },\n    {\n      \"description\": \"Total factor productivity as an efficiency measure not explained by measured inputs.\",\n      \"title\": \"TFP: concept\"\n    },\n    {\n      \"description\": \"Decomposing output changes into contributions from labor input and productivity.\",\n      \"title\": \"Output decomposition\"\n    },\n    {\n      \"description\": \"Why measured productivity can rise in recessions when firms reduce labor faster than output.\",\n      \"title\": \"Labor hoarding\"\n    },\n    {\n      \"description\": \"How keeping workers during downturns can lower measured productivity in the short run.\",\n      \"title\": \"Labor hoarding and productivity\"\n    },\n    {\n      \"description\": \"How productivity can be procyclical due to varying utilization of labor and capital over the cycle.\",\n      \"title\": \"Procyclical productivity\"\n    },\n    {\n      \"description\": \"The role of capacity utilization in making measured productivity vary with demand.\",\n      \"title\": \"Capacity utilization\"\n    },\n    {\n      \"description\": \"How changes in effort per hour can make output per hour move cyclically without technology changes.\",\n      \"title\": \"Effort variation\"\n    },\n    {\n      \"description\": \"The effect of shifting employment toward higher- or lower-productivity sectors during booms and busts.\",\n      \"title\": \"Composition effects\"\n    },\n    {\n      \"description\": \"How within-industry productivity changes differ from between-industry reallocation over the cycle.\",\n      \"title\": \"Within-industry productivity\"\n    },\n    {\n      \"description\": \"Movement of workers across firms and sectors during the cycle that can affect aggregate productivity.\",\n      \"title\": \"Reallocation over the cycle\"\n    },\n    {\n      \"description\": \"How recessions can trigger firm exit and restructuring, changing average productivity measures.\",\n      \"title\": \"Cleansing effect\"\n    },\n    {\n      \"description\": \"Why productivity data can be misleading in real time due to revisions and measurement error.\",\n      \"title\": \"Productivity measurement noise\"\n    },\n    {\n      \"description\": \"How wage growth tends to be less volatile than hours and employment over the cycle.\",\n      \"title\": \"Wage cyclicality\"\n    },\n    {\n      \"description\": \"Real wages adjusted for inflation and their typical cyclical behavior relative to output.\",\n      \"title\": \"Real wage cyclicality\"\n    },\n    {\n      \"description\": \"The share of income going to labor and how it can move over the cycle as profits fluctuate.\",\n      \"title\": \"Labor share cyclicality\"\n    },\n    {\n      \"description\": \"Corporate profits as a cyclical variable that often moves strongly with output.\",\n      \"title\": \"Profit cyclicality\"\n    },\n    {\n      \"description\": \"Credit conditions tightening in downturns and easing in expansions as part of cyclical propagation.\",\n      \"title\": \"Credit cyclicality\"\n    },\n    {\n      \"description\": \"Risk spreads widening in recessions as perceived default risk rises and risk appetite falls.\",\n      \"title\": \"Credit spreads\"\n    },\n    {\n      \"description\": \"Asset prices moving with the cycle and affecting spending through wealth and balance sheets.\",\n      \"title\": \"Asset price cyclicality\"\n    },\n    {\n      \"description\": \"House prices as a cyclical variable with links to construction and household balance sheets.\",\n      \"title\": \"Housing price cyclicality\"\n    },\n    {\n      \"description\": \"Equity prices as forward-looking indicators that often move ahead of real activity turning points.\",\n      \"title\": \"Stock market as a leading indicator\"\n    },\n    {\n      \"description\": \"Net exports moving with domestic activity through imports and global demand through exports.\",\n      \"title\": \"Trade balance cyclicality\"\n    },\n    {\n      \"description\": \"Imports rising strongly in booms as domestic demand increases and falling in recessions.\",\n      \"title\": \"Import cyclicality\"\n    },\n    {\n      \"description\": \"Exports responding to foreign cycles, linking domestic activity to global conditions.\",\n      \"title\": \"Export cyclicality\"\n    },\n    {\n      \"description\": \"The degree to which national business cycles move together across countries.\",\n      \"title\": \"International comovement\"\n    },\n    {\n      \"description\": \"How global shocks can synchronize national cycles through trade, finance, and commodity prices.\",\n      \"title\": \"Global shocks\"\n    },\n    {\n      \"description\": \"How relative price changes (like oil) can drive simultaneous inflation and output movements.\",\n      \"title\": \"Commodity price shocks\"\n    },\n    {\n      \"description\": \"The idea that some macro series show consistent lead-lag timing relative to output.\",\n      \"title\": \"Timing regularities\"\n    },\n    {\n      \"description\": \"Why payroll employment and industrial production are used as high-frequency cycle indicators.\",\n      \"title\": \"High-frequency indicators\"\n    },\n    {\n      \"description\": \"The role of revisions in macro data and why real-time cycle dating is difficult.\",\n      \"title\": \"Data revisions\"\n    },\n    {\n      \"description\": \"How the NBER dates US business cycles using a range of indicators, not a simple rule.\",\n      \"title\": \"Business cycle dating\"\n    },\n    {\n      \"description\": \"The distinction between a technical recession rule of thumb and broader cycle dating practices.\",\n      \"title\": \"Two-quarter rule limitations\"\n    },\n    {\n      \"description\": \"The concept of “diffusion” as the fraction of sectors contracting during a downturn.\",\n      \"title\": \"Diffusion index\"\n    },\n    {\n      \"description\": \"Why broad-based contractions are more likely to be classified as recessions than sector-specific slowdowns.\",\n      \"title\": \"Broad contraction\"\n    },\n    {\n      \"description\": \"How comovement can be summarized using common-factor models that extract a shared cyclical component.\",\n      \"title\": \"Common factor\"\n    },\n    {\n      \"description\": \"The meaning of an “aggregate demand” type comovement pattern where many sectors fall together.\",\n      \"title\": \"Broad demand-driven downturn\"\n    },\n    {\n      \"description\": \"The meaning of an “aggregate supply” type comovement pattern where output and inflation move together.\",\n      \"title\": \"Broad supply-driven downturn\"\n    }\n  ]\n}",
      "outputTokens": 2725,
      "systemPrompt": "# Role\n\nYou are designing an **extensive** list of bite-sized, focused lessons for a specific chapter in a course.\n\nYou have expertise in instructional design, curriculum development, and creating granular learning paths. You have worked at top educational institutions creating micro-learning content that breaks down complex topics into digestible, single-concept lessons.\n\nYour mission is to create a lesson structure where each lesson covers **ONE SPECIFIC CONCEPT** that can be learned in 2-3 minutes and explained in 10 short tweets or less.\n\nYou deeply care about making learning accessible, focused, and efficient by breaking down topics into their smallest logical units.\n\n# Inputs\n\n- `COURSE_TITLE`: name of the overall course\n- `CHAPTER_TITLE`: title of this specific chapter\n- `CHAPTER_DESCRIPTION`: what this chapter covers\n- `LANGUAGE`: output language for titles and descriptions\n- `NEIGHBORING_CHAPTERS` (optional): titles and descriptions of chapters that come before and after this one in the course\n\n## Language\n\n- `en`: Use US region unless the content is about a different region.\n- `pt`: Use Brazilian Portuguese unless the content is about a different region.\n- `es`: Use Latin American Spanish unless the content is about a different region.\n\n# Goal\n\nProduce an **extensive** list of **single-concept** lessons that collectively cover everything in `CHAPTER_TITLE` and `CHAPTER_DESCRIPTION`. Each lesson should be so focused that a student can learn and understand the concept in 2-3 minutes.\n\n# Critical Requirements\n\n## Single-Concept Focus\n\n- **Each lesson MUST cover ONE SPECIFIC concept only**\n- If you can explain it in 10 short tweets or less, it's appropriately scoped\n- If it takes more than 10 tweets, **split it into multiple lessons**\n- If a topic is too broad, **break it down further**\n- Each lesson should be extremely focused on a single idea\n\n## Title & Description Requirements\n\n- Follow the same concise, no-fluff style as course chapter title and description\n- **NEVER** use words like \"learn\", \"understand\", \"explore\", \"introduction to\", \"basics of\", etc.\n- Go straight to the point\n- If you find yourself using **\"AND\"**, **\"OR\"**, or **\"VS\"** in a title, you should split it into separate lessons\n\n## Examples of Proper Granularity\n\n**TOO BROAD:**\n❌ \"Hardware vs. Software\"\n❌ \"Variables and Data Types\"\n❌ \"Functions and Methods\"\n\n**CORRECTLY BROKEN DOWN:**\n✅ \"What is Hardware?\"\n✅ \"What is Software?\"\n✅ \"How Hardware and Software Interact\"\n\nOr:\n\n✅ \"Variables: Storing Values\"\n✅ \"Data Types Overview\"\n✅ \"Numbers in Programming\"\n✅ \"Text (Strings) in Programming\"\n✅ \"Booleans (True/False Values)\"\n\n## Progression & Structure\n\n- Build a logical progression from basic to advanced concepts\n- Ensure lessons build on knowledge from previous lessons\n- Focus lessons specifically on THIS chapter, not the entire course\n- Don't add summary, review, or \"key concepts\" lessons\n- Don't add assessment or quiz lessons\n- Don't add final project or capstone lessons\n\n## Scope\n\n- Cover **everything** in `CHAPTER_DESCRIPTION` and `CHAPTER_TITLE`\n- Never go beyond the chapter's scope\n- Add **as many lessons as needed** to break down each concept fully\n- Don't limit the number of lessons arbitrarily\n- It's better to have many focused lessons than fewer broad ones\n- Make sure to have all lessons needed to **fully master the chapter's scope**\n\n## Neighboring Chapter Awareness\n\nWhen `NEIGHBORING_CHAPTERS` is provided, use it to avoid generating dedicated lessons on topics that have their own chapter. For example, if a neighboring chapter covers \"HTTP fundamentals,\" do not create standalone lessons teaching HTTP methods or status codes — those belong in that chapter, not this one.\n\nBrief contextual mentions are fine. For example, a lesson can reference HTTP to explain a concept, but should not become a standalone lesson _about_ HTTP.\n\n# Quality Checks\n\nBefore finalizing your lesson list, ask yourself for EACH lesson:\n\n1. **Is this lesson too broad?** → If yes, break it down further\n2. **Can this concept be explained in 10 short tweets or less?** → If no, split it\n3. **Does this lesson focus on a single specific concept?** → If no, split it\n4. **Does the title contain \"AND\", \"OR\", or \"VS\"?** → If yes, split into separate lessons\n5. **Would a student need more than 2-3 minutes to grasp this?** → If yes, simplify or split\n\n# Output Format\n\nEach lesson must include **exactly two fields**:\n\n- **Title** — short, specific, focused on the single concept\n- **Description** — 1-2 sentences describing what the lesson covers, no fluff\n\n## Good Title Examples\n\n- \"What is a Variable?\"\n- \"Integer Numbers\"\n- \"Floating-Point Numbers\"\n- \"Declaring Variables\"\n- \"Assigning Values\"\n- \"The Addition Operator\"\n- \"The Subtraction Operator\"\n\n## Good Description Examples\n\n- \"Memory locations that store values during program execution.\"\n- \"Whole numbers without decimal points: 1, 42, -17, 0.\"\n- \"Numbers with decimal points: 3.14, -0.5, 2.0.\"\n- \"Creating a variable with a name and type.\"\n- \"Storing a value into a variable using the assignment operator.\"\n\n# Last Check\n\nAfter creating your lesson list, verify:\n\n- \"Does each lesson cover ONLY ONE concept?\" → All must be YES\n- \"Can each lesson be explained in 10 tweets?\" → All must be YES\n- \"Have I covered EVERYTHING from the chapter description?\" → Must be YES\n- \"Are there any lessons that should be split further?\" → Must be NO\n- \"Are the titles and descriptions concise and to the point with no fluff?\" → Must be YES\n- \"Did I stay within the chapter's scope?\" → Must be YES\n- \"Does any lesson teach a topic that belongs in a neighboring chapter?\" → Must be NO\n\nThis should be the most **granular**, **focused**, and **extensive** lesson list possible for this chapter.\n",
      "testCaseId": "en-economics-business-cycles-1",
      "userPrompt": "\n    LANGUAGE: en\n    COURSE_TITLE: Economics\n    CHAPTER_TITLE: Business cycles\n    CHAPTER_DESCRIPTION: Business cycle facts, stylized patterns in output, inflation, unemployment, productivity, and comovements across sectors.\nNEIGHBORING_CHAPTERS:\n- \"Behavioral economics\": Behavioral biases, bounded rationality, time inconsistency, social preferences, and policy design with behavioral responses.\n- \"Experimental economics\": Laboratory and field experiments, incentive design, external validity, and behavioral/market design evidence.\n- \"Macroeconomic accounting\": National income and product accounts, sectoral balances, price indices, productivity, and flow-of-funds concepts.\n- \"Consumption and savings\": Consumption-saving, life-cycle and permanent income models, liquidity constraints, and empirical puzzles.\n- \"Investment and capital\": Investment theory, q-models, adjustment costs, irreversibility, and firm-level investment dynamics.\n- \"Unemployment and labor in macro\": Labor markets in macro, search and matching, wage setting, unemployment dynamics, and Beveridge curve analysis.\n  "
    },
    {
      "duration": 45348.153709,
      "inputTokens": 1672,
      "output": "{\n  \"lessons\": [\n    {\n      \"description\": \"Arquitetura como decisões estruturais que guiam desenvolvimento e operação, mantendo espaço para mudança frequente.\",\n      \"title\": \"Arquitetura em ambientes ágeis\"\n    },\n    {\n      \"description\": \"Arquitetura que muda por incrementos pequenos, preservando consistência por meio de feedback contínuo.\",\n      \"title\": \"Arquitetura evolutiva\"\n    },\n    {\n      \"description\": \"Mudança intencional com compatibilidade retroativa, migrações graduais e redução de rupturas em releases frequentes.\",\n      \"title\": \"Evolução sem ruptura\"\n    },\n    {\n      \"description\": \"Apostas arquiteturais pequenas, reversíveis e baseadas em evidências coletadas em produção.\",\n      \"title\": \"Decisões arquiteturais reversíveis\"\n    },\n    {\n      \"description\": \"Decisões difíceis de reverter que exigem validação extra, comunicação e mitigação de risco.\",\n      \"title\": \"Decisões arquiteturais irreversíveis\"\n    },\n    {\n      \"description\": \"Escolhas arquiteturais que podem ser adiadas até existir informação suficiente, reduzindo desperdício.\",\n      \"title\": \"Último momento responsável\"\n    },\n    {\n      \"description\": \"Decisões registradas como artefatos leves, com contexto, alternativas e consequências.\",\n      \"title\": \"ADRs em times ágeis\"\n    },\n    {\n      \"description\": \"Uma mudança clara por ADR, evitando agrupar múltiplas decisões em um único registro.\",\n      \"title\": \"Escopo de um ADR\"\n    },\n    {\n      \"description\": \"Critérios para decidir quando documentar: impacto, custo de reversão, dependências e risco.\",\n      \"title\": \"Quando escrever um ADR\"\n    },\n    {\n      \"description\": \"Como usar ADRs para alinhar times sem travar autonomia e sem virar burocracia.\",\n      \"title\": \"ADRs como alinhamento\"\n    },\n    {\n      \"description\": \"Decomposição do sistema em partes com responsabilidades claras para reduzir impacto de mudanças.\",\n      \"title\": \"Modularidade\"\n    },\n    {\n      \"description\": \"Fronteiras que definem o que um módulo expõe e o que permanece interno.\",\n      \"title\": \"Fronteiras de módulo\"\n    },\n    {\n      \"description\": \"Interface pública mínima para diminuir dependências e facilitar refatorações internas.\",\n      \"title\": \"Superfície pública do módulo\"\n    },\n    {\n      \"description\": \"Separação por capacidades de negócio para sustentar entregas independentes e evolução paralela.\",\n      \"title\": \"Módulos por capacidades\"\n    },\n    {\n      \"description\": \"Divisão por camadas técnicas e seus efeitos em dependências, testes e ritmo de mudança.\",\n      \"title\": \"Módulos por camadas\"\n    },\n    {\n      \"description\": \"Responsabilidade que fica no módulo por reduzir coordenação e evitar efeitos colaterais.\",\n      \"title\": \"Coesão\"\n    },\n    {\n      \"description\": \"Módulo que reúne coisas que mudam juntas para minimizar alterações espalhadas.\",\n      \"title\": \"Coesão por mudança conjunta\"\n    },\n    {\n      \"description\": \"Agrupar comportamentos em torno de um conceito do domínio para reduzir complexidade acidental.\",\n      \"title\": \"Coesão por conceito\"\n    },\n    {\n      \"description\": \"Sinais práticos de baixa coesão: nomes genéricos, classes utilitárias e acúmulo de funções.\",\n      \"title\": \"Baixa coesão: sinais\"\n    },\n    {\n      \"description\": \"Dependências entre módulos e como elas amplificam custo de mudança.\",\n      \"title\": \"Acoplamento\"\n    },\n    {\n      \"description\": \"Acoplamento que ocorre por chamadas diretas e uso de tipos internos de outro módulo.\",\n      \"title\": \"Acoplamento estático\"\n    },\n    {\n      \"description\": \"Acoplamento causado por suposições de tempo de execução, como ordem, timing e disponibilidade.\",\n      \"title\": \"Acoplamento dinâmico\"\n    },\n    {\n      \"description\": \"Dependência por formato de dados compartilhado e sua fragilidade em evoluções de schema.\",\n      \"title\": \"Acoplamento por dados\"\n    },\n    {\n      \"description\": \"Dependência criada por processos e coordenação humana, como aprovações e sincronizações constantes.\",\n      \"title\": \"Acoplamento organizacional\"\n    },\n    {\n      \"description\": \"Impactos típicos: mudanças em cascata, retrabalho, testes mais caros e releases coordenados.\",\n      \"title\": \"Efeitos do acoplamento alto\"\n    },\n    {\n      \"description\": \"Estratégias de redução via interfaces estáveis, contratos claros e ocultação de detalhes internos.\",\n      \"title\": \"Redução de acoplamento\"\n    },\n    {\n      \"description\": \"Técnica para migrar consumidores gradualmente, evitando quebras em integrações.\",\n      \"title\": \"Compatibilidade retroativa de interfaces\"\n    },\n    {\n      \"description\": \"Compatibilidade ao adicionar campos e manter semântica, preservando consumidores antigos.\",\n      \"title\": \"Evolução compatível de contratos\"\n    },\n    {\n      \"description\": \"Como limitar o que atravessa fronteiras para evitar vazamento de detalhes e dependências.\",\n      \"title\": \"Encapsulamento entre módulos\"\n    },\n    {\n      \"description\": \"Separação interna de responsabilidades para permitir mudanças localizadas sem reescrever tudo.\",\n      \"title\": \"Separação de responsabilidades\"\n    },\n    {\n      \"description\": \"Objetivo de manter a complexidade em controle para acelerar mudanças e diminuir erros.\",\n      \"title\": \"Complexidade como custo arquitetural\"\n    },\n    {\n      \"description\": \"Como quantificar custo de mudança em tempo, risco, coordenação e retrabalho.\",\n      \"title\": \"Custo de mudança\"\n    },\n    {\n      \"description\": \"Capacidade de fazer alterações pequenas e frequentes sem grandes replanejamentos.\",\n      \"title\": \"Facilidade de evolução\"\n    },\n    {\n      \"description\": \"Mudanças realizadas com incerteza mínima, suporte de rollback e blast radius limitado.\",\n      \"title\": \"Mudança segura\"\n    },\n    {\n      \"description\": \"Parte do sistema afetada por uma falha ou mudança, e como isso orienta a arquitetura.\",\n      \"title\": \"Blast radius\"\n    },\n    {\n      \"description\": \"Separar caminhos críticos de caminhos não críticos para proteger a evolução do que é mais sensível.\",\n      \"title\": \"Caminhos críticos\"\n    },\n    {\n      \"description\": \"Decisões arquiteturais guiadas por valores desejados, como simplicidade, modularidade e operabilidade.\",\n      \"title\": \"Princípios arquiteturais explícitos\"\n    },\n    {\n      \"description\": \"Critérios mínimos de arquitetura aceitos pelo time para evitar degradação incremental.\",\n      \"title\": \"Padrões de qualidade arquitetural\"\n    },\n    {\n      \"description\": \"Mecanismo objetivo para avaliar se a arquitetura segue os atributos desejados ao longo do tempo.\",\n      \"title\": \"Fitness functions\"\n    },\n    {\n      \"description\": \"Como fitness functions evitam degradação silenciosa ao transformar expectativas em verificações contínuas.\",\n      \"title\": \"Fitness functions como guardrails\"\n    },\n    {\n      \"description\": \"Fitness functions binárias que aprovam ou reprovam, como limites de dependência e regras de módulo.\",\n      \"title\": \"Fitness functions de passagem\"\n    },\n    {\n      \"description\": \"Fitness functions graduais baseadas em métricas, como tendência de latência ou tamanho de módulos.\",\n      \"title\": \"Fitness functions contínuas\"\n    },\n    {\n      \"description\": \"Critérios para escolher o que medir: sensibilidade a regressão, custo de medir e impacto no usuário.\",\n      \"title\": \"Seleção de fitness functions\"\n    },\n    {\n      \"description\": \"Verificações de dependências proibidas entre módulos para conter acoplamento.\",\n      \"title\": \"Fitness function de dependências\"\n    },\n    {\n      \"description\": \"Medições de coesão e tamanho de módulo para detectar acúmulo de responsabilidades.\",\n      \"title\": \"Fitness function de modularidade\"\n    },\n    {\n      \"description\": \"Verificações de consistência de convenções de arquitetura, como camadas permitidas.\",\n      \"title\": \"Fitness function de regras arquiteturais\"\n    },\n    {\n      \"description\": \"Orçamentos de desempenho definidos como limites para evitar regressões em mudanças frequentes.\",\n      \"title\": \"Fitness function de performance\"\n    },\n    {\n      \"description\": \"Verificações de resiliência por degradação controlada para validar comportamento sob falha.\",\n      \"title\": \"Fitness function de resiliência\"\n    },\n    {\n      \"description\": \"Limites para uso de recursos e custo operacional, evitando crescimento descontrolado.\",\n      \"title\": \"Fitness function de eficiência\"\n    },\n    {\n      \"description\": \"Como manter fitness functions rápidas para não travar o fluxo de entrega.\",\n      \"title\": \"Tempo de execução de fitness functions\"\n    },\n    {\n      \"description\": \"Tratamento de falsos positivos para manter confiança nas verificações e reduzir bypass.\",\n      \"title\": \"Confiabilidade de fitness functions\"\n    },\n    {\n      \"description\": \"Como usar limiares e metas progressivas sem mascarar regressões importantes.\",\n      \"title\": \"Thresholds em fitness functions\"\n    },\n    {\n      \"description\": \"Integração das verificações no fluxo diário para detectar problemas cedo sem inspeções manuais.\",\n      \"title\": \"Automação de fitness functions\"\n    },\n    {\n      \"description\": \"Feedback rápido para orientar decisões antes que o custo de mudança aumente.\",\n      \"title\": \"Ciclos curtos de feedback arquitetural\"\n    },\n    {\n      \"description\": \"Sinais de que a arquitetura não está acompanhando o ritmo: lead time crescente e mudanças travadas.\",\n      \"title\": \"Sintomas de arquitetura rígida\"\n    },\n    {\n      \"description\": \"Identificação de pontos de dor recorrentes para orientar decisões e priorizar ajustes arquiteturais.\",\n      \"title\": \"Pontos de atrito arquitetural\"\n    },\n    {\n      \"description\": \"Mudança arquitetural feita em pequenas etapas, mantendo o sistema sempre executável.\",\n      \"title\": \"Refatoração arquitetural incremental\"\n    },\n    {\n      \"description\": \"Padrão para extrair um módulo aos poucos, reduzindo risco e permitindo validação contínua.\",\n      \"title\": \"Strangler incremental\"\n    },\n    {\n      \"description\": \"Como reduzir acoplamento criando uma camada anti-corrupção entre módulo novo e legado.\",\n      \"title\": \"Camada anti-corrupção\"\n    },\n    {\n      \"description\": \"Evolução com duas versões convivendo para migrar consumidores sem interrupção.\",\n      \"title\": \"Versionamento paralelo\"\n    },\n    {\n      \"description\": \"Quando a modularidade não compensa: overhead de coordenação, complexidade extra e latência organizacional.\",\n      \"title\": \"Custo da modularidade\"\n    },\n    {\n      \"description\": \"Regra prática para evitar decomposição prematura e manter o design dirigido por necessidades reais.\",\n      \"title\": \"Evitar modularização prematura\"\n    },\n    {\n      \"description\": \"Critérios para promover um componente interno a módulo: estabilidade de fronteira e múltiplos consumidores.\",\n      \"title\": \"Quando criar um novo módulo\"\n    },\n    {\n      \"description\": \"Critérios para fundir módulos: mudanças sempre juntas, duplicação e dependências cruzadas constantes.\",\n      \"title\": \"Quando fundir módulos\"\n    },\n    {\n      \"description\": \"Decisões compatíveis com mudanças frequentes ao preferir extensibilidade por adição em vez de modificação invasiva.\",\n      \"title\": \"Mudança por adição\"\n    },\n    {\n      \"description\": \"Pontos de extensão explícitos que permitem evoluir comportamento com baixo risco.\",\n      \"title\": \"Pontos de extensão\"\n    },\n    {\n      \"description\": \"Configuração como mecanismo de variação para reduzir ramificações e forks de código.\",\n      \"title\": \"Variação por configuração\"\n    },\n    {\n      \"description\": \"Tratamento de variação por flags para liberar mudanças gradualmente e reduzir risco de reversão.\",\n      \"title\": \"Decisões compatíveis com toggles\"\n    },\n    {\n      \"description\": \"Critérios para evitar que toggles virem dívida: prazo, remoção e rastreabilidade.\",\n      \"title\": \"Higiene de toggles\"\n    },\n    {\n      \"description\": \"Uso de contratos internos estáveis para permitir evolução independente de implementações.\",\n      \"title\": \"Contratos internos\"\n    },\n    {\n      \"description\": \"Diferença entre dependência de interface e dependência de implementação na prática de módulos.\",\n      \"title\": \"Dependência de interface\"\n    },\n    {\n      \"description\": \"Como manter autonomia local sem perder coerência global por meio de limites e padrões mínimos.\",\n      \"title\": \"Autonomia com coerência\"\n    },\n    {\n      \"description\": \"Escolhas de arquitetura alinhadas ao ritmo de mudança: otimizar para adaptabilidade antes de otimizar para micro-eficiência.\",\n      \"title\": \"Otimização para adaptabilidade\"\n    },\n    {\n      \"description\": \"Heurística de decisão baseada no que muda mais: dados, regras, integrações ou fluxo de trabalho.\",\n      \"title\": \"O eixo da mudança\"\n    },\n    {\n      \"description\": \"Mapeamento das decisões que destravam fluxo de entrega e das que podem ser adiadas.\",\n      \"title\": \"Sequenciamento de decisões\"\n    },\n    {\n      \"description\": \"Como evitar decisões que criam dependências ocultas e travam evolução futura.\",\n      \"title\": \"Prevenção de lock-in arquitetural\"\n    },\n    {\n      \"description\": \"Tipos de lock-in: tecnologia, dados e operação, e como eles aparecem em times ágeis.\",\n      \"title\": \"Lock-in por tecnologia\"\n    },\n    {\n      \"description\": \"Lock-in por formatos e migrações difíceis, e como reduzir o custo com camadas e migração gradual.\",\n      \"title\": \"Lock-in por dados\"\n    },\n    {\n      \"description\": \"Lock-in por práticas operacionais e tooling que aumentam coordenação e impedem mudanças rápidas.\",\n      \"title\": \"Lock-in operacional\"\n    },\n    {\n      \"description\": \"Efeitos de escolhas arquiteturais na coordenação entre times sem entrar em modelos de DevOps ou SRE.\",\n      \"title\": \"Arquitetura e coordenação de times\"\n    },\n    {\n      \"description\": \"Como alinhar fronteiras técnicas com fronteiras de responsabilidade para reduzir handoffs.\",\n      \"title\": \"Fronteiras e ownership\"\n    },\n    {\n      \"description\": \"Critérios para decidir ownership de um módulo: expertise, proximidade do domínio e capacidade de operar mudanças.\",\n      \"title\": \"Ownership de módulos\"\n    },\n    {\n      \"description\": \"Como desenhar interfaces que minimizam necessidade de sincronização entre equipes.\",\n      \"title\": \"Interfaces que reduzem coordenação\"\n    },\n    {\n      \"description\": \"Risco de acoplamento entre times quando muitos módulos dependem de um componente central.\",\n      \"title\": \"Dependência de componentes centrais\"\n    },\n    {\n      \"description\": \"Estratégias para reduzir dependência central com decomposição, APIs internas e contratos mínimos.\",\n      \"title\": \"Descentralização de componentes críticos\"\n    },\n    {\n      \"description\": \"Decisões arquiteturais orientadas por experimentos pequenos em vez de big design upfront.\",\n      \"title\": \"Decisão por experimento\"\n    },\n    {\n      \"description\": \"Como definir hipótese arquitetural mensurável para orientar uma mudança incremental.\",\n      \"title\": \"Hipóteses arquiteturais\"\n    },\n    {\n      \"description\": \"Métrica que demonstra se uma decisão melhorou capacidade de mudança, como tempo de entrega e retrabalho.\",\n      \"title\": \"Evidência de melhoria arquitetural\"\n    },\n    {\n      \"description\": \"Trade-off explícito como parte da decisão: o que se ganha e o que se perde ao escolher um caminho.\",\n      \"title\": \"Trade-offs arquiteturais\"\n    },\n    {\n      \"description\": \"Como evitar que a busca por “pureza” arquitetural atrase entregas e aumente risco.\",\n      \"title\": \"Pragmatismo arquitetural\"\n    },\n    {\n      \"description\": \"Acoplamento e coesão como critérios para priorizar mudanças arquiteturais com maior retorno.\",\n      \"title\": \"Priorização por acoplamento\"\n    },\n    {\n      \"description\": \"Identificação de hotspots onde mudanças frequentes se concentram e onde modularidade traz mais valor.\",\n      \"title\": \"Hotspots de mudança\"\n    },\n    {\n      \"description\": \"Como escolher onde investir em arquitetura para maximizar impacto no fluxo e minimizar trabalho.\",\n      \"title\": \"Alavancas arquiteturais\"\n    },\n    {\n      \"description\": \"Conceito de “caminho de migração” para qualquer mudança estrutural importante.\",\n      \"title\": \"Plano de migração arquitetural\"\n    },\n    {\n      \"description\": \"Estrutura de plano com etapas pequenas, validação, rollback e critérios de conclusão.\",\n      \"title\": \"Etapas de migração\"\n    },\n    {\n      \"description\": \"Como reduzir risco mantendo estados intermediários compatíveis durante uma migração.\",\n      \"title\": \"Estados intermediários compatíveis\"\n    },\n    {\n      \"description\": \"Estratégia para remover código antigo após migração sem interromper fluxo de mudanças.\",\n      \"title\": \"Remoção de legado após migração\"\n    },\n    {\n      \"description\": \"Definição de “pronto” arquitetural como critérios objetivos de manutenção, não como documentação extensa.\",\n      \"title\": \"Pronto arquitetural\"\n    },\n    {\n      \"description\": \"Como manter decisões visíveis e atuais sem criar um repositório de documentos desatualizados.\",\n      \"title\": \"Documentação viva de arquitetura\"\n    }\n  ]\n}",
      "outputTokens": 2887,
      "systemPrompt": "# Role\n\nYou are designing an **extensive** list of bite-sized, focused lessons for a specific chapter in a course.\n\nYou have expertise in instructional design, curriculum development, and creating granular learning paths. You have worked at top educational institutions creating micro-learning content that breaks down complex topics into digestible, single-concept lessons.\n\nYour mission is to create a lesson structure where each lesson covers **ONE SPECIFIC CONCEPT** that can be learned in 2-3 minutes and explained in 10 short tweets or less.\n\nYou deeply care about making learning accessible, focused, and efficient by breaking down topics into their smallest logical units.\n\n# Inputs\n\n- `COURSE_TITLE`: name of the overall course\n- `CHAPTER_TITLE`: title of this specific chapter\n- `CHAPTER_DESCRIPTION`: what this chapter covers\n- `LANGUAGE`: output language for titles and descriptions\n- `NEIGHBORING_CHAPTERS` (optional): titles and descriptions of chapters that come before and after this one in the course\n\n## Language\n\n- `en`: Use US region unless the content is about a different region.\n- `pt`: Use Brazilian Portuguese unless the content is about a different region.\n- `es`: Use Latin American Spanish unless the content is about a different region.\n\n# Goal\n\nProduce an **extensive** list of **single-concept** lessons that collectively cover everything in `CHAPTER_TITLE` and `CHAPTER_DESCRIPTION`. Each lesson should be so focused that a student can learn and understand the concept in 2-3 minutes.\n\n# Critical Requirements\n\n## Single-Concept Focus\n\n- **Each lesson MUST cover ONE SPECIFIC concept only**\n- If you can explain it in 10 short tweets or less, it's appropriately scoped\n- If it takes more than 10 tweets, **split it into multiple lessons**\n- If a topic is too broad, **break it down further**\n- Each lesson should be extremely focused on a single idea\n\n## Title & Description Requirements\n\n- Follow the same concise, no-fluff style as course chapter title and description\n- **NEVER** use words like \"learn\", \"understand\", \"explore\", \"introduction to\", \"basics of\", etc.\n- Go straight to the point\n- If you find yourself using **\"AND\"**, **\"OR\"**, or **\"VS\"** in a title, you should split it into separate lessons\n\n## Examples of Proper Granularity\n\n**TOO BROAD:**\n❌ \"Hardware vs. Software\"\n❌ \"Variables and Data Types\"\n❌ \"Functions and Methods\"\n\n**CORRECTLY BROKEN DOWN:**\n✅ \"What is Hardware?\"\n✅ \"What is Software?\"\n✅ \"How Hardware and Software Interact\"\n\nOr:\n\n✅ \"Variables: Storing Values\"\n✅ \"Data Types Overview\"\n✅ \"Numbers in Programming\"\n✅ \"Text (Strings) in Programming\"\n✅ \"Booleans (True/False Values)\"\n\n## Progression & Structure\n\n- Build a logical progression from basic to advanced concepts\n- Ensure lessons build on knowledge from previous lessons\n- Focus lessons specifically on THIS chapter, not the entire course\n- Don't add summary, review, or \"key concepts\" lessons\n- Don't add assessment or quiz lessons\n- Don't add final project or capstone lessons\n\n## Scope\n\n- Cover **everything** in `CHAPTER_DESCRIPTION` and `CHAPTER_TITLE`\n- Never go beyond the chapter's scope\n- Add **as many lessons as needed** to break down each concept fully\n- Don't limit the number of lessons arbitrarily\n- It's better to have many focused lessons than fewer broad ones\n- Make sure to have all lessons needed to **fully master the chapter's scope**\n\n## Neighboring Chapter Awareness\n\nWhen `NEIGHBORING_CHAPTERS` is provided, use it to avoid generating dedicated lessons on topics that have their own chapter. For example, if a neighboring chapter covers \"HTTP fundamentals,\" do not create standalone lessons teaching HTTP methods or status codes — those belong in that chapter, not this one.\n\nBrief contextual mentions are fine. For example, a lesson can reference HTTP to explain a concept, but should not become a standalone lesson _about_ HTTP.\n\n# Quality Checks\n\nBefore finalizing your lesson list, ask yourself for EACH lesson:\n\n1. **Is this lesson too broad?** → If yes, break it down further\n2. **Can this concept be explained in 10 short tweets or less?** → If no, split it\n3. **Does this lesson focus on a single specific concept?** → If no, split it\n4. **Does the title contain \"AND\", \"OR\", or \"VS\"?** → If yes, split into separate lessons\n5. **Would a student need more than 2-3 minutes to grasp this?** → If yes, simplify or split\n\n# Output Format\n\nEach lesson must include **exactly two fields**:\n\n- **Title** — short, specific, focused on the single concept\n- **Description** — 1-2 sentences describing what the lesson covers, no fluff\n\n## Good Title Examples\n\n- \"What is a Variable?\"\n- \"Integer Numbers\"\n- \"Floating-Point Numbers\"\n- \"Declaring Variables\"\n- \"Assigning Values\"\n- \"The Addition Operator\"\n- \"The Subtraction Operator\"\n\n## Good Description Examples\n\n- \"Memory locations that store values during program execution.\"\n- \"Whole numbers without decimal points: 1, 42, -17, 0.\"\n- \"Numbers with decimal points: 3.14, -0.5, 2.0.\"\n- \"Creating a variable with a name and type.\"\n- \"Storing a value into a variable using the assignment operator.\"\n\n# Last Check\n\nAfter creating your lesson list, verify:\n\n- \"Does each lesson cover ONLY ONE concept?\" → All must be YES\n- \"Can each lesson be explained in 10 tweets?\" → All must be YES\n- \"Have I covered EVERYTHING from the chapter description?\" → Must be YES\n- \"Are there any lessons that should be split further?\" → Must be NO\n- \"Are the titles and descriptions concise and to the point with no fluff?\" → Must be YES\n- \"Did I stay within the chapter's scope?\" → Must be YES\n- \"Does any lesson teach a topic that belongs in a neighboring chapter?\" → Must be NO\n\nThis should be the most **granular**, **focused**, and **extensive** lesson list possible for this chapter.\n",
      "testCaseId": "pt-agile-arquitetura-agil-1",
      "userPrompt": "\n    LANGUAGE: pt\n    COURSE_TITLE: Metodologias Ágeis\n    CHAPTER_TITLE: Arquitetura em ambientes ágeis\n    CHAPTER_DESCRIPTION: Arquitetura evolutiva, modularidade, acoplamento/cohesão, fitness functions e decisões arquiteturais compatíveis com mudanças frequentes.\nNEIGHBORING_CHAPTERS:\n- \"Discovery e Delivery integrados\": Dual Track (Discovery/Delivery), discovery contínuo, e prevenção de 'teatro ágil' com entrega sem aprendizado.\n- \"DevOps e entrega contínua\": DevOps: colaboração Dev+Ops, automação, pipelines, IaC, e redução de handoffs para acelerar e estabilizar entregas.\n- \"SRE e confiabilidade em produtos digitais\": SRE: SLIs/SLOs, error budget, confiabilidade como requisito, e equilíbrio entre velocidade e estabilidade.\n- \"Dívida técnica e sustentabilidade\": Gestão de dívida técnica, qualidade interna, refatoração estratégica, e mecanismos de priorização junto ao valor de negócio.\n- \"Estratégias modernas de testes\": Qualidade e testes: pirâmide de testes, testes automatizados, testes exploratórios, e estratégias para sistemas distribuídos.\n- \"Segurança e DevSecOps\": Segurança no ciclo ágil: threat modeling, DevSecOps, shift-left, gestão de vulnerabilidades e resposta a incidentes.\n  "
    },
    {
      "duration": 35339.863,
      "inputTokens": 1687,
      "output": "{\n  \"lessons\": [\n    {\n      \"description\": \"What alchemy is within the wizarding world: a quasi-scientific tradition focused on transformation and perfection rather than spellcasting duels.\",\n      \"title\": \"Alchemy as a magical tradition\"\n    },\n    {\n      \"description\": \"The idea of transmutation as changing a substance’s essential nature, and why it’s treated as exceptional magic.\",\n      \"title\": \"Transmutation as essence-change\"\n    },\n    {\n      \"description\": \"The distinction between temporary magical changes and stable, lasting transformations attributed to alchemical work.\",\n      \"title\": \"Stable transformation\"\n    },\n    {\n      \"description\": \"The Philosopher’s Stone as an artifact that embodies transmutation and the pursuit of perfected matter.\",\n      \"title\": \"The Philosopher’s Stone as alchemical artifact\"\n    },\n    {\n      \"description\": \"Why the Stone is framed as unique: its role as a singular bottleneck for two outcomes rather than a widely reproducible technique.\",\n      \"title\": \"Singularity of the Stone\"\n    },\n    {\n      \"description\": \"The Elixir of Life as a substance that extends life through continual renewal rather than invulnerability.\",\n      \"title\": \"Elixir of Life as ongoing renewal\"\n    },\n    {\n      \"description\": \"The dependence of immortality-by-elixir on continued access, and how that shapes power and vulnerability.\",\n      \"title\": \"Immortality as supply chain\"\n    },\n    {\n      \"description\": \"The difference between prolonging life and preventing death from injury, violence, or catastrophe.\",\n      \"title\": \"Longevity vs invincibility\"\n    },\n    {\n      \"description\": \"How the Stone functions as a symbol of human desire to master nature, aging, and loss.\",\n      \"title\": \"The Stone as symbol of mastery\"\n    },\n    {\n      \"description\": \"How the Stone dramatizes temptation: power offered with moral and relational costs.\",\n      \"title\": \"The Stone as temptation object\"\n    },\n    {\n      \"description\": \"The Stone’s use as a narrative device that tests character priorities rather than combat ability.\",\n      \"title\": \"The Stone as character test\"\n    },\n    {\n      \"description\": \"How “immortality” myths tend to hide a trade: dependency, isolation, moral corrosion, or cosmic penalty.\",\n      \"title\": \"Immortality myths as bargains\"\n    },\n    {\n      \"description\": \"The concept of “the cost of immortality” as a recurring moral structure in fantasy storytelling.\",\n      \"title\": \"Costs as moral structure\"\n    },\n    {\n      \"description\": \"Why immortality is often portrayed as stagnation: the loss of growth, risk, and urgency.\",\n      \"title\": \"Immortality as stagnation risk\"\n    },\n    {\n      \"description\": \"How immortality can collapse ordinary meaning: commitments weaken when time becomes endless.\",\n      \"title\": \"Meaning under endless time\"\n    },\n    {\n      \"description\": \"The specific symbolic contrast between the Stone’s path to life-extension and darker paths to cheating death.\",\n      \"title\": \"“Natural” immortality symbolism\"\n    },\n    {\n      \"description\": \"Why alchemy is portrayed as rare and scholarly: access barriers, time horizons, and ethical framing.\",\n      \"title\": \"Alchemy as elite practice\"\n    },\n    {\n      \"description\": \"What a Horcrux is as a magical object tied to a severed piece of a soul.\",\n      \"title\": \"Horcrux definition\"\n    },\n    {\n      \"description\": \"The requirement of murder as the triggering act that enables soul-splitting in Horcrux creation.\",\n      \"title\": \"Murder as metaphysical catalyst\"\n    },\n    {\n      \"description\": \"Why murder is depicted as uniquely damaging to the soul compared to other harms.\",\n      \"title\": \"Murder as soul violation\"\n    },\n    {\n      \"description\": \"Soul fragmentation as a metaphysical injury rather than a mere technical step in a ritual.\",\n      \"title\": \"Soul fragmentation as injury\"\n    },\n    {\n      \"description\": \"How a Horcrux functions as an anchor that prevents full death by tethering the maker to the world.\",\n      \"title\": \"Horcrux as death anchor\"\n    },\n    {\n      \"description\": \"The difference between “survival” via Horcrux and living as a whole, embodied person.\",\n      \"title\": \"Survival vs wholeness\"\n    },\n    {\n      \"description\": \"What “less than ghost” implies: diminished agency and degraded existence after bodily death.\",\n      \"title\": \"Post-death diminished existence\"\n    },\n    {\n      \"description\": \"How bodily destruction interacts with Horcrux anchoring: the body can be lost while the self persists.\",\n      \"title\": \"Body loss with Horcrux persistence\"\n    },\n    {\n      \"description\": \"The idea that splitting the soul affects the maker’s capacity for empathy, love, and remorse.\",\n      \"title\": \"Fragmentation as moral erosion\"\n    },\n    {\n      \"description\": \"How the series frames remorse as a potential path to repair, and why it’s depicted as agonizing.\",\n      \"title\": \"Remorse as repair mechanism\"\n    },\n    {\n      \"description\": \"Why Horcrux-making is treated as taboo knowledge: harm, contagion, and the normalization of atrocity.\",\n      \"title\": \"Taboo knowledge dynamics\"\n    },\n    {\n      \"description\": \"The logic of concealment: Horcrux utility depends on secrecy and misdirection.\",\n      \"title\": \"Secrecy as functional requirement\"\n    },\n    {\n      \"description\": \"How the choice of container reflects narcissism: “important” objects used to externalize self-worth.\",\n      \"title\": \"Narcissistic container selection\"\n    },\n    {\n      \"description\": \"The risk profile of using famous artifacts: prestige increases traceability.\",\n      \"title\": \"Prestige increases risk\"\n    },\n    {\n      \"description\": \"The risk profile of using mundane objects: invisibility reduces attention but increases accidental loss.\",\n      \"title\": \"Mundane container tradeoff\"\n    },\n    {\n      \"description\": \"The concept of redundancy: multiple Horcruxes as layered insurance against death.\",\n      \"title\": \"Redundancy via multiple Horcruxes\"\n    },\n    {\n      \"description\": \"How redundancy changes behavior: overconfidence, escalation, and willingness to take lethal risks.\",\n      \"title\": \"Redundancy-driven recklessness\"\n    },\n    {\n      \"description\": \"The idea of a “distributed self” when identity is split across multiple anchors.\",\n      \"title\": \"Distributed selfhood\"\n    },\n    {\n      \"description\": \"How splitting undermines integrity: the self becomes less coherent, stable, and humanely responsive.\",\n      \"title\": \"Integrity loss through splitting\"\n    },\n    {\n      \"description\": \"What it means for a Horcrux to carry malign influence rather than sit inert as a container.\",\n      \"title\": \"Horcrux as active corruption\"\n    },\n    {\n      \"description\": \"How proximity-based influence works narratively: mood shifts, fixation, and interpersonal breakdown.\",\n      \"title\": \"Corruption through proximity\"\n    },\n    {\n      \"description\": \"Possession-like effects as an extension of the maker’s will embedded in the fragment.\",\n      \"title\": \"Embedded will effects\"\n    },\n    {\n      \"description\": \"The difference between a cursed object and a Horcrux: the soul-fragment makes it relationally parasitic.\",\n      \"title\": \"Horcrux vs ordinary curse\"\n    },\n    {\n      \"description\": \"Why destroying a Horcrux requires irreparable damage to the container rather than mere disarming.\",\n      \"title\": \"Destruction requires irreparability\"\n    },\n    {\n      \"description\": \"The idea of “irreparable” harm in magic as a category: some damage cannot be undone by counter-spells.\",\n      \"title\": \"Irreparable magical damage\"\n    },\n    {\n      \"description\": \"The moral asymmetry of Horcrux destruction: ending corruption may require destroying something valuable.\",\n      \"title\": \"Destruction as moral sacrifice\"\n    },\n    {\n      \"description\": \"The special tragedy of a living Horcrux: the container has personhood and moral standing.\",\n      \"title\": \"Living Horcrux tragedy\"\n    },\n    {\n      \"description\": \"The ethical collision when saving the world conflicts with protecting an innocent life used as an anchor.\",\n      \"title\": \"Innocent life as anchor dilemma\"\n    },\n    {\n      \"description\": \"How the series frames love as a counter-metaphysic to fragmentation: binding, continuity, and protection.\",\n      \"title\": \"Love as binding principle\"\n    },\n    {\n      \"description\": \"How fear of death drives dark magic choices, turning mortality into a political and personal weapon.\",\n      \"title\": \"Fear of death as driver\"\n    },\n    {\n      \"description\": \"The contrast between accepting death and attempting to dominate it as two moral orientations.\",\n      \"title\": \"Acceptance vs domination\"\n    },\n    {\n      \"description\": \"How “natural death” is treated as part of the moral order, not merely a biological endpoint.\",\n      \"title\": \"Death as moral order\"\n    },\n    {\n      \"description\": \"The idea that immortality can be pursued through legacy rather than bodily continuation.\",\n      \"title\": \"Legacy as nonliteral immortality\"\n    },\n    {\n      \"description\": \"Why Voldemort’s immortality strategy isolates him: distrust, instrumentality, and inability to bond.\",\n      \"title\": \"Immortality as isolation\"\n    },\n    {\n      \"description\": \"How splitting the soul externalizes vulnerability: enemies can attack the anchors instead of the person.\",\n      \"title\": \"Externalized vulnerability\"\n    },\n    {\n      \"description\": \"The paradox that Horcruxes create: the attempt to be unkillable multiplies points of failure.\",\n      \"title\": \"Multiplying failure points\"\n    },\n    {\n      \"description\": \"How the Stone and Horcruxes represent two symbolic routes to defy death: restoration vs violation.\",\n      \"title\": \"Restoration route symbolism\"\n    },\n    {\n      \"description\": \"How the Stone and Horcruxes differ in moral texture: preservation of life versus predation on life.\",\n      \"title\": \"Preservation vs predation\"\n    },\n    {\n      \"description\": \"How the pursuit of immortality reshapes identity: from personhood to project, from relationships to control.\",\n      \"title\": \"Identity as immortality project\"\n    },\n    {\n      \"description\": \"The concept of spiritual “wholeness” as the series’ metric for a good life, beyond duration.\",\n      \"title\": \"Wholeness as value metric\"\n    }\n  ]\n}",
      "outputTokens": 1690,
      "systemPrompt": "# Role\n\nYou are designing an **extensive** list of bite-sized, focused lessons for a specific chapter in a course.\n\nYou have expertise in instructional design, curriculum development, and creating granular learning paths. You have worked at top educational institutions creating micro-learning content that breaks down complex topics into digestible, single-concept lessons.\n\nYour mission is to create a lesson structure where each lesson covers **ONE SPECIFIC CONCEPT** that can be learned in 2-3 minutes and explained in 10 short tweets or less.\n\nYou deeply care about making learning accessible, focused, and efficient by breaking down topics into their smallest logical units.\n\n# Inputs\n\n- `COURSE_TITLE`: name of the overall course\n- `CHAPTER_TITLE`: title of this specific chapter\n- `CHAPTER_DESCRIPTION`: what this chapter covers\n- `LANGUAGE`: output language for titles and descriptions\n- `NEIGHBORING_CHAPTERS` (optional): titles and descriptions of chapters that come before and after this one in the course\n\n## Language\n\n- `en`: Use US region unless the content is about a different region.\n- `pt`: Use Brazilian Portuguese unless the content is about a different region.\n- `es`: Use Latin American Spanish unless the content is about a different region.\n\n# Goal\n\nProduce an **extensive** list of **single-concept** lessons that collectively cover everything in `CHAPTER_TITLE` and `CHAPTER_DESCRIPTION`. Each lesson should be so focused that a student can learn and understand the concept in 2-3 minutes.\n\n# Critical Requirements\n\n## Single-Concept Focus\n\n- **Each lesson MUST cover ONE SPECIFIC concept only**\n- If you can explain it in 10 short tweets or less, it's appropriately scoped\n- If it takes more than 10 tweets, **split it into multiple lessons**\n- If a topic is too broad, **break it down further**\n- Each lesson should be extremely focused on a single idea\n\n## Title & Description Requirements\n\n- Follow the same concise, no-fluff style as course chapter title and description\n- **NEVER** use words like \"learn\", \"understand\", \"explore\", \"introduction to\", \"basics of\", etc.\n- Go straight to the point\n- If you find yourself using **\"AND\"**, **\"OR\"**, or **\"VS\"** in a title, you should split it into separate lessons\n\n## Examples of Proper Granularity\n\n**TOO BROAD:**\n❌ \"Hardware vs. Software\"\n❌ \"Variables and Data Types\"\n❌ \"Functions and Methods\"\n\n**CORRECTLY BROKEN DOWN:**\n✅ \"What is Hardware?\"\n✅ \"What is Software?\"\n✅ \"How Hardware and Software Interact\"\n\nOr:\n\n✅ \"Variables: Storing Values\"\n✅ \"Data Types Overview\"\n✅ \"Numbers in Programming\"\n✅ \"Text (Strings) in Programming\"\n✅ \"Booleans (True/False Values)\"\n\n## Progression & Structure\n\n- Build a logical progression from basic to advanced concepts\n- Ensure lessons build on knowledge from previous lessons\n- Focus lessons specifically on THIS chapter, not the entire course\n- Don't add summary, review, or \"key concepts\" lessons\n- Don't add assessment or quiz lessons\n- Don't add final project or capstone lessons\n\n## Scope\n\n- Cover **everything** in `CHAPTER_DESCRIPTION` and `CHAPTER_TITLE`\n- Never go beyond the chapter's scope\n- Add **as many lessons as needed** to break down each concept fully\n- Don't limit the number of lessons arbitrarily\n- It's better to have many focused lessons than fewer broad ones\n- Make sure to have all lessons needed to **fully master the chapter's scope**\n\n## Neighboring Chapter Awareness\n\nWhen `NEIGHBORING_CHAPTERS` is provided, use it to avoid generating dedicated lessons on topics that have their own chapter. For example, if a neighboring chapter covers \"HTTP fundamentals,\" do not create standalone lessons teaching HTTP methods or status codes — those belong in that chapter, not this one.\n\nBrief contextual mentions are fine. For example, a lesson can reference HTTP to explain a concept, but should not become a standalone lesson _about_ HTTP.\n\n# Quality Checks\n\nBefore finalizing your lesson list, ask yourself for EACH lesson:\n\n1. **Is this lesson too broad?** → If yes, break it down further\n2. **Can this concept be explained in 10 short tweets or less?** → If no, split it\n3. **Does this lesson focus on a single specific concept?** → If no, split it\n4. **Does the title contain \"AND\", \"OR\", or \"VS\"?** → If yes, split into separate lessons\n5. **Would a student need more than 2-3 minutes to grasp this?** → If yes, simplify or split\n\n# Output Format\n\nEach lesson must include **exactly two fields**:\n\n- **Title** — short, specific, focused on the single concept\n- **Description** — 1-2 sentences describing what the lesson covers, no fluff\n\n## Good Title Examples\n\n- \"What is a Variable?\"\n- \"Integer Numbers\"\n- \"Floating-Point Numbers\"\n- \"Declaring Variables\"\n- \"Assigning Values\"\n- \"The Addition Operator\"\n- \"The Subtraction Operator\"\n\n## Good Description Examples\n\n- \"Memory locations that store values during program execution.\"\n- \"Whole numbers without decimal points: 1, 42, -17, 0.\"\n- \"Numbers with decimal points: 3.14, -0.5, 2.0.\"\n- \"Creating a variable with a name and type.\"\n- \"Storing a value into a variable using the assignment operator.\"\n\n# Last Check\n\nAfter creating your lesson list, verify:\n\n- \"Does each lesson cover ONLY ONE concept?\" → All must be YES\n- \"Can each lesson be explained in 10 tweets?\" → All must be YES\n- \"Have I covered EVERYTHING from the chapter description?\" → Must be YES\n- \"Are there any lessons that should be split further?\" → Must be NO\n- \"Are the titles and descriptions concise and to the point with no fluff?\" → Must be YES\n- \"Did I stay within the chapter's scope?\" → Must be YES\n- \"Does any lesson teach a topic that belongs in a neighboring chapter?\" → Must be NO\n\nThis should be the most **granular**, **focused**, and **extensive** lesson list possible for this chapter.\n",
      "testCaseId": "en-harry-potter-alchemy-horcruxes-1",
      "userPrompt": "\n    LANGUAGE: en\n    COURSE_TITLE: Harry Potter\n    CHAPTER_TITLE: Alchemy, Horcruxes, and immortality\n    CHAPTER_DESCRIPTION: Alchemy, immortality myths, and the Philosopher's Stone as symbol. Horcrux metaphysics and the costs of soul fragmentation.\nNEIGHBORING_CHAPTERS:\n- \"Defense Against the Dark Arts\": Defense curriculum across eras and how teaching reflects politics. Practical spell selection, threat models, and the pedagogy of fear.\n- \"Divination and prophecy\": Divination's ambiguity, self-fulfilling prophecy, and narrative foreshadowing. Symbol systems: tea leaves, dreams, centaurs, and astronomy.\n- \"Mind magic and memory\": Mind magic: Legilimency, Occlumency, memory charms, and Pensieve ethics. Consent, epistemology, and the reliability of recollection.\n- \"Wandlore\": Wand woods, cores, allegiance, and the Elder Wand's legend. Comparative magical foci and what wandlore implies about power and identity.\n- \"Healing and magical medicine\": Magical healing, St Mungo's, and the boundaries of restorative magic. Disability, trauma, and long-term consequences in the series.\n- \"Beings, creatures, and species politics\": Werewolves, vampires, giants, goblins, house-elves, centaurs, and merpeople as political subjects. Rights, stereotypes, and allegory across species.\n  "
    },
    {
      "duration": 47792.958042,
      "inputTokens": 1731,
      "output": "{\n  \"lessons\": [\n    {\n      \"description\": \"Diferenças entre automação de tarefas e automação do raciocínio jurídico. Onde a automação agrega valor sem substituir análise de mérito.\",\n      \"title\": \"Automação jurídica: o que automatizar\"\n    },\n    {\n      \"description\": \"Critérios para decidir quando um documento pode virar template: repetição, baixo risco e regras claras. Sinais de que não deve ser automatizado.\",\n      \"title\": \"Elegibilidade de documentos para templates\"\n    },\n    {\n      \"description\": \"Mapeamento de entradas, saídas e regras antes de criar um template. Definição do “mínimo necessário” para gerar um documento correto.\",\n      \"title\": \"Escopo de automação: entradas e regras\"\n    },\n    {\n      \"description\": \"Separação entre linguagem jurídica e variáveis preenchíveis. Como reduzir retrabalho ao identificar campos que mudam.\",\n      \"title\": \"Variáveis em templates\"\n    },\n    {\n      \"description\": \"Campos curtos com validação simples (nome, CPF/CNPJ, datas, valores). Regras de formato para evitar erro de preenchimento.\",\n      \"title\": \"Campos estruturados\"\n    },\n    {\n      \"description\": \"Campos longos que exigem texto livre (objeto, narrativa, justificativas). Riscos e controles para reduzir ambiguidade.\",\n      \"title\": \"Campos de texto livre\"\n    },\n    {\n      \"description\": \"Regras de negócio que geram cláusulas diferentes conforme respostas. Estrutura de condições para manter consistência.\",\n      \"title\": \"Lógica condicional de cláusulas\"\n    },\n    {\n      \"description\": \"Cálculos automáticos dentro do documento (juros, prazos, índices). Como evitar erro por arredondamento e unidades.\",\n      \"title\": \"Cálculos automatizados no template\"\n    },\n    {\n      \"description\": \"Gatilhos para inserir anexos, quadros ou tabelas conforme o caso. Como manter anexos sincronizados com o corpo do documento.\",\n      \"title\": \"Inserção automática de anexos\"\n    },\n    {\n      \"description\": \"Seleção de linguagem conforme jurisdição, ramo e público (interno/externo). Como evitar mistura de registros no mesmo template.\",\n      \"title\": \"Variações de linguagem por contexto\"\n    },\n    {\n      \"description\": \"Parâmetros que determinam quais itens aparecem e em que ordem. Consistência estrutural para leitura e auditoria.\",\n      \"title\": \"Seções opcionais no documento\"\n    },\n    {\n      \"description\": \"Definição de quais campos são obrigatórios para emissão. Bloqueios para impedir geração com lacunas críticas.\",\n      \"title\": \"Obrigatoriedade de campos\"\n    },\n    {\n      \"description\": \"Mensagens de erro orientadas ao usuário no preenchimento. Como reduzir chamados e correções manuais.\",\n      \"title\": \"Erros de validação\"\n    },\n    {\n      \"description\": \"Biblioteca de cláusulas com identificador único e metadados (tema, risco, versão). Reuso controlado sem copiar e colar.\",\n      \"title\": \"Cláusulas modulares\"\n    },\n    {\n      \"description\": \"Dependências entre cláusulas para evitar contradições (ex.: multa exige gatilho). Regras de compatibilidade no template.\",\n      \"title\": \"Dependência entre cláusulas\"\n    },\n    {\n      \"description\": \"Padrões de nomenclatura para templates e cláusulas. Como facilitar busca, auditoria e rastreabilidade.\",\n      \"title\": \"Nomenclatura de templates\"\n    },\n    {\n      \"description\": \"Conjunto mínimo de metadados para cada documento gerado (tipo, unidade, data, parte, versão). Base para gestão documental.\",\n      \"title\": \"Metadados do documento gerado\"\n    },\n    {\n      \"description\": \"Vinculação do documento ao processo interno (requisição, aprovação, assunto). Como garantir contexto e trilha de auditoria.\",\n      \"title\": \"Rastreabilidade do documento\"\n    },\n    {\n      \"description\": \"Definição de responsáveis por manutenção de templates (dono, revisor, aprovador). Evita “template órfão” e divergência.\",\n      \"title\": \"Papéis na manutenção do template\"\n    },\n    {\n      \"description\": \"Separação entre autoria e aprovação jurídica do conteúdo. Critérios objetivos para aprovar mudanças.\",\n      \"title\": \"Aprovação de conteúdo jurídico\"\n    },\n    {\n      \"description\": \"Pontos de controle antes de publicar uma nova versão do template. Checklist para reduzir regressões.\",\n      \"title\": \"Gate de publicação\"\n    },\n    {\n      \"description\": \"Conceito de versão como identidade do conteúdo. Por que “último arquivo” não é controle de versões.\",\n      \"title\": \"Controle de versões: conceito\"\n    },\n    {\n      \"description\": \"Diferença entre revisão maior e menor para templates. Regras para comunicar impacto e necessidade de revalidação.\",\n      \"title\": \"Versionamento semântico em templates\"\n    },\n    {\n      \"description\": \"Registro do que mudou, por que mudou e quem aprovou. Como criar rastreabilidade para auditorias e litígios.\",\n      \"title\": \"Changelog de templates\"\n    },\n    {\n      \"description\": \"Substituição controlada de versões antigas por novas. Como evitar uso acidental de versão obsoleta.\",\n      \"title\": \"Descontinuação de versões\"\n    },\n    {\n      \"description\": \"Regras para acesso a templates por função e sensibilidade. Redução de alterações não autorizadas.\",\n      \"title\": \"Permissões de edição\"\n    },\n    {\n      \"description\": \"Separação entre ambiente de rascunho e ambiente de produção. Como testar sem afetar operação.\",\n      \"title\": \"Ambientes: rascunho e produção\"\n    },\n    {\n      \"description\": \"Estratégia de testes com casos típicos e extremos. Como garantir que a lógica condicional não quebre.\",\n      \"title\": \"Casos de teste do template\"\n    },\n    {\n      \"description\": \"Testes de regressão após mudança em cláusula compartilhada. Como evitar erro em cadeia em vários templates.\",\n      \"title\": \"Teste de regressão em biblioteca de cláusulas\"\n    },\n    {\n      \"description\": \"Critérios objetivos para qualidade do documento gerado: completude, consistência, clareza. Como medir qualidade de saída.\",\n      \"title\": \"Qualidade do documento gerado\"\n    },\n    {\n      \"description\": \"Verificação de coerência entre definições, partes e prazos ao longo do texto. Técnicas para detectar inconsistências.\",\n      \"title\": \"Checagem de consistência interna\"\n    },\n    {\n      \"description\": \"Checagem de referências cruzadas (cláusula, anexo, tabela). Como evitar numeração quebrada e citações erradas.\",\n      \"title\": \"Referências cruzadas\"\n    },\n    {\n      \"description\": \"Conferência de datas, prazos e marcos contratuais gerados. Evita conflitos entre calendário e redação.\",\n      \"title\": \"Validação de prazos\"\n    },\n    {\n      \"description\": \"Conferência de valores e condições de pagamento gerados. Evita divergência entre extenso, número e tabela.\",\n      \"title\": \"Validação de valores\"\n    },\n    {\n      \"description\": \"Padronização de termos definidos e uso consistente ao longo do documento. Evita ambiguidade e disputa interpretativa.\",\n      \"title\": \"Termos definidos\"\n    },\n    {\n      \"description\": \"Padronização de formatação para leitura e assinatura (títulos, recuos, numeração). Reduz ruído e facilita auditoria.\",\n      \"title\": \"Padronização de formatação\"\n    },\n    {\n      \"description\": \"Campos que exigem atenção humana obrigatória (ex.: exceções, riscos). Como criar “travas” de revisão assistida.\",\n      \"title\": \"Pontos de atenção obrigatórios\"\n    },\n    {\n      \"description\": \"Revisão assistida baseada em checklist por tipo de documento. Como reduzir falhas repetitivas sem engessar o trabalho.\",\n      \"title\": \"Checklist de revisão assistida\"\n    },\n    {\n      \"description\": \"Sinalização automática de ausência de anexos exigidos. Evita envio incompleto ao cliente ou contraparte.\",\n      \"title\": \"Detecção de anexos faltantes\"\n    },\n    {\n      \"description\": \"Detecção de termos proibidos ou desatualizados em templates. Como manter linguagem alinhada a políticas internas.\",\n      \"title\": \"Bloqueio de linguagem não aprovada\"\n    },\n    {\n      \"description\": \"Identificação de conflito entre cláusulas selecionadas. Como evitar combinações incoerentes antes de gerar o arquivo final.\",\n      \"title\": \"Detecção de conflitos de cláusulas\"\n    },\n    {\n      \"description\": \"Classificação do documento por tipo e criticidade para definir nível de revisão. Evita revisão pesada onde não precisa.\",\n      \"title\": \"Níveis de revisão por risco\"\n    },\n    {\n      \"description\": \"Regra de “quatro olhos” para documentos de maior impacto. Quando exigir segunda revisão formal.\",\n      \"title\": \"Dupla revisão\"\n    },\n    {\n      \"description\": \"Evidências mínimas de revisão para auditoria (quem, quando, o que foi verificado). Como registrar sem burocracia excessiva.\",\n      \"title\": \"Registro de revisão\"\n    },\n    {\n      \"description\": \"Padrões para nomes de arquivos gerados para facilitar busca e evitar duplicidades. Inclui convenções de data e identificadores.\",\n      \"title\": \"Convenção de nomes de arquivos\"\n    },\n    {\n      \"description\": \"Estrutura de pastas baseada em taxonomia (cliente, assunto, ano, tipo). Reduz perda de documentos e inconsistência.\",\n      \"title\": \"Taxonomia de pastas\"\n    },\n    {\n      \"description\": \"Diferença entre documento “em elaboração” e “final”. Como evitar assinatura de versão errada.\",\n      \"title\": \"Estados do documento\"\n    },\n    {\n      \"description\": \"Trava de edição após aprovação e emissão. Como garantir integridade do documento final.\",\n      \"title\": \"Bloqueio pós-aprovação\"\n    },\n    {\n      \"description\": \"Registro de quem acessou ou alterou documentos e templates. Base para investigação e conformidade.\",\n      \"title\": \"Trilha de auditoria\"\n    },\n    {\n      \"description\": \"Políticas de retenção e descarte para documentos gerados. Como reduzir risco de armazenamento indevido.\",\n      \"title\": \"Retenção documental\"\n    },\n    {\n      \"description\": \"Regras para armazenar versões assinadas e não assinadas. Evita confusão entre minuta e instrumento definitivo.\",\n      \"title\": \"Separação de minutas e assinados\"\n    },\n    {\n      \"description\": \"Identificação de fonte única de verdade para templates. Como evitar múltiplas cópias conflitantes.\",\n      \"title\": \"Fonte única de templates\"\n    },\n    {\n      \"description\": \"Governança de conhecimento aplicada a templates e cláusulas. Como transformar experiência em padrões reutilizáveis.\",\n      \"title\": \"Conhecimento jurídico como ativo\"\n    },\n    {\n      \"description\": \"Processo de captura de lições após incidentes e negociações. Como converter ajustes pontuais em melhoria do template.\",\n      \"title\": \"Ciclo de melhoria do template\"\n    },\n    {\n      \"description\": \"Critérios para criar novo template em vez de bifurcar um existente. Evita explosão de variantes difíceis de manter.\",\n      \"title\": \"Criação de variantes controladas\"\n    },\n    {\n      \"description\": \"Gestão de exceções aprovadas fora do padrão. Como registrar justificativa e prazo de validade.\",\n      \"title\": \"Catálogo de exceções\"\n    },\n    {\n      \"description\": \"Risco de automação: erro em escala por regra incorreta. Estratégias para limitar impacto e detectar cedo.\",\n      \"title\": \"Falha em escala\"\n    },\n    {\n      \"description\": \"Risco de automação: falsa sensação de conformidade. Como evitar que a saída “bonita” substitua a revisão necessária.\",\n      \"title\": \"Ilusão de qualidade\"\n    },\n    {\n      \"description\": \"Risco de automação: vieses e inconsistências herdadas de modelos antigos. Como identificar “dívida de template”.\",\n      \"title\": \"Dívida de template\"\n    },\n    {\n      \"description\": \"Risco de automação: dados de entrada ruins gerando documento ruim. Controles na captura e validação de dados.\",\n      \"title\": \"Garbage in, garbage out\"\n    },\n    {\n      \"description\": \"Risco de automação: excesso de padronização que ignora contexto. Como definir limites para flexibilidade controlada.\",\n      \"title\": \"Padronização excessiva\"\n    },\n    {\n      \"description\": \"Risco de automação: exposição de dados sensíveis no template. Como evitar vazamento por campos e exemplos.\",\n      \"title\": \"Dados sensíveis em templates\"\n    },\n    {\n      \"description\": \"Risco de automação: dependência de pessoa-chave que mantém templates. Como reduzir risco operacional.\",\n      \"title\": \"Dependência de mantenedor\"\n    },\n    {\n      \"description\": \"Risco de automação: uso indevido de template fora de escopo. Como impor guardrails por público e finalidade.\",\n      \"title\": \"Uso fora de escopo\"\n    },\n    {\n      \"description\": \"Métricas para medir adoção de templates (uso, retrabalho, tempo). Como detectar abandono ou sombra de planilhas.\",\n      \"title\": \"Métricas de adoção\"\n    },\n    {\n      \"description\": \"Métricas de qualidade: taxa de correções, erros recorrentes, incidentes. Como priorizar manutenção do acervo.\",\n      \"title\": \"Métricas de qualidade\"\n    },\n    {\n      \"description\": \"Métricas de governança: templates sem dono, versões ativas, exceções abertas. Como enxergar risco de portfólio.\",\n      \"title\": \"Métricas de governança\"\n    },\n    {\n      \"description\": \"Sinais de que um template deve ser aposentado. Como decidir sem quebrar operação.\",\n      \"title\": \"Critérios de aposentadoria\"\n    },\n    {\n      \"description\": \"Processo para migração de usuários para template novo. Como reduzir resistência e minimizar erro de transição.\",\n      \"title\": \"Migração de template\"\n    },\n    {\n      \"description\": \"Documentação mínima do template: finalidade, entradas, regras, exceções. Como permitir manutenção por terceiros.\",\n      \"title\": \"Documentação do template\"\n    },\n    {\n      \"description\": \"Catálogo pesquisável de templates por tipo e uso. Como evitar criação duplicada e acelerar escolha correta.\",\n      \"title\": \"Catálogo de templates\"\n    },\n    {\n      \"description\": \"Padrão de redação para campos variáveis (ex.: placeholders legíveis). Como reduzir confusão na revisão humana.\",\n      \"title\": \"Padrões de placeholders\"\n    },\n    {\n      \"description\": \"Proteção contra edição acidental de trechos fixos. Como separar conteúdo fixo de conteúdo variável.\",\n      \"title\": \"Trechos protegidos\"\n    },\n    {\n      \"description\": \"Compatibilidade de templates com formatos de saída (DOCX, PDF). Como evitar perda de formatação na conversão.\",\n      \"title\": \"Conversão de formato\"\n    },\n    {\n      \"description\": \"Conferência de qualidade após conversão para PDF (quebras, numeração, anexos). Evita envio com defeito visual.\",\n      \"title\": \"Validação pós-conversão\"\n    },\n    {\n      \"description\": \"Assinatura em lote gerando múltiplos documentos. Controles para garantir correspondência correta entre partes e arquivos.\",\n      \"title\": \"Geração em lote\"\n    },\n    {\n      \"description\": \"Identificação única do documento gerado para rastreamento. Como ligar arquivo, evento e versão do template.\",\n      \"title\": \"ID do documento\"\n    }\n  ]\n}",
      "outputTokens": 2677,
      "systemPrompt": "# Role\n\nYou are designing an **extensive** list of bite-sized, focused lessons for a specific chapter in a course.\n\nYou have expertise in instructional design, curriculum development, and creating granular learning paths. You have worked at top educational institutions creating micro-learning content that breaks down complex topics into digestible, single-concept lessons.\n\nYour mission is to create a lesson structure where each lesson covers **ONE SPECIFIC CONCEPT** that can be learned in 2-3 minutes and explained in 10 short tweets or less.\n\nYou deeply care about making learning accessible, focused, and efficient by breaking down topics into their smallest logical units.\n\n# Inputs\n\n- `COURSE_TITLE`: name of the overall course\n- `CHAPTER_TITLE`: title of this specific chapter\n- `CHAPTER_DESCRIPTION`: what this chapter covers\n- `LANGUAGE`: output language for titles and descriptions\n- `NEIGHBORING_CHAPTERS` (optional): titles and descriptions of chapters that come before and after this one in the course\n\n## Language\n\n- `en`: Use US region unless the content is about a different region.\n- `pt`: Use Brazilian Portuguese unless the content is about a different region.\n- `es`: Use Latin American Spanish unless the content is about a different region.\n\n# Goal\n\nProduce an **extensive** list of **single-concept** lessons that collectively cover everything in `CHAPTER_TITLE` and `CHAPTER_DESCRIPTION`. Each lesson should be so focused that a student can learn and understand the concept in 2-3 minutes.\n\n# Critical Requirements\n\n## Single-Concept Focus\n\n- **Each lesson MUST cover ONE SPECIFIC concept only**\n- If you can explain it in 10 short tweets or less, it's appropriately scoped\n- If it takes more than 10 tweets, **split it into multiple lessons**\n- If a topic is too broad, **break it down further**\n- Each lesson should be extremely focused on a single idea\n\n## Title & Description Requirements\n\n- Follow the same concise, no-fluff style as course chapter title and description\n- **NEVER** use words like \"learn\", \"understand\", \"explore\", \"introduction to\", \"basics of\", etc.\n- Go straight to the point\n- If you find yourself using **\"AND\"**, **\"OR\"**, or **\"VS\"** in a title, you should split it into separate lessons\n\n## Examples of Proper Granularity\n\n**TOO BROAD:**\n❌ \"Hardware vs. Software\"\n❌ \"Variables and Data Types\"\n❌ \"Functions and Methods\"\n\n**CORRECTLY BROKEN DOWN:**\n✅ \"What is Hardware?\"\n✅ \"What is Software?\"\n✅ \"How Hardware and Software Interact\"\n\nOr:\n\n✅ \"Variables: Storing Values\"\n✅ \"Data Types Overview\"\n✅ \"Numbers in Programming\"\n✅ \"Text (Strings) in Programming\"\n✅ \"Booleans (True/False Values)\"\n\n## Progression & Structure\n\n- Build a logical progression from basic to advanced concepts\n- Ensure lessons build on knowledge from previous lessons\n- Focus lessons specifically on THIS chapter, not the entire course\n- Don't add summary, review, or \"key concepts\" lessons\n- Don't add assessment or quiz lessons\n- Don't add final project or capstone lessons\n\n## Scope\n\n- Cover **everything** in `CHAPTER_DESCRIPTION` and `CHAPTER_TITLE`\n- Never go beyond the chapter's scope\n- Add **as many lessons as needed** to break down each concept fully\n- Don't limit the number of lessons arbitrarily\n- It's better to have many focused lessons than fewer broad ones\n- Make sure to have all lessons needed to **fully master the chapter's scope**\n\n## Neighboring Chapter Awareness\n\nWhen `NEIGHBORING_CHAPTERS` is provided, use it to avoid generating dedicated lessons on topics that have their own chapter. For example, if a neighboring chapter covers \"HTTP fundamentals,\" do not create standalone lessons teaching HTTP methods or status codes — those belong in that chapter, not this one.\n\nBrief contextual mentions are fine. For example, a lesson can reference HTTP to explain a concept, but should not become a standalone lesson _about_ HTTP.\n\n# Quality Checks\n\nBefore finalizing your lesson list, ask yourself for EACH lesson:\n\n1. **Is this lesson too broad?** → If yes, break it down further\n2. **Can this concept be explained in 10 short tweets or less?** → If no, split it\n3. **Does this lesson focus on a single specific concept?** → If no, split it\n4. **Does the title contain \"AND\", \"OR\", or \"VS\"?** → If yes, split into separate lessons\n5. **Would a student need more than 2-3 minutes to grasp this?** → If yes, simplify or split\n\n# Output Format\n\nEach lesson must include **exactly two fields**:\n\n- **Title** — short, specific, focused on the single concept\n- **Description** — 1-2 sentences describing what the lesson covers, no fluff\n\n## Good Title Examples\n\n- \"What is a Variable?\"\n- \"Integer Numbers\"\n- \"Floating-Point Numbers\"\n- \"Declaring Variables\"\n- \"Assigning Values\"\n- \"The Addition Operator\"\n- \"The Subtraction Operator\"\n\n## Good Description Examples\n\n- \"Memory locations that store values during program execution.\"\n- \"Whole numbers without decimal points: 1, 42, -17, 0.\"\n- \"Numbers with decimal points: 3.14, -0.5, 2.0.\"\n- \"Creating a variable with a name and type.\"\n- \"Storing a value into a variable using the assignment operator.\"\n\n# Last Check\n\nAfter creating your lesson list, verify:\n\n- \"Does each lesson cover ONLY ONE concept?\" → All must be YES\n- \"Can each lesson be explained in 10 tweets?\" → All must be YES\n- \"Have I covered EVERYTHING from the chapter description?\" → Must be YES\n- \"Are there any lessons that should be split further?\" → Must be NO\n- \"Are the titles and descriptions concise and to the point with no fluff?\" → Must be YES\n- \"Did I stay within the chapter's scope?\" → Must be YES\n- \"Does any lesson teach a topic that belongs in a neighboring chapter?\" → Must be NO\n\nThis should be the most **granular**, **focused**, and **extensive** lesson list possible for this chapter.\n",
      "testCaseId": "pt-direito-legal-tech-1",
      "userPrompt": "\n    LANGUAGE: pt\n    COURSE_TITLE: Direito\n    CHAPTER_TITLE: Legal tech e automação de documentos\n    CHAPTER_DESCRIPTION: Automação jurídica e qualidade: templates, revisão assistida, gestão documental e padronização. Riscos de automação, controle de versões e governança de conhecimento.\nNEIGHBORING_CHAPTERS:\n- \"Gestão de terceiros e due diligence\": Programas de integridade em terceiros: due diligence, cláusulas anticorrupção e monitoramento. Gestão de contratos, auditoria e encerramento por inadimplemento de compliance.\n- \"Estratégia contenciosa e gestão de disputas\": Estratégia de litígio: seleção de teses, definição de foro, gestão de portfólio e negociação de acordos. Monitoramento de precedentes, risco financeiro e comunicação com stakeholders.\n- \"Legal operations e gestão jurídica\": Gestão de escritórios e departamentos jurídicos: triagem, SLAs, indicadores e orçamento. Precificação, honorários, contratação de correspondentes e qualidade.\n- \"Operações contratuais\": Gestão de contratos: ciclo de vida, cláusulas padrão, aprovações e controle de obrigações. CLM, auditoria contratual e prevenção de disputas.\n- \"Negociação estratégica\": Negociação e mediação avançadas: BATNA, ZOPA, técnicas de influência e gestão de impasses. Construção de acordos complexos e multiparte.\n- \"Advocacia oral e persuasão\": Oratória e atuação em audiência: teoria do caso, exame e contrainterrogatório, sustentação oral e postura profissional. Comunicação com juízes, jurados e peritos.\n  "
    },
    {
      "duration": 44628.212333999996,
      "inputTokens": 1641,
      "output": "{\n  \"lessons\": [\n    {\n      \"description\": \"How medical, political, and social conditions in the 1800s shaped disease patterns and state responses in Brazil.\",\n      \"title\": \"Health as a political problem in 19th-century Brazil\"\n    },\n    {\n      \"description\": \"How imperial institutions handled quarantine, ports, hospitals, and charity-based care before a national public health system.\",\n      \"title\": \"Imperial-era public health institutions\"\n    },\n    {\n      \"description\": \"How slavery, plantation economies, and forced mobility affected exposure to disease and access to care.\",\n      \"title\": \"Slavery as a determinant of health\"\n    },\n    {\n      \"description\": \"How racial hierarchies shaped medical attention, treatment conditions, and mortality risks.\",\n      \"title\": \"Racialized access to care in the 19th century\"\n    },\n    {\n      \"description\": \"How smallpox affected cities and how authorities justified mass vaccination in the late 1800s and early 1900s.\",\n      \"title\": \"Smallpox as an urban epidemic\"\n    },\n    {\n      \"description\": \"How vaccination moved from voluntary practice to state mandate as a tool of disease control.\",\n      \"title\": \"Vaccination as state policy\"\n    },\n    {\n      \"description\": \"Why ports became focal points for inspection, isolation, and sanitary regulation during epidemic waves.\",\n      \"title\": \"Port health controls\"\n    },\n    {\n      \"description\": \"How germ theory changed Brazilian public health priorities from miasma to microbes.\",\n      \"title\": \"Germ theory in Brazilian public health\"\n    },\n    {\n      \"description\": \"How laboratory science gained authority in shaping policy, diagnosis, and state intervention.\",\n      \"title\": \"Laboratory medicine as public authority\"\n    },\n    {\n      \"description\": \"How early bacteriological institutes supported surveillance, production of sera, and outbreak response.\",\n      \"title\": \"Public health institutes\"\n    },\n    {\n      \"description\": \"How the First Republic framed sanitation as modernization and national progress.\",\n      \"title\": \"Sanitation as modernization ideology\"\n    },\n    {\n      \"description\": \"How urban sanitation projects targeted water, sewage, and waste as sources of disease.\",\n      \"title\": \"Urban sanitation infrastructure\"\n    },\n    {\n      \"description\": \"How campaigns against mosquitoes became central to controlling yellow fever and other illnesses.\",\n      \"title\": \"Vector control campaigns\"\n    },\n    {\n      \"description\": \"How Oswaldo Cruz became a symbol of technocratic public health and coercive intervention.\",\n      \"title\": \"Oswaldo Cruz as a public health figure\"\n    },\n    {\n      \"description\": \"How compulsory vaccination, policing, and urban reforms triggered popular resistance in Rio de Janeiro.\",\n      \"title\": \"The Vaccine Revolt\"\n    },\n    {\n      \"description\": \"How the state used public health measures that expanded police power over bodies and homes.\",\n      \"title\": \"Coercion in sanitation policy\"\n    },\n    {\n      \"description\": \"How overcrowding and displacement shaped susceptibility to epidemics during urban “reforms.”\",\n      \"title\": \"Urban reform as a health risk\"\n    },\n    {\n      \"description\": \"How sanitation discourse stigmatized the poor as sources of contagion.\",\n      \"title\": \"Blame narratives in public health\"\n    },\n    {\n      \"description\": \"How medical authorities linked “hygiene” to morality, family order, and citizenship.\",\n      \"title\": \"Hygienism as social regulation\"\n    },\n    {\n      \"description\": \"How public health messaging used posters, schools, and press to change behavior.\",\n      \"title\": \"Health propaganda\"\n    },\n    {\n      \"description\": \"How campaigns shifted from emergency responses to routine prevention and monitoring.\",\n      \"title\": \"From outbreak response to prevention\"\n    },\n    {\n      \"description\": \"How rural endemics gained attention as obstacles to productivity and nation-building.\",\n      \"title\": \"Rural disease as a national problem\"\n    },\n    {\n      \"description\": \"How hookworm became a symbol of “backwardness” and justified rural hygiene projects.\",\n      \"title\": \"Hookworm politics\"\n    },\n    {\n      \"description\": \"How Chagas disease connected housing conditions, insects, and poverty to chronic illness.\",\n      \"title\": \"Chagas disease as social diagnosis\"\n    },\n    {\n      \"description\": \"How malaria control tied health policy to frontier expansion and labor needs.\",\n      \"title\": \"Malaria and development\"\n    },\n    {\n      \"description\": \"How leprosy policy built segregated institutions to isolate patients from society.\",\n      \"title\": \"Leprosy segregation policies\"\n    },\n    {\n      \"description\": \"How tuberculosis shaped housing debates, workplace concerns, and sanatorium medicine.\",\n      \"title\": \"Tuberculosis in urban Brazil\"\n    },\n    {\n      \"description\": \"How maternal and infant health became a target of state policy and medical professionalization.\",\n      \"title\": \"Maternal-child health programs\"\n    },\n    {\n      \"description\": \"How nutrition science connected food access, poverty, and national strength.\",\n      \"title\": \"Nutrition as public policy\"\n    },\n    {\n      \"description\": \"How the medical profession organized authority through licensing, associations, and hospital careers.\",\n      \"title\": \"Medical professionalization\"\n    },\n    {\n      \"description\": \"How nursing expanded as a regulated workforce tied to hospitals and public campaigns.\",\n      \"title\": \"Nursing as a health workforce\"\n    },\n    {\n      \"description\": \"How hospital care shifted from charity to state-supported and insured services.\",\n      \"title\": \"Hospitals as public infrastructure\"\n    },\n    {\n      \"description\": \"How sanitation engineering created expert control over water systems, sewers, and urban risk.\",\n      \"title\": \"Sanitary engineering expertise\"\n    },\n    {\n      \"description\": \"How statistics and reporting turned disease into measurable targets for governance.\",\n      \"title\": \"Epidemiological measurement\"\n    },\n    {\n      \"description\": \"How notification requirements and record-keeping changed outbreak detection and response.\",\n      \"title\": \"Disease reporting rules\"\n    },\n    {\n      \"description\": \"How health policy used mapped risk zones to prioritize interventions and resources.\",\n      \"title\": \"Disease mapping practices\"\n    },\n    {\n      \"description\": \"How workplace risks became medicalized through accidents, exposure, and occupational disease debates.\",\n      \"title\": \"Workplace health risks\"\n    },\n    {\n      \"description\": \"How the Vargas era linked health to labor policy and state-building through social insurance.\",\n      \"title\": \"Health under Vargas\"\n    },\n    {\n      \"description\": \"How social insurance created segmented access to medical care based on formal employment.\",\n      \"title\": \"Employment-based health coverage\"\n    },\n    {\n      \"description\": \"How “public” assistance and “insured” medicine formed parallel systems with unequal quality.\",\n      \"title\": \"Dual health system structure\"\n    },\n    {\n      \"description\": \"How immunization campaigns scaled up through centralized logistics and mass mobilization.\",\n      \"title\": \"Mass immunization logistics\"\n    },\n    {\n      \"description\": \"How new antibiotics and therapies changed expectations about state responsibility for treatment.\",\n      \"title\": \"Therapeutic revolutions\"\n    },\n    {\n      \"description\": \"How the military regime expanded infrastructure while deepening regional and class inequalities.\",\n      \"title\": \"Health policy under dictatorship\"\n    },\n    {\n      \"description\": \"How rapid urban growth strained clinics, hospitals, and sanitation services.\",\n      \"title\": \"Urban growth as health pressure\"\n    },\n    {\n      \"description\": \"How public health became a field of political struggle during the late dictatorship and transition.\",\n      \"title\": \"The health reform movement\"\n    },\n    {\n      \"description\": \"How the 1988 Constitution reframed health as a universal right and state duty.\",\n      \"title\": \"Health as a constitutional right\"\n    },\n    {\n      \"description\": \"How SUS was designed to unify fragmented services into a universal system.\",\n      \"title\": \"SUS as system design\"\n    },\n    {\n      \"description\": \"How decentralized governance gave municipalities major responsibility for delivery and planning.\",\n      \"title\": \"Decentralization in SUS\"\n    },\n    {\n      \"description\": \"How “social control” gave councils and conferences a formal role in health governance.\",\n      \"title\": \"Participatory health governance\"\n    },\n    {\n      \"description\": \"How primary care became the entry point for prevention, chronic care, and community outreach.\",\n      \"title\": \"Primary care as SUS foundation\"\n    },\n    {\n      \"description\": \"How the Family Health Strategy organized teams around territories and household follow-up.\",\n      \"title\": \"Family Health Strategy\"\n    },\n    {\n      \"description\": \"How community health workers connected households to clinics and surveillance routines.\",\n      \"title\": \"Community health workers\"\n    },\n    {\n      \"description\": \"How vaccination became a high-coverage national program coordinated across states and cities.\",\n      \"title\": \"National Immunization Program\"\n    },\n    {\n      \"description\": \"How surveillance agencies monitor outbreaks through laboratories, notification, and field investigation.\",\n      \"title\": \"Epidemiological surveillance in SUS\"\n    },\n    {\n      \"description\": \"How ANVISA gained power over drugs, devices, food, and health-related market regulation.\",\n      \"title\": \"ANVISA regulation\"\n    },\n    {\n      \"description\": \"How pharmaceutical policy balanced patents, generics, and industrial strategy.\",\n      \"title\": \"Medicines policy\"\n    },\n    {\n      \"description\": \"How Brazil’s HIV/AIDS response combined prevention, activism, and universal treatment.\",\n      \"title\": \"HIV/AIDS policy model\"\n    },\n    {\n      \"description\": \"How rights-based litigation became a route to access high-cost medicines and procedures.\",\n      \"title\": \"Judicialization of health\"\n    },\n    {\n      \"description\": \"How private plans grew alongside SUS, shaping queues, provider incentives, and inequality.\",\n      \"title\": \"Private health insurance expansion\"\n    },\n    {\n      \"description\": \"How public funding constraints affect staffing, infrastructure, and service availability.\",\n      \"title\": \"SUS financing limits\"\n    },\n    {\n      \"description\": \"How regional gaps in doctors, hospitals, and equipment shape unequal outcomes.\",\n      \"title\": \"Regional health inequality\"\n    },\n    {\n      \"description\": \"How race affects maternal mortality, police violence impacts, and access to timely care.\",\n      \"title\": \"Race as a health inequality axis\"\n    },\n    {\n      \"description\": \"How gender roles and reproductive policy debates shape access to contraception and obstetric care.\",\n      \"title\": \"Gendered health politics\"\n    },\n    {\n      \"description\": \"How Indigenous health services address territory-based care while facing logistical and political barriers.\",\n      \"title\": \"Indigenous health policy\"\n    },\n    {\n      \"description\": \"How prison overcrowding and neglected care create distinct epidemic and chronic disease burdens.\",\n      \"title\": \"Carceral health conditions\"\n    },\n    {\n      \"description\": \"How harm reduction policies became contested tools in responses to drug use and HIV.\",\n      \"title\": \"Harm reduction politics\"\n    },\n    {\n      \"description\": \"How dengue cycles exposed limits of municipal capacity, housing conditions, and vector control.\",\n      \"title\": \"Dengue as recurring crisis\"\n    },\n    {\n      \"description\": \"How Zika linked mosquito policy to reproductive rights, disability, and family support.\",\n      \"title\": \"Zika and reproductive politics\"\n    },\n    {\n      \"description\": \"How COVID-19 stressed hospitals, oxygen supply, and primary care coordination.\",\n      \"title\": \"COVID-19 system stress\"\n    },\n    {\n      \"description\": \"How federalism produced fragmented rules on distancing, closures, and procurement during COVID-19.\",\n      \"title\": \"COVID-19 governance conflicts\"\n    },\n    {\n      \"description\": \"How misinformation and political polarization shaped mask use, vaccines, and risk perception.\",\n      \"title\": \"COVID-19 misinformation dynamics\"\n    },\n    {\n      \"description\": \"How vaccine procurement, regulation, and domestic production became arenas of political dispute.\",\n      \"title\": \"COVID-19 vaccine politics\"\n    },\n    {\n      \"description\": \"How Brazil’s inequality shaped exposure, remote work access, and mortality during COVID-19.\",\n      \"title\": \"Inequality in COVID-19 outcomes\"\n    },\n    {\n      \"description\": \"How favelas organized mutual aid, local data, and communication when state response was insufficient.\",\n      \"title\": \"Community responses to COVID-19\"\n    },\n    {\n      \"description\": \"How excess deaths, undercounting, and testing access affected what the pandemic “looked like” statistically.\",\n      \"title\": \"Counting COVID-19 deaths\"\n    },\n    {\n      \"description\": \"How sanitation drives defined targets, metrics, and moral narratives about cleanliness and order.\",\n      \"title\": \"Sanitation campaigns as governance\"\n    },\n    {\n      \"description\": \"How public health used home inspections to enforce hygiene norms and detect “risk.”\",\n      \"title\": \"Household inspection regimes\"\n    },\n    {\n      \"description\": \"How campaigns treated certain neighborhoods as “problem areas,” reinforcing spatial stigma.\",\n      \"title\": \"Territorial stigma in health policy\"\n    },\n    {\n      \"description\": \"How biomedical expertise legitimized state action while sidelining community knowledge.\",\n      \"title\": \"Biomedical authority in politics\"\n    },\n    {\n      \"description\": \"How expert committees, protocols, and guidelines translate science into policy decisions.\",\n      \"title\": \"Protocols as political instruments\"\n    },\n    {\n      \"description\": \"How clinical trials, procurement, and regulatory approval shape which treatments reach the public.\",\n      \"title\": \"Biomedical innovation pipeline\"\n    },\n    {\n      \"description\": \"How health emergencies expand executive powers and reconfigure civil liberties debates.\",\n      \"title\": \"Emergency powers in epidemics\"\n    },\n    {\n      \"description\": \"How media frames turn outbreaks into narratives about blame, heroism, and national competence.\",\n      \"title\": \"Media framing of epidemics\"\n    },\n    {\n      \"description\": \"How international collaborations shaped Brazilian vaccine production and research capacity.\",\n      \"title\": \"Vaccine production institutions\"\n    },\n    {\n      \"description\": \"How Fiocruz became a major node connecting research, manufacturing, and public policy.\",\n      \"title\": \"Fiocruz as health infrastructure\"\n    },\n    {\n      \"description\": \"How Butantan’s production capacity shaped immunization campaigns and COVID-19 vaccine supply.\",\n      \"title\": \"Butantan as vaccine producer\"\n    },\n    {\n      \"description\": \"How mental health care moved away from asylums toward community-based services in policy debates.\",\n      \"title\": \"Psychiatric reform politics\"\n    },\n    {\n      \"description\": \"How disability policy intersects with health services through benefits, rehabilitation, and care access.\",\n      \"title\": \"Disability and health services\"\n    },\n    {\n      \"description\": \"How chronic diseases shifted the burden toward long-term care, medication access, and prevention.\",\n      \"title\": \"Chronic disease transition\"\n    },\n    {\n      \"description\": \"How obesity policy debates tie food industry power to prevention strategies.\",\n      \"title\": \"Obesity as policy conflict\"\n    },\n    {\n      \"description\": \"How alcohol and tobacco controls became models for regulation, taxation, and public messaging.\",\n      \"title\": \"Tobacco control policies\"\n    },\n    {\n      \"description\": \"How violence and injury became public health issues through emergency care burdens and prevention agendas.\",\n      \"title\": \"Violence as a health burden\"\n    }\n  ]\n}",
      "outputTokens": 2349,
      "systemPrompt": "# Role\n\nYou are designing an **extensive** list of bite-sized, focused lessons for a specific chapter in a course.\n\nYou have expertise in instructional design, curriculum development, and creating granular learning paths. You have worked at top educational institutions creating micro-learning content that breaks down complex topics into digestible, single-concept lessons.\n\nYour mission is to create a lesson structure where each lesson covers **ONE SPECIFIC CONCEPT** that can be learned in 2-3 minutes and explained in 10 short tweets or less.\n\nYou deeply care about making learning accessible, focused, and efficient by breaking down topics into their smallest logical units.\n\n# Inputs\n\n- `COURSE_TITLE`: name of the overall course\n- `CHAPTER_TITLE`: title of this specific chapter\n- `CHAPTER_DESCRIPTION`: what this chapter covers\n- `LANGUAGE`: output language for titles and descriptions\n- `NEIGHBORING_CHAPTERS` (optional): titles and descriptions of chapters that come before and after this one in the course\n\n## Language\n\n- `en`: Use US region unless the content is about a different region.\n- `pt`: Use Brazilian Portuguese unless the content is about a different region.\n- `es`: Use Latin American Spanish unless the content is about a different region.\n\n# Goal\n\nProduce an **extensive** list of **single-concept** lessons that collectively cover everything in `CHAPTER_TITLE` and `CHAPTER_DESCRIPTION`. Each lesson should be so focused that a student can learn and understand the concept in 2-3 minutes.\n\n# Critical Requirements\n\n## Single-Concept Focus\n\n- **Each lesson MUST cover ONE SPECIFIC concept only**\n- If you can explain it in 10 short tweets or less, it's appropriately scoped\n- If it takes more than 10 tweets, **split it into multiple lessons**\n- If a topic is too broad, **break it down further**\n- Each lesson should be extremely focused on a single idea\n\n## Title & Description Requirements\n\n- Follow the same concise, no-fluff style as course chapter title and description\n- **NEVER** use words like \"learn\", \"understand\", \"explore\", \"introduction to\", \"basics of\", etc.\n- Go straight to the point\n- If you find yourself using **\"AND\"**, **\"OR\"**, or **\"VS\"** in a title, you should split it into separate lessons\n\n## Examples of Proper Granularity\n\n**TOO BROAD:**\n❌ \"Hardware vs. Software\"\n❌ \"Variables and Data Types\"\n❌ \"Functions and Methods\"\n\n**CORRECTLY BROKEN DOWN:**\n✅ \"What is Hardware?\"\n✅ \"What is Software?\"\n✅ \"How Hardware and Software Interact\"\n\nOr:\n\n✅ \"Variables: Storing Values\"\n✅ \"Data Types Overview\"\n✅ \"Numbers in Programming\"\n✅ \"Text (Strings) in Programming\"\n✅ \"Booleans (True/False Values)\"\n\n## Progression & Structure\n\n- Build a logical progression from basic to advanced concepts\n- Ensure lessons build on knowledge from previous lessons\n- Focus lessons specifically on THIS chapter, not the entire course\n- Don't add summary, review, or \"key concepts\" lessons\n- Don't add assessment or quiz lessons\n- Don't add final project or capstone lessons\n\n## Scope\n\n- Cover **everything** in `CHAPTER_DESCRIPTION` and `CHAPTER_TITLE`\n- Never go beyond the chapter's scope\n- Add **as many lessons as needed** to break down each concept fully\n- Don't limit the number of lessons arbitrarily\n- It's better to have many focused lessons than fewer broad ones\n- Make sure to have all lessons needed to **fully master the chapter's scope**\n\n## Neighboring Chapter Awareness\n\nWhen `NEIGHBORING_CHAPTERS` is provided, use it to avoid generating dedicated lessons on topics that have their own chapter. For example, if a neighboring chapter covers \"HTTP fundamentals,\" do not create standalone lessons teaching HTTP methods or status codes — those belong in that chapter, not this one.\n\nBrief contextual mentions are fine. For example, a lesson can reference HTTP to explain a concept, but should not become a standalone lesson _about_ HTTP.\n\n# Quality Checks\n\nBefore finalizing your lesson list, ask yourself for EACH lesson:\n\n1. **Is this lesson too broad?** → If yes, break it down further\n2. **Can this concept be explained in 10 short tweets or less?** → If no, split it\n3. **Does this lesson focus on a single specific concept?** → If no, split it\n4. **Does the title contain \"AND\", \"OR\", or \"VS\"?** → If yes, split into separate lessons\n5. **Would a student need more than 2-3 minutes to grasp this?** → If yes, simplify or split\n\n# Output Format\n\nEach lesson must include **exactly two fields**:\n\n- **Title** — short, specific, focused on the single concept\n- **Description** — 1-2 sentences describing what the lesson covers, no fluff\n\n## Good Title Examples\n\n- \"What is a Variable?\"\n- \"Integer Numbers\"\n- \"Floating-Point Numbers\"\n- \"Declaring Variables\"\n- \"Assigning Values\"\n- \"The Addition Operator\"\n- \"The Subtraction Operator\"\n\n## Good Description Examples\n\n- \"Memory locations that store values during program execution.\"\n- \"Whole numbers without decimal points: 1, 42, -17, 0.\"\n- \"Numbers with decimal points: 3.14, -0.5, 2.0.\"\n- \"Creating a variable with a name and type.\"\n- \"Storing a value into a variable using the assignment operator.\"\n\n# Last Check\n\nAfter creating your lesson list, verify:\n\n- \"Does each lesson cover ONLY ONE concept?\" → All must be YES\n- \"Can each lesson be explained in 10 tweets?\" → All must be YES\n- \"Have I covered EVERYTHING from the chapter description?\" → Must be YES\n- \"Are there any lessons that should be split further?\" → Must be NO\n- \"Are the titles and descriptions concise and to the point with no fluff?\" → Must be YES\n- \"Did I stay within the chapter's scope?\" → Must be YES\n- \"Does any lesson teach a topic that belongs in a neighboring chapter?\" → Must be NO\n\nThis should be the most **granular**, **focused**, and **extensive** lesson list possible for this chapter.\n",
      "testCaseId": "en-brazilian-history-health-disease-1",
      "userPrompt": "\n    LANGUAGE: en\n    COURSE_TITLE: Brazilian History\n    CHAPTER_TITLE: Health and disease\n    CHAPTER_DESCRIPTION: Public health, epidemics, health systems, and biomedical politics from the 19th century to COVID-19; sanitation campaigns and inequality.\nNEIGHBORING_CHAPTERS:\n- \"Sports and society\": Football history, race and class in sport, club cultures, mega-events, and stadium politics; sport as national narrative.\n- \"Cities and urban inequality\": Urbanization, housing, sanitation, policing, and informal settlements; favelas, segregation, and metropolitan governance.\n- \"Environmental history and the Amazon\": Amazon, Cerrado, and Atlantic Forest histories: extraction, conservation, Indigenous stewardship, climate politics, and environmental governance.\n- \"Military and national security\": Professionalization of the armed forces, coups, doctrine, and defense policy; civil-military relations in democracy.\n- \"Foreign policy and international relations\": Diplomacy from empire to present: borders, regional leadership, multilateralism, South–South ties, and great-power relations.\n- \"Historiography and public memory\": How Brazil's past is narrated and contested: schools, monuments, museums, reparations debates, transitional justice, and public history.\n  "
    }
  ],
  "taskId": "chapter-lessons"
}
