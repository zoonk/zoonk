{
  "generatedAt": "2026-01-17T21:28:40.861Z",
  "modelId": "anthropic/claude-opus-4.5",
  "outputs": [
    {
      "duration": 127775.27716600001,
      "inputTokens": 3856,
      "output": "{\n  \"questions\": [\n    {\n      \"context\": \"A hospital system is updating a patient's allergy list while simultaneously recording a new prescription. Both operations need to see consistent data about the patient.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exactly! Isolation ensures concurrent operations don't step on each other's toes. Each transaction works with a consistent view of the data.\",\n          \"isCorrect\": true,\n          \"text\": \"Isolation — each operation sees a consistent snapshot as if running alone\"\n        },\n        {\n          \"feedback\": \"Atomicity is about all-or-nothing completion, not about concurrent access. You're looking for the property that handles transactions running at the same time.\",\n          \"isCorrect\": false,\n          \"text\": \"Atomicity — both operations complete or neither does\"\n        },\n        {\n          \"feedback\": \"Durability is about persistence after commit, not concurrent access. The property you need prevents transactions from seeing each other's partial work.\",\n          \"isCorrect\": false,\n          \"text\": \"Durability — changes survive even if the system crashes\"\n        },\n        {\n          \"feedback\": \"Consistency ensures rules aren't violated, but doesn't specifically address concurrent access. Isolation is what keeps parallel transactions from interfering.\",\n          \"isCorrect\": false,\n          \"text\": \"Consistency — the database stays in a valid state\"\n        }\n      ],\n      \"question\": \"What property prevents interference?\"\n    },\n    {\n      \"context\": \"A ride-sharing app processes a payment and assigns a driver. The payment goes through, but the server crashes before the driver assignment completes.\",\n      \"options\": [\n        {\n          \"feedback\": \"Bingo! Atomicity means all-or-nothing. If driver assignment didn't complete, the whole transaction (including payment) must be undone.\",\n          \"isCorrect\": true,\n          \"text\": \"It should be reversed — incomplete transactions must roll back entirely\"\n        },\n        {\n          \"feedback\": \"That's the old, broken way! Atomicity groups related operations together. If part fails, everything rolls back to prevent exactly this kind of inconsistency.\",\n          \"isCorrect\": false,\n          \"text\": \"It should remain — the payment already succeeded independently\"\n        },\n        {\n          \"feedback\": \"Logging order doesn't determine this. Atomicity guarantees the entire transaction either commits or rolls back — no cherry-picking which parts survive.\",\n          \"isCorrect\": false,\n          \"text\": \"It depends on which operation was logged first\"\n        },\n        {\n          \"feedback\": \"Partial completion isn't allowed. The transaction didn't commit, so atomicity requires rolling back everything and starting fresh.\",\n          \"isCorrect\": false,\n          \"text\": \"The system should retry only the driver assignment\"\n        }\n      ],\n      \"question\": \"What should happen to the payment?\"\n    },\n    {\n      \"context\": \"A university registration system has a rule: students can't enroll in more than 18 credits per semester. A transaction attempts to add a 4-credit course to a student already at 16 credits.\",\n      \"options\": [\n        {\n          \"feedback\": \"Right! Consistency ensures transactions can't violate schema rules. The database rejects any operation that would break the credit limit constraint.\",\n          \"isCorrect\": true,\n          \"text\": \"Consistency — it enforces the 18-credit maximum rule\"\n        },\n        {\n          \"feedback\": \"Atomicity is about complete-or-nothing execution, not enforcing business rules. Consistency is what checks constraints like credit limits.\",\n          \"isCorrect\": false,\n          \"text\": \"Atomicity — the transaction must complete fully or not at all\"\n        },\n        {\n          \"feedback\": \"Isolation handles concurrent access, not rule enforcement. The credit limit is a consistency constraint that the database must uphold.\",\n          \"isCorrect\": false,\n          \"text\": \"Isolation — other transactions can't interfere with the enrollment\"\n        },\n        {\n          \"feedback\": \"Durability is about surviving crashes after commit. The constraint violation happens before commit — consistency is what catches it.\",\n          \"isCorrect\": false,\n          \"text\": \"Durability — the enrollment record must persist\"\n        }\n      ],\n      \"question\": \"Which ACID property blocks this?\"\n    },\n    {\n      \"context\": \"A gaming platform saves a player's high score. The server confirms success, but immediately afterward, the entire data center loses power.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exactly! Once the server confirmed (committed), durability guarantees the data survives. Write-ahead logging makes this possible.\",\n          \"isCorrect\": true,\n          \"text\": \"Yes — committed transactions survive crashes through durability\"\n        },\n        {\n          \"feedback\": \"That would defeat the purpose! Durability ensures committed data persists even through crashes. The confirmation means it was committed.\",\n          \"isCorrect\": false,\n          \"text\": \"No — the power loss occurred before the data could be written to disk\"\n        },\n        {\n          \"feedback\": \"No special flag needed. Durability is automatic for committed transactions — it's a fundamental guarantee, not an optional feature.\",\n          \"isCorrect\": false,\n          \"text\": \"Only if the save operation included a special persistence flag\"\n        },\n        {\n          \"feedback\": \"Recovery time doesn't matter. Durability means the data was already secured before the commit confirmation was sent.\",\n          \"isCorrect\": false,\n          \"text\": \"It depends on how quickly the power was restored\"\n        }\n      ],\n      \"question\": \"Will the high score survive?\"\n    },\n    {\n      \"context\": \"Two warehouse workers simultaneously try to claim the last item in inventory for different customer orders. Both see '1 item available' when they start.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exactly! When the first transaction modifies the inventory row, it acquires an exclusive lock. The second must wait, then sees the updated (zero) count.\",\n          \"isCorrect\": true,\n          \"text\": \"Locks force one transaction to wait while the other completes\"\n        },\n        {\n          \"feedback\": \"Merging would cause overselling! Locks serialize access so only one transaction can modify the inventory at a time.\",\n          \"isCorrect\": false,\n          \"text\": \"Both transactions automatically merge their changes\"\n        },\n        {\n          \"feedback\": \"Databases don't create phantom inventory! Locking ensures sequential access, and consistency prevents negative stock.\",\n          \"isCorrect\": false,\n          \"text\": \"The database clones the item so both orders can be fulfilled\"\n        },\n        {\n          \"feedback\": \"Rejecting both wastes the sale. The proper approach uses locks so one transaction completes successfully while the other waits and then sees the truth.\",\n          \"isCorrect\": false,\n          \"text\": \"Both transactions are immediately rejected\"\n        }\n      ],\n      \"question\": \"How do transactions prevent overselling?\"\n    },\n    {\n      \"context\": \"A food delivery app is updating restaurant hours. The admin clicks save, but before confirming, decides to cancel the entire update.\",\n      \"options\": [\n        {\n          \"feedback\": \"Nice! Rollback uses the log to undo changes in reverse order. The restaurant hours return to their previous values as if nothing happened.\",\n          \"isCorrect\": true,\n          \"text\": \"Rollback reverses each operation using the transaction log\"\n        },\n        {\n          \"feedback\": \"Close, but not quite. Changes were made to a buffer and need active reversal. Rollback reads the log and explicitly undoes each operation.\",\n          \"isCorrect\": false,\n          \"text\": \"The database simply ignores uncommitted changes automatically\"\n        },\n        {\n          \"feedback\": \"That would be error-prone and defeat the purpose! Rollback automatically reverses all changes using the recorded log.\",\n          \"isCorrect\": false,\n          \"text\": \"The admin must manually restore the previous values\"\n        },\n        {\n          \"feedback\": \"Uncommitted changes don't linger. Rollback actively reverses them using the log, restoring the exact previous state.\",\n          \"isCorrect\": false,\n          \"text\": \"The changes remain but are marked as 'pending review'\"\n        }\n      ],\n      \"question\": \"What mechanism undoes the changes?\"\n    },\n    {\n      \"context\": \"A music streaming service processes a premium subscription upgrade. The user's payment info and subscription tier must both be updated for the change to be valid.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exactly! Atomicity prevents the nightmare scenario of charging the user but leaving them on the free tier, or vice versa.\",\n          \"isCorrect\": true,\n          \"text\": \"To ensure both updates succeed together or neither happens\"\n        },\n        {\n          \"feedback\": \"Transactions aren't primarily about speed — they're about correctness. Grouping ensures related changes stay consistent.\",\n          \"isCorrect\": false,\n          \"text\": \"To make the updates run faster as a batch operation\"\n        },\n        {\n          \"feedback\": \"Actually, isolation typically hides in-progress changes from others. Grouping is about atomic completion, not visibility.\",\n          \"isCorrect\": false,\n          \"text\": \"To allow other users to see the changes immediately\"\n        },\n        {\n          \"feedback\": \"Log size isn't the concern. Transactions group related operations to guarantee all-or-nothing completion.\",\n          \"isCorrect\": false,\n          \"text\": \"To reduce the disk space used by the operation logs\"\n        }\n      ],\n      \"question\": \"Why group these as one transaction?\"\n    },\n    {\n      \"context\": \"A library system sees Transaction A lock Book #42 and wait for Book #17, while Transaction B holds Book #17 and waits for Book #42. The system freezes.\",\n      \"options\": [\n        {\n          \"feedback\": \"Right! The database identifies the deadlock cycle and sacrifices one transaction to break it. The victim can then retry.\",\n          \"isCorrect\": true,\n          \"text\": \"It detects the circular wait and aborts one transaction\"\n        },\n        {\n          \"feedback\": \"That would leave the system stuck forever! Databases actively detect deadlocks and automatically abort one transaction.\",\n          \"isCorrect\": false,\n          \"text\": \"It waits indefinitely until one user manually cancels\"\n        },\n        {\n          \"feedback\": \"Releasing all locks would corrupt both operations. Instead, only one transaction is aborted to break the cycle.\",\n          \"isCorrect\": false,\n          \"text\": \"It forces both transactions to release all their locks\"\n        },\n        {\n          \"feedback\": \"Creating duplicate data would cause bigger problems! The database breaks deadlocks by aborting one transaction.\",\n          \"isCorrect\": false,\n          \"text\": \"It duplicates the book records so both can proceed\"\n        }\n      ],\n      \"question\": \"How does the database resolve this?\"\n    },\n    {\n      \"context\": \"A busy ticket platform needs maximum throughput. The architects are debating whether to use the strictest isolation level for all operations.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exactly! Serializable isolation is bulletproof but creates more lock contention. Lower levels allow more concurrency with some anomaly risk.\",\n          \"isCorrect\": true,\n          \"text\": \"Higher safety but lower performance due to more waiting\"\n        },\n        {\n          \"feedback\": \"Isolation levels don't affect storage or recovery. The tradeoff is between consistency guarantees and concurrent throughput.\",\n          \"isCorrect\": false,\n          \"text\": \"More disk space usage but faster crash recovery\"\n        },\n        {\n          \"feedback\": \"Durability isn't affected by isolation level. The tradeoff is concurrency performance versus protection from data anomalies.\",\n          \"isCorrect\": false,\n          \"text\": \"Better durability but longer transaction commit times\"\n        },\n        {\n          \"feedback\": \"Schema complexity isn't related to isolation levels. The real tradeoff is between stricter consistency and higher throughput.\",\n          \"isCorrect\": false,\n          \"text\": \"Simpler code but more complex database schemas\"\n        }\n      ],\n      \"question\": \"What's the tradeoff with strict isolation?\"\n    },\n    {\n      \"context\": \"A shipping company's database crashes mid-update. When it restarts, the recovery system examines the write-ahead log.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exactly! The log shows what was committed (needs replaying if not on disk) and what wasn't (needs undoing). This is how databases recover correctly.\",\n          \"isCorrect\": true,\n          \"text\": \"Which transactions were committed and which need to be undone\"\n        },\n        {\n          \"feedback\": \"The log tracks transaction changes, not schema history. It records what each transaction did so recovery can complete or undo them.\",\n          \"isCorrect\": false,\n          \"text\": \"Only the order in which tables were created\"\n        },\n        {\n          \"feedback\": \"Connection info isn't the log's purpose. It records transaction operations to enable correct recovery after crashes.\",\n          \"isCorrect\": false,\n          \"text\": \"How many users were connected at crash time\"\n        },\n        {\n          \"feedback\": \"That's for system diagnostics, not the transaction log. The log tracks operations to enable proper transaction recovery.\",\n          \"isCorrect\": false,\n          \"text\": \"Which hardware component caused the failure\"\n        }\n      ],\n      \"question\": \"What can the log determine?\"\n    },\n    {\n      \"context\": \"Before modern databases existed, a payroll system crashed while processing paychecks. Some employees were paid twice, others not at all.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exactly! Without atomicity, operations could complete halfway. This chaos drove the development of transaction systems.\",\n          \"isCorrect\": true,\n          \"text\": \"Partial updates created inconsistent data without transaction guarantees\"\n        },\n        {\n          \"feedback\": \"Speed wasn't the issue — correctness was. Even a fast system creates problems if operations can be partially completed.\",\n          \"isCorrect\": false,\n          \"text\": \"The database was too slow to handle payroll volume\"\n        },\n        {\n          \"feedback\": \"Security wasn't the root cause. The problem was that related operations weren't grouped to succeed or fail together.\",\n          \"isCorrect\": false,\n          \"text\": \"Employees shared database passwords causing confusion\"\n        },\n        {\n          \"feedback\": \"Backups don't solve mid-operation failures. The issue was lacking atomic, all-or-nothing operation guarantees.\",\n          \"isCorrect\": false,\n          \"text\": \"The payroll data wasn't backed up frequently enough\"\n        }\n      ],\n      \"question\": \"What fundamental problem did this reveal?\"\n    },\n    {\n      \"context\": \"A fitness app tracks workout completion. When a user finishes, the app updates their streak counter, awards badges, and logs the activity. The badge system fails mid-process.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exactly! Atomicity means the whole transaction fails if any part fails. The user retries and gets everything or nothing.\",\n          \"isCorrect\": true,\n          \"text\": \"All updates roll back — streak, badges, and log stay unchanged\"\n        },\n        {\n          \"feedback\": \"That's partial completion — the exact problem transactions solve! Atomicity ensures everything succeeds together or fails together.\",\n          \"isCorrect\": false,\n          \"text\": \"The streak and log save, but badges are skipped\"\n        },\n        {\n          \"feedback\": \"Cherry-picking which parts to retry would create inconsistency. The whole transaction rolls back for a clean retry.\",\n          \"isCorrect\": false,\n          \"text\": \"The system automatically retries only the badge operation\"\n        },\n        {\n          \"feedback\": \"Transactions don't leave the database in limbo. They cleanly roll back, maintaining a consistent state.\",\n          \"isCorrect\": false,\n          \"text\": \"The database enters a 'degraded mode' until manually fixed\"\n        }\n      ],\n      \"question\": \"What should proper transactions cause?\"\n    },\n    {\n      \"context\": \"A car rental system has a rule that no vehicle can be rented to someone under 21. A transaction attempts to create a rental for a 19-year-old.\",\n      \"options\": [\n        {\n          \"feedback\": \"Right! The database enforces schema rules during the transaction. The rental can't be created because it would violate the age constraint.\",\n          \"isCorrect\": true,\n          \"text\": \"Before commit — consistency checks reject the invalid state\"\n        },\n        {\n          \"feedback\": \"Too late! Consistency prevents invalid states from ever being committed. Rules are enforced during the transaction, not after.\",\n          \"isCorrect\": false,\n          \"text\": \"After commit — a background process detects and removes it\"\n        },\n        {\n          \"feedback\": \"Recovery handles crash situations, not rule enforcement. Constraints are checked before commit, blocking invalid data immediately.\",\n          \"isCorrect\": false,\n          \"text\": \"During recovery — the log identifies constraint violations\"\n        },\n        {\n          \"feedback\": \"While apps can add checks, database consistency constraints catch violations that might slip through. The database is the last line of defense.\",\n          \"isCorrect\": false,\n          \"text\": \"Never — applications must enforce such rules themselves\"\n        }\n      ],\n      \"question\": \"At what point is this stopped?\"\n    },\n    {\n      \"context\": \"A hotel reservation system buffers a guest's room booking. The guest can still modify dates and add services before finalizing.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exactly! Transaction changes stay in a buffer, hidden from other transactions until commit makes them permanent and visible.\",\n          \"isCorrect\": true,\n          \"text\": \"Only after commit — changes are invisible until then\"\n        },\n        {\n          \"feedback\": \"That would cause chaos with half-finished bookings! Isolation keeps changes hidden until the transaction commits.\",\n          \"isCorrect\": false,\n          \"text\": \"Immediately — all changes are visible as they're made\"\n        },\n        {\n          \"feedback\": \"Per-field visibility would expose incomplete data. The entire transaction stays invisible until the final commit.\",\n          \"isCorrect\": false,\n          \"text\": \"After each individual field is saved\"\n        },\n        {\n          \"feedback\": \"Buffer size doesn't trigger visibility. Commit is the explicit action that publishes all changes atomically.\",\n          \"isCorrect\": false,\n          \"text\": \"When the buffer reaches a certain size threshold\"\n        }\n      ],\n      \"question\": \"When do other staff see this booking?\"\n    },\n    {\n      \"context\": \"A pharmacy system needs to verify drug interactions before dispensing. One pharmacist is reviewing a prescription while another modifies the patient's medication list.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exactly! Isolation gives each transaction a stable view. The reviewer works with consistent data even while modifications happen elsewhere.\",\n          \"isCorrect\": true,\n          \"text\": \"The reviewer sees a consistent snapshot, unaffected by the ongoing edit\"\n        },\n        {\n          \"feedback\": \"Isolation doesn't require manual coordination — it automatically provides consistent views so work can proceed independently.\",\n          \"isCorrect\": false,\n          \"text\": \"Both pharmacists are blocked until they coordinate manually\"\n        },\n        {\n          \"feedback\": \"Modifications aren't rejected — they're just invisible to concurrent transactions until committed. Both can work simultaneously.\",\n          \"isCorrect\": false,\n          \"text\": \"The modification is automatically rejected to prevent conflicts\"\n        },\n        {\n          \"feedback\": \"Merging would create unpredictable results. Each transaction sees its own consistent snapshot instead.\",\n          \"isCorrect\": false,\n          \"text\": \"The system merges both views into a combined result\"\n        }\n      ],\n      \"question\": \"How does isolation help here?\"\n    },\n    {\n      \"context\": \"A video game saves player progress to the cloud. The game shows 'Save Complete' but the internet disconnects 2 seconds later.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exactly! Durability ensures that once committed (shown as complete), the data survives any subsequent failure, including network loss.\",\n          \"isCorrect\": true,\n          \"text\": \"Yes — 'Save Complete' means the transaction was committed\"\n        },\n        {\n          \"feedback\": \"If the save was confirmed, the transaction committed. Durability guarantees the data persists regardless of what happens after.\",\n          \"isCorrect\": false,\n          \"text\": \"No — the data hadn't fully transferred before disconnection\"\n        },\n        {\n          \"feedback\": \"Any properly implemented transaction system follows durability. Once 'complete' is shown, the commit succeeded.\",\n          \"isCorrect\": false,\n          \"text\": \"It depends on the game's specific save mechanism\"\n        },\n        {\n          \"feedback\": \"Atomicity and durability together mean either all the save committed (and persists) or none of it did. No partial saves.\",\n          \"isCorrect\": false,\n          \"text\": \"Only a portion of the save is preserved\"\n        }\n      ],\n      \"question\": \"Is the progress safe?\"\n    },\n    {\n      \"context\": \"A concert venue wants to sell tickets extremely fast, accepting that occasionally two people might briefly see the same seat as available.\",\n      \"options\": [\n        {\n          \"feedback\": \"Right! Read Committed or lower allows this speed by accepting some inconsistencies. The final commit still prevents actual double-booking.\",\n          \"isCorrect\": true,\n          \"text\": \"Using a lower isolation level that allows some anomalies\"\n        },\n        {\n          \"feedback\": \"That would cause actual double-sales, not just momentary visibility issues. Lowering isolation level is the proper tradeoff.\",\n          \"isCorrect\": false,\n          \"text\": \"Disabling transactions entirely for the ticket table\"\n        },\n        {\n          \"feedback\": \"That's backward! Stricter isolation means more waiting. Lower levels allow more concurrency with some anomaly tolerance.\",\n          \"isCorrect\": false,\n          \"text\": \"Increasing the serializable strictness further\"\n        },\n        {\n          \"feedback\": \"Durability doesn't affect read speed or anomalies. Isolation level is what trades consistency for concurrency.\",\n          \"isCorrect\": false,\n          \"text\": \"Removing durability requirements for speed\"\n        }\n      ],\n      \"question\": \"What isolation adjustment enables this?\"\n    },\n    {\n      \"context\": \"An accounting system processes end-of-day reconciliation. Multiple accounts are adjusted, but a power outage occurs before all adjustments complete.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exactly! The log records every change and whether commit occurred. Recovery uses this to either complete or undo the transaction.\",\n          \"isCorrect\": true,\n          \"text\": \"The write-ahead log shows if the transaction committed or needs rollback\"\n        },\n        {\n          \"feedback\": \"Backups are too coarse for transaction recovery. The write-ahead log provides the detailed per-operation information needed.\",\n          \"isCorrect\": false,\n          \"text\": \"The database compares current values with a nightly backup\"\n        },\n        {\n          \"feedback\": \"Manual inspection would be slow and error-prone. The log enables automatic, correct recovery.\",\n          \"isCorrect\": false,\n          \"text\": \"Administrators must manually inspect each account\"\n        },\n        {\n          \"feedback\": \"Disk state might be inconsistent. The log ensures recovery restores the database to a correct, consistent state.\",\n          \"isCorrect\": false,\n          \"text\": \"The system simply restarts with whatever state was on disk\"\n        }\n      ],\n      \"question\": \"How does recovery determine next steps?\"\n    },\n    {\n      \"context\": \"A developer argues that their simple blog application doesn't need transactions because posts are independent and rarely updated simultaneously.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exactly! Even 'simple' saves involve multiple operations (content, metadata, indexes). Without atomicity, crashes cause corruption.\",\n          \"isCorrect\": true,\n          \"text\": \"A crash mid-save could leave a post partially written with corrupted data\"\n        },\n        {\n          \"feedback\": \"Reading order isn't a data integrity issue. The real risk is partial writes corrupting individual posts during failures.\",\n          \"isCorrect\": false,\n          \"text\": \"Users might read posts in a different order than they were created\"\n        },\n        {\n          \"feedback\": \"Transactions don't speed things up — they ensure correctness. The risk is data corruption, not performance.\",\n          \"isCorrect\": false,\n          \"text\": \"The blog would run slower due to missing transaction overhead\"\n        },\n        {\n          \"feedback\": \"ID sequencing isn't a transaction concern. The danger is crashes leaving posts in an incomplete, corrupted state.\",\n          \"isCorrect\": false,\n          \"text\": \"Post IDs would become non-sequential over time\"\n        }\n      ],\n      \"question\": \"What scenario could still cause problems?\"\n    },\n    {\n      \"context\": \"A stock trading platform must ensure that when a trade executes, the buyer's funds decrease and the seller's funds increase. Regulators audit all changes.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exactly! Atomicity ensures both sides update together, and durability ensures the committed trade records persist for regulatory compliance.\",\n          \"isCorrect\": true,\n          \"text\": \"Atomicity and durability — complete trades that survive audits\"\n        },\n        {\n          \"feedback\": \"All properties matter, but atomicity (complete trades) and durability (surviving for audit) are especially critical for financial regulations.\",\n          \"isCorrect\": false,\n          \"text\": \"Only consistency — the other properties are optional for trading\"\n        },\n        {\n          \"feedback\": \"Isolation helps with concurrent trades, but atomicity (complete transactions) and durability (audit trails) are equally essential.\",\n          \"isCorrect\": false,\n          \"text\": \"Isolation alone handles all trading requirements\"\n        },\n        {\n          \"feedback\": \"Financial transactions absolutely require ACID! Especially atomicity (both sides update) and durability (records persist for audits).\",\n          \"isCorrect\": false,\n          \"text\": \"None specifically — any database works for simple fund transfers\"\n        }\n      ],\n      \"question\": \"Which ACID properties are most critical here?\"\n    }\n  ]\n}",
      "outputTokens": 6254,
      "systemPrompt": "# Role\n\nYou are an expert assessment designer creating a comprehensive **Review** quiz for a learning app. Your mission is to verify whether learners have truly UNDERSTOOD — not merely remembered — all the material from a lesson's content activities.\n\nYou specialize in crafting challenging questions that test logic, problem-solving, and analytical thinking across all content dimensions: WHY (Background), WHAT (Explanation), HOW (Mechanics), and WHERE (Examples).\n\n# Core Philosophy: Understanding vs. Memorization\n\nThis distinction is the heart of effective assessment.\n\n## Why Memorization-Based Questions Fail\n\n1. **False Positives**: A learner who memorized \"electricity flows like water through pipes\" can parrot this back without understanding how circuits actually work.\n\n2. **False Negatives**: A learner who deeply understands electrical circuits might fail a question asking \"What metaphor did the text use?\" because they remember the concept, not the phrasing.\n\n3. **Shallow Learning**: When learners know they'll be tested on exact wording, they memorize instead of building mental models.\n\n## What Understanding Looks Like\n\nA learner who understands a concept can:\n\n- Apply it to situations they've never seen before\n- Recognize the concept at work in unfamiliar contexts\n- Predict outcomes based on the concept's principles\n- Explain why something would or wouldn't work\n- Connect ideas across different content dimensions\n\n## The Transfer Test\n\nEvery question must pass this test: \"Could a learner who understood the material but never read our specific content still answer this correctly?\"\n\nIf no, the question tests memorization, not understanding.\n\n# Non-Negotiable Rules\n\n1. **Never reference the content** — phrases like \"according to the lesson,\" \"as explained,\" or \"in the examples\" are forbidden\n\n2. **Never test recall of specific words, metaphors, or examples** from any activity's steps\n\n3. **Use novel scenarios** — present concepts in everyday situations the learner hasn't seen\n\n4. **Conversational tone** — write like a curious friend posing interesting challenges, not an exam proctor\n\n5. **Challenge the learner** — this is a final review; only those who fully understood should score well\n\n# Using the Inputs\n\nYou receive content from four activities. Here's how to use each:\n\n## BACKGROUND_STEPS (WHY)\n\nThese explain the origin story, historical context, and motivation behind the topic.\n\n- Test whether learners grasp **why** this topic matters\n- Ask questions about the problems it solves, not the history facts\n- Test understanding of context, motivation, and significance\n\n## EXPLANATION_STEPS (WHAT)\n\nThese define the core concepts, components, and terminology.\n\n- Test whether learners understand **what** the concepts mean\n- Present definitions in new contexts to verify comprehension\n- Test relationships between components\n\n## MECHANICS_STEPS (HOW)\n\nThese explain processes, sequences, and cause-effect chains.\n\n- Test whether learners can trace **how** things work\n- Present novel scenarios and ask for predictions\n- Test understanding of cause-effect relationships\n\n## EXAMPLES_STEPS (WHERE)\n\nThese show real-world applications and everyday contexts.\n\n- Test whether learners can **recognize** the topic in new situations\n- Ask them to identify concepts in unfamiliar domains\n- Test ability to connect abstract concepts to concrete applications\n\n# Question Distribution\n\nGenerate 15-20 questions with thoughtful coverage across all content types:\n\n- **Background (WHY)**: questions on context, motivation, and significance\n- **Explanation (WHAT)**: questions on core concepts and relationships\n- **Mechanics (HOW)**: questions on processes and cause-effect\n- **Examples (WHERE)**: questions on recognition and application\n- **Integration**: questions that synthesize multiple content types\n\nThe exact distribution should reflect the depth and complexity of each content area for this specific topic.\n\n# Difficulty Calibration\n\nThis is a comprehensive review. Questions should be challenging enough that only learners who truly understood the material will score well.\n\n## Difficulty Strategies\n\n1. **Plausible Distractors**: Wrong answers should represent common misconceptions, not obviously wrong choices. Each incorrect option should be something a learner might believe if they partially understood.\n\n2. **Novel Contexts**: Place concepts in scenarios not covered in any activity. If the examples discussed shopping carts, test with something completely different.\n\n3. **Reasoning Required**: Questions should require applying knowledge, not recognizing familiar phrases. Ask \"What would happen if...\" or \"Which situation demonstrates...\"\n\n4. **Integration Questions**: Include questions that require connecting ideas across multiple content types (e.g., understanding WHY something exists to predict HOW it might fail).\n\n5. **Edge Cases**: Test boundary conditions and exceptions that reveal whether learners truly grasped the underlying principles.\n\n## What Makes a Question Too Easy\n\n- The correct answer is obviously right without understanding the material\n- The distractors are obviously wrong (factually absurd or unrelated)\n- The question can be answered by pattern-matching familiar phrases\n- The scenario is identical to one in the activities\n\n## What Makes a Question Too Hard\n\n- The question requires external knowledge not covered in any activity\n- The scenario is so abstract that even understanding wouldn't help\n- Multiple answers could be correct depending on interpretation\n- The question tests trivia rather than understanding\n\n# Language Guidelines\n\nGenerate all content in the specified `LANGUAGE`:\n\n- `en`: US English unless content is region-specific\n- `pt`: Brazilian Portuguese unless content is region-specific\n- `es`: Latin American Spanish unless content is region-specific\n\n**Language Purity Rule**: Every word, character, and token in the output MUST be in the specified LANGUAGE. Never mix languages or scripts within a response.\n\n# Question Structure\n\nEach question must have:\n\n## context (max 300 characters)\n\nA novel scenario that sets up the question. This should:\n\n- Place the learner in a realistic situation they haven't seen\n- Provide enough detail to make the question concrete\n- Avoid referencing the lesson content\n\n## question (max 50 characters)\n\nA short, focused question. This should:\n\n- Be direct and clear\n- Ask about understanding, not recall\n- Avoid meta-language about \"the lesson\" or \"the text\"\n\n## options (exactly 4)\n\nFour answer choices, each with:\n\n- **text** (max 80 characters): The answer choice\n- **feedback**: Why this choice is right (with insight) or wrong (and what would be correct) — max 300 characters\n- **isCorrect** (boolean): Whether this is the correct answer\n\nExactly one option must be correct.\n\n## Writing Great Feedback\n\nFeedback should feel like a friendly explanation, not a grade report.\n\n**For correct answers**: Share an \"aha\" insight that deepens understanding. Make learners feel smart for getting it right.\n\n**For wrong answers**: Gently explain the mix-up, then point them toward the right answer with a quick \"here's why that works.\"\n\nThink of it like explaining to a friend over coffee — helpful, not preachy.\n\n**Examples of friendly feedback:**\n\n- \"Nice! Transactions guarantee all-or-nothing — exactly what prevents that half-updated state.\"\n- \"Close, but that's isolation, not atomicity. The right pick is [X] since atomicity is about complete-or-nothing.\"\n- \"Easy mix-up! Higher isolation actually slows things down. The answer is [X] — faster means more risk of anomalies.\"\n\n# Quality Standards\n\nBefore creating each question, verify:\n\n- [ ] Answerable without reading the activities, if the learner understands the concepts\n- [ ] Tests application, reasoning, or integration — not recall\n- [ ] Scenario is novel — not from any activity\n- [ ] Tone is conversational\n- [ ] All distractors are plausible (represent real misconceptions)\n- [ ] Feedback explains reasoning in a friendly, conversational way\n- [ ] Wrong answer feedback gently guides toward the correct answer\n- [ ] Difficulty is appropriate for a comprehensive review\n\n# Coverage Checklist\n\nBefore finalizing the full quiz, verify:\n\n- [ ] All major concepts from EXPLANATION_STEPS are tested\n- [ ] Key processes from MECHANICS_STEPS are covered\n- [ ] Context and motivation from BACKGROUND_STEPS are addressed\n- [ ] Application skills from EXAMPLES_STEPS are tested\n- [ ] We have integration questions connecting multiple content types\n- [ ] Scenarios are varied — no repeated contexts\n- [ ] Question count is between 15-20\n\n# Distractor Design\n\nStrong distractors are essential for valid assessment. For each question:\n\n1. **Identify the concept**: What understanding are you testing?\n2. **Map misconceptions**: What do learners commonly get wrong?\n3. **Craft believable alternatives**: Each wrong answer should be something a partially-understanding learner might pick\n\nCommon misconception patterns to use:\n\n- Confusing cause and effect\n- Overgeneralizing a rule\n- Mixing up related concepts\n- Applying the right process to the wrong situation\n- Understanding the \"what\" but not the \"why\"\n\n# Integration Questions\n\nInclude questions that require synthesizing knowledge across content types:\n\n- **WHY + HOW**: Understanding the motivation helps predict process behavior\n- **WHAT + WHERE**: Knowing the definition helps recognize applications\n- **HOW + WHERE**: Understanding the process helps identify real-world instances\n- **WHY + WHAT + HOW**: Full synthesis of context, concept, and process\n\nIntegration questions are often the most revealing — they show whether learners built a connected mental model or memorized isolated facts.\n\n# Output Format\n\nReturn an object with a `questions` array containing 15-20 question objects. Each question has:\n\n- **context**: Novel scenario (max 300 chars)\n- **question**: Short question (max 50 chars)\n- **options**: Array of exactly 4 options, each with:\n  - **text**: Answer choice (max 80 chars)\n  - **feedback**: Why right (with insight) or wrong (and what would be correct) — max 300 chars\n  - **isCorrect**: Boolean (exactly one true per question)\n",
      "testCaseId": "en-cs-database-transactions-acid-1",
      "userPrompt": "LESSON_TITLE: Database Transactions and ACID\nLESSON_DESCRIPTION: Understanding database transactions and ACID properties for maintaining data integrity in concurrent systems\nCHAPTER_TITLE: Data Integrity\nCOURSE_TITLE: Database Systems\nLANGUAGE: en\n\nBACKGROUND_STEPS:\n1. The Corruption Problem: Before databases had transactions, a power failure during a bank transfer could leave money in limbo — deducted from one account but never credited to another. Data inconsistency was the norm.\n2. Gray's Breakthrough: Jim Gray at IBM tackled this chaos in the 1970s. His insight: group related operations together and guarantee they either all succeed or all fail. No partial states allowed.\n3. The ACID Standard: The ACID properties emerged as the gold standard for reliable data operations. They transformed databases from fragile systems into ones businesses could trust with critical data.\n\nEXPLANATION_STEPS:\n1. Atomicity: Atomicity means 'all or nothing.' A transaction either completes entirely or has no effect at all. There's no partial completion — if any part fails, everything rolls back.\n2. Consistency: Consistency ensures transactions bring the database from one valid state to another. Rules defined in the schema (like account balance >= 0) are never violated.\n3. Isolation: Isolation means concurrent transactions don't interfere with each other. Each transaction sees a consistent snapshot, as if it were running alone.\n4. Durability: Durability guarantees that once a transaction commits, its changes survive system crashes. The database uses write-ahead logging to ensure committed data isn't lost.\n5. Isolation Levels: Isolation levels trade off between consistency and performance. Serializable is safest but slowest; Read Committed is faster but allows some anomalies.\n\nMECHANICS_STEPS:\n1. Transaction Lifecycle: A transaction begins with BEGIN, then executes statements. Changes are held in a buffer, invisible to other transactions until COMMIT makes them permanent.\n2. Write-Ahead Logging: Write-ahead logging records changes before applying them. If a crash occurs mid-transaction, the log allows the database to either complete or undo the changes during recovery.\n3. Locking Mechanisms: Locks prevent concurrent access conflicts. When a transaction modifies a row, it acquires an exclusive lock. Other transactions must wait until the lock releases.\n4. Deadlock Detection: Deadlocks occur when two transactions each hold a lock the other needs. The database detects this circular wait and aborts one transaction to break the cycle.\n5. Rollback Process: ROLLBACK undoes all changes made during the transaction. The database uses the log to reverse each operation in the opposite order it was applied.\n\nEXAMPLES_STEPS:\n1. Banking Transfers: Banking transfers are the classic example. Moving $100 from savings to checking must debit one and credit the other atomically — or neither should happen.\n2. E-commerce Orders: E-commerce checkout involves inventory reduction, payment processing, and order creation. All must succeed together, or the customer gets charged without receiving their product.\n3. Airline Reservations: Airline booking systems face extreme concurrency — thousands of users trying to book the same seats. Transactions prevent double-booking while maintaining performance.\n4. Social Media Posts: Social media platforms use transactions for complex operations like posting a photo with tags, location, and notifications — all must be recorded consistently."
    },
    {
      "duration": 133539.784292,
      "inputTokens": 3890,
      "output": "{\n  \"questions\": [\n    {\n      \"context\": \"A streaming platform notices that users who browse late at night tend to sign up for premium plans more often than daytime browsers, even when shown the same prices.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exactly! Different browsing times correlate with different price sensitivities. This is valuable segmentation data for potential third-degree discrimination.\",\n          \"isCorrect\": true,\n          \"text\": \"Late-night browsers have different price elasticity than daytime browsers\"\n        },\n        {\n          \"feedback\": \"The plan's value doesn't change by time of day. What changes is the type of customer browsing — they likely have different willingness to pay.\",\n          \"isCorrect\": false,\n          \"text\": \"The premium plan is objectively better value at night\"\n        },\n        {\n          \"feedback\": \"This is about customer behavior patterns, not technical infrastructure. The insight is that timing signals something about price sensitivity.\",\n          \"isCorrect\": false,\n          \"text\": \"Nighttime servers process payments more efficiently\"\n        },\n        {\n          \"feedback\": \"The pattern isn't about decision quality — it's about different customer segments having different price sensitivities, which companies can use for pricing.\",\n          \"isCorrect\": false,\n          \"text\": \"People make better decisions at night\"\n        }\n      ],\n      \"question\": \"What does this pattern reveal?\"\n    },\n    {\n      \"context\": \"A gym offers three membership tiers: Basic ($20/month, limited hours), Standard ($40/month, full hours), and Premium ($80/month, full hours plus classes). Most members choose Standard.\",\n      \"options\": [\n        {\n          \"feedback\": \"Spot on! The Basic tier's restrictions make Standard look like a great deal. This menu design nudges price-sensitive customers to self-select into profitable tiers.\",\n          \"isCorrect\": true,\n          \"text\": \"To make the Standard tier appear more valuable by comparison\"\n        },\n        {\n          \"feedback\": \"If maximizing members was the goal, Basic would be more attractive. The restricted Basic tier is designed to push people toward Standard instead.\",\n          \"isCorrect\": false,\n          \"text\": \"To maximize the number of total members\"\n        },\n        {\n          \"feedback\": \"While off-peak access has some logic, the primary purpose of tiered pricing is to segment customers and extract more surplus from each group.\",\n          \"isCorrect\": false,\n          \"text\": \"To cover the gym's fixed costs during off-peak hours\"\n        },\n        {\n          \"feedback\": \"There's no such legal requirement. Menu design with intentionally less-attractive options is a strategic choice to influence customer self-selection.\",\n          \"isCorrect\": false,\n          \"text\": \"Legal requirements mandate a low-cost option\"\n        }\n      ],\n      \"question\": \"Why does the Basic tier exist?\"\n    },\n    {\n      \"context\": \"A concert venue sells tickets at $100 each. A week before the show, 30% of seats remain unsold. Management considers dropping prices to $60 to fill the venue.\",\n      \"options\": [\n        {\n          \"feedback\": \"Bingo! If customers learn that waiting pays off, early buyers become late buyers. This undermines the ability to charge higher prices to less price-sensitive customers.\",\n          \"isCorrect\": true,\n          \"text\": \"Future customers may delay purchases expecting last-minute discounts\"\n        },\n        {\n          \"feedback\": \"The tickets are for the same seats and same show. Price discrimination isn't about product quality differences — it's about capturing different willingness to pay.\",\n          \"isCorrect\": false,\n          \"text\": \"The $60 tickets will be of lower quality than the $100 ones\"\n        },\n        {\n          \"feedback\": \"The venue has 30% unsold capacity — filling those seats doesn't create overcrowding. The concern is about customer behavior in future sales.\",\n          \"isCorrect\": false,\n          \"text\": \"The venue will exceed its legal capacity\"\n        },\n        {\n          \"feedback\": \"Price sensitivity doesn't correlate with fan enthusiasm. The real issue is that predictable discounts train all customers to wait for lower prices.\",\n          \"isCorrect\": false,\n          \"text\": \"Lower-priced attendees will be less enthusiastic fans\"\n        }\n      ],\n      \"question\": \"What risk does this price cut create?\"\n    },\n    {\n      \"context\": \"An ebook retailer sells the same titles for $15 in the US and $5 in India. A tech-savvy customer in the US uses a VPN to access the Indian store.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exactly right! When customers can access lower prices meant for other segments, the whole discrimination strategy breaks down. That's why preventing arbitrage is essential.\",\n          \"isCorrect\": true,\n          \"text\": \"Arbitrage undermines the geographic price discrimination\"\n        },\n        {\n          \"feedback\": \"First-degree discrimination is when sellers charge each buyer their maximum willingness to pay. This customer is exploiting third-degree discrimination, not practicing it.\",\n          \"isCorrect\": false,\n          \"text\": \"The customer is committing first-degree discrimination\"\n        },\n        {\n          \"feedback\": \"It's the exact same digital file. Geographic pricing isn't about quality differences — it's about different markets having different price sensitivities.\",\n          \"isCorrect\": false,\n          \"text\": \"The ebook quality will be lower in India\"\n        },\n        {\n          \"feedback\": \"Digital goods have unlimited supply — there's no scarcity to create shortages. The issue is revenue loss from price discrimination circumvention.\",\n          \"isCorrect\": false,\n          \"text\": \"India will experience a shortage of ebooks\"\n        }\n      ],\n      \"question\": \"What problem does this create?\"\n    },\n    {\n      \"context\": \"A coffee shop owner notices that customers ordering at 7am rarely look at prices, while 2pm customers carefully compare menu options before ordering.\",\n      \"options\": [\n        {\n          \"feedback\": \"Nice! When customers ignore prices, demand is inelastic. The owner could potentially charge more during rush hour to capture this difference in price sensitivity.\",\n          \"isCorrect\": true,\n          \"text\": \"Morning customers have lower price elasticity than afternoon customers\"\n        },\n        {\n          \"feedback\": \"The observation is about price attention, not quality preference. Not checking prices signals willingness to pay, regardless of quality expectations.\",\n          \"isCorrect\": false,\n          \"text\": \"Morning customers prefer higher-quality coffee\"\n        },\n        {\n          \"feedback\": \"Price comparison indicates sensitivity to price, not lack of loyalty. These customers might be very loyal but still budget-conscious.\",\n          \"isCorrect\": false,\n          \"text\": \"Afternoon customers are less loyal to the shop\"\n        },\n        {\n          \"feedback\": \"That's creative, but the more likely explanation is that rushed morning commuters have less time and more willingness to pay than leisurely afternoon visitors.\",\n          \"isCorrect\": false,\n          \"text\": \"The menu is harder to read in the morning light\"\n        }\n      ],\n      \"question\": \"How should the owner interpret this?\"\n    },\n    {\n      \"context\": \"A software company offers its product for $500 to businesses but only $50 to verified students with a .edu email address.\",\n      \"options\": [\n        {\n          \"feedback\": \"Perfect! Students can't afford $500 (elastic), so $50 captures some surplus now. Later, as employees at companies with bigger budgets, they become inelastic buyers.\",\n          \"isCorrect\": true,\n          \"text\": \"Students have high price elasticity now but may become inelastic business buyers later\"\n        },\n        {\n          \"feedback\": \"Price discrimination isn't about cost differences — students get the same product. It's about different groups having different willingness to pay.\",\n          \"isCorrect\": false,\n          \"text\": \"Students use fewer features so the product costs less to provide\"\n        },\n        {\n          \"feedback\": \"Even if support costs differ, the 10x price gap isn't explained by support alone. The strategy is about elasticity differences between segments.\",\n          \"isCorrect\": false,\n          \"text\": \"Business customers require more customer support\"\n        },\n        {\n          \"feedback\": \"There's no legal requirement for educational pricing. Companies offer it strategically to capture a price-sensitive segment and build future customers.\",\n          \"isCorrect\": false,\n          \"text\": \"Students are legally entitled to educational discounts\"\n        }\n      ],\n      \"question\": \"What assumption drives this strategy?\"\n    },\n    {\n      \"context\": \"A hotel room costs $200 on Wednesday nights but $350 on Saturday nights. The room, service, and amenities are identical.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exactly! Leisure weekend travelers often have fewer alternatives and more fixed plans, making them less price-sensitive than flexible business travelers.\",\n          \"isCorrect\": true,\n          \"text\": \"Weekend travelers have lower price elasticity than weekday travelers\"\n        },\n        {\n          \"feedback\": \"Price discrimination specifically isn't about cost differences. Even if weekend labor costs a bit more, it wouldn't justify a 75% price increase for the same room.\",\n          \"isCorrect\": false,\n          \"text\": \"Staff costs more to employ on weekends\"\n        },\n        {\n          \"feedback\": \"The room and service are identical either way. The price difference reflects demand characteristics, not cost differences.\",\n          \"isCorrect\": false,\n          \"text\": \"Weekend guests cause more wear and tear on rooms\"\n        },\n        {\n          \"feedback\": \"Rooms don't need rest! The lower weekday price exists to attract price-sensitive travelers when demand is lower.\",\n          \"isCorrect\": false,\n          \"text\": \"Hotels need to rest their rooms during the week\"\n        }\n      ],\n      \"question\": \"Why the $150 difference?\"\n    },\n    {\n      \"context\": \"A massage therapist charges $80/hour. A new client asks to pay $60, saying that's all they can afford. The therapist has an empty slot and agrees.\",\n      \"options\": [\n        {\n          \"feedback\": \"Right! By negotiating, the therapist is trying to extract this specific customer's maximum willingness to pay. It's imperfect first-degree discrimination.\",\n          \"isCorrect\": true,\n          \"text\": \"An approximation of first-degree discrimination through haggling\"\n        },\n        {\n          \"feedback\": \"Third-degree requires pre-defined groups with different posted prices. This is individual negotiation — closer to first-degree, though imperfect.\",\n          \"isCorrect\": false,\n          \"text\": \"Third-degree discrimination based on income groups\"\n        },\n        {\n          \"feedback\": \"Second-degree offers different versions at different prices. There's only one service here — just a negotiated price for this individual.\",\n          \"isCorrect\": false,\n          \"text\": \"Second-degree discrimination with self-selection\"\n        },\n        {\n          \"feedback\": \"Dynamic pricing involves algorithmic real-time adjustments. This is personal negotiation, which approximates first-degree discrimination.\",\n          \"isCorrect\": false,\n          \"text\": \"Dynamic pricing based on demand signals\"\n        }\n      ],\n      \"question\": \"What type of pricing is this?\"\n    },\n    {\n      \"context\": \"An app store requires that games use their payment system, taking 30% of each sale. A game developer wants to sell directly to customers at a lower price instead.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exactly! If customers can bypass the app store for lower prices, the store loses its ability to capture surplus. Preventing arbitrage is essential to price discrimination.\",\n          \"isCorrect\": true,\n          \"text\": \"Direct sales would create arbitrage that undermines the store's pricing control\"\n        },\n        {\n          \"feedback\": \"The games are identical regardless of purchase channel. The concern is revenue capture, not product quality.\",\n          \"isCorrect\": false,\n          \"text\": \"Direct sales would make the games lower quality\"\n        },\n        {\n          \"feedback\": \"While security is a stated reason, the economic incentive is preventing price-based competition that would erode the store's pricing power.\",\n          \"isCorrect\": false,\n          \"text\": \"The app store wants to protect customers from scams\"\n        },\n        {\n          \"feedback\": \"Actually, developers want to charge less (avoiding the 30% cut). The store blocks this to maintain its revenue from the price difference.\",\n          \"isCorrect\": false,\n          \"text\": \"Developers would charge more without the store's discount\"\n        }\n      ],\n      \"question\": \"Why would the app store block this?\"\n    },\n    {\n      \"context\": \"A ride-sharing app shows you a price of $25 for a trip. Your friend, standing next to you, sees $32 for the exact same route at the exact same time.\",\n      \"options\": [\n        {\n          \"feedback\": \"Bingo! Your phone model, past trip history, and booking patterns all signal willingness to pay. This is personalized pricing approaching first-degree discrimination.\",\n          \"isCorrect\": true,\n          \"text\": \"The app estimates different willingness to pay based on user data\"\n        },\n        {\n          \"feedback\": \"It's the same route, same time, likely the same pool of drivers. The price difference isn't about service quality differences.\",\n          \"isCorrect\": false,\n          \"text\": \"Your friend's trip will have a more experienced driver\"\n        },\n        {\n          \"feedback\": \"Price differences aren't errors — they're features. Apps use sophisticated algorithms to personalize prices based on predicted willingness to pay.\",\n          \"isCorrect\": false,\n          \"text\": \"Random pricing errors are common in apps\"\n        },\n        {\n          \"feedback\": \"They're looking at prices at the same moment, neither has booked yet. The difference comes from personalized pricing, not supply changes.\",\n          \"isCorrect\": false,\n          \"text\": \"Your friend booked first, reducing supply for you\"\n        }\n      ],\n      \"question\": \"What explains the price difference?\"\n    },\n    {\n      \"context\": \"A cable company offers 200 channels for $100/month. Customers complain they only watch 10 channels and want to pay for just those.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exactly! Different customers value different channels. Bundles extract value from varied preferences that individual pricing would miss.\",\n          \"isCorrect\": true,\n          \"text\": \"Bundles capture more total consumer surplus than à la carte pricing\"\n        },\n        {\n          \"feedback\": \"While transmission costs might be similar, the bundling strategy is about revenue maximization through capturing varied preferences, not cost structure.\",\n          \"isCorrect\": false,\n          \"text\": \"Transmitting fewer channels costs the same as transmitting all of them\"\n        },\n        {\n          \"feedback\": \"Unbundling could actually lower prices for popular channels due to competition. The company resists because bundles capture more total surplus.\",\n          \"isCorrect\": false,\n          \"text\": \"Popular channels would become too expensive if unbundled\"\n        },\n        {\n          \"feedback\": \"No such regulation exists. Bundling is a strategic choice to maximize revenue by aggregating diverse customer valuations.\",\n          \"isCorrect\": false,\n          \"text\": \"Federal regulations require minimum channel counts\"\n        }\n      ],\n      \"question\": \"Why does the company resist unbundling?\"\n    },\n    {\n      \"context\": \"A museum offers free admission on Tuesday evenings. Tourists visiting for the weekend can't take advantage of this discount.\",\n      \"options\": [\n        {\n          \"feedback\": \"Perfect! Tourists with fixed travel schedules can't wait for Tuesday — they'll pay full price. Locals with flexibility get the discount. Self-selection in action.\",\n          \"isCorrect\": true,\n          \"text\": \"Time flexibility naturally separates price-sensitive locals from inelastic tourists\"\n        },\n        {\n          \"feedback\": \"Even if costs differ slightly, price discrimination is about capturing different willingness to pay, not matching prices to costs.\",\n          \"isCorrect\": false,\n          \"text\": \"The museum has lower operating costs on Tuesday evenings\"\n        },\n        {\n          \"feedback\": \"Tourists don't choose weekends for crowds — they're constrained by travel schedules. The segmentation works because of schedule flexibility differences.\",\n          \"isCorrect\": false,\n          \"text\": \"Tourists prefer crowded weekend experiences\"\n        },\n        {\n          \"feedback\": \"Art appreciation isn't the variable here. The key is that schedule flexibility correlates with price sensitivity, enabling effective segmentation.\",\n          \"isCorrect\": false,\n          \"text\": \"Tuesday visitors are more appreciative of art\"\n        }\n      ],\n      \"question\": \"What makes this segmentation effective?\"\n    },\n    {\n      \"context\": \"A doctor charges uninsured patients $150 for a visit, but accepts $80 from insurance companies for the same service. The uninsured patient can't negotiate.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exactly! You can't have someone else see the doctor and transfer the treatment to you. Services naturally prevent resale, enabling price discrimination.\",\n          \"isCorrect\": true,\n          \"text\": \"Medical services can't be resold — the patient must personally receive care\"\n        },\n        {\n          \"feedback\": \"Insurance companies negotiate lower prices through buying power, but the reason arbitrage fails is that medical services can't be resold.\",\n          \"isCorrect\": false,\n          \"text\": \"Insurance companies have legal monopolies on lower prices\"\n        },\n        {\n          \"feedback\": \"The service is identical. The price difference reflects market power differences, and arbitrage fails because services aren't transferable.\",\n          \"isCorrect\": false,\n          \"text\": \"Uninsured patients receive higher quality care\"\n        },\n        {\n          \"feedback\": \"While some healthcare is regulated, this scenario is about why service-based discrimination works: services can't be resold to others.\",\n          \"isCorrect\": false,\n          \"text\": \"Medical pricing is set by government regulations\"\n        }\n      ],\n      \"question\": \"What's preventing arbitrage here?\"\n    },\n    {\n      \"context\": \"An e-commerce site notices that customers who visit via price-comparison websites are very likely to abandon carts if prices increase even slightly.\",\n      \"options\": [\n        {\n          \"feedback\": \"Spot on! These customers are actively seeking the best price — small increases drive them elsewhere. They're the textbook definition of elastic demand.\",\n          \"isCorrect\": true,\n          \"text\": \"Comparison shoppers have highly elastic demand\"\n        },\n        {\n          \"feedback\": \"Price accuracy isn't the issue. The insight is that these customers are inherently more price-sensitive than those who come directly.\",\n          \"isCorrect\": false,\n          \"text\": \"The price-comparison websites are showing inaccurate prices\"\n        },\n        {\n          \"feedback\": \"Price sensitivity doesn't mean lower quality standards. These customers want the same product — just at the best available price.\",\n          \"isCorrect\": false,\n          \"text\": \"Comparison shoppers have lower quality standards\"\n        },\n        {\n          \"feedback\": \"Cart abandonment in response to price changes is behavioral, not technical. It reveals high price sensitivity in this customer segment.\",\n          \"isCorrect\": false,\n          \"text\": \"The shopping carts are experiencing technical errors\"\n        }\n      ],\n      \"question\": \"What does this indicate?\"\n    },\n    {\n      \"context\": \"A parking garage charges $5/hour for the first 2 hours, then $2/hour after that. Long-term parkers pay less per hour than short-term ones.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exactly! Someone popping in for a quick errand is less price-sensitive than someone parking all day. The pricing structure exploits this elasticity difference.\",\n          \"isCorrect\": true,\n          \"text\": \"Short-term parkers have more urgent needs and less elastic demand\"\n        },\n        {\n          \"feedback\": \"The pricing isn't about vehicle size. It's about recognizing that urgency and short-term needs signal lower price sensitivity.\",\n          \"isCorrect\": false,\n          \"text\": \"Long cars take up space longer so they should pay less\"\n        },\n        {\n          \"feedback\": \"Processing a 1-hour and 8-hour stay costs roughly the same. The price structure reflects demand elasticity, not administrative costs.\",\n          \"isCorrect\": false,\n          \"text\": \"Administrative costs are higher for short stays\"\n        },\n        {\n          \"feedback\": \"The garage wants the revenue from short-term parkers — they're just capturing more surplus from this less price-sensitive group.\",\n          \"isCorrect\": false,\n          \"text\": \"The garage wants to discourage short-term parking\"\n        }\n      ],\n      \"question\": \"What's the logic of this structure?\"\n    },\n    {\n      \"context\": \"A luxury handbag brand sells the same bags for higher prices in airports than in downtown stores. Both locations have similar rent costs.\",\n      \"options\": [\n        {\n          \"feedback\": \"Right! Travelers with time to kill and fewer shopping options are less price-sensitive. The brand captures this through location-based discrimination.\",\n          \"isCorrect\": true,\n          \"text\": \"Airport shoppers have limited alternatives and lower price elasticity\"\n        },\n        {\n          \"feedback\": \"Packaging costs don't justify significant price differences. The premium comes from capturing surplus from convenience-seeking travelers.\",\n          \"isCorrect\": false,\n          \"text\": \"Airport security requires more expensive packaging\"\n        },\n        {\n          \"feedback\": \"It's the same exact product. Geographic price differences reflect customer segment differences, not product differences.\",\n          \"isCorrect\": false,\n          \"text\": \"Bags sold in airports are made with better materials\"\n        },\n        {\n          \"feedback\": \"Even if labor costs differ, price discrimination is about willingness to pay, not cost recovery. The airport location signals a less elastic customer base.\",\n          \"isCorrect\": false,\n          \"text\": \"Airport staff receive higher wages requiring higher prices\"\n        }\n      ],\n      \"question\": \"Why the airport premium?\"\n    },\n    {\n      \"context\": \"A SaaS company offers Basic ($10/mo), Pro ($25/mo), and Enterprise (custom pricing). Enterprise customers often pay $200/mo or more for similar features.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exactly! Hidden pricing enables negotiation to find each company's ceiling. This approaches first-degree discrimination for high-value customers.\",\n          \"isCorrect\": true,\n          \"text\": \"Custom pricing allows the company to approach each enterprise's maximum willingness to pay\"\n        },\n        {\n          \"feedback\": \"Many enterprise products have standard features. The hidden pricing is strategic — it enables value-based negotiations, not complexity management.\",\n          \"isCorrect\": false,\n          \"text\": \"Enterprise features are too complex to price in advance\"\n        },\n        {\n          \"feedback\": \"Small businesses would just use Basic or Pro. The real reason is that flexible enterprise pricing extracts maximum value from each deal.\",\n          \"isCorrect\": false,\n          \"text\": \"Posting high prices would scare away small business customers\"\n        },\n        {\n          \"feedback\": \"No such requirement exists. Companies hide enterprise pricing strategically to enable personalized negotiation.\",\n          \"isCorrect\": false,\n          \"text\": \"Legal requirements prevent displaying enterprise pricing\"\n        }\n      ],\n      \"question\": \"Why isn't Enterprise pricing posted publicly?\"\n    },\n    {\n      \"context\": \"A theme park sells single-day tickets for $80 and annual passes for $200. Many locals buy annual passes even though they only visit 3-4 times per year.\",\n      \"options\": [\n        {\n          \"feedback\": \"Nice! Tourists pay $80+ per visit. Locals get a discount for commitment, but $200 still exceeds what many would pay for 3-4 individual visits. Both segments are captured.\",\n          \"isCorrect\": true,\n          \"text\": \"It captures surplus from tourists while building loyalty among price-sensitive locals\"\n        },\n        {\n          \"feedback\": \"Pass holders use the same rides, staff, and facilities. The strategy is about revenue capture from different customer types, not cost reduction.\",\n          \"isCorrect\": false,\n          \"text\": \"Annual pass holders cost less to serve per visit\"\n        },\n        {\n          \"feedback\": \"The park benefits from all visitors. The pricing segments capture value from both one-time tourists and repeat local visitors.\",\n          \"isCorrect\": false,\n          \"text\": \"The park prefers customers who visit infrequently\"\n        },\n        {\n          \"feedback\": \"There's no such legal requirement. Annual pass pricing is a strategic choice to segment tourists from locals based on usage patterns.\",\n          \"isCorrect\": false,\n          \"text\": \"Annual passes are required by local zoning laws\"\n        }\n      ],\n      \"question\": \"Why is this pricing profitable?\"\n    },\n    {\n      \"context\": \"A restaurant charges $15 for a burger at lunch and $22 for the same burger at dinner. Food costs and preparation are identical.\",\n      \"options\": [\n        {\n          \"feedback\": \"Perfect! Dinner is often for dates, celebrations, or entertainment — occasions worth paying more for. Lunch is functional, making those customers more elastic.\",\n          \"isCorrect\": true,\n          \"text\": \"Dinner customers have more occasion-driven demand and lower price sensitivity\"\n        },\n        {\n          \"feedback\": \"The lesson states preparation is identical. The price difference reflects customer psychology around dining occasions, not service costs.\",\n          \"isCorrect\": false,\n          \"text\": \"Dinner service requires more experienced chefs\"\n        },\n        {\n          \"feedback\": \"Same burger, same ingredients. Time-based pricing captures different willingness to pay based on dining context, not food quality.\",\n          \"isCorrect\": false,\n          \"text\": \"Ingredients are fresher for dinner service\"\n        },\n        {\n          \"feedback\": \"Even if lunches are quicker, the price discrimination is about capturing more from customers who value the dinner experience more.\",\n          \"isCorrect\": false,\n          \"text\": \"Lunch customers eat faster, requiring less table service\"\n        }\n      ],\n      \"question\": \"What enables this time-based pricing?\"\n    },\n    {\n      \"context\": \"A publisher releases hardcover books at $28, then paperbacks at $15 six months later. Production cost difference is only $3.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exactly! Impatient readers self-select into the expensive option. Patient readers pay less later. The time delay is a segmentation mechanism.\",\n          \"isCorrect\": true,\n          \"text\": \"Eager fans will pay the hardcover premium rather than wait\"\n        },\n        {\n          \"feedback\": \"Publishers could produce paperbacks immediately if they wanted. The delay is strategic — it's about price discrimination, not production constraints.\",\n          \"isCorrect\": false,\n          \"text\": \"Paperback printing requires different equipment that's only available later\"\n        },\n        {\n          \"feedback\": \"Books don't wear out that fast! The delay separates customers by impatience, letting the publisher capture more from eager early buyers.\",\n          \"isCorrect\": false,\n          \"text\": \"Hardcovers need time to wear out before paperbacks can sell\"\n        },\n        {\n          \"feedback\": \"While authors might have preferences, the business logic is segmentation. The delay extracts maximum value from impatient readers before serving patient ones.\",\n          \"isCorrect\": false,\n          \"text\": \"Authors prefer their books be in hardcover first\"\n        }\n      ],\n      \"question\": \"Why the six-month delay?\"\n    }\n  ]\n}",
      "outputTokens": 6534,
      "systemPrompt": "# Role\n\nYou are an expert assessment designer creating a comprehensive **Review** quiz for a learning app. Your mission is to verify whether learners have truly UNDERSTOOD — not merely remembered — all the material from a lesson's content activities.\n\nYou specialize in crafting challenging questions that test logic, problem-solving, and analytical thinking across all content dimensions: WHY (Background), WHAT (Explanation), HOW (Mechanics), and WHERE (Examples).\n\n# Core Philosophy: Understanding vs. Memorization\n\nThis distinction is the heart of effective assessment.\n\n## Why Memorization-Based Questions Fail\n\n1. **False Positives**: A learner who memorized \"electricity flows like water through pipes\" can parrot this back without understanding how circuits actually work.\n\n2. **False Negatives**: A learner who deeply understands electrical circuits might fail a question asking \"What metaphor did the text use?\" because they remember the concept, not the phrasing.\n\n3. **Shallow Learning**: When learners know they'll be tested on exact wording, they memorize instead of building mental models.\n\n## What Understanding Looks Like\n\nA learner who understands a concept can:\n\n- Apply it to situations they've never seen before\n- Recognize the concept at work in unfamiliar contexts\n- Predict outcomes based on the concept's principles\n- Explain why something would or wouldn't work\n- Connect ideas across different content dimensions\n\n## The Transfer Test\n\nEvery question must pass this test: \"Could a learner who understood the material but never read our specific content still answer this correctly?\"\n\nIf no, the question tests memorization, not understanding.\n\n# Non-Negotiable Rules\n\n1. **Never reference the content** — phrases like \"according to the lesson,\" \"as explained,\" or \"in the examples\" are forbidden\n\n2. **Never test recall of specific words, metaphors, or examples** from any activity's steps\n\n3. **Use novel scenarios** — present concepts in everyday situations the learner hasn't seen\n\n4. **Conversational tone** — write like a curious friend posing interesting challenges, not an exam proctor\n\n5. **Challenge the learner** — this is a final review; only those who fully understood should score well\n\n# Using the Inputs\n\nYou receive content from four activities. Here's how to use each:\n\n## BACKGROUND_STEPS (WHY)\n\nThese explain the origin story, historical context, and motivation behind the topic.\n\n- Test whether learners grasp **why** this topic matters\n- Ask questions about the problems it solves, not the history facts\n- Test understanding of context, motivation, and significance\n\n## EXPLANATION_STEPS (WHAT)\n\nThese define the core concepts, components, and terminology.\n\n- Test whether learners understand **what** the concepts mean\n- Present definitions in new contexts to verify comprehension\n- Test relationships between components\n\n## MECHANICS_STEPS (HOW)\n\nThese explain processes, sequences, and cause-effect chains.\n\n- Test whether learners can trace **how** things work\n- Present novel scenarios and ask for predictions\n- Test understanding of cause-effect relationships\n\n## EXAMPLES_STEPS (WHERE)\n\nThese show real-world applications and everyday contexts.\n\n- Test whether learners can **recognize** the topic in new situations\n- Ask them to identify concepts in unfamiliar domains\n- Test ability to connect abstract concepts to concrete applications\n\n# Question Distribution\n\nGenerate 15-20 questions with thoughtful coverage across all content types:\n\n- **Background (WHY)**: questions on context, motivation, and significance\n- **Explanation (WHAT)**: questions on core concepts and relationships\n- **Mechanics (HOW)**: questions on processes and cause-effect\n- **Examples (WHERE)**: questions on recognition and application\n- **Integration**: questions that synthesize multiple content types\n\nThe exact distribution should reflect the depth and complexity of each content area for this specific topic.\n\n# Difficulty Calibration\n\nThis is a comprehensive review. Questions should be challenging enough that only learners who truly understood the material will score well.\n\n## Difficulty Strategies\n\n1. **Plausible Distractors**: Wrong answers should represent common misconceptions, not obviously wrong choices. Each incorrect option should be something a learner might believe if they partially understood.\n\n2. **Novel Contexts**: Place concepts in scenarios not covered in any activity. If the examples discussed shopping carts, test with something completely different.\n\n3. **Reasoning Required**: Questions should require applying knowledge, not recognizing familiar phrases. Ask \"What would happen if...\" or \"Which situation demonstrates...\"\n\n4. **Integration Questions**: Include questions that require connecting ideas across multiple content types (e.g., understanding WHY something exists to predict HOW it might fail).\n\n5. **Edge Cases**: Test boundary conditions and exceptions that reveal whether learners truly grasped the underlying principles.\n\n## What Makes a Question Too Easy\n\n- The correct answer is obviously right without understanding the material\n- The distractors are obviously wrong (factually absurd or unrelated)\n- The question can be answered by pattern-matching familiar phrases\n- The scenario is identical to one in the activities\n\n## What Makes a Question Too Hard\n\n- The question requires external knowledge not covered in any activity\n- The scenario is so abstract that even understanding wouldn't help\n- Multiple answers could be correct depending on interpretation\n- The question tests trivia rather than understanding\n\n# Language Guidelines\n\nGenerate all content in the specified `LANGUAGE`:\n\n- `en`: US English unless content is region-specific\n- `pt`: Brazilian Portuguese unless content is region-specific\n- `es`: Latin American Spanish unless content is region-specific\n\n**Language Purity Rule**: Every word, character, and token in the output MUST be in the specified LANGUAGE. Never mix languages or scripts within a response.\n\n# Question Structure\n\nEach question must have:\n\n## context (max 300 characters)\n\nA novel scenario that sets up the question. This should:\n\n- Place the learner in a realistic situation they haven't seen\n- Provide enough detail to make the question concrete\n- Avoid referencing the lesson content\n\n## question (max 50 characters)\n\nA short, focused question. This should:\n\n- Be direct and clear\n- Ask about understanding, not recall\n- Avoid meta-language about \"the lesson\" or \"the text\"\n\n## options (exactly 4)\n\nFour answer choices, each with:\n\n- **text** (max 80 characters): The answer choice\n- **feedback**: Why this choice is right (with insight) or wrong (and what would be correct) — max 300 characters\n- **isCorrect** (boolean): Whether this is the correct answer\n\nExactly one option must be correct.\n\n## Writing Great Feedback\n\nFeedback should feel like a friendly explanation, not a grade report.\n\n**For correct answers**: Share an \"aha\" insight that deepens understanding. Make learners feel smart for getting it right.\n\n**For wrong answers**: Gently explain the mix-up, then point them toward the right answer with a quick \"here's why that works.\"\n\nThink of it like explaining to a friend over coffee — helpful, not preachy.\n\n**Examples of friendly feedback:**\n\n- \"Nice! Transactions guarantee all-or-nothing — exactly what prevents that half-updated state.\"\n- \"Close, but that's isolation, not atomicity. The right pick is [X] since atomicity is about complete-or-nothing.\"\n- \"Easy mix-up! Higher isolation actually slows things down. The answer is [X] — faster means more risk of anomalies.\"\n\n# Quality Standards\n\nBefore creating each question, verify:\n\n- [ ] Answerable without reading the activities, if the learner understands the concepts\n- [ ] Tests application, reasoning, or integration — not recall\n- [ ] Scenario is novel — not from any activity\n- [ ] Tone is conversational\n- [ ] All distractors are plausible (represent real misconceptions)\n- [ ] Feedback explains reasoning in a friendly, conversational way\n- [ ] Wrong answer feedback gently guides toward the correct answer\n- [ ] Difficulty is appropriate for a comprehensive review\n\n# Coverage Checklist\n\nBefore finalizing the full quiz, verify:\n\n- [ ] All major concepts from EXPLANATION_STEPS are tested\n- [ ] Key processes from MECHANICS_STEPS are covered\n- [ ] Context and motivation from BACKGROUND_STEPS are addressed\n- [ ] Application skills from EXAMPLES_STEPS are tested\n- [ ] We have integration questions connecting multiple content types\n- [ ] Scenarios are varied — no repeated contexts\n- [ ] Question count is between 15-20\n\n# Distractor Design\n\nStrong distractors are essential for valid assessment. For each question:\n\n1. **Identify the concept**: What understanding are you testing?\n2. **Map misconceptions**: What do learners commonly get wrong?\n3. **Craft believable alternatives**: Each wrong answer should be something a partially-understanding learner might pick\n\nCommon misconception patterns to use:\n\n- Confusing cause and effect\n- Overgeneralizing a rule\n- Mixing up related concepts\n- Applying the right process to the wrong situation\n- Understanding the \"what\" but not the \"why\"\n\n# Integration Questions\n\nInclude questions that require synthesizing knowledge across content types:\n\n- **WHY + HOW**: Understanding the motivation helps predict process behavior\n- **WHAT + WHERE**: Knowing the definition helps recognize applications\n- **HOW + WHERE**: Understanding the process helps identify real-world instances\n- **WHY + WHAT + HOW**: Full synthesis of context, concept, and process\n\nIntegration questions are often the most revealing — they show whether learners built a connected mental model or memorized isolated facts.\n\n# Output Format\n\nReturn an object with a `questions` array containing 15-20 question objects. Each question has:\n\n- **context**: Novel scenario (max 300 chars)\n- **question**: Short question (max 50 chars)\n- **options**: Array of exactly 4 options, each with:\n  - **text**: Answer choice (max 80 chars)\n  - **feedback**: Why right (with insight) or wrong (and what would be correct) — max 300 chars\n  - **isCorrect**: Boolean (exactly one true per question)\n",
      "testCaseId": "en-economics-price-discrimination-1",
      "userPrompt": "LESSON_TITLE: Price Discrimination Strategies\nLESSON_DESCRIPTION: Understanding how firms use price discrimination to maximize profits by charging different prices to different customer segments\nCHAPTER_TITLE: Pricing Strategy\nCOURSE_TITLE: Microeconomics\nLANGUAGE: en\n\nBACKGROUND_STEPS:\n1. The Pricing Puzzle: Why do seniors get discounts while business travelers pay premium? Why does software cost different amounts in different countries? Economists discovered the logic behind seemingly arbitrary pricing.\n2. Pigou's Insight: Arthur Pigou formalized price discrimination theory in the 1920s. He showed that charging different prices to different customers could actually be economically efficient under certain conditions.\n3. The Data Revolution: The rise of big data transformed price discrimination from crude segmentation to personalized pricing. Every click, purchase, and search helps companies estimate your willingness to pay.\n\nEXPLANATION_STEPS:\n1. Definition: Price discrimination means charging different prices for the same product to different customers. It's not about cost differences — it's about extracting more consumer surplus.\n2. First-Degree: First-degree discrimination charges each customer their maximum willingness to pay. It's theoretically perfect but practically impossible without mind-reading. Haggling approximates it.\n3. Second-Degree: Second-degree discrimination offers different versions at different prices. Customers self-select based on their preferences — like choosing between economy and business class.\n4. Third-Degree: Third-degree discrimination segments customers into groups with different elasticities. Charge more to inelastic groups (business travelers), less to elastic groups (tourists).\n5. Elasticity Connection: Price elasticity of demand determines pricing power. If demand barely changes with price (inelastic), firms can charge more. If demand is sensitive (elastic), prices must stay low.\n\nMECHANICS_STEPS:\n1. Preventing Arbitrage: To price discriminate, a firm must prevent arbitrage — customers who get the low price reselling to those who'd pay more. Physical services naturally prevent this; digital goods require DRM.\n2. Segmentation Signals: Market segmentation identifies groups with different price sensitivities. Age, location, purchase timing, and usage patterns all signal willingness to pay.\n3. Menu Design: Menu pricing creates product versions that appeal to different segments. The 'basic' version exists partly to make the 'premium' version look valuable by comparison.\n4. Dynamic Adjustment: Dynamic pricing adjusts prices in real-time based on demand signals. High demand triggers price increases; low demand triggers discounts. Algorithms optimize continuously.\n5. Bundling Strategy: Bundling combines products to extract more surplus. Cable TV bundles make you pay for channels you don't want because the package captures more total willingness to pay.\n\nEXAMPLES_STEPS:\n1. Airline Pricing: Airlines are masters of price discrimination. The same seat costs $200 or $2000 depending on when you book, whether you stay Saturday, and if you're flying for business or leisure.\n2. Movie Tickets: Movie theaters charge different prices for matinees, seniors, and students. They're segmenting customers by time flexibility and price sensitivity.\n3. Educational Discounts: Academic software discounts are dramatic — students might pay $50 for software that costs businesses $500. The assumption: students can't afford full price but will become paying customers later.\n4. Happy Hour Economics: Happy hour pricing segments customers by time availability. Those who can drink at 4pm are often more price-sensitive than the 8pm crowd willing to pay full price."
    },
    {
      "duration": 157139.06945900002,
      "inputTokens": 4211,
      "output": "{\n  \"questions\": [\n    {\n      \"context\": \"Uma fábrica está desenvolvendo um novo sistema de aquecimento. O engenheiro chefe afirma que conseguiu criar um dispositivo que gera mais energia do que consome.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exato! A primeira lei é clara: energia não se cria. Qualquer dispositivo que prometa isso está violando uma das leis mais fundamentais da física.\",\n          \"isCorrect\": true,\n          \"text\": \"Viola a conservação de energia — energia não pode surgir do nada\"\n        },\n        {\n          \"feedback\": \"Temperaturas extremas afetam eficiência, mas o problema aqui é mais básico: criar energia do nada viola a primeira lei da termodinâmica.\",\n          \"isCorrect\": false,\n          \"text\": \"O dispositivo precisa de temperaturas extremas para funcionar\"\n        },\n        {\n          \"feedback\": \"A entropia limita conversões, mas sistemas podem gerar trabalho. O problema é prometer mais energia saindo do que entrando — isso viola a primeira lei.\",\n          \"isCorrect\": false,\n          \"text\": \"A entropia impede que sistemas gerem qualquer energia\"\n        },\n        {\n          \"feedback\": \"Motores podem operar em ciclos contínuos. A questão aqui é que gerar mais energia do que se consome viola a conservação de energia.\",\n          \"isCorrect\": false,\n          \"text\": \"Motores só funcionam em ciclos, nunca continuamente\"\n        }\n      ],\n      \"question\": \"Qual é o problema dessa afirmação?\"\n    },\n    {\n      \"context\": \"Você deixa uma xícara de café quente sobre a mesa da cozinha. Depois de uma hora, percebe que o café está na mesma temperatura do ambiente.\",\n      \"options\": [\n        {\n          \"feedback\": \"Energia não se destrói! O café transferiu calor para o ambiente — a energia total continua a mesma, só mudou de lugar.\",\n          \"isCorrect\": false,\n          \"text\": \"O café destruiu sua energia térmica ao esfriar\"\n        },\n        {\n          \"feedback\": \"Isso mesmo! A segunda lei em ação: calor flui naturalmente do quente para o frio até atingir equilíbrio térmico. Nunca ao contrário sem trabalho externo.\",\n          \"isCorrect\": true,\n          \"text\": \"O calor fluiu espontaneamente do café quente para o ar mais frio\"\n        },\n        {\n          \"feedback\": \"A xícara conduz calor, mas não o armazena permanentemente. O calor se dispersou para todo o ambiente até o equilíbrio térmico.\",\n          \"isCorrect\": false,\n          \"text\": \"A xícara absorveu todo o calor e o armazenou permanentemente\"\n        },\n        {\n          \"feedback\": \"Não é o frio que \\\"entra\\\" — é o calor que sai! Calor é transferência de energia térmica, e flui do café quente para o ar mais frio.\",\n          \"isCorrect\": false,\n          \"text\": \"O ar frio entrou no café e baixou sua temperatura\"\n        }\n      ],\n      \"question\": \"O que explica esse fenômeno?\"\n    },\n    {\n      \"context\": \"Um inventor propõe um motor que absorve calor do ambiente frio e o converte 100% em trabalho útil, sem nenhuma fonte quente adicional.\",\n      \"options\": [\n        {\n          \"feedback\": \"A primeira lei permite usar calor como fonte de energia. O problema é converter 100% em trabalho — isso viola a segunda lei.\",\n          \"isCorrect\": false,\n          \"text\": \"Porque a primeira lei exige uma fonte de combustível\"\n        },\n        {\n          \"feedback\": \"Exato! A segunda lei proíbe extrair trabalho de uma única fonte térmica sem rejeitar calor. Isso diminuiria a entropia total, o que é impossível espontaneamente.\",\n          \"isCorrect\": true,\n          \"text\": \"Porque processos espontâneos sempre aumentam a entropia total\"\n        },\n        {\n          \"feedback\": \"Motores térmicos funcionam com calor, não necessariamente eletricidade. O problema é tentar converter 100% do calor em trabalho, violando a segunda lei.\",\n          \"isCorrect\": false,\n          \"text\": \"Porque motores precisam de eletricidade para funcionar\"\n        },\n        {\n          \"feedback\": \"Calor pode sim ser convertido em trabalho — é o que motores térmicos fazem! O impossível é converter 100%, pois sempre há perda para aumentar a entropia.\",\n          \"isCorrect\": false,\n          \"text\": \"Porque calor e trabalho são formas incompatíveis de energia\"\n        }\n      ],\n      \"question\": \"Por que esse motor é impossível?\"\n    },\n    {\n      \"context\": \"Uma piscina olímpica contém milhões de litros de água a 25°C. Uma xícara de chá está a 80°C.\",\n      \"options\": [\n        {\n          \"feedback\": \"Temperatura alta não significa mais energia térmica total! A piscina tem muito mais massa, então contém muito mais energia, mesmo em temperatura menor.\",\n          \"isCorrect\": false,\n          \"text\": \"A xícara de chá, pois está a uma temperatura maior\"\n        },\n        {\n          \"feedback\": \"Isso! Calor é energia térmica total, que depende de massa e temperatura. A piscina, com milhões de litros, armazena muito mais energia mesmo estando mais fria.\",\n          \"isCorrect\": true,\n          \"text\": \"A piscina, pois tem enormemente mais massa de água\"\n        },\n        {\n          \"feedback\": \"Temperatura e energia térmica são coisas diferentes! A piscina tem muito mais massa, portanto muito mais energia térmica armazenada.\",\n          \"isCorrect\": false,\n          \"text\": \"Ambos têm o mesmo calor, apenas temperaturas diferentes\"\n        },\n        {\n          \"feedback\": \"Podemos comparar energia térmica sem entropia. A piscina tem enormemente mais massa, logo contém muito mais energia térmica total.\",\n          \"isCorrect\": false,\n          \"text\": \"Impossível comparar sem saber a entropia de cada sistema\"\n        }\n      ],\n      \"question\": \"Qual sistema contém mais calor?\"\n    },\n    {\n      \"context\": \"Um engenheiro projeta um motor que opera entre uma caldeira a 500K e o ambiente a 300K. Ele promete atingir 50% de eficiência.\",\n      \"options\": [\n        {\n          \"feedback\": \"O limite de Carnot é (500-300)/500 = 40%. Então 50% está acima do máximo teórico, não abaixo.\",\n          \"isCorrect\": false,\n          \"text\": \"Não, a eficiência máxima seria apenas 20%\"\n        },\n        {\n          \"feedback\": \"Perfeito! O limite de Carnot é (Tquente - Tfria)/Tquente = (500-300)/500 = 0,4 = 40%. Prometendo 50%, o engenheiro está violando a física!\",\n          \"isCorrect\": true,\n          \"text\": \"Não, pois 50% excede o limite teórico de 40%\"\n        },\n        {\n          \"feedback\": \"O cálculo está errado. O limite de Carnot é (500-300)/500 = 40%, então 50% é impossível, não realista.\",\n          \"isCorrect\": false,\n          \"text\": \"Sim, 50% está abaixo do limite teórico de 60%\"\n        },\n        {\n          \"feedback\": \"Infelizmente não. O limite de Carnot é fundamental — nenhuma tecnologia o supera. Aqui o máximo é 40%, tornando 50% impossível.\",\n          \"isCorrect\": false,\n          \"text\": \"Sim, com tecnologia moderna qualquer eficiência é possível\"\n        }\n      ],\n      \"question\": \"Essa promessa é realista?\"\n    },\n    {\n      \"context\": \"Dois blocos metálicos idênticos, um a 100°C e outro a 20°C, são colocados em contato térmico num recipiente isolado.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exatamente! No equilíbrio térmico, as temperaturas se igualam (média: 60°C) e a troca líquida de energia cessa, embora trocas microscópicas continuem.\",\n          \"isCorrect\": true,\n          \"text\": \"Ambos atingem 60°C e param de trocar energia líquida\"\n        },\n        {\n          \"feedback\": \"A transferência para quando as temperaturas se igualam. Sem diferença de temperatura, não há fluxo líquido de calor.\",\n          \"isCorrect\": false,\n          \"text\": \"O bloco quente continua perdendo calor indefinidamente\"\n        },\n        {\n          \"feedback\": \"Em recipiente isolado, a energia total se conserva! Ela só se redistribui entre os blocos até atingirem a mesma temperatura.\",\n          \"isCorrect\": false,\n          \"text\": \"A energia total do sistema diminui até o equilíbrio\"\n        },\n        {\n          \"feedback\": \"Isso violaria a segunda lei — calor não flui espontaneamente do frio para o quente. O equilíbrio é na temperatura média.\",\n          \"isCorrect\": false,\n          \"text\": \"Eventualmente um bloco terá 120°C e outro 0°C\"\n        }\n      ],\n      \"question\": \"O que acontece após muito tempo?\"\n    },\n    {\n      \"context\": \"Uma usina nuclear gera vapor a 600K que move turbinas, rejeitando calor para um rio a 300K. A usina opera a 25% de eficiência.\",\n      \"options\": [\n        {\n          \"feedback\": \"A energia nuclear vira calor, que move as turbinas. A eficiência baixa é uma limitação termodinâmica, não da fonte de energia.\",\n          \"isCorrect\": false,\n          \"text\": \"Porque toda energia nuclear se transforma em radiação\"\n        },\n        {\n          \"feedback\": \"Boa análise! O limite de Carnot é (600-300)/600 = 50%. Na prática, atritos e irreversibilidades reduzem para menos que isso, como os 25% observados.\",\n          \"isCorrect\": true,\n          \"text\": \"Porque existe um limite teórico de 50%, e perdas práticas o reduzem\"\n        },\n        {\n          \"feedback\": \"O rio recebe o calor rejeitado, não a energia útil. A baixa eficiência vem dos limites termodinâmicos mais perdas práticas.\",\n          \"isCorrect\": false,\n          \"text\": \"Porque o rio absorve toda a energia útil da usina\"\n        },\n        {\n          \"feedback\": \"A primeira lei apenas conserva energia, não limita eficiência. O limite vem da segunda lei (Carnot), que aqui seria 50%.\",\n          \"isCorrect\": false,\n          \"text\": \"Porque a primeira lei impede eficiências acima de 25%\"\n        }\n      ],\n      \"question\": \"Por que a eficiência é tão baixa?\"\n    },\n    {\n      \"context\": \"Um atleta corre uma maratona e consome cerca de 3000 kcal em energia dos alimentos. Porém, o trabalho mecânico real dos seus músculos é muito menor.\",\n      \"options\": [\n        {\n          \"feedback\": \"Os músculos não armazenam toda essa energia. A maior parte é convertida em calor — é por isso que você sua e aquece durante o exercício.\",\n          \"isCorrect\": false,\n          \"text\": \"É armazenada nos músculos para uso posterior\"\n        },\n        {\n          \"feedback\": \"Isso mesmo! O corpo humano é uma máquina térmica com eficiência limitada. A maior parte da energia vira calor — por isso suamos para resfriar.\",\n          \"isCorrect\": true,\n          \"text\": \"É dissipada como calor devido aos limites termodinâmicos\"\n        },\n        {\n          \"feedback\": \"Energia nunca é destruída — primeira lei! Ela se transforma, principalmente em calor que o corpo precisa dissipar.\",\n          \"isCorrect\": false,\n          \"text\": \"É destruída pelo esforço físico intenso\"\n        },\n        {\n          \"feedback\": \"A respiração troca gases, não energia em grande escala. A energia vira calor, dissipado principalmente pela pele (suor e radiação).\",\n          \"isCorrect\": false,\n          \"text\": \"É transferida para o ar através da respiração\"\n        }\n      ],\n      \"question\": \"Para onde vai a maior parte da energia?\"\n    },\n    {\n      \"context\": \"Um físico explica que seu quarto, embora pareça igual ao de ontem, está microscopicamente em uma configuração completamente diferente de moléculas.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exato! O quarto \\\"arrumado\\\" macroscopicamente corresponde a trilhões de arranjos microscópicos diferentes — todas essas são configurações de alta entropia igualmente prováveis.\",\n          \"isCorrect\": true,\n          \"text\": \"Configurações de alta entropia são vastamente mais numerosas\"\n        },\n        {\n          \"feedback\": \"A entropia não diminui espontaneamente. O quarto explora diferentes microestados de alta entropia, não fica mais ordenado.\",\n          \"isCorrect\": false,\n          \"text\": \"A entropia do quarto está diminuindo naturalmente\"\n        },\n        {\n          \"feedback\": \"A mudança de configuração não requer ganho de energia. É simplesmente a natureza estatística da entropia — muitos microestados para cada macroestado.\",\n          \"isCorrect\": false,\n          \"text\": \"As moléculas estão ganhando energia do ambiente\"\n        },\n        {\n          \"feedback\": \"Mesmo em equilíbrio, moléculas mudam de configuração constantemente. Isso ilustra a natureza probabilística da entropia, não uma perturbação.\",\n          \"isCorrect\": false,\n          \"text\": \"O equilíbrio térmico foi perturbado recentemente\"\n        }\n      ],\n      \"question\": \"O que esse fato ilustra sobre entropia?\"\n    },\n    {\n      \"context\": \"Em uma noite fria, você percebe que uma maçaneta de metal parece muito mais fria ao toque do que a porta de madeira ao lado, embora ambas estejam na mesma temperatura ambiente.\",\n      \"options\": [\n        {\n          \"feedback\": \"Após horas no mesmo ambiente, ambos estão na mesma temperatura! A diferença está em como conduzem o calor da sua mão.\",\n          \"isCorrect\": false,\n          \"text\": \"O metal realmente está mais frio que a madeira\"\n        },\n        {\n          \"feedback\": \"Perfeito! O metal tem alta condutividade térmica — remove calor da sua pele muito mais rápido que a madeira, causando a sensação de \\\"mais frio\\\".\",\n          \"isCorrect\": true,\n          \"text\": \"O metal conduz calor mais rapidamente, removendo calor da sua mão\"\n        },\n        {\n          \"feedback\": \"Entropia não explica a sensação de temperatura. A diferença é a velocidade de condução de calor — metais conduzem muito mais rápido.\",\n          \"isCorrect\": false,\n          \"text\": \"A madeira absorve menos entropia do ambiente\"\n        },\n        {\n          \"feedback\": \"O equilíbrio térmico se aplica a todos os materiais! A diferença é a taxa de condução de calor, não a temperatura final.\",\n          \"isCorrect\": false,\n          \"text\": \"O equilíbrio térmico não se aplica a materiais diferentes\"\n        }\n      ],\n      \"question\": \"O que causa essa sensação diferente?\"\n    },\n    {\n      \"context\": \"Um ar-condicionado remove calor de um ambiente interno a 20°C e o libera no ambiente externo a 35°C.\",\n      \"options\": [\n        {\n          \"feedback\": \"É possível sim! A segunda lei proíbe isso espontaneamente, mas com trabalho externo (eletricidade), podemos inverter o fluxo natural de calor.\",\n          \"isCorrect\": false,\n          \"text\": \"Não é possível — viola a segunda lei da termodinâmica\"\n        },\n        {\n          \"feedback\": \"Exato! Uma bomba de calor usa trabalho (eletricidade) para forçar calor do frio para o quente. Não viola a segunda lei porque há input de energia.\",\n          \"isCorrect\": true,\n          \"text\": \"O aparelho usa trabalho externo para mover calor contra o gradiente\"\n        },\n        {\n          \"feedback\": \"Calor não pode ser destruído — primeira lei! O ar-condicionado transfere calor para fora, usando trabalho para inverter o fluxo natural.\",\n          \"isCorrect\": false,\n          \"text\": \"O calor interno é destruído, não transferido\"\n        },\n        {\n          \"feedback\": \"Processos adiabáticos não trocam calor com o ambiente. Para mover calor do frio para o quente é necessário trabalho externo, não um processo especial.\",\n          \"isCorrect\": false,\n          \"text\": \"Processos adiabáticos permitem essa inversão naturalmente\"\n        }\n      ],\n      \"question\": \"Como isso é possível termodinamicamente?\"\n    },\n    {\n      \"context\": \"Um estudante pergunta: \\\"Se a entropia sempre aumenta, como existem seres vivos organizados e estruturas complexas no universo?\\\"\",\n      \"options\": [\n        {\n          \"feedback\": \"A segunda lei não tem exceções! Seres vivos existem porque a entropia total do universo ainda aumenta — eles só criam ordem local.\",\n          \"isCorrect\": false,\n          \"text\": \"A segunda lei está errada — seres vivos são exceções\"\n        },\n        {\n          \"feedback\": \"Exatamente! A segunda lei se aplica ao universo como um todo. Seres vivos criam ordem local exportando entropia (calor, resíduos) para o ambiente.\",\n          \"isCorrect\": true,\n          \"text\": \"Sistemas locais podem diminuir entropia se a entropia total aumentar\"\n        },\n        {\n          \"feedback\": \"A distinção artificial/natural não existe para a física. A segunda lei é universal — mas permite ordem local com aumento de entropia global.\",\n          \"isCorrect\": false,\n          \"text\": \"A entropia só aumenta em sistemas artificiais, não naturais\"\n        },\n        {\n          \"feedback\": \"Seres vivos são sistemas físicos e obedecem todas as leis! Eles mantêm ordem interna exportando entropia para o ambiente.\",\n          \"isCorrect\": false,\n          \"text\": \"Seres vivos não obedecem às leis da termodinâmica\"\n        }\n      ],\n      \"question\": \"Qual a melhor resposta para essa dúvida?\"\n    },\n    {\n      \"context\": \"Um gás em um cilindro é comprimido muito rapidamente por um pistão, sem tempo para trocar calor com as paredes.\",\n      \"options\": [\n        {\n          \"feedback\": \"Em processo isotérmico, haveria troca de calor para manter a temperatura. Aqui, sem troca de calor, a temperatura aumenta — é adiabático.\",\n          \"isCorrect\": false,\n          \"text\": \"Processo isotérmico — a temperatura permanece constante\"\n        },\n        {\n          \"feedback\": \"Isso! Compressão rápida sem tempo para troca de calor é adiabática. A energia do trabalho se converte em energia interna, aumentando a temperatura.\",\n          \"isCorrect\": true,\n          \"text\": \"Processo adiabático — não há troca de calor com o ambiente\"\n        },\n        {\n          \"feedback\": \"Ao comprimir um gás, a pressão aumenta, então não é isobárico. A característica chave aqui é não haver troca de calor — processo adiabático.\",\n          \"isCorrect\": false,\n          \"text\": \"Processo isobárico — a pressão permanece constante\"\n        },\n        {\n          \"feedback\": \"Compressão rápida pode ser irreversível, mas isso não viola leis. A característica principal é não trocar calor — definindo um processo adiabático.\",\n          \"isCorrect\": false,\n          \"text\": \"Processo irreversível — viola as leis da termodinâmica\"\n        }\n      ],\n      \"question\": \"Que tipo de processo é esse?\"\n    },\n    {\n      \"context\": \"Em um dia ensolarado, você sente o calor do sol mesmo estando no vácuo do espaço (se estivesse numa nave com janela transparente).\",\n      \"options\": [\n        {\n          \"feedback\": \"A condução requer contato material. O calor atravessa o vácuo antes de chegar ao vidro — isso é possível por radiação eletromagnética.\",\n          \"isCorrect\": false,\n          \"text\": \"Por condução através do vidro da janela\"\n        },\n        {\n          \"feedback\": \"Exato! A radiação é o único mecanismo de transferência de calor que não precisa de meio material. O sol aquece a Terra através de 150 milhões de km de vácuo!\",\n          \"isCorrect\": true,\n          \"text\": \"Por radiação — ondas eletromagnéticas atravessam o vácuo\"\n        },\n        {\n          \"feedback\": \"Convecção requer fluido (gás ou líquido). No vácuo espacial, praticamente não há partículas — a transferência é por radiação eletromagnética.\",\n          \"isCorrect\": false,\n          \"text\": \"Por convecção de partículas solares no espaço\"\n        },\n        {\n          \"feedback\": \"Calor por condução e convecção não atravessam, mas radiação sim! Ondas eletromagnéticas viajam pelo vácuo — é assim que o sol nos aquece.\",\n          \"isCorrect\": false,\n          \"text\": \"Isso é impossível — calor não atravessa o vácuo\"\n        }\n      ],\n      \"question\": \"Como o calor solar chega sem meio material?\"\n    },\n    {\n      \"context\": \"Um engenheiro quer aumentar a eficiência de uma usina termelétrica. Ele propõe duas opções: aquecer mais a fonte quente ou resfriar mais a fonte fria.\",\n      \"options\": [\n        {\n          \"feedback\": \"Não é só a diferença absoluta! A eficiência de Carnot depende da razão (Tq-Tf)/Tq. Aquecer a fonte quente ou resfriar a fria têm efeitos diferentes.\",\n          \"isCorrect\": false,\n          \"text\": \"Ambas são equivalentes — só importa a diferença absoluta\"\n        },\n        {\n          \"feedback\": \"Depende dos valores! Às vezes resfriar a fonte fria pode ser mais eficiente. Ambas estratégias aumentam (Tq-Tf)/Tq, e a melhor depende das temperaturas atuais.\",\n          \"isCorrect\": false,\n          \"text\": \"Aumentar a temperatura da fonte quente é sempre mais eficaz\"\n        },\n        {\n          \"feedback\": \"Correto! Tanto aquecer a fonte quente quanto resfriar a fria aumentam (Tq-Tf)/Tq. A viabilidade prática de cada uma depende da situação específica.\",\n          \"isCorrect\": true,\n          \"text\": \"Ambas aumentam a eficiência ao aumentar a diferença de temperaturas\"\n        },\n        {\n          \"feedback\": \"A segunda lei define um limite máximo, não um valor fixo. Aumentar a diferença de temperaturas eleva esse limite máximo de eficiência.\",\n          \"isCorrect\": false,\n          \"text\": \"Nenhuma funciona — a eficiência é fixa pela segunda lei\"\n        }\n      ],\n      \"question\": \"Qual estratégia é mais eficaz?\"\n    },\n    {\n      \"context\": \"Após uma tempestade, você observa que poças d'água evaporam mesmo em temperatura ambiente, bem abaixo do ponto de ebulição.\",\n      \"options\": [\n        {\n          \"feedback\": \"Ebulição ocorre a 100°C, mas evaporação acontece em qualquer temperatura! Moléculas com energia suficiente escapam — é um processo estatístico normal.\",\n          \"isCorrect\": false,\n          \"text\": \"Sim, água só deveria evaporar a 100°C\"\n        },\n        {\n          \"feedback\": \"Exato! A temperatura é uma média — algumas moléculas têm energia bem acima da média. Essas podem escapar, causando evaporação em qualquer temperatura.\",\n          \"isCorrect\": true,\n          \"text\": \"Não, algumas moléculas têm energia suficiente para escapar\"\n        },\n        {\n          \"feedback\": \"O sol aquece, mas não a 100°C em poças. A evaporação ocorre porque há uma distribuição de velocidades moleculares — algumas moléculas têm energia para escapar.\",\n          \"isCorrect\": false,\n          \"text\": \"Não, porque o sol cria temperaturas locais de 100°C\"\n        },\n        {\n          \"feedback\": \"A primeira lei não é violada — a energia para evaporação vem do ambiente (por isso a poça esfria). É um processo termodinamicamente consistente.\",\n          \"isCorrect\": false,\n          \"text\": \"Sim, a primeira lei está sendo violada\"\n        }\n      ],\n      \"question\": \"Isso contradiz as leis da termodinâmica?\"\n    },\n    {\n      \"context\": \"Um físico afirma que é teoricamente impossível atingir o zero absoluto (-273,15°C), mesmo com tecnologia infinitamente avançada.\",\n      \"options\": [\n        {\n          \"feedback\": \"Não é limitação tecnológica — é uma barreira fundamental! A terceira lei da termodinâmica estabelece que nenhum processo finito atinge o zero absoluto.\",\n          \"isCorrect\": false,\n          \"text\": \"Porque a tecnologia atual ainda é muito limitada\"\n        },\n        {\n          \"feedback\": \"Isso! Para resfriar algo, você precisa transferir calor para algo mais frio. No zero absoluto, não existe \\\"mais frio\\\" — é uma barreira fundamental.\",\n          \"isCorrect\": true,\n          \"text\": \"Porque atingir o zero exigiria remover calor para um sistema ainda mais frio\"\n        },\n        {\n          \"feedback\": \"A entropia pode se aproximar de zero, mas o problema é o processo de chegar lá — cada passo de resfriamento fica exponencialmente mais difícil.\",\n          \"isCorrect\": false,\n          \"text\": \"Porque a entropia precisa ser exatamente zero, o que é impossível\"\n        },\n        {\n          \"feedback\": \"A primeira lei é sobre conservação de energia, não temperaturas mínimas. A impossibilidade vem da necessidade de um reservatório mais frio que não existe.\",\n          \"isCorrect\": false,\n          \"text\": \"Porque a primeira lei proíbe temperaturas negativas em Kelvin\"\n        }\n      ],\n      \"question\": \"Por que o zero absoluto é inatingível?\"\n    },\n    {\n      \"context\": \"Uma pessoa argumenta que guardar um cubo de gelo na geladeira impede que ele derreta, \\\"pausando\\\" as leis da termodinâmica.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exato! A geladeira não pausa nada — ela constantemente remove calor do interior, gastando energia. O equilíbrio é mantido ativamente, não pausado.\",\n          \"isCorrect\": true,\n          \"text\": \"A geladeira ainda consome energia para manter o gelo frio\"\n        },\n        {\n          \"feedback\": \"Se a geladeira estiver abaixo de 0°C (freezer), o gelo não derrete. Mas as leis não são pausadas — a geladeira trabalha continuamente para manter isso.\",\n          \"isCorrect\": false,\n          \"text\": \"O gelo eventualmente derrete mesmo na geladeira\"\n        },\n        {\n          \"feedback\": \"As leis são universais! A geladeira funciona precisamente por causa delas — usa trabalho para mover calor do frio para o quente.\",\n          \"isCorrect\": false,\n          \"text\": \"As leis da termodinâmica não se aplicam dentro de geladeiras\"\n        },\n        {\n          \"feedback\": \"Manter temperatura baixa num ambiente mais quente requer remoção constante de calor. A geladeira faz isso continuamente, consumindo energia.\",\n          \"isCorrect\": false,\n          \"text\": \"O gelo não precisa de energia para manter sua forma\"\n        }\n      ],\n      \"question\": \"Qual é o erro nesse raciocínio?\"\n    },\n    {\n      \"context\": \"Um inventor propõe usar o calor desperdiçado por um motor para alimentar o próprio motor, criando um ciclo perpétuo de reaproveitamento total.\",\n      \"options\": [\n        {\n          \"feedback\": \"Perfeito! A segunda lei garante que nunca convertemos 100% de calor em trabalho. Cada ciclo de reaproveitamento perde mais energia, até o sistema parar.\",\n          \"isCorrect\": true,\n          \"text\": \"Porque cada conversão de calor em trabalho tem perdas obrigatórias\"\n        },\n        {\n          \"feedback\": \"Podemos coletar calor desperdiçado (cogeração faz isso), mas não podemos convertê-lo 100% em trabalho novamente. Sempre há perdas.\",\n          \"isCorrect\": false,\n          \"text\": \"Porque o calor desperdiçado não pode ser recoletado\"\n        },\n        {\n          \"feedback\": \"Temperatura baixa reduz eficiência, mas o problema fundamental é que nenhuma reconversão é 100% eficiente. O ciclo sempre perde energia.\",\n          \"isCorrect\": false,\n          \"text\": \"Porque a temperatura do calor residual é muito baixa\"\n        },\n        {\n          \"feedback\": \"A primeira lei permite reutilização — energia se conserva! O problema é a segunda lei: cada conversão calor→trabalho tem eficiência menor que 100%.\",\n          \"isCorrect\": false,\n          \"text\": \"Porque a primeira lei proíbe reutilização de energia\"\n        }\n      ],\n      \"question\": \"Por que esse esquema não funciona?\"\n    },\n    {\n      \"context\": \"Durante uma febre, a temperatura corporal sobe para 39°C. A pessoa sente frio e tremedeiras, mesmo estando objetivamente mais quente.\",\n      \"options\": [\n        {\n          \"feedback\": \"Na verdade, os tremores geram calor! A sensação de frio vem do \\\"termostato\\\" corporal estar configurado para um valor mais alto que a temperatura atual.\",\n          \"isCorrect\": false,\n          \"text\": \"O corpo está transferindo calor para o ambiente mais rapidamente\"\n        },\n        {\n          \"feedback\": \"A entropia não explica a sensação de frio. O corpo está trabalhando para atingir a nova temperatura-alvo mais alta do termostato interno.\",\n          \"isCorrect\": false,\n          \"text\": \"A entropia corporal está diminuindo, causando desconforto\"\n        },\n        {\n          \"feedback\": \"Exato! A febre eleva o \\\"setpoint\\\" do hipotálamo. O corpo, estando \\\"abaixo\\\" desse novo alvo, age como se estivesse frio — tremores geram calor para atingir 39°C.\",\n          \"isCorrect\": true,\n          \"text\": \"O ponto de ajuste do termostato interno foi elevado, então o corpo busca aquecer-se\"\n        },\n        {\n          \"feedback\": \"As leis físicas não mudam! O corpo simplesmente está tentando atingir um novo ponto de equilíbrio térmico mais alto, definido pelo sistema imunológico.\",\n          \"isCorrect\": false,\n          \"text\": \"A primeira lei está temporariamente alterada durante a doença\"\n        }\n      ],\n      \"question\": \"Como a termodinâmica explica isso?\"\n    }\n  ]\n}",
      "outputTokens": 8215,
      "systemPrompt": "# Role\n\nYou are an expert assessment designer creating a comprehensive **Review** quiz for a learning app. Your mission is to verify whether learners have truly UNDERSTOOD — not merely remembered — all the material from a lesson's content activities.\n\nYou specialize in crafting challenging questions that test logic, problem-solving, and analytical thinking across all content dimensions: WHY (Background), WHAT (Explanation), HOW (Mechanics), and WHERE (Examples).\n\n# Core Philosophy: Understanding vs. Memorization\n\nThis distinction is the heart of effective assessment.\n\n## Why Memorization-Based Questions Fail\n\n1. **False Positives**: A learner who memorized \"electricity flows like water through pipes\" can parrot this back without understanding how circuits actually work.\n\n2. **False Negatives**: A learner who deeply understands electrical circuits might fail a question asking \"What metaphor did the text use?\" because they remember the concept, not the phrasing.\n\n3. **Shallow Learning**: When learners know they'll be tested on exact wording, they memorize instead of building mental models.\n\n## What Understanding Looks Like\n\nA learner who understands a concept can:\n\n- Apply it to situations they've never seen before\n- Recognize the concept at work in unfamiliar contexts\n- Predict outcomes based on the concept's principles\n- Explain why something would or wouldn't work\n- Connect ideas across different content dimensions\n\n## The Transfer Test\n\nEvery question must pass this test: \"Could a learner who understood the material but never read our specific content still answer this correctly?\"\n\nIf no, the question tests memorization, not understanding.\n\n# Non-Negotiable Rules\n\n1. **Never reference the content** — phrases like \"according to the lesson,\" \"as explained,\" or \"in the examples\" are forbidden\n\n2. **Never test recall of specific words, metaphors, or examples** from any activity's steps\n\n3. **Use novel scenarios** — present concepts in everyday situations the learner hasn't seen\n\n4. **Conversational tone** — write like a curious friend posing interesting challenges, not an exam proctor\n\n5. **Challenge the learner** — this is a final review; only those who fully understood should score well\n\n# Using the Inputs\n\nYou receive content from four activities. Here's how to use each:\n\n## BACKGROUND_STEPS (WHY)\n\nThese explain the origin story, historical context, and motivation behind the topic.\n\n- Test whether learners grasp **why** this topic matters\n- Ask questions about the problems it solves, not the history facts\n- Test understanding of context, motivation, and significance\n\n## EXPLANATION_STEPS (WHAT)\n\nThese define the core concepts, components, and terminology.\n\n- Test whether learners understand **what** the concepts mean\n- Present definitions in new contexts to verify comprehension\n- Test relationships between components\n\n## MECHANICS_STEPS (HOW)\n\nThese explain processes, sequences, and cause-effect chains.\n\n- Test whether learners can trace **how** things work\n- Present novel scenarios and ask for predictions\n- Test understanding of cause-effect relationships\n\n## EXAMPLES_STEPS (WHERE)\n\nThese show real-world applications and everyday contexts.\n\n- Test whether learners can **recognize** the topic in new situations\n- Ask them to identify concepts in unfamiliar domains\n- Test ability to connect abstract concepts to concrete applications\n\n# Question Distribution\n\nGenerate 15-20 questions with thoughtful coverage across all content types:\n\n- **Background (WHY)**: questions on context, motivation, and significance\n- **Explanation (WHAT)**: questions on core concepts and relationships\n- **Mechanics (HOW)**: questions on processes and cause-effect\n- **Examples (WHERE)**: questions on recognition and application\n- **Integration**: questions that synthesize multiple content types\n\nThe exact distribution should reflect the depth and complexity of each content area for this specific topic.\n\n# Difficulty Calibration\n\nThis is a comprehensive review. Questions should be challenging enough that only learners who truly understood the material will score well.\n\n## Difficulty Strategies\n\n1. **Plausible Distractors**: Wrong answers should represent common misconceptions, not obviously wrong choices. Each incorrect option should be something a learner might believe if they partially understood.\n\n2. **Novel Contexts**: Place concepts in scenarios not covered in any activity. If the examples discussed shopping carts, test with something completely different.\n\n3. **Reasoning Required**: Questions should require applying knowledge, not recognizing familiar phrases. Ask \"What would happen if...\" or \"Which situation demonstrates...\"\n\n4. **Integration Questions**: Include questions that require connecting ideas across multiple content types (e.g., understanding WHY something exists to predict HOW it might fail).\n\n5. **Edge Cases**: Test boundary conditions and exceptions that reveal whether learners truly grasped the underlying principles.\n\n## What Makes a Question Too Easy\n\n- The correct answer is obviously right without understanding the material\n- The distractors are obviously wrong (factually absurd or unrelated)\n- The question can be answered by pattern-matching familiar phrases\n- The scenario is identical to one in the activities\n\n## What Makes a Question Too Hard\n\n- The question requires external knowledge not covered in any activity\n- The scenario is so abstract that even understanding wouldn't help\n- Multiple answers could be correct depending on interpretation\n- The question tests trivia rather than understanding\n\n# Language Guidelines\n\nGenerate all content in the specified `LANGUAGE`:\n\n- `en`: US English unless content is region-specific\n- `pt`: Brazilian Portuguese unless content is region-specific\n- `es`: Latin American Spanish unless content is region-specific\n\n**Language Purity Rule**: Every word, character, and token in the output MUST be in the specified LANGUAGE. Never mix languages or scripts within a response.\n\n# Question Structure\n\nEach question must have:\n\n## context (max 300 characters)\n\nA novel scenario that sets up the question. This should:\n\n- Place the learner in a realistic situation they haven't seen\n- Provide enough detail to make the question concrete\n- Avoid referencing the lesson content\n\n## question (max 50 characters)\n\nA short, focused question. This should:\n\n- Be direct and clear\n- Ask about understanding, not recall\n- Avoid meta-language about \"the lesson\" or \"the text\"\n\n## options (exactly 4)\n\nFour answer choices, each with:\n\n- **text** (max 80 characters): The answer choice\n- **feedback**: Why this choice is right (with insight) or wrong (and what would be correct) — max 300 characters\n- **isCorrect** (boolean): Whether this is the correct answer\n\nExactly one option must be correct.\n\n## Writing Great Feedback\n\nFeedback should feel like a friendly explanation, not a grade report.\n\n**For correct answers**: Share an \"aha\" insight that deepens understanding. Make learners feel smart for getting it right.\n\n**For wrong answers**: Gently explain the mix-up, then point them toward the right answer with a quick \"here's why that works.\"\n\nThink of it like explaining to a friend over coffee — helpful, not preachy.\n\n**Examples of friendly feedback:**\n\n- \"Nice! Transactions guarantee all-or-nothing — exactly what prevents that half-updated state.\"\n- \"Close, but that's isolation, not atomicity. The right pick is [X] since atomicity is about complete-or-nothing.\"\n- \"Easy mix-up! Higher isolation actually slows things down. The answer is [X] — faster means more risk of anomalies.\"\n\n# Quality Standards\n\nBefore creating each question, verify:\n\n- [ ] Answerable without reading the activities, if the learner understands the concepts\n- [ ] Tests application, reasoning, or integration — not recall\n- [ ] Scenario is novel — not from any activity\n- [ ] Tone is conversational\n- [ ] All distractors are plausible (represent real misconceptions)\n- [ ] Feedback explains reasoning in a friendly, conversational way\n- [ ] Wrong answer feedback gently guides toward the correct answer\n- [ ] Difficulty is appropriate for a comprehensive review\n\n# Coverage Checklist\n\nBefore finalizing the full quiz, verify:\n\n- [ ] All major concepts from EXPLANATION_STEPS are tested\n- [ ] Key processes from MECHANICS_STEPS are covered\n- [ ] Context and motivation from BACKGROUND_STEPS are addressed\n- [ ] Application skills from EXAMPLES_STEPS are tested\n- [ ] We have integration questions connecting multiple content types\n- [ ] Scenarios are varied — no repeated contexts\n- [ ] Question count is between 15-20\n\n# Distractor Design\n\nStrong distractors are essential for valid assessment. For each question:\n\n1. **Identify the concept**: What understanding are you testing?\n2. **Map misconceptions**: What do learners commonly get wrong?\n3. **Craft believable alternatives**: Each wrong answer should be something a partially-understanding learner might pick\n\nCommon misconception patterns to use:\n\n- Confusing cause and effect\n- Overgeneralizing a rule\n- Mixing up related concepts\n- Applying the right process to the wrong situation\n- Understanding the \"what\" but not the \"why\"\n\n# Integration Questions\n\nInclude questions that require synthesizing knowledge across content types:\n\n- **WHY + HOW**: Understanding the motivation helps predict process behavior\n- **WHAT + WHERE**: Knowing the definition helps recognize applications\n- **HOW + WHERE**: Understanding the process helps identify real-world instances\n- **WHY + WHAT + HOW**: Full synthesis of context, concept, and process\n\nIntegration questions are often the most revealing — they show whether learners built a connected mental model or memorized isolated facts.\n\n# Output Format\n\nReturn an object with a `questions` array containing 15-20 question objects. Each question has:\n\n- **context**: Novel scenario (max 300 chars)\n- **question**: Short question (max 50 chars)\n- **options**: Array of exactly 4 options, each with:\n  - **text**: Answer choice (max 80 chars)\n  - **feedback**: Why right (with insight) or wrong (and what would be correct) — max 300 chars\n  - **isCorrect**: Boolean (exactly one true per question)\n",
      "testCaseId": "pt-physics-thermodynamics-laws-1",
      "userPrompt": "LESSON_TITLE: Leis da Termodinamica\nLESSON_DESCRIPTION: Compreendendo as leis da termodinamica e como elas governam a transferencia de energia e os limites de eficiencia em todos os processos fisicos\nCHAPTER_TITLE: Termodinamica\nCOURSE_TITLE: Fisica Geral\nLANGUAGE: pt\n\nBACKGROUND_STEPS:\n1. O Sonho Impossivel: No seculo XIX, engenheiros queriam construir maquinas a vapor mais eficientes. Sadi Carnot percebeu que havia um limite fundamental — nenhuma maquina poderia converter todo calor em trabalho.\n2. As Leis Universais: Rudolf Clausius e Lord Kelvin formalizaram as leis da termodinamica. Elas explicam por que o cafe esfria, por que precisamos comer, e por que o universo caminha para a desordem.\n3. Solidez da Teoria: A termodinamica e uma das teorias mais robustas da fisica. Einstein disse que, de todas as teorias, ela e a menos provavel de ser derrubada por descobertas futuras.\n\nEXPLANATION_STEPS:\n1. Primeira Lei: A primeira lei diz que energia nao se cria nem se destroi — apenas se transforma. Toda energia que entra em um sistema deve sair ou ser armazenada. E um balanco contabil universal.\n2. Segunda Lei: A segunda lei afirma que processos espontaneos aumentam a entropia total. Calor flui do quente para o frio naturalmente, nunca ao contrario sem trabalho externo.\n3. Entropia: Entropia mede a dispersao de energia entre microestados possiveis. Sistemas evoluem para configuracoes mais provaveis — e configuracoes de alta entropia sao vastamente mais provaveis.\n4. Equilibrio Termico: Equilibrio termico ocorre quando dois sistemas em contato param de trocar energia liquida. Eles atingem a mesma temperatura, mas nao necessariamente a mesma energia.\n5. Calor vs Temperatura: Calor e a transferencia de energia termica entre sistemas. Temperatura mede a energia cinetica media das moleculas. Calor alto com temperatura baixa e possivel (muito material, movimento lento).\n\nMECHANICS_STEPS:\n1. Ciclo do Motor Termico: Em um motor termico, calor flui da fonte quente para a fria. Parte dessa energia e capturada como trabalho. O resto e desperdicado como calor para o ambiente.\n2. Limite de Carnot: O ciclo de Carnot define a eficiencia maxima teorica. Depende apenas das temperaturas das fontes quente e fria. Quanto maior a diferenca, maior a eficiencia possivel.\n3. Bomba de Calor: Bombas de calor invertem o fluxo natural. Usam trabalho para mover calor do frio para o quente — como a geladeira que remove calor do interior e o despeja no ambiente.\n4. Tipos de Processos: Processos isotermicos mantem temperatura constante. Processos adiabaticos nao trocam calor com o ambiente. Cada tipo segue equacoes especificas de expansao e compressao.\n5. Mecanismos de Transferencia: A conducao, conveccao e radiacao sao os tres mecanismos de transferencia de calor. Cada um domina em situacoes diferentes — metais conduzem, liquidos convectam, o sol irradia.\n\nEXAMPLES_STEPS:\n1. A Geladeira: A geladeira e uma bomba de calor que move energia do interior frio para o exterior quente. Isso requer trabalho — por isso ela consome eletricidade continuamente.\n2. Motores de Combustao: Motores de carro convertem energia quimica do combustivel em movimento. Mas pelo menos 60-70% da energia e perdida como calor — os limites termodinamicos sao implacaveis.\n3. Geracao de Energia: Usinas termeletricas queimam combustivel para gerar vapor que move turbinas. A eficiencia tipica e 30-40% — a maior parte da energia se dissipa no ambiente.\n4. O Corpo Humano: Seu corpo e uma maquina termica. Converte energia dos alimentos em trabalho e calor. Febre significa que o termostato interno foi reconfigurado para uma temperatura mais alta."
    },
    {
      "duration": 131653.581333,
      "inputTokens": 4148,
      "output": "{\n  \"questions\": [\n    {\n      \"context\": \"En una junta de directivos, el CEO propone un plan de expansión riesgoso. Aunque varios miembros tienen dudas serias, nadie las expresa porque ven que los demás asienten en silencio.\",\n      \"options\": [\n        {\n          \"feedback\": \"Tentador, pero no están buscando información del grupo. Su silencio viene del miedo al rechazo social, no de creer que los demás saben más.\",\n          \"isCorrect\": false,\n          \"text\": \"Influencia informacional, porque asumen que el CEO tiene más información\"\n        },\n        {\n          \"feedback\": \"¡Exacto! Callan sus dudas no porque crean que están equivocados, sino porque temen las consecuencias sociales de disentir.\",\n          \"isCorrect\": true,\n          \"text\": \"Influencia normativa, porque buscan evitar el rechazo del grupo\"\n        },\n        {\n          \"feedback\": \"El CEO tiene autoridad, pero aquí el problema es que nadie rompe el silencio grupal. Es presión horizontal entre pares, no una orden directa del jefe.\",\n          \"isCorrect\": false,\n          \"text\": \"Obediencia a la autoridad, porque el CEO tiene el poder jerárquico\"\n        },\n        {\n          \"feedback\": \"La desindividuación implica anonimato y pérdida de autoconciencia. Aquí están muy conscientes de sí mismos — precisamente por eso callan.\",\n          \"isCorrect\": false,\n          \"text\": \"Desindividuación, porque pierden su identidad en el grupo\"\n        }\n      ],\n      \"question\": \"¿Qué tipo de influencia predomina aquí?\"\n    },\n    {\n      \"context\": \"Un estudiante nuevo llega a una ciudad desconocida y busca un restaurante para cenar. Ve dos locales: uno vacío y otro lleno de gente. Elige el lleno asumiendo que la comida debe ser mejor.\",\n      \"options\": [\n        {\n          \"feedback\": \"No busca aceptación social. Usa la popularidad del restaurante como pista de calidad porque no tiene otra información.\",\n          \"isCorrect\": false,\n          \"text\": \"Influencia normativa — quiere ser aceptado por otros comensales\"\n        },\n        {\n          \"feedback\": \"¡Correcto! En situaciones ambiguas (no conoce la ciudad), asume que la multitud tiene información que él no tiene.\",\n          \"isCorrect\": true,\n          \"text\": \"Influencia informacional — usa al grupo como fuente de información\"\n        },\n        {\n          \"feedback\": \"La escalada requiere compromisos previos incrementales. Aquí es una decisión inicial sin inversiones anteriores.\",\n          \"isCorrect\": false,\n          \"text\": \"Escalada de compromiso — ya invirtió esfuerzo en buscar\"\n        },\n        {\n          \"feedback\": \"Las normas prescriptivas dictan lo que 'debería' hacerse moralmente. Aquí simplemente infiere calidad de la popularidad.\",\n          \"isCorrect\": false,\n          \"text\": \"Norma prescriptiva — cree que debería ir donde va la mayoría\"\n        }\n      ],\n      \"question\": \"¿Qué mecanismo guía su decisión?\"\n    },\n    {\n      \"context\": \"Una persona se une a un club de inversiones donde todos insisten en que cierta criptomoneda subirá. Después de meses escuchando esto, genuinamente cree que es verdad, aunque antes era escéptica.\",\n      \"options\": [\n        {\n          \"feedback\": \"Si fuera externa, seguiría siendo escéptica internamente. Pero ahora genuinamente cree lo que el grupo dice.\",\n          \"isCorrect\": false,\n          \"text\": \"Conformidad externa — actúa como si creyera pero mantiene sus dudas\"\n        },\n        {\n          \"feedback\": \"¡Así es! La conformidad interna ocurre cuando realmente internalizamos las creencias del grupo, no solo las actuamos.\",\n          \"isCorrect\": true,\n          \"text\": \"Conformidad interna — cambió sus creencias reales\"\n        },\n        {\n          \"feedback\": \"No hay órdenes ni jerarquía explícita aquí. Es influencia horizontal de pares, no vertical de autoridad.\",\n          \"isCorrect\": false,\n          \"text\": \"Obediencia — sigue órdenes de líderes del club\"\n        },\n        {\n          \"feedback\": \"La difusión de responsabilidad es sobre acciones, no creencias. Ella cambió genuinamente su opinión.\",\n          \"isCorrect\": false,\n          \"text\": \"Difusión de responsabilidad — delega su juicio al grupo\"\n        }\n      ],\n      \"question\": \"¿Qué tipo de conformidad experimentó?\"\n    },\n    {\n      \"context\": \"Un paramédico nuevo nota que su supervisor experimentado no sigue el protocolo de higiene. Aunque sabe que está mal, copia el comportamiento sin cuestionar.\",\n      \"options\": [\n        {\n          \"feedback\": \"No hay anonimato aquí — está trabajando directamente con su supervisor quien lo conoce.\",\n          \"isCorrect\": false,\n          \"text\": \"El anonimato de la situación hospitalaria\"\n        },\n        {\n          \"feedback\": \"¡Exacto! La autoridad percibida del supervisor activa obediencia. La jerarquía explícita hace más difícil cuestionar.\",\n          \"isCorrect\": true,\n          \"text\": \"La jerarquía de poder entre supervisor y subordinado\"\n        },\n        {\n          \"feedback\": \"El paramédico sabe que está mal. No hay ambigüedad informacional — es presión de autoridad.\",\n          \"isCorrect\": false,\n          \"text\": \"La ambigüedad de los protocolos médicos\"\n        },\n        {\n          \"feedback\": \"El escenario describe solo al supervisor y el novato. No hay audiencia grupal adicional.\",\n          \"isCorrect\": false,\n          \"text\": \"La presencia de otros paramédicos observando\"\n        }\n      ],\n      \"question\": \"¿Qué factor aumenta su conformidad?\"\n    },\n    {\n      \"context\": \"En un experimento, participantes dan descargas eléctricas falsas a un actor. Cuando el investigador sale del cuarto y da instrucciones por teléfono, la obediencia cae drásticamente.\",\n      \"options\": [\n        {\n          \"feedback\": \"La difusión aumentaría con más gente, no menos. Aquí hay menos gente y menos obediencia.\",\n          \"isCorrect\": false,\n          \"text\": \"Difusión de responsabilidad — hay menos testigos presentes\"\n        },\n        {\n          \"feedback\": \"¡Correcto! La presencia física de la autoridad amplifica la obediencia. La distancia debilita el control psicológico.\",\n          \"isCorrect\": true,\n          \"text\": \"Proximidad de la autoridad — la distancia reduce su influencia\"\n        },\n        {\n          \"feedback\": \"No es sobre información. Es sobre la presión que ejerce la presencia física de quien da órdenes.\",\n          \"isCorrect\": false,\n          \"text\": \"Influencia informacional — sin el experto presente, dudan más\"\n        },\n        {\n          \"feedback\": \"La desindividuación típicamente aumenta comportamientos extremos, no los reduce. Aquí pasa lo contrario.\",\n          \"isCorrect\": false,\n          \"text\": \"Desindividuación — sin observador se sienten más individuales\"\n        }\n      ],\n      \"question\": \"¿Qué principio explica esta caída?\"\n    },\n    {\n      \"context\": \"Una empresa pide a empleados que falsifiquen 'solo un pequeño dato' en un reporte. Meses después, están alterando documentos completos sin cuestionarlo.\",\n      \"options\": [\n        {\n          \"feedback\": \"La desindividuación requiere anonimato grupal. Aquí cada empleado es identificable y responsable de sus reportes.\",\n          \"isCorrect\": false,\n          \"text\": \"Desindividuación — perdieron su identidad moral individual\"\n        },\n        {\n          \"feedback\": \"Puede contribuir, pero no explica la progresión gradual. El mecanismo clave es cómo los pequeños 'sí' llevan a mayores.\",\n          \"isCorrect\": false,\n          \"text\": \"Influencia normativa — quieren pertenecer a la cultura empresarial\"\n        },\n        {\n          \"feedback\": \"¡Exacto! Después de decir 'sí' a algo pequeño, es psicológicamente más difícil decir 'no' a algo mayor.\",\n          \"isCorrect\": true,\n          \"text\": \"Escalada de compromiso — pequeñas concesiones llevan a mayores\"\n        },\n        {\n          \"feedback\": \"No indica que cambien sus creencias morales. La escalada es sobre comportamiento, no necesariamente sobre convicción.\",\n          \"isCorrect\": false,\n          \"text\": \"Conformidad interna — ahora creen que falsificar está bien\"\n        }\n      ],\n      \"question\": \"¿Qué mecanismo facilitó esta progresión?\"\n    },\n    {\n      \"context\": \"En un festival masivo con máscaras, una persona normalmente tímida participa en vandalismo menor. Al día siguiente, no puede creer lo que hizo.\",\n      \"options\": [\n        {\n          \"feedback\": \"Puede haber querido encajar, pero lo distintivo aquí es cómo el anonimato y la masa alteraron su autoconciencia.\",\n          \"isCorrect\": false,\n          \"text\": \"Influencia normativa — quería encajar con otros asistentes\"\n        },\n        {\n          \"feedback\": \"¡Correcto! Máscaras (anonimato) más excitación grupal llevaron a comportamiento que individualmente nunca consideraría.\",\n          \"isCorrect\": true,\n          \"text\": \"Desindividuación — el anonimato y el grupo redujeron su autoconciencia\"\n        },\n        {\n          \"feedback\": \"No hay figura de autoridad dando órdenes. Es efecto de masa anónima, no jerarquía.\",\n          \"isCorrect\": false,\n          \"text\": \"Obediencia — siguió instrucciones de líderes del festival\"\n        },\n        {\n          \"feedback\": \"No describe una progresión gradual. El vandalismo surge del contexto de anonimato grupal directamente.\",\n          \"isCorrect\": false,\n          \"text\": \"Escalada de compromiso — empezó con actos menores\"\n        }\n      ],\n      \"question\": \"¿Qué fenómeno explica su comportamiento?\"\n    },\n    {\n      \"context\": \"Un turista presencia cómo alguien colapsa en una plaza llena de gente. Todos miran pero nadie actúa. El turista tampoco hace nada, esperando que alguien más intervenga.\",\n      \"options\": [\n        {\n          \"feedback\": \"No es que crean que no es grave. Todos miran preocupados pero cada uno espera que otro tome la iniciativa.\",\n          \"isCorrect\": false,\n          \"text\": \"Conformidad interna — todos creen genuinamente que no es grave\"\n        },\n        {\n          \"feedback\": \"¡Exacto! En grupos grandes, la responsabilidad se diluye. Cada persona piensa 'seguro alguien más lo hará'.\",\n          \"isCorrect\": true,\n          \"text\": \"Difusión de responsabilidad — cuando todos son responsables, nadie lo es\"\n        },\n        {\n          \"feedback\": \"Puede contribuir, pero el mecanismo central es que nadie asume responsabilidad personal cuando hay muchos presentes.\",\n          \"isCorrect\": false,\n          \"text\": \"Influencia informacional — usan la inacción de otros como guía\"\n        },\n        {\n          \"feedback\": \"La desindividuación típicamente lleva a acción impulsiva, no a parálisis. Aquí el problema es inacción.\",\n          \"isCorrect\": false,\n          \"text\": \"Desindividuación — pierden autoconciencia en la multitud\"\n        }\n      ],\n      \"question\": \"¿Por qué ocurre esta inacción colectiva?\"\n    },\n    {\n      \"context\": \"Un grupo de diseñadores evalúa propuestas. La primera persona dice 'me gusta la opción A'. Los siguientes cuatro coinciden. El sexto tenía preferencia por B, pero vota A.\",\n      \"options\": [\n        {\n          \"feedback\": \"¡Perfecto! Sin unanimidad visible, la presión a conformarse desaparece. No necesitas mayoría — solo romper el consenso aparente.\",\n          \"isCorrect\": true,\n          \"text\": \"Que todos voten en secreto antes de discutir\"\n        },\n        {\n          \"feedback\": \"Esto empeoraría el problema añadiendo presión de autoridad a la presión grupal.\",\n          \"isCorrect\": false,\n          \"text\": \"Que el jefe vote primero para establecer el estándar\"\n        },\n        {\n          \"feedback\": \"Más tiempo no elimina la presión de la unanimidad visible. Seguirían viendo las opiniones de otros.\",\n          \"isCorrect\": false,\n          \"text\": \"Dar más tiempo para que todos reflexionen individualmente\"\n        },\n        {\n          \"feedback\": \"Justificar después no cambia la presión inicial. Ya habrán conformado su voto antes de explicar.\",\n          \"isCorrect\": false,\n          \"text\": \"Pedir que justifiquen sus votos después de votar\"\n        }\n      ],\n      \"question\": \"¿Qué rompería más efectivamente esta dinámica?\"\n    },\n    {\n      \"context\": \"Un vendedor usa la técnica 'pie en la puerta': primero pide algo pequeño (una encuesta de 2 minutos), luego algo mayor (comprar un producto). Funciona mejor que pedir directamente la compra.\",\n      \"options\": [\n        {\n          \"feedback\": \"No es sobre pertenencia social. Es sobre cómo compromisos pequeños preparan para compromisos mayores.\",\n          \"isCorrect\": false,\n          \"text\": \"Influencia normativa — crear sensación de relación social\"\n        },\n        {\n          \"feedback\": \"¡Exacto! Una vez que dijiste 'sí' a algo menor, es psicológicamente más difícil decir 'no' a algo mayor.\",\n          \"isCorrect\": true,\n          \"text\": \"Escalada de compromiso — pequeños 'sí' facilitan mayores 'sí'\"\n        },\n        {\n          \"feedback\": \"No hay grupo ni difusión. Es una interacción individual donde tus propios compromisos previos te atrapan.\",\n          \"isCorrect\": false,\n          \"text\": \"Difusión de responsabilidad — compartir la decisión con el vendedor\"\n        },\n        {\n          \"feedback\": \"La presencia del vendedor existe en ambos casos. Lo distintivo es la secuencia de pequeño a grande.\",\n          \"isCorrect\": false,\n          \"text\": \"Proximidad de autoridad — el vendedor presente ejerce presión\"\n        }\n      ],\n      \"question\": \"¿Qué principio psicológico explota esta técnica?\"\n    },\n    {\n      \"context\": \"Un estudio muestra que en un hotel, el letrero 'La mayoría de huéspedes reutilizan sus toallas' es más efectivo que 'Reutilizar toallas ayuda al ambiente'.\",\n      \"options\": [\n        {\n          \"feedback\": \"El mensaje ambiental es prescriptivo (debería ayudar al ambiente) y fue menos efectivo. Lo que funcionó fue diferente.\",\n          \"isCorrect\": false,\n          \"text\": \"Norma prescriptiva — dice lo que la gente debería hacer\"\n        },\n        {\n          \"feedback\": \"¡Correcto! Las normas descriptivas ('otros lo hacen') a menudo son más persuasivas que las prescriptivas ('deberías hacerlo').\",\n          \"isCorrect\": true,\n          \"text\": \"Norma descriptiva — dice lo que la gente realmente hace\"\n        },\n        {\n          \"feedback\": \"No es información objetiva sobre toallas. Es información sobre comportamiento social de otros huéspedes.\",\n          \"isCorrect\": false,\n          \"text\": \"Influencia informacional — proporciona datos objetivos\"\n        },\n        {\n          \"feedback\": \"Ambos mensajes vienen del hotel. La diferencia está en el tipo de norma comunicada, no en quién la comunica.\",\n          \"isCorrect\": false,\n          \"text\": \"Obediencia a autoridad — el hotel es la figura de poder\"\n        }\n      ],\n      \"question\": \"¿Qué tipo de norma es más efectiva aquí?\"\n    },\n    {\n      \"context\": \"En un juicio, los primeros jurados en hablar expresan culpabilidad. Los últimos jurados tenían dudas pero las guardan, pensando que quizás los otros vieron algo que ellos no.\",\n      \"options\": [\n        {\n          \"feedback\": \"La normativa está presente, pero también asumen que los primeros 'saben algo' que ellos no. Hay dos influencias.\",\n          \"isCorrect\": false,\n          \"text\": \"Solo influencia normativa — quieren evitar conflicto con el grupo\"\n        },\n        {\n          \"feedback\": \"La informacional está presente, pero también temen parecer diferentes. Hay componente social también.\",\n          \"isCorrect\": false,\n          \"text\": \"Solo influencia informacional — confían en el juicio de los demás\"\n        },\n        {\n          \"feedback\": \"¡Exacto! Operan ambas: quieren evitar rechazo (normativa) Y asumen que otros percibieron algo que ellos no (informacional).\",\n          \"isCorrect\": true,\n          \"text\": \"Normativa e informacional — evitan conflicto y asumen que otros saben más\"\n        },\n        {\n          \"feedback\": \"No hay figura de autoridad ni anonimato. Son jurados identificables influenciados por pares, no por jerarquía.\",\n          \"isCorrect\": false,\n          \"text\": \"Obediencia y desindividuación — siguen a líderes y pierden identidad\"\n        }\n      ],\n      \"question\": \"¿Qué combinación de influencias opera aquí?\"\n    },\n    {\n      \"context\": \"Una enfermera recibe por teléfono una orden de un 'doctor' (actor) para administrar una dosis peligrosa. El 95% de enfermeras en un estudio obedecieron la orden claramente riesgosa.\",\n      \"options\": [\n        {\n          \"feedback\": \"Las enfermeras son profesionales identificables, no anónimas. El factor clave es la autoridad médica percibida.\",\n          \"isCorrect\": false,\n          \"text\": \"La desindividuación del contexto hospitalario anónimo\"\n        },\n        {\n          \"feedback\": \"¡Correcto! El título profesional y el contexto hospitalario activan obediencia automática, incluso por teléfono.\",\n          \"isCorrect\": true,\n          \"text\": \"La autoridad percibida del título 'doctor' y el contexto institucional\"\n        },\n        {\n          \"feedback\": \"Saben que la dosis es peligrosa. No es falta de información — es deferencia a la autoridad a pesar de la información.\",\n          \"isCorrect\": false,\n          \"text\": \"La influencia informacional — asumen que el doctor sabe más\"\n        },\n        {\n          \"feedback\": \"El estudio describe decisiones individuales, no presión grupal de colegas presentes.\",\n          \"isCorrect\": false,\n          \"text\": \"La presión de otras enfermeras observando la situación\"\n        }\n      ],\n      \"question\": \"¿Qué factores aumentaron la obediencia?\"\n    },\n    {\n      \"context\": \"Un músico independiente sube una canción a una plataforma. Recibe pocos 'likes' iniciales. Meses después, una canción similar de otro artista se vuelve viral por acumular likes tempranos.\",\n      \"options\": [\n        {\n          \"feedback\": \"Pertenecer al fandom puede influir, pero el mecanismo central es cómo la popularidad visible genera más popularidad.\",\n          \"isCorrect\": false,\n          \"text\": \"Influencia normativa — la gente quiere pertenecer al grupo de fans\"\n        },\n        {\n          \"feedback\": \"¡Correcto! Los likes visibles funcionan como señal social. Contenido popular se vuelve más popular porque otros ya lo aprobaron.\",\n          \"isCorrect\": true,\n          \"text\": \"Cascada informacional — la popularidad visible atrae más popularidad\"\n        },\n        {\n          \"feedback\": \"El escenario describe dinámica social orgánica, no promoción algorítmica o de autoridad.\",\n          \"isCorrect\": false,\n          \"text\": \"Efecto de autoridad — la plataforma promueve ciertos artistas\"\n        },\n        {\n          \"feedback\": \"Los usuarios mantienen su identidad. Simplemente usan la popularidad como atajo para decidir qué escuchar.\",\n          \"isCorrect\": false,\n          \"text\": \"Desindividuación — los usuarios pierden criterio individual en la masa\"\n        }\n      ],\n      \"question\": \"¿Qué fenómeno social explica esta diferencia?\"\n    },\n    {\n      \"context\": \"En una protesta pacífica, un pequeño grupo empieza a romper ventanas. Otros manifestantes, que nunca considerarían violencia individualmente, se unen gradualmente.\",\n      \"options\": [\n        {\n          \"feedback\": \"No es solo información. El anonimato de la masa y la excitación grupal alteran la autoconciencia individual.\",\n          \"isCorrect\": false,\n          \"text\": \"Influencia informacional pura — interpretan que la violencia es apropiada\"\n        },\n        {\n          \"feedback\": \"¡Exacto! El anonimato de la masa reduce autoconciencia, y cada pequeña participación facilita la siguiente.\",\n          \"isCorrect\": true,\n          \"text\": \"Desindividuación y escalada — anonimato grupal más compromiso gradual\"\n        },\n        {\n          \"feedback\": \"No describe líderes dando órdenes. Es dinámica emergente de grupo, no jerarquía de autoridad.\",\n          \"isCorrect\": false,\n          \"text\": \"Obediencia a líderes identificables de la protesta\"\n        },\n        {\n          \"feedback\": \"La difusión puede contribuir, pero no explica cómo el anonimato y la gradualidad facilitan la participación activa.\",\n          \"isCorrect\": false,\n          \"text\": \"Difusión de responsabilidad únicamente — nadie se siente responsable\"\n        }\n      ],\n      \"question\": \"¿Qué combinación de factores facilita esto?\"\n    },\n    {\n      \"context\": \"Una startup tiene cultura de 'trabajar hasta tarde'. Un nuevo empleado, aunque valora su tiempo libre, empieza a quedarse tarde. Primero para encajar, pero después de meses genuinamente cree que es lo correcto.\",\n      \"options\": [\n        {\n          \"feedback\": \"Es al revés. Empezó queriendo encajar (normativa) y terminó creyendo genuinamente (internalizó).\",\n          \"isCorrect\": false,\n          \"text\": \"Empezó como informacional y se volvió normativa\"\n        },\n        {\n          \"feedback\": \"¡Exacto! Primero actuó para evitar rechazo (externa), pero con el tiempo internalizó la creencia de que es lo correcto.\",\n          \"isCorrect\": true,\n          \"text\": \"Empezó como externa/normativa y se volvió interna\"\n        },\n        {\n          \"feedback\": \"No describe órdenes de jefes. Es presión de pares y cultura, que eventualmente se internaliza.\",\n          \"isCorrect\": false,\n          \"text\": \"Fue siempre obediencia a la autoridad de los fundadores\"\n        },\n        {\n          \"feedback\": \"La desindividuación implica pérdida de autoconciencia. Aquí describe cambio de creencias, no de autoconciencia.\",\n          \"isCorrect\": false,\n          \"text\": \"Fue desindividuación progresiva en la cultura empresarial\"\n        }\n      ],\n      \"question\": \"¿Cómo evolucionó su conformidad?\"\n    },\n    {\n      \"context\": \"Un comité de ética empresarial tiene un miembro que siempre cuestiona las decisiones del grupo. Aunque a veces es incómodo, las decisiones finales suelen ser más sólidas.\",\n      \"options\": [\n        {\n          \"feedback\": \"Un disidente no aumenta conformidad — la reduce al romper la unanimidad percibida.\",\n          \"isCorrect\": false,\n          \"text\": \"Aumenta la conformidad al crear un enemigo común\"\n        },\n        {\n          \"feedback\": \"¡Exacto! Un solo disidente reduce dramáticamente la presión grupal. No necesitas mayoría — solo alguien que rompa el consenso.\",\n          \"isCorrect\": true,\n          \"text\": \"Rompe la unanimidad, reduciendo la presión a conformarse\"\n        },\n        {\n          \"feedback\": \"No es cuestión de autoridad. Su valor está en romper la unanimidad, permitiendo que otros expresen dudas.\",\n          \"isCorrect\": false,\n          \"text\": \"Actúa como figura de autoridad alternativa\"\n        },\n        {\n          \"feedback\": \"La desindividuación reduce autoconciencia. Aquí es lo contrario — el disidente aumenta la reflexión individual.\",\n          \"isCorrect\": false,\n          \"text\": \"Genera desindividuación que libera opiniones reprimidas\"\n        }\n      ],\n      \"question\": \"¿Por qué es valiosa esta persona para el grupo?\"\n    },\n    {\n      \"context\": \"Después de atrocidades históricas cometidas por gente común siguiendo órdenes, investigadores buscaron entender cómo personas normales podían hacer cosas terribles.\",\n      \"options\": [\n        {\n          \"feedback\": \"Lo contrario: revelaron que personas normales, bajo condiciones de autoridad y presión, pueden comportarse de maneras que nunca imaginarían.\",\n          \"isCorrect\": false,\n          \"text\": \"Que solo personas con predisposición psicológica cometen atrocidades\"\n        },\n        {\n          \"feedback\": \"¡Correcto! El hallazgo perturbador fue que la situación (autoridad, presión grupal) puede superar la disposición moral individual.\",\n          \"isCorrect\": true,\n          \"text\": \"Que la autoridad y presión grupal pueden superar la moral individual\"\n        },\n        {\n          \"feedback\": \"Los estudios se replicaron en múltiples culturas con resultados similares. Es fenómeno humano universal.\",\n          \"isCorrect\": false,\n          \"text\": \"Que la conformidad solo opera en culturas específicas\"\n        },\n        {\n          \"feedback\": \"Los experimentos mostraron obediencia sin incentivos significativos — solo la presencia de una autoridad era suficiente.\",\n          \"isCorrect\": false,\n          \"text\": \"Que la obediencia requiere incentivos materiales significativos\"\n        }\n      ],\n      \"question\": \"¿Qué revelaron estas investigaciones?\"\n    },\n    {\n      \"context\": \"Un gerente quiere evitar que su equipo caiga en 'pensamiento grupal' donde todos están de acuerdo sin cuestionar. Busca una estrategia estructural efectiva.\",\n      \"options\": [\n        {\n          \"feedback\": \"Esto reforzaría la presión a conformarse, no la reduciría. Necesitas romper la unanimidad, no consolidarla.\",\n          \"isCorrect\": false,\n          \"text\": \"Pedir que todos expresen acuerdo al final para mostrar unidad\"\n        },\n        {\n          \"feedback\": \"¡Exacto! Asignar un rol de 'abogado del diablo' institucionaliza la disidencia, rompiendo la unanimidad sin costos sociales personales.\",\n          \"isCorrect\": true,\n          \"text\": \"Asignar a alguien el rol de cuestionar todas las propuestas\"\n        },\n        {\n          \"feedback\": \"Más cohesión puede aumentar la presión a conformarse. El problema es demasiada unanimidad, no poca conexión.\",\n          \"isCorrect\": false,\n          \"text\": \"Reunirse más frecuentemente para construir cohesión\"\n        },\n        {\n          \"feedback\": \"Esto empeoraría el problema añadiendo presión de autoridad. Los demás se conformarían a la opinión del senior.\",\n          \"isCorrect\": false,\n          \"text\": \"Permitir que el miembro más senior hable primero\"\n        }\n      ],\n      \"question\": \"¿Qué estrategia sería más efectiva?\"\n    },\n    {\n      \"context\": \"En redes sociales, una opinión minoritaria puede parecer mayoritaria si sus defensores son muy vocales, mientras la mayoría silenciosa no se expresa.\",\n      \"options\": [\n        {\n          \"feedback\": \"La diversidad visible reduciría conformidad, pero aquí la mayoría silenciosa no es visible. La minoría vocal parece mayoría.\",\n          \"isCorrect\": false,\n          \"text\": \"Reduce la conformidad porque hay más diversidad visible\"\n        },\n        {\n          \"feedback\": \"¡Exacto! Si la minoría vocal parece mayoría, otros asumen que 'todos piensan así' y se conforman hacia esa posición.\",\n          \"isCorrect\": true,\n          \"text\": \"Activa influencia informacional hacia la minoría vocal\"\n        },\n        {\n          \"feedback\": \"La mayoría silenciosa no pierde autoconciencia — simplemente no se expresa, dejando el campo a la minoría.\",\n          \"isCorrect\": false,\n          \"text\": \"Genera desindividuación en la mayoría silenciosa\"\n        },\n        {\n          \"feedback\": \"El anonimato no elimina la presión normativa. La gente sigue queriendo encajar incluso en espacios anónimos.\",\n          \"isCorrect\": false,\n          \"text\": \"Elimina la presión normativa por el anonimato online\"\n        }\n      ],\n      \"question\": \"¿Qué efecto tiene esto sobre la conformidad?\"\n    }\n  ]\n}",
      "outputTokens": 6325,
      "systemPrompt": "# Role\n\nYou are an expert assessment designer creating a comprehensive **Review** quiz for a learning app. Your mission is to verify whether learners have truly UNDERSTOOD — not merely remembered — all the material from a lesson's content activities.\n\nYou specialize in crafting challenging questions that test logic, problem-solving, and analytical thinking across all content dimensions: WHY (Background), WHAT (Explanation), HOW (Mechanics), and WHERE (Examples).\n\n# Core Philosophy: Understanding vs. Memorization\n\nThis distinction is the heart of effective assessment.\n\n## Why Memorization-Based Questions Fail\n\n1. **False Positives**: A learner who memorized \"electricity flows like water through pipes\" can parrot this back without understanding how circuits actually work.\n\n2. **False Negatives**: A learner who deeply understands electrical circuits might fail a question asking \"What metaphor did the text use?\" because they remember the concept, not the phrasing.\n\n3. **Shallow Learning**: When learners know they'll be tested on exact wording, they memorize instead of building mental models.\n\n## What Understanding Looks Like\n\nA learner who understands a concept can:\n\n- Apply it to situations they've never seen before\n- Recognize the concept at work in unfamiliar contexts\n- Predict outcomes based on the concept's principles\n- Explain why something would or wouldn't work\n- Connect ideas across different content dimensions\n\n## The Transfer Test\n\nEvery question must pass this test: \"Could a learner who understood the material but never read our specific content still answer this correctly?\"\n\nIf no, the question tests memorization, not understanding.\n\n# Non-Negotiable Rules\n\n1. **Never reference the content** — phrases like \"according to the lesson,\" \"as explained,\" or \"in the examples\" are forbidden\n\n2. **Never test recall of specific words, metaphors, or examples** from any activity's steps\n\n3. **Use novel scenarios** — present concepts in everyday situations the learner hasn't seen\n\n4. **Conversational tone** — write like a curious friend posing interesting challenges, not an exam proctor\n\n5. **Challenge the learner** — this is a final review; only those who fully understood should score well\n\n# Using the Inputs\n\nYou receive content from four activities. Here's how to use each:\n\n## BACKGROUND_STEPS (WHY)\n\nThese explain the origin story, historical context, and motivation behind the topic.\n\n- Test whether learners grasp **why** this topic matters\n- Ask questions about the problems it solves, not the history facts\n- Test understanding of context, motivation, and significance\n\n## EXPLANATION_STEPS (WHAT)\n\nThese define the core concepts, components, and terminology.\n\n- Test whether learners understand **what** the concepts mean\n- Present definitions in new contexts to verify comprehension\n- Test relationships between components\n\n## MECHANICS_STEPS (HOW)\n\nThese explain processes, sequences, and cause-effect chains.\n\n- Test whether learners can trace **how** things work\n- Present novel scenarios and ask for predictions\n- Test understanding of cause-effect relationships\n\n## EXAMPLES_STEPS (WHERE)\n\nThese show real-world applications and everyday contexts.\n\n- Test whether learners can **recognize** the topic in new situations\n- Ask them to identify concepts in unfamiliar domains\n- Test ability to connect abstract concepts to concrete applications\n\n# Question Distribution\n\nGenerate 15-20 questions with thoughtful coverage across all content types:\n\n- **Background (WHY)**: questions on context, motivation, and significance\n- **Explanation (WHAT)**: questions on core concepts and relationships\n- **Mechanics (HOW)**: questions on processes and cause-effect\n- **Examples (WHERE)**: questions on recognition and application\n- **Integration**: questions that synthesize multiple content types\n\nThe exact distribution should reflect the depth and complexity of each content area for this specific topic.\n\n# Difficulty Calibration\n\nThis is a comprehensive review. Questions should be challenging enough that only learners who truly understood the material will score well.\n\n## Difficulty Strategies\n\n1. **Plausible Distractors**: Wrong answers should represent common misconceptions, not obviously wrong choices. Each incorrect option should be something a learner might believe if they partially understood.\n\n2. **Novel Contexts**: Place concepts in scenarios not covered in any activity. If the examples discussed shopping carts, test with something completely different.\n\n3. **Reasoning Required**: Questions should require applying knowledge, not recognizing familiar phrases. Ask \"What would happen if...\" or \"Which situation demonstrates...\"\n\n4. **Integration Questions**: Include questions that require connecting ideas across multiple content types (e.g., understanding WHY something exists to predict HOW it might fail).\n\n5. **Edge Cases**: Test boundary conditions and exceptions that reveal whether learners truly grasped the underlying principles.\n\n## What Makes a Question Too Easy\n\n- The correct answer is obviously right without understanding the material\n- The distractors are obviously wrong (factually absurd or unrelated)\n- The question can be answered by pattern-matching familiar phrases\n- The scenario is identical to one in the activities\n\n## What Makes a Question Too Hard\n\n- The question requires external knowledge not covered in any activity\n- The scenario is so abstract that even understanding wouldn't help\n- Multiple answers could be correct depending on interpretation\n- The question tests trivia rather than understanding\n\n# Language Guidelines\n\nGenerate all content in the specified `LANGUAGE`:\n\n- `en`: US English unless content is region-specific\n- `pt`: Brazilian Portuguese unless content is region-specific\n- `es`: Latin American Spanish unless content is region-specific\n\n**Language Purity Rule**: Every word, character, and token in the output MUST be in the specified LANGUAGE. Never mix languages or scripts within a response.\n\n# Question Structure\n\nEach question must have:\n\n## context (max 300 characters)\n\nA novel scenario that sets up the question. This should:\n\n- Place the learner in a realistic situation they haven't seen\n- Provide enough detail to make the question concrete\n- Avoid referencing the lesson content\n\n## question (max 50 characters)\n\nA short, focused question. This should:\n\n- Be direct and clear\n- Ask about understanding, not recall\n- Avoid meta-language about \"the lesson\" or \"the text\"\n\n## options (exactly 4)\n\nFour answer choices, each with:\n\n- **text** (max 80 characters): The answer choice\n- **feedback**: Why this choice is right (with insight) or wrong (and what would be correct) — max 300 characters\n- **isCorrect** (boolean): Whether this is the correct answer\n\nExactly one option must be correct.\n\n## Writing Great Feedback\n\nFeedback should feel like a friendly explanation, not a grade report.\n\n**For correct answers**: Share an \"aha\" insight that deepens understanding. Make learners feel smart for getting it right.\n\n**For wrong answers**: Gently explain the mix-up, then point them toward the right answer with a quick \"here's why that works.\"\n\nThink of it like explaining to a friend over coffee — helpful, not preachy.\n\n**Examples of friendly feedback:**\n\n- \"Nice! Transactions guarantee all-or-nothing — exactly what prevents that half-updated state.\"\n- \"Close, but that's isolation, not atomicity. The right pick is [X] since atomicity is about complete-or-nothing.\"\n- \"Easy mix-up! Higher isolation actually slows things down. The answer is [X] — faster means more risk of anomalies.\"\n\n# Quality Standards\n\nBefore creating each question, verify:\n\n- [ ] Answerable without reading the activities, if the learner understands the concepts\n- [ ] Tests application, reasoning, or integration — not recall\n- [ ] Scenario is novel — not from any activity\n- [ ] Tone is conversational\n- [ ] All distractors are plausible (represent real misconceptions)\n- [ ] Feedback explains reasoning in a friendly, conversational way\n- [ ] Wrong answer feedback gently guides toward the correct answer\n- [ ] Difficulty is appropriate for a comprehensive review\n\n# Coverage Checklist\n\nBefore finalizing the full quiz, verify:\n\n- [ ] All major concepts from EXPLANATION_STEPS are tested\n- [ ] Key processes from MECHANICS_STEPS are covered\n- [ ] Context and motivation from BACKGROUND_STEPS are addressed\n- [ ] Application skills from EXAMPLES_STEPS are tested\n- [ ] We have integration questions connecting multiple content types\n- [ ] Scenarios are varied — no repeated contexts\n- [ ] Question count is between 15-20\n\n# Distractor Design\n\nStrong distractors are essential for valid assessment. For each question:\n\n1. **Identify the concept**: What understanding are you testing?\n2. **Map misconceptions**: What do learners commonly get wrong?\n3. **Craft believable alternatives**: Each wrong answer should be something a partially-understanding learner might pick\n\nCommon misconception patterns to use:\n\n- Confusing cause and effect\n- Overgeneralizing a rule\n- Mixing up related concepts\n- Applying the right process to the wrong situation\n- Understanding the \"what\" but not the \"why\"\n\n# Integration Questions\n\nInclude questions that require synthesizing knowledge across content types:\n\n- **WHY + HOW**: Understanding the motivation helps predict process behavior\n- **WHAT + WHERE**: Knowing the definition helps recognize applications\n- **HOW + WHERE**: Understanding the process helps identify real-world instances\n- **WHY + WHAT + HOW**: Full synthesis of context, concept, and process\n\nIntegration questions are often the most revealing — they show whether learners built a connected mental model or memorized isolated facts.\n\n# Output Format\n\nReturn an object with a `questions` array containing 15-20 question objects. Each question has:\n\n- **context**: Novel scenario (max 300 chars)\n- **question**: Short question (max 50 chars)\n- **options**: Array of exactly 4 options, each with:\n  - **text**: Answer choice (max 80 chars)\n  - **feedback**: Why right (with insight) or wrong (and what would be correct) — max 300 chars\n  - **isCorrect**: Boolean (exactly one true per question)\n",
      "testCaseId": "es-psychology-social-conformity-1",
      "userPrompt": "LESSON_TITLE: Conformidad y Obediencia Social\nLESSON_DESCRIPTION: Comprendiendo como la presion social y la autoridad influyen en nuestras decisiones, desde situaciones cotidianas hasta dilemas eticos\nCHAPTER_TITLE: Influencia Social\nCOURSE_TITLE: Psicologia Social\nLANGUAGE: es\n\nBACKGROUND_STEPS:\n1. La Pregunta Post-Guerra: Despues de la Segunda Guerra Mundial, el mundo pregunto: como pudo gente ordinaria participar en atrocidades? La psicologia social busco entender el poder de la presion grupal sobre la moral individual.\n2. Los Estudios de Asch: Solomon Asch diseno experimentos elegantes en los 1950s. Mostro que personas inteligentes negaban la evidencia de sus propios ojos cuando un grupo unanime decia lo contrario.\n3. El Shock de Milgram: Stanley Milgram llevo esto mas lejos con sus experimentos de obediencia. Revelo que la autoridad percibida podia hacer que personas normales administraran lo que creian eran descargas electricas peligrosas.\n\nEXPLANATION_STEPS:\n1. Definicion de Conformidad: La conformidad es el cambio de comportamiento o creencias para coincidir con un grupo. Puede ser externa (actuar igual) o interna (realmente creer lo que el grupo cree).\n2. Influencia Normativa: La influencia normativa surge del deseo de aceptacion social. Nos conformamos para evitar rechazo, incluso cuando sabemos que el grupo esta equivocado.\n3. Influencia Informacional: La influencia informacional surge cuando usamos al grupo como fuente de informacion. En situaciones ambiguas, asumimos que otros saben mas que nosotros.\n4. Obediencia a la Autoridad: La obediencia es conformidad hacia una autoridad. Difiere de la conformidad horizontal porque hay una jerarquia de poder explicita.\n5. Tipos de Normas: Las normas descriptivas describen lo que la gente hace. Las normas prescriptivas describen lo que deberia hacer. Ambas influyen el comportamiento de maneras diferentes.\n\nMECHANICS_STEPS:\n1. El Poder de la Unanimidad: La unanimidad amplifica la conformidad dramaticamente. Un solo disidente reduce la presion a conformarse — no necesitas mayoria, solo alguien que rompa el consenso.\n2. Proximidad y Autoridad: La proximidad de la autoridad aumenta la obediencia. En experimentos, la obediencia caia drasticamente cuando el experimentador daba ordenes por telefono en vez de en persona.\n3. Escalada de Compromiso: El compromiso gradual atrapa a las personas. Pequenas concesiones llevan a mayores — es mas facil decir 'no' al principio que despues de varios 'si'.\n4. Difusion de Responsabilidad: La difusion de responsabilidad ocurre en grupos. Cuando todos son responsables, nadie se siente responsable. Asignar roles especificos contrarresta este efecto.\n5. Desindividuacion: La desindividuacion en grupos reduce la autoconciencia. Anonimato mas excitacion grupal pueden llevar a comportamientos que el individuo solo nunca consideraria.\n\nEXAMPLES_STEPS:\n1. Dinamicas de Reunion: En reuniones de trabajo, el silencio ante una mala idea se interpreta como acuerdo. La primera persona que habla ancla la discusion, y los demas se conforman por temor a parecer diferentes.\n2. Cascadas en Redes: Las redes sociales amplifican la conformidad. Los 'likes' visibles crean cascadas — contenido popular se vuelve mas popular, no necesariamente porque sea mejor, sino porque otros ya lo aprobaron.\n3. Tendencias de Moda: La moda demuestra conformidad en accion. Tendencias se propagan porque vestirse diferente tiene costos sociales. La originalidad tiene limites definidos por el grupo.\n4. Efecto Espectador: En emergencias medicas, la difusion de responsabilidad hace que nadie actue. Cada persona espera que otro tome la iniciativa, resultando en inaccion colectiva."
    },
    {
      "duration": 132606.456375,
      "inputTokens": 3944,
      "output": "{\n  \"questions\": [\n    {\n      \"context\": \"A car dealership starts negotiation by showing you the $45,000 sticker price before revealing their 'special discount' of $38,000. You feel like you're getting a deal, even though $38,000 might still be overpriced.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exactly! The $45,000 anchors your perception, so $38,000 feels like a bargain relative to that number — even if the car's true value is lower.\",\n          \"isCorrect\": true,\n          \"text\": \"The initial high price creates a reference point that makes the lower price seem reasonable\"\n        },\n        {\n          \"feedback\": \"Actually, trust isn't the mechanism here. The tactic works because that first number anchors your judgment, making any reduction feel like a win.\",\n          \"isCorrect\": false,\n          \"text\": \"People naturally trust dealerships to offer fair initial prices\"\n        },\n        {\n          \"feedback\": \"Close, but it's not just about discounts. The key is that the first number you see shapes all subsequent judgments — that's anchoring at work.\",\n          \"isCorrect\": false,\n          \"text\": \"Discounts trigger an automatic buying response in most people\"\n        },\n        {\n          \"feedback\": \"That would be loss aversion or urgency tactics. Here, the mechanism is anchoring — the initial price becomes a reference that distorts your value perception.\",\n          \"isCorrect\": false,\n          \"text\": \"Customers are afraid of losing the discount if they don't act quickly\"\n        }\n      ],\n      \"question\": \"Why does this tactic work?\"\n    },\n    {\n      \"context\": \"A financial advisor notices that her clients panic and sell investments during market downturns, but are reluctant to buy when prices are low. They end up buying high and selling low — the opposite of good investing.\",\n      \"options\": [\n        {\n          \"feedback\": \"Anchoring is involved, but the core driver is loss aversion — the pain of potential losses feels so intense that people sell to escape it, even at the worst time.\",\n          \"isCorrect\": false,\n          \"text\": \"Anchoring to their original purchase price\"\n        },\n        {\n          \"feedback\": \"Spot on! When markets drop, the pain of losses overwhelms rational thinking. People sell to escape that pain, even knowing it locks in their losses.\",\n          \"isCorrect\": true,\n          \"text\": \"Loss aversion making potential losses feel twice as painful as gains\"\n        },\n        {\n          \"feedback\": \"Present bias is about preferring now vs. later, but this is about losses vs. gains. The asymmetry where losses hurt more than gains feel good is loss aversion.\",\n          \"isCorrect\": false,\n          \"text\": \"Present bias favoring immediate comfort over long-term returns\"\n        },\n        {\n          \"feedback\": \"Others selling might amplify the behavior, but the root cause is loss aversion — the emotional weight of losses drives the irrational selling decision.\",\n          \"isCorrect\": false,\n          \"text\": \"Social proof from seeing others sell during downturns\"\n        }\n      ],\n      \"question\": \"What bias drives this pattern?\"\n    },\n    {\n      \"context\": \"A new streaming service offers a 30-day free trial that automatically converts to a paid subscription unless you cancel. Months later, you're still subscribed to a service you rarely use.\",\n      \"options\": [\n        {\n          \"feedback\": \"That might happen sometimes, but the mechanism here is simpler — they made staying the default. Changing requires effort, so inertia keeps you paying.\",\n          \"isCorrect\": false,\n          \"text\": \"You grew to love the service over time\"\n        },\n        {\n          \"feedback\": \"Bingo! Defaults are incredibly powerful. Most people don't actively choose — they accept whatever's pre-selected, which is why opt-out beats opt-in.\",\n          \"isCorrect\": true,\n          \"text\": \"The default was set to 'subscribed,' and most people stick with defaults\"\n        },\n        {\n          \"feedback\": \"Anchoring affects numerical judgments, not subscription inertia. The real mechanism is that defaults require action to change, and we rarely take that action.\",\n          \"isCorrect\": false,\n          \"text\": \"The free trial anchored you to expecting free content\"\n        },\n        {\n          \"feedback\": \"Present bias might contribute to procrastinating on cancellation, but the primary mechanism is the power of defaults in choice architecture.\",\n          \"isCorrect\": false,\n          \"text\": \"Present bias made you keep delaying the cancellation\"\n        }\n      ],\n      \"question\": \"What mechanism kept you subscribed?\"\n    },\n    {\n      \"context\": \"A doctor tells one patient 'This surgery has a 95% survival rate' and another 'This surgery has a 5% mortality rate.' The first patient readily agrees; the second hesitates and asks for alternatives.\",\n      \"options\": [\n        {\n          \"feedback\": \"Individual differences exist, but this pattern is systematic. The same information presented differently triggers different emotional responses — that's framing.\",\n          \"isCorrect\": false,\n          \"text\": \"The first patient is more optimistic by nature\"\n        },\n        {\n          \"feedback\": \"Exactly! Survival vs. mortality is identical information, but our brains process 'survival' positively and 'mortality' as a threat. Framing shapes decisions.\",\n          \"isCorrect\": true,\n          \"text\": \"Framing the same information differently triggers different emotional responses\"\n        },\n        {\n          \"feedback\": \"Even when people logically know the stats are the same, the emotional response differs. Framing bypasses rational calculation entirely.\",\n          \"isCorrect\": false,\n          \"text\": \"Patients don't understand that the statistics are equivalent\"\n        },\n        {\n          \"feedback\": \"Both are reacting emotionally (System 1). The difference isn't thinking style — it's that the same facts framed differently create different gut reactions.\",\n          \"isCorrect\": false,\n          \"text\": \"The second patient is applying more careful System 2 thinking\"\n        }\n      ],\n      \"question\": \"What explains the different reactions?\"\n    },\n    {\n      \"context\": \"After a plane crash makes international news, many travelers switch to driving for their next trip. Statistically, they've chosen a far more dangerous option.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exactly right! The dramatic crash is mentally 'available,' making plane crashes feel more likely than statistics warrant. We judge risk by what comes to mind easily.\",\n          \"isCorrect\": true,\n          \"text\": \"Availability heuristic — vivid recent events seem more probable\"\n        },\n        {\n          \"feedback\": \"Loss aversion is about gains vs. losses, not risk perception. The issue here is availability — the memorable event distorts our probability estimates.\",\n          \"isCorrect\": false,\n          \"text\": \"Loss aversion — fear of dying in a crash\"\n        },\n        {\n          \"feedback\": \"Anchoring affects numerical estimates, not risk judgments. The mechanism is availability — recent vivid events feel more probable than they actually are.\",\n          \"isCorrect\": false,\n          \"text\": \"Anchoring — the crash sets a reference point for danger\"\n        },\n        {\n          \"feedback\": \"Others avoiding planes might reinforce the decision, but the root cause is availability — the vivid crash makes flying feel dangerous despite statistics.\",\n          \"isCorrect\": false,\n          \"text\": \"Social proof — others are also avoiding planes\"\n        }\n      ],\n      \"question\": \"What mental shortcut causes this?\"\n    },\n    {\n      \"context\": \"A company wants employees to save more for retirement. Currently, new hires must fill out forms to enroll in the 401(k) plan. Only 40% do so.\",\n      \"options\": [\n        {\n          \"feedback\": \"Financial incentives help, but they miss the power of defaults. Simply changing the starting point — automatic enrollment — typically works better.\",\n          \"isCorrect\": false,\n          \"text\": \"Offer larger matching contributions to incentivize enrollment\"\n        },\n        {\n          \"feedback\": \"Education rarely overcomes inertia. Even informed people often don't act. Changing the default to automatic enrollment is far more effective.\",\n          \"isCorrect\": false,\n          \"text\": \"Provide financial literacy training so employees understand the benefits\"\n        },\n        {\n          \"feedback\": \"Perfect! Switching from opt-in to opt-out leverages default effects. Participation typically jumps to 90%+ without restricting anyone's freedom to leave.\",\n          \"isCorrect\": true,\n          \"text\": \"Make enrollment the default and let employees opt out if they choose\"\n        },\n        {\n          \"feedback\": \"Simplification helps, but the bigger barrier is taking action at all. Making enrollment automatic removes that barrier while preserving choice.\",\n          \"isCorrect\": false,\n          \"text\": \"Reduce the number of investment options to simplify the decision\"\n        }\n      ],\n      \"question\": \"How could choice architecture help?\"\n    },\n    {\n      \"context\": \"You're deciding whether to go to the gym tonight. You know exercising is good for you, and you genuinely want to be healthier. But the couch and Netflix feel so appealing right now.\",\n      \"options\": [\n        {\n          \"feedback\": \"This isn't about losses vs. gains. It's about timing — the immediate reward of relaxing feels more compelling than future health benefits. That's present bias.\",\n          \"isCorrect\": false,\n          \"text\": \"Loss aversion — you're afraid of losing your relaxation time\"\n        },\n        {\n          \"feedback\": \"Nailed it! You intellectually want future health, but the pleasure of 'now' looms larger. Present bias is why we often choose immediate comfort over long-term goals.\",\n          \"isCorrect\": true,\n          \"text\": \"Present bias — immediate rewards feel more real than future benefits\"\n        },\n        {\n          \"feedback\": \"Framing affects how options are presented, but this conflict is about timing. Immediate gratification overpowers future benefits — classic present bias.\",\n          \"isCorrect\": false,\n          \"text\": \"Framing — you're thinking about it as losing an evening instead of gaining health\"\n        },\n        {\n          \"feedback\": \"Habits matter, but the core issue is temporal — present pleasures feel more vivid than future rewards. That asymmetry is present bias.\",\n          \"isCorrect\": false,\n          \"text\": \"Anchoring — your habit of relaxing sets the reference point\"\n        }\n      ],\n      \"question\": \"What bias creates this internal conflict?\"\n    },\n    {\n      \"context\": \"A utility company wants customers to reduce energy use. They tested two messages: 'Save $50/month by using less energy' and 'You're using more energy than 80% of your neighbors.'\",\n      \"options\": [\n        {\n          \"feedback\": \"Money matters, but social proof often beats financial appeals. Knowing we're different from neighbors triggers a powerful conformity motivation.\",\n          \"isCorrect\": false,\n          \"text\": \"The savings message, because money motivates everyone\"\n        },\n        {\n          \"feedback\": \"Same goal, different mechanisms. Social proof taps into our deep desire to conform, which often outperforms purely rational financial appeals.\",\n          \"isCorrect\": false,\n          \"text\": \"Both work equally well since they convey the same goal\"\n        },\n        {\n          \"feedback\": \"Right! Social proof is surprisingly powerful. Knowing we're outliers motivates change more than abstract savings, because we're wired to fit in with our peers.\",\n          \"isCorrect\": true,\n          \"text\": \"The neighbor comparison, because social proof leverages conformity\"\n        },\n        {\n          \"feedback\": \"Actually, both can work — but the social proof message typically outperforms. Conformity is a powerful motivator that bypasses rational calculation.\",\n          \"isCorrect\": false,\n          \"text\": \"Neither works well because people don't care about energy use\"\n        }\n      ],\n      \"question\": \"Which message likely works better?\"\n    },\n    {\n      \"context\": \"Someone struggling to stick to a budget downloads an app that locks their savings and penalizes early withdrawals. They find it actually helps them save more.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exactly! By making the rational choice now and locking it in, they prevent their future present-biased self from undermining the plan. Smart self-binding.\",\n          \"isCorrect\": true,\n          \"text\": \"A commitment device that binds their future self\"\n        },\n        {\n          \"feedback\": \"The app doesn't involve comparing to others. It's a commitment device — constraining future choices before present bias can derail good intentions.\",\n          \"isCorrect\": false,\n          \"text\": \"Social proof by comparing to other savers\"\n        },\n        {\n          \"feedback\": \"Loss framing could help, but the mechanism here is commitment — they're literally constraining their future self's options to ensure follow-through.\",\n          \"isCorrect\": false,\n          \"text\": \"Framing savings as avoiding losses\"\n        },\n        {\n          \"feedback\": \"Having a target might help, but the app's power is in the lock and penalty — it's a commitment device that prevents future self-sabotage.\",\n          \"isCorrect\": false,\n          \"text\": \"Anchoring on a specific savings target\"\n        }\n      ],\n      \"question\": \"What strategy is this person using?\"\n    },\n    {\n      \"context\": \"A shopper sees a sign saying 'Limit 12 per customer' on soup cans. Even though they only needed 2 cans, they end up buying 6.\",\n      \"options\": [\n        {\n          \"feedback\": \"Spot on! That arbitrary limit anchored expectations upward. Without it, they'd have bought 2. The '12' suggested buying more is normal, shifting their purchase.\",\n          \"isCorrect\": true,\n          \"text\": \"The number 12 acted as an anchor for how many to buy\"\n        },\n        {\n          \"feedback\": \"Scarcity can drive behavior, but there's no actual shortage here. The mechanism is anchoring — the number 12 influenced their quantity decision upward.\",\n          \"isCorrect\": false,\n          \"text\": \"Scarcity made them fear the soup would run out\"\n        },\n        {\n          \"feedback\": \"Social proof involves following others' behavior. Here, it's simpler — the number 12 itself anchored their thinking about reasonable quantity.\",\n          \"isCorrect\": false,\n          \"text\": \"Social proof suggested others were buying many cans\"\n        },\n        {\n          \"feedback\": \"Present bias is about now vs. later, not quantity decisions. The '12' anchor simply pulled their purchase quantity upward from what they actually needed.\",\n          \"isCorrect\": false,\n          \"text\": \"Present bias made them stock up for immediate satisfaction\"\n        }\n      ],\n      \"question\": \"What influenced this behavior?\"\n    },\n    {\n      \"context\": \"When asked if the population of Turkey is above or below 35 million, then asked to estimate the actual population, people give lower estimates than those first asked about 100 million.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exactly! Even random, unrelated numbers anchor our estimates. The brain uses whatever number is available as a starting point, then adjusts insufficiently.\",\n          \"isCorrect\": true,\n          \"text\": \"The initial arbitrary number anchors subsequent numerical judgments\"\n        },\n        {\n          \"feedback\": \"People don't trust the number as accurate — they still give different answers. But that initial number unconsciously anchors their estimate regardless.\",\n          \"isCorrect\": false,\n          \"text\": \"People assume the questioner has inside knowledge\"\n        },\n        {\n          \"feedback\": \"It's not about framing or thinking modes. The specific number presented — 35 million vs. 100 million — literally anchors the subsequent estimate.\",\n          \"isCorrect\": false,\n          \"text\": \"The framing of 'above or below' triggers different thinking modes\"\n        },\n        {\n          \"feedback\": \"The effect occurs even when people know the anchor is random. It's not about associations — the number itself directly anchors the estimate.\",\n          \"isCorrect\": false,\n          \"text\": \"Those asked about 100 million spend more time thinking about large countries\"\n        }\n      ],\n      \"question\": \"Why do the estimates differ?\"\n    },\n    {\n      \"context\": \"A manager notices that her team makes quick decisions in routine situations but slows down and deliberates carefully when facing unusual problems with high stakes.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exactly! Routine triggers efficient System 1. Novel or important problems engage effortful System 2. We toggle between them based on perceived stakes and familiarity.\",\n          \"isCorrect\": true,\n          \"text\": \"They're switching from fast, intuitive thinking to slow, analytical thinking\"\n        },\n        {\n          \"feedback\": \"Caution isn't paralysis from loss aversion. It's appropriate System 2 engagement — deliberate thinking activated when automatic shortcuts aren't sufficient.\",\n          \"isCorrect\": false,\n          \"text\": \"High stakes trigger loss aversion, causing paralysis\"\n        },\n        {\n          \"feedback\": \"Speed on routine isn't rushing due to present bias. It's System 1 handling familiar patterns efficiently, freeing System 2 for when it's actually needed.\",\n          \"isCorrect\": false,\n          \"text\": \"Present bias makes them rush through boring routine tasks\"\n        },\n        {\n          \"feedback\": \"While social dynamics exist, the fundamental mechanism is dual-system thinking — automatic for familiar situations, deliberate for novel important ones.\",\n          \"isCorrect\": false,\n          \"text\": \"Social proof leads them to match the deliberation level of others\"\n        }\n      ],\n      \"question\": \"What explains this shift?\"\n    },\n    {\n      \"context\": \"A phone company offers customers a choice between keeping their current plan or switching to a new one with better value. Despite the savings, most customers stay with their current plan.\",\n      \"options\": [\n        {\n          \"feedback\": \"Close, and related! But more precisely, the current plan is the default. Defaults create inertia — we stick with what's already selected even when change is beneficial.\",\n          \"isCorrect\": false,\n          \"text\": \"Loss aversion — giving up the familiar plan feels like a loss\"\n        },\n        {\n          \"feedback\": \"Exactly! Defaults are sticky. Even when switching is objectively better, the effort of changing plus our tendency to accept defaults keeps people in place.\",\n          \"isCorrect\": true,\n          \"text\": \"The current plan being the default creates powerful inertia\"\n        },\n        {\n          \"feedback\": \"Anchoring affects numerical perception, but this is about action vs. inaction. The default (current plan) wins because changing requires effort we don't expend.\",\n          \"isCorrect\": false,\n          \"text\": \"Anchoring on the original price makes the new plan seem expensive\"\n        },\n        {\n          \"feedback\": \"Present bias could make future savings feel distant, but the primary mechanism is default effects — we simply don't change what's already in place.\",\n          \"isCorrect\": false,\n          \"text\": \"Present bias makes future savings feel less valuable\"\n        }\n      ],\n      \"question\": \"What phenomenon is at work?\"\n    },\n    {\n      \"context\": \"A coffee shop puts its most expensive specialty drinks at the top of the menu and its basic coffees at the bottom. They notice customers often order mid-priced options.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exactly! The expensive options anchor price perception upward. Now the mid-range drinks feel like good value rather than pricey. Order matters in choice architecture.\",\n          \"isCorrect\": true,\n          \"text\": \"Anchoring customers on high prices makes mid-range seem reasonable\"\n        },\n        {\n          \"feedback\": \"The menu still has many options. The tactic is about positioning — putting expensive items first anchors expectations so mid-range feels like a bargain.\",\n          \"isCorrect\": false,\n          \"text\": \"Limiting options reduces decision fatigue\"\n        },\n        {\n          \"feedback\": \"There's no popularity signal here. The mechanism is anchoring — seeing high prices first makes subsequent prices feel more reasonable by comparison.\",\n          \"isCorrect\": false,\n          \"text\": \"Social proof suggests the top items are most popular\"\n        },\n        {\n          \"feedback\": \"While there's ordering, the effect is about anchoring on price, not framing quality. High initial prices make everything else seem like better value.\",\n          \"isCorrect\": false,\n          \"text\": \"Framing the menu as a progression from special to basic\"\n        }\n      ],\n      \"question\": \"What choice architecture is being used?\"\n    },\n    {\n      \"context\": \"A charity tested two donation requests: 'Donate now to help children' versus 'Your donation can save a child's life.' The second message raised significantly more money.\",\n      \"options\": [\n        {\n          \"feedback\": \"Close! The second message frames inaction as letting a child die — a loss. This loss framing is more motivating than the pure gain framing of 'helping.'\",\n          \"isCorrect\": true,\n          \"text\": \"The second message uses framing that triggers loss aversion\"\n        },\n        {\n          \"feedback\": \"Both are fairly general. The key difference is framing — 'save a life' implies preventing death (avoiding loss), which emotionally outweighs the positive framing of 'help.'\",\n          \"isCorrect\": false,\n          \"text\": \"It provides more specific information about the donation impact\"\n        },\n        {\n          \"feedback\": \"'Your' personalizes but doesn't imply social proof. The power is in framing — preventing loss (death) feels more urgent than creating gain (help).\",\n          \"isCorrect\": false,\n          \"text\": \"Social proof is implied by using 'Your donation'\"\n        },\n        {\n          \"feedback\": \"Anchoring affects numerical estimates. Here, the mechanism is framing and loss aversion — preventing a death feels more compelling than providing help.\",\n          \"isCorrect\": false,\n          \"text\": \"Anchoring on 'saving a life' increases perceived value\"\n        }\n      ],\n      \"question\": \"Why was the second message more effective?\"\n    },\n    {\n      \"context\": \"A researcher finds that when people are asked to think about their decisions carefully, they actually make worse choices on complex problems than those who go with their gut.\",\n      \"options\": [\n        {\n          \"feedback\": \"Right! Intuitive System 1 can integrate complex information automatically. Sometimes deliberate analysis gets lost in details while intuition captures the bigger pattern.\",\n          \"isCorrect\": true,\n          \"text\": \"System 1 can outperform System 2 when complexity overwhelms analysis\"\n        },\n        {\n          \"feedback\": \"This isn't about time preference. It's about which thinking system handles complexity better — sometimes intuition outperforms analysis on multifaceted problems.\",\n          \"isCorrect\": false,\n          \"text\": \"Present bias makes us prefer quick decisions\"\n        },\n        {\n          \"feedback\": \"Anchoring isn't the mechanism here. The finding is that analytical thinking can actually underperform intuitive thinking on certain complex decisions.\",\n          \"isCorrect\": false,\n          \"text\": \"People anchor on their first intuitive reaction\"\n        },\n        {\n          \"feedback\": \"It's not about framing. The finding reveals that System 1 can handle complexity that overwhelms System 2's deliberate analysis.\",\n          \"isCorrect\": false,\n          \"text\": \"Framing the problem as complex triggers worse analysis\"\n        }\n      ],\n      \"question\": \"What does this reveal about thinking?\"\n    },\n    {\n      \"context\": \"Despite knowing that lottery tickets are terrible investments with negative expected value, millions of people buy them every week and feel excited doing so.\",\n      \"options\": [\n        {\n          \"feedback\": \"Present bias is about timing, but lottery excitement isn't about now vs. later. It's about probability distortion and the asymmetry of gains vs. losses.\",\n          \"isCorrect\": false,\n          \"text\": \"Present bias — the thrill of buying feels better than future wealth\"\n        },\n        {\n          \"feedback\": \"Bingo! Winner stories are vivid and memorable, making jackpots feel more attainable than cold statistics suggest. Easy-to-recall examples distort probability judgment.\",\n          \"isCorrect\": true,\n          \"text\": \"Availability heuristic makes winners seem common due to media coverage\"\n        },\n        {\n          \"feedback\": \"Social proof might reduce stigma, but the core irrationality comes from availability — dramatic winner stories make the probability feel higher than it is.\",\n          \"isCorrect\": false,\n          \"text\": \"Social proof — seeing others play makes it seem normal\"\n        },\n        {\n          \"feedback\": \"Anchoring affects estimates, but the probability distortion comes from availability — memorable winner stories make rare events feel more likely.\",\n          \"isCorrect\": false,\n          \"text\": \"Anchoring on the jackpot amount distorts risk assessment\"\n        }\n      ],\n      \"question\": \"What makes this behavior predictable?\"\n    },\n    {\n      \"context\": \"A city wants to increase recycling rates. Currently, recycling bins are in a back corner of apartment buildings. Moving them next to trash chutes increases recycling by 40%.\",\n      \"options\": [\n        {\n          \"feedback\": \"Exactly! No education, no incentives, no mandates — just making recycling easier by reducing friction. Small changes in convenience dramatically shift behavior.\",\n          \"isCorrect\": true,\n          \"text\": \"Choice architecture — making the desired behavior more convenient\"\n        },\n        {\n          \"feedback\": \"Visibility might help slightly, but the main mechanism is convenience. Reducing the effort to recycle matters more than social signals.\",\n          \"isCorrect\": false,\n          \"text\": \"Social proof — visible bins show others are recycling\"\n        },\n        {\n          \"feedback\": \"People don't feel 'loss' about recyclables. The change works by reducing friction — making the desired action as easy as the undesired one.\",\n          \"isCorrect\": false,\n          \"text\": \"Loss aversion — people fear losing recyclables to the trash\"\n        },\n        {\n          \"feedback\": \"Location isn't really framing. The principle is choice architecture — reducing the effort gap between recycling and trashing changes behavior.\",\n          \"isCorrect\": false,\n          \"text\": \"Framing — the new location frames recycling as normal behavior\"\n        }\n      ],\n      \"question\": \"What principle explains this success?\"\n    },\n    {\n      \"context\": \"An economist argues that warning labels on cigarettes don't work well because smokers already know the risks. She suggests a different approach: requiring smokers to actively choose to buy cigarettes each time instead of buying cartons.\",\n      \"options\": [\n        {\n          \"feedback\": \"Anchoring isn't the mechanism. The goal is to force repeated active choices, disrupting the automatic, mindless purchasing that defaults enable.\",\n          \"isCorrect\": false,\n          \"text\": \"Anchoring — individual purchases anchor on the single-cigarette cost\"\n        },\n        {\n          \"feedback\": \"Close, but not quite framing. It's about forcing active choice — removing the default of automatic buying so present bias must be overcome each time.\",\n          \"isCorrect\": false,\n          \"text\": \"Framing — making each purchase feel like a fresh health decision\"\n        },\n        {\n          \"feedback\": \"Exactly! Cartons let one decision lock in future purchases. Individual choices force the decision repeatedly, where present bias might sometimes favor quitting.\",\n          \"isCorrect\": true,\n          \"text\": \"Present bias — forcing repeated decisions where the default isn't buying\"\n        },\n        {\n          \"feedback\": \"Social visibility isn't the goal. The mechanism is disrupting automatic defaults and forcing active decisions where present bias might favor not buying.\",\n          \"isCorrect\": false,\n          \"text\": \"Social proof — making smokers visible to others each purchase\"\n        }\n      ],\n      \"question\": \"What bias would this exploit?\"\n    },\n    {\n      \"context\": \"Classical economics assumed people always calculated the best option and chose it. Research over decades showed this assumption was systematically wrong in predictable ways.\",\n      \"options\": [\n        {\n          \"feedback\": \"That's too strong. People aren't irrational — they're predictably irrational. The key insight is that deviations from rationality follow patterns we can anticipate and design for.\",\n          \"isCorrect\": false,\n          \"text\": \"It proved people are irrational and can't make good decisions\"\n        },\n        {\n          \"feedback\": \"Exactly! Random irrationality wouldn't be useful. But predictable patterns mean we can anticipate biases and design choices that help people make better decisions.\",\n          \"isCorrect\": true,\n          \"text\": \"It showed deviations from rationality follow predictable patterns\"\n        },\n        {\n          \"feedback\": \"Economic models still work in many contexts. The insight was that systematic biases exist and can be predicted — improving, not replacing, economic thinking.\",\n          \"isCorrect\": false,\n          \"text\": \"It revealed that all economic models were completely useless\"\n        },\n        {\n          \"feedback\": \"It's not a competition. The significance was merging insights — predictable deviations from rationality could be mapped and then used to design better choices.\",\n          \"isCorrect\": false,\n          \"text\": \"It demonstrated that psychology is more important than economics\"\n        }\n      ],\n      \"question\": \"What made this finding so significant?\"\n    }\n  ]\n}",
      "outputTokens": 5570,
      "systemPrompt": "# Role\n\nYou are an expert assessment designer creating a comprehensive **Review** quiz for a learning app. Your mission is to verify whether learners have truly UNDERSTOOD — not merely remembered — all the material from a lesson's content activities.\n\nYou specialize in crafting challenging questions that test logic, problem-solving, and analytical thinking across all content dimensions: WHY (Background), WHAT (Explanation), HOW (Mechanics), and WHERE (Examples).\n\n# Core Philosophy: Understanding vs. Memorization\n\nThis distinction is the heart of effective assessment.\n\n## Why Memorization-Based Questions Fail\n\n1. **False Positives**: A learner who memorized \"electricity flows like water through pipes\" can parrot this back without understanding how circuits actually work.\n\n2. **False Negatives**: A learner who deeply understands electrical circuits might fail a question asking \"What metaphor did the text use?\" because they remember the concept, not the phrasing.\n\n3. **Shallow Learning**: When learners know they'll be tested on exact wording, they memorize instead of building mental models.\n\n## What Understanding Looks Like\n\nA learner who understands a concept can:\n\n- Apply it to situations they've never seen before\n- Recognize the concept at work in unfamiliar contexts\n- Predict outcomes based on the concept's principles\n- Explain why something would or wouldn't work\n- Connect ideas across different content dimensions\n\n## The Transfer Test\n\nEvery question must pass this test: \"Could a learner who understood the material but never read our specific content still answer this correctly?\"\n\nIf no, the question tests memorization, not understanding.\n\n# Non-Negotiable Rules\n\n1. **Never reference the content** — phrases like \"according to the lesson,\" \"as explained,\" or \"in the examples\" are forbidden\n\n2. **Never test recall of specific words, metaphors, or examples** from any activity's steps\n\n3. **Use novel scenarios** — present concepts in everyday situations the learner hasn't seen\n\n4. **Conversational tone** — write like a curious friend posing interesting challenges, not an exam proctor\n\n5. **Challenge the learner** — this is a final review; only those who fully understood should score well\n\n# Using the Inputs\n\nYou receive content from four activities. Here's how to use each:\n\n## BACKGROUND_STEPS (WHY)\n\nThese explain the origin story, historical context, and motivation behind the topic.\n\n- Test whether learners grasp **why** this topic matters\n- Ask questions about the problems it solves, not the history facts\n- Test understanding of context, motivation, and significance\n\n## EXPLANATION_STEPS (WHAT)\n\nThese define the core concepts, components, and terminology.\n\n- Test whether learners understand **what** the concepts mean\n- Present definitions in new contexts to verify comprehension\n- Test relationships between components\n\n## MECHANICS_STEPS (HOW)\n\nThese explain processes, sequences, and cause-effect chains.\n\n- Test whether learners can trace **how** things work\n- Present novel scenarios and ask for predictions\n- Test understanding of cause-effect relationships\n\n## EXAMPLES_STEPS (WHERE)\n\nThese show real-world applications and everyday contexts.\n\n- Test whether learners can **recognize** the topic in new situations\n- Ask them to identify concepts in unfamiliar domains\n- Test ability to connect abstract concepts to concrete applications\n\n# Question Distribution\n\nGenerate 15-20 questions with thoughtful coverage across all content types:\n\n- **Background (WHY)**: questions on context, motivation, and significance\n- **Explanation (WHAT)**: questions on core concepts and relationships\n- **Mechanics (HOW)**: questions on processes and cause-effect\n- **Examples (WHERE)**: questions on recognition and application\n- **Integration**: questions that synthesize multiple content types\n\nThe exact distribution should reflect the depth and complexity of each content area for this specific topic.\n\n# Difficulty Calibration\n\nThis is a comprehensive review. Questions should be challenging enough that only learners who truly understood the material will score well.\n\n## Difficulty Strategies\n\n1. **Plausible Distractors**: Wrong answers should represent common misconceptions, not obviously wrong choices. Each incorrect option should be something a learner might believe if they partially understood.\n\n2. **Novel Contexts**: Place concepts in scenarios not covered in any activity. If the examples discussed shopping carts, test with something completely different.\n\n3. **Reasoning Required**: Questions should require applying knowledge, not recognizing familiar phrases. Ask \"What would happen if...\" or \"Which situation demonstrates...\"\n\n4. **Integration Questions**: Include questions that require connecting ideas across multiple content types (e.g., understanding WHY something exists to predict HOW it might fail).\n\n5. **Edge Cases**: Test boundary conditions and exceptions that reveal whether learners truly grasped the underlying principles.\n\n## What Makes a Question Too Easy\n\n- The correct answer is obviously right without understanding the material\n- The distractors are obviously wrong (factually absurd or unrelated)\n- The question can be answered by pattern-matching familiar phrases\n- The scenario is identical to one in the activities\n\n## What Makes a Question Too Hard\n\n- The question requires external knowledge not covered in any activity\n- The scenario is so abstract that even understanding wouldn't help\n- Multiple answers could be correct depending on interpretation\n- The question tests trivia rather than understanding\n\n# Language Guidelines\n\nGenerate all content in the specified `LANGUAGE`:\n\n- `en`: US English unless content is region-specific\n- `pt`: Brazilian Portuguese unless content is region-specific\n- `es`: Latin American Spanish unless content is region-specific\n\n**Language Purity Rule**: Every word, character, and token in the output MUST be in the specified LANGUAGE. Never mix languages or scripts within a response.\n\n# Question Structure\n\nEach question must have:\n\n## context (max 300 characters)\n\nA novel scenario that sets up the question. This should:\n\n- Place the learner in a realistic situation they haven't seen\n- Provide enough detail to make the question concrete\n- Avoid referencing the lesson content\n\n## question (max 50 characters)\n\nA short, focused question. This should:\n\n- Be direct and clear\n- Ask about understanding, not recall\n- Avoid meta-language about \"the lesson\" or \"the text\"\n\n## options (exactly 4)\n\nFour answer choices, each with:\n\n- **text** (max 80 characters): The answer choice\n- **feedback**: Why this choice is right (with insight) or wrong (and what would be correct) — max 300 characters\n- **isCorrect** (boolean): Whether this is the correct answer\n\nExactly one option must be correct.\n\n## Writing Great Feedback\n\nFeedback should feel like a friendly explanation, not a grade report.\n\n**For correct answers**: Share an \"aha\" insight that deepens understanding. Make learners feel smart for getting it right.\n\n**For wrong answers**: Gently explain the mix-up, then point them toward the right answer with a quick \"here's why that works.\"\n\nThink of it like explaining to a friend over coffee — helpful, not preachy.\n\n**Examples of friendly feedback:**\n\n- \"Nice! Transactions guarantee all-or-nothing — exactly what prevents that half-updated state.\"\n- \"Close, but that's isolation, not atomicity. The right pick is [X] since atomicity is about complete-or-nothing.\"\n- \"Easy mix-up! Higher isolation actually slows things down. The answer is [X] — faster means more risk of anomalies.\"\n\n# Quality Standards\n\nBefore creating each question, verify:\n\n- [ ] Answerable without reading the activities, if the learner understands the concepts\n- [ ] Tests application, reasoning, or integration — not recall\n- [ ] Scenario is novel — not from any activity\n- [ ] Tone is conversational\n- [ ] All distractors are plausible (represent real misconceptions)\n- [ ] Feedback explains reasoning in a friendly, conversational way\n- [ ] Wrong answer feedback gently guides toward the correct answer\n- [ ] Difficulty is appropriate for a comprehensive review\n\n# Coverage Checklist\n\nBefore finalizing the full quiz, verify:\n\n- [ ] All major concepts from EXPLANATION_STEPS are tested\n- [ ] Key processes from MECHANICS_STEPS are covered\n- [ ] Context and motivation from BACKGROUND_STEPS are addressed\n- [ ] Application skills from EXAMPLES_STEPS are tested\n- [ ] We have integration questions connecting multiple content types\n- [ ] Scenarios are varied — no repeated contexts\n- [ ] Question count is between 15-20\n\n# Distractor Design\n\nStrong distractors are essential for valid assessment. For each question:\n\n1. **Identify the concept**: What understanding are you testing?\n2. **Map misconceptions**: What do learners commonly get wrong?\n3. **Craft believable alternatives**: Each wrong answer should be something a partially-understanding learner might pick\n\nCommon misconception patterns to use:\n\n- Confusing cause and effect\n- Overgeneralizing a rule\n- Mixing up related concepts\n- Applying the right process to the wrong situation\n- Understanding the \"what\" but not the \"why\"\n\n# Integration Questions\n\nInclude questions that require synthesizing knowledge across content types:\n\n- **WHY + HOW**: Understanding the motivation helps predict process behavior\n- **WHAT + WHERE**: Knowing the definition helps recognize applications\n- **HOW + WHERE**: Understanding the process helps identify real-world instances\n- **WHY + WHAT + HOW**: Full synthesis of context, concept, and process\n\nIntegration questions are often the most revealing — they show whether learners built a connected mental model or memorized isolated facts.\n\n# Output Format\n\nReturn an object with a `questions` array containing 15-20 question objects. Each question has:\n\n- **context**: Novel scenario (max 300 chars)\n- **question**: Short question (max 50 chars)\n- **options**: Array of exactly 4 options, each with:\n  - **text**: Answer choice (max 80 chars)\n  - **feedback**: Why right (with insight) or wrong (and what would be correct) — max 300 chars\n  - **isCorrect**: Boolean (exactly one true per question)\n",
      "testCaseId": "en-interdisciplinary-behavioral-economics-1",
      "userPrompt": "LESSON_TITLE: Behavioral Economics Foundations\nLESSON_DESCRIPTION: Understanding how cognitive biases and heuristics systematically influence economic decisions, and how choice architecture can improve outcomes\nCHAPTER_TITLE: Decision Making\nCOURSE_TITLE: Behavioral Economics\nLANGUAGE: en\n\nBACKGROUND_STEPS:\n1. The Rationality Assumption: Classical economics assumed people are rational utility maximizers. But psychologists Daniel Kahneman and Amos Tversky documented systematic patterns where humans deviate from rationality in predictable ways.\n2. A Nobel-Winning Collision: Their research earned Kahneman the 2002 Nobel Prize in Economics — the first psychologist to win it. Behavioral economics was born from this collision of psychology and economic theory.\n3. From Theory to Practice: Richard Thaler expanded these insights into practical applications. His concept of 'nudging' showed how small changes in choice architecture could improve decisions without restricting freedom.\n\nEXPLANATION_STEPS:\n1. Loss Aversion: Loss aversion means losses hurt roughly twice as much as equivalent gains feel good. This asymmetry explains why people take irrational risks to avoid losses but not to achieve gains.\n2. Anchoring Bias: Anchoring occurs when we rely too heavily on the first piece of information encountered. An arbitrary initial number influences subsequent estimates, even when unrelated to the judgment.\n3. Present Bias: Present bias leads us to overweight immediate rewards compared to future ones. We know we should save for retirement, but the pleasure of spending now feels more real.\n4. Framing Effects: Framing effects mean how a choice is presented affects decisions. '90% survival rate' sounds better than '10% mortality rate' — identical information, different emotional response.\n5. Dual Systems: System 1 thinking is fast, automatic, and intuitive. System 2 is slow, deliberate, and analytical. Most decisions use System 1, which is efficient but prone to biases.\n\nMECHANICS_STEPS:\n1. Heuristics in Action: Heuristics are mental shortcuts that usually work but sometimes fail. Availability heuristic: judging probability by how easily examples come to mind, not actual frequency.\n2. Choice Architecture: Choice architecture structures how options are presented. The default, number of options, and order of presentation all influence which option people choose.\n3. Nudge Mechanics: Nudges are subtle changes that steer behavior without forbidding options. Putting healthy food at eye level in cafeterias is a nudge — junk food is still available but less convenient.\n4. Commitment Devices: Commitment devices help overcome present bias. Automatic savings deductions work because they make the rational future choice before present bias can override it.\n5. Social Proof Nudges: Social proof leverages conformity for behavior change. Telling hotel guests that 'most guests reuse towels' increases reuse more than environmental appeals alone.\n\nEXAMPLES_STEPS:\n1. Investment Behavior: Investors hold losing stocks too long and sell winners too early. Loss aversion makes the pain of realizing a loss feel worse than the pleasure of locking in a gain.\n2. Pricing Psychology: Stores price items at $9.99 instead of $10 because our brains anchor on the left digit. This 'left-digit bias' affects perception more than the actual penny saved.\n3. Gym Economics: Gym memberships exploit present bias — we overestimate future motivation when signing up, then fail to attend. The gym profits from our systematic overconfidence about future behavior.\n4. Default Effects: Default options are powerful. Countries with opt-out organ donation have 90%+ participation; opt-in countries have 15%. Same choice, different framing, vastly different outcomes."
    }
  ],
  "taskId": "activity-review"
}
