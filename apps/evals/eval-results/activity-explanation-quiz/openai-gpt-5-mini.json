{
  "modelId": "openai/gpt-5-mini",
  "results": [
    {
      "duration": 39162.516292,
      "inputTokens": 386,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"You accidentally cut your finger while preparing food. Some germs slipped past the damaged skin. Which part of the immune system responds first to remove those invaders?\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Not correct. B cells and the antibodies they make are part of the adaptive response and take days to develop.\",\n          \"isCorrect\": false,\n          \"text\": \"Specialized B cells that produce antibodies\"\n        },\n        {\n          \"feedback\": \"Correct. Macrophages are innate, patrolling cells that quickly engulf and destroy foreign material that gets past barriers.\",\n          \"isCorrect\": true,\n          \"text\": \"Macrophages — patrolling cells that eat foreign material\"\n        },\n        {\n          \"feedback\": \"Not correct. Memory cells speed up responses to previously encountered pathogens, but they are part of the adaptive system and only help if you’ve seen the pathogen before.\",\n          \"isCorrect\": false,\n          \"text\": \"Memory cells that remember past infections\"\n        },\n        {\n          \"feedback\": \"Not correct. Vaccination can lead to circulating antibodies or memory cells, but immediate removal of newly entered germs is typically done by innate cells like macrophages.\",\n          \"isCorrect\": false,\n          \"text\": \"Vaccination-induced antibodies already circulating in the blood\"\n        }\n      ],\n      \"question\": \"Which response acts first?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A stubborn infection lasts several days. The body begins producing Y-shaped proteins that attach only to that pathogen and help other cells recognize it.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct. Those Y-shaped proteins are antibodies produced by B cells; they bind specifically to the invader and mark it for destruction by other immune cells.\",\n          \"isCorrect\": true,\n          \"text\": \"Antibodies made by B cells; they bind specific invaders and tag them for destruction\"\n        },\n        {\n          \"feedback\": \"Not correct. Enzymes from skin cells are not Y-shaped and don’t provide the targeted tagging function described.\",\n          \"isCorrect\": false,\n          \"text\": \"Enzymes secreted by skin cells that dissolve pathogens\"\n        },\n        {\n          \"feedback\": \"Not correct. General inflammatory signals raise temperature or attract cells but are not specific Y-shaped binding proteins.\",\n          \"isCorrect\": false,\n          \"text\": \"Broad inflammatory signals that raise body temperature\"\n        },\n        {\n          \"feedback\": \"Not correct. Macrophage receptors help engulf invaders but the described Y-shaped, highly specific tagging proteins are antibodies from B cells.\",\n          \"isCorrect\": false,\n          \"text\": \"Receptors on macrophages that help them engulf anything\"\n        }\n      ],\n      \"question\": \"What are those Y-shaped proteins and what do they do?\"\n    },\n    {\n      \"format\": \"fillBlank\",\n      \"answers\": [\n        \"innate\",\n        \"adaptive\"\n      ],\n      \"distractors\": [\n        \"passive\",\n        \"active\",\n        \"temporary\",\n        \"learned\"\n      ],\n      \"feedback\": \"The innate (first) defense reacts quickly and generally without creating long-term memory. The adaptive defense takes longer to develop but includes mechanisms (like memory cells) that retain information about specific invaders for faster future responses.\",\n      \"question\": \"Distinguish the two main defense systems in one sentence.\",\n      \"template\": \"The body's [BLANK] defense reacts immediately and doesn't retain a long-term record, while the [BLANK] defense takes longer to develop but creates memory cells.\"\n    },\n    {\n      \"format\": \"matchColumns\",\n      \"pairs\": [\n        {\n          \"left\": \"A cut where nearby immune cells quickly engulf invading bacteria\",\n          \"right\": \"Macrophage phagocytosis — innate cellular response\"\n        },\n        {\n          \"left\": \"A vaccine that lets your body respond faster to the same virus years later\",\n          \"right\": \"Memory cells enabling quicker adaptive responses\"\n        },\n        {\n          \"left\": \"Skin and mucus trapping dust, dirt, and germs at the body's entrances\",\n          \"right\": \"Physical barriers — the first line of defense\"\n        },\n        {\n          \"left\": \"Y-shaped proteins that attach only to a specific bacterium and flag it\",\n          \"right\": \"Antibodies produced by B cells — specific targeting\"\n        }\n      ],\n      \"question\": \"Match each real-world item to the immune concept it illustrates.\"\n    },\n    {\n      \"format\": \"sortOrder\",\n      \"feedback\": \"When a pathogen breaches the barrier, the innate system responds first (e.g., phagocytes). If the threat persists, the adaptive system activates B cells to make specific antibodies, and some adaptive cells become memory cells for faster future responses.\",\n      \"items\": [\n        \"Physical barrier is breached (e.g., a cut)\",\n        \"Innate immune cells like macrophages detect and engulf the invader\",\n        \"B cells are activated and produce specific antibodies targeting the pathogen\",\n        \"Some adaptive cells become memory cells that speed future responses\"\n      ],\n      \"question\": \"Put these events in the order they typically occur after a new pathogen enters the body.\"\n    }\n  ]\n}",
      "outputTokens": 2711,
      "steps": [
        {
          "conclusion": "Question 3 requires the learner to identify and apply the terms 'innate' and 'adaptive'. However, the provided 'EXPLANATION_STEPS' never introduces these specific scientific labels, referring to them only as the 'first' and 'second' lines of defense. Testing vocabulary that was not taught in the lesson makes the question unanswerable based strictly on the provided context and violates the rule to use the provided input as the source of concepts.",
          "kind": "majorErrors",
          "score": 6.5
        },
        {
          "conclusion": "Question 4 uses the term 'phagocytosis' in the matching options. While the text describes macrophages 'eating' foreign material, the specific scientific term 'phagocytosis' is not introduced. Although the question is likely solvable via the keyword 'Macrophage', introducing untaught jargon adds unnecessary confusion.",
          "kind": "minorErrors",
          "score": 8.5
        },
        {
          "conclusion": "Question 3 should be rephrased to test the functional differences described in the text (e.g., speed vs. memory) without requiring the specific labels 'innate' and 'adaptive', or those terms should be defined in the context of the question. Additionally, Question 1 and 2 demonstrate excellent application of the concepts to novel scenarios, which is a strong positive.",
          "kind": "potentialImprovements",
          "score": 8
        }
      ],
      "testCase": {
        "expectations": "\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Scenarios where someone observes immune responses in everyday life (repeat exposure, recovery time, vaccination effects) and must explain the underlying mechanism\n   - GOOD PATTERN: Situations requiring prediction of immune outcomes based on understanding defense layers\n   - BAD PATTERN: Asking to name cells, list defense mechanisms, or recall definitions without application context\n   - BAD PATTERN: Questions referencing specific metaphors or examples from the explanation\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - Antibodies directly killing pathogens (they MARK pathogens for destruction by other cells like macrophages)\n   - White blood cells being a single type (there are many types with different functions)\n   - Immune response being immediate (innate response is fast, adaptive takes days)\n   - Fever being harmful (it's often a beneficial immune response)\n\n3. FORMAT FIT: Multiple choice works well for \"which scenario shows X mechanism.\" Match columns work for connecting symptoms to immune responses. Sort order works for immune response sequence.\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "en-biology-immune-system-quiz-1",
        "userInput": {
          "chapterTitle": "Body Systems",
          "courseTitle": "Human Biology",
          "explanationSteps": [
            {
              "text": "Your body has two defense systems working together. The first responds instantly to any threat. The second takes time but remembers enemies forever.",
              "title": "Two Lines of Defense"
            },
            {
              "text": "Physical barriers like skin and mucus stop most invaders. If they get through, patrolling cells called macrophages eat anything that looks foreign.",
              "title": "The First Responders"
            },
            {
              "text": "When threats persist, specialized cells called B cells create antibodies. These Y-shaped proteins stick to specific invaders, marking them for destruction.",
              "title": "The Targeting System"
            },
            {
              "text": "Some cells become memory cells after an infection. They remember the invader's shape for years, letting your body respond faster next time.",
              "title": "Remembering Enemies"
            }
          ],
          "language": "en",
          "lessonDescription": "Understanding how the immune system protects the body through multiple layers of defense, from physical barriers to specialized cells and antibodies",
          "lessonTitle": "How the Immune System Works"
        }
      }
    },
    {
      "duration": 40020.069708,
      "inputTokens": 323,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A compiler processes source code in stages so each stage can focus on one job. Which benefit does this 'staged' approach primarily provide?\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct — splitting the compiler into stages separates concerns, making each phase simpler to design, debug, and reason about.\",\n          \"isCorrect\": true,\n          \"text\": \"Each stage can focus on a single concern, simplifying development and debugging.\"\n        },\n        {\n          \"feedback\": \"This sounds plausible but is incorrect — stages are about compile-time organization; they don't make the program run parallel at runtime.\",\n          \"isCorrect\": false,\n          \"text\": \"It makes the program run faster by executing stages in parallel at runtime.\"\n        },\n        {\n          \"feedback\": \"Wrong — staging doesn't remove semantic checks; it isolates them into their own phase so they can be done systematically.\",\n          \"isCorrect\": false,\n          \"text\": \"It avoids the need for semantic checks entirely.\"\n        },\n        {\n          \"feedback\": \"Not accurate — staging doesn't change the fact that execution uses transformed code; the original source not being unchanged is irrelevant to the purpose of stages.\",\n          \"isCorrect\": false,\n          \"text\": \"It ensures the original source code remains unchanged when executed.\"\n        }\n      ],\n      \"question\": \"Why use stages in a compiler?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Consider this source line: total=items_count+42. Which best describes what lexical analysis produces from this line?\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Right — lexical analysis groups characters into tokens like identifiers, operators, and literals.\",\n          \"isCorrect\": true,\n          \"text\": \"A sequence of tokens: identifiers (total, items_count), operators (=, +), and a numeric literal (42).\"\n        },\n        {\n          \"feedback\": \"This is what the parser builds from tokens, not lexing.\",\n          \"isCorrect\": false,\n          \"text\": \"A tree showing the expression structure with nodes for assignment and addition.\"\n        },\n        {\n          \"feedback\": \"Machine instructions are produced later by code generation, not by the lexer.\",\n          \"isCorrect\": false,\n          \"text\": \"Machine instructions that the CPU can execute immediately.\"\n        },\n        {\n          \"feedback\": \"Type and semantic reports are generated by the semantic phase, after parsing.\",\n          \"isCorrect\": false,\n          \"text\": \"A report listing type and semantic errors for that line.\"\n        }\n      ],\n      \"question\": \"What does lexical analysis produce?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"You see an error 'unexpected )' for code: print(1 + * 2). Which compiler stage most likely reported this?\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct — the parser detects syntax problems like missing operands or misplaced operators.\",\n          \"isCorrect\": true,\n          \"text\": \"The parser (syntax analysis) — it detects malformed token arrangements.\"\n        },\n        {\n          \"feedback\": \"The lexer only splits characters into tokens and would not normally report this kind of misplaced-operator error.\",\n          \"isCorrect\": false,\n          \"text\": \"The lexer (lexical analysis).\"\n        },\n        {\n          \"feedback\": \"Semantic analysis catches meaning issues like type errors, but not basic syntax like an unexpected operator.\",\n          \"isCorrect\": false,\n          \"text\": \"The semantic analyzer (meaning checks).\"\n        },\n        {\n          \"feedback\": \"Code generation runs after the program is validated; it wouldn't flag syntax errors.\",\n          \"isCorrect\": false,\n          \"text\": \"The code generator (output translation).\"\n        }\n      ],\n      \"question\": \"Which stage finds this syntax error?\"\n    },\n    {\n      \"format\": \"matchColumns\",\n      \"pairs\": [\n        {\n          \"left\": \"Source contains a character not allowed by the language (e.g., €)\",\n          \"right\": \"Lexical analysis — invalid character/tokenization error\"\n        },\n        {\n          \"left\": \"An if-statement misses a closing parenthesis\",\n          \"right\": \"Parsing — syntax error detected while building the structure\"\n        },\n        {\n          \"left\": \"Adding a string to a number without a conversion\",\n          \"right\": \"Semantic analysis — type or meaning error\"\n        },\n        {\n          \"left\": \"Compiler outputs assembly or machine instructions\",\n          \"right\": \"Code generation — translation to executable instructions\"\n        }\n      ],\n      \"question\": \"Match each observed compiler behavior to the compiler phase most likely responsible.\"\n    },\n    {\n      \"format\": \"sortOrder\",\n      \"feedback\": \"Lexical analysis must run before parsing (parser needs tokens). Parsing must finish before semantic checks (which rely on structure). Semantic checks must pass before code generation so the generator can emit correct instructions.\",\n      \"items\": [\n        \"Lexical analysis (tokenization)\",\n        \"Parsing (build syntax/parse tree)\",\n        \"Semantic analysis (type and meaning checks)\",\n        \"Code generation (emit machine/executable instructions)\"\n      ],\n      \"question\": \"Put these compiler phases in the order they normally run.\"\n    },\n    {\n      \"format\": \"fillBlank\",\n      \"answers\": [\n        \"lexical analysis\",\n        \"abstract syntax tree\",\n        \"code generation\"\n      ],\n      \"distractors\": [\n        \"runtime optimization\",\n        \"memory allocation\",\n        \"code execution\"\n      ],\n      \"feedback\": \"A compiler first performs lexical analysis to break text into tokens, then the parser builds an abstract syntax tree (a structured representation), and finally code generation produces machine-level instructions.\",\n      \"question\": \"Fill the blanks describing the main steps a compiler follows.\",\n      \"template\": \"First a compiler performs [BLANK], then it constructs an [BLANK], and finally it performs [BLANK] to produce executable code.\"\n    }\n  ]\n}",
      "outputTokens": 2755,
      "steps": [
        {
          "conclusion": "None",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "In Question 3, the scenario describes an error 'unexpected )' for the code `print(1 + * 2)`. Technically, a parser reading this code would encounter the unexpected `*` (or missing operand) immediately after the `+`, triggering an error there before reaching the closing parenthesis. While the question correctly tests that this is a syntax error caught by the parser, the specific error message doesn't perfectly match the provided code snippet.",
          "kind": "minorErrors",
          "score": 9.5
        },
        {
          "conclusion": "Question 6 requires the term \"abstract syntax tree\" in the second blank. While this is the correct technical term, the provided explanation text only used the phrase \"tree structure\". While acceptable for a 'Theory' course, strict adherence to the provided text might suggest accepting 'syntax tree' or 'tree structure' to avoid penalizing learners who haven't encountered 'abstract' yet. However, this is a very minor point as the concept is correct.",
          "kind": "potentialImprovements",
          "score": 9.5
        }
      ],
      "testCase": {
        "expectations": "\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Scenarios involving code errors where learners must identify which compilation phase would catch or miss them\n   - GOOD PATTERN: Situations requiring understanding of why phases must occur in a specific order\n   - BAD PATTERN: Asking to list phases, name outputs, or define terminology without application context\n   - BAD PATTERN: Questions about the \"assembly line\" metaphor or other explanation-specific content\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - Lexical analysis and parsing being the same thing (lexical analysis produces tokens; parsing builds syntax trees from tokens)\n   - Compilers only producing machine code (many produce bytecode or intermediate representations)\n   - Optimization being optional or unimportant (it's crucial for performance)\n   - Semantic analysis happening before parsing (parsing must complete first)\n\n3. FORMAT FIT: Sort order works well for compiler pipeline stages. Match columns work for connecting error types to phases. Multiple choice for \"which phase catches this error.\"\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "en-cs-compilers-quiz-1",
        "userInput": {
          "chapterTitle": "Language Implementation",
          "courseTitle": "Programming Language Theory",
          "explanationSteps": [
            {
              "text": "A compiler reads your code in stages, like an assembly line. Each stage transforms the code into something closer to what the machine understands.",
              "title": "The Assembly Line"
            },
            {
              "text": "First, lexical analysis breaks your code into tokens - the smallest meaningful units. Keywords, variables, and operators each become distinct pieces.",
              "title": "Breaking into Tokens"
            },
            {
              "text": "The parser takes those tokens and builds a tree structure showing how statements relate. This catches syntax errors like missing parentheses.",
              "title": "Building Structure"
            },
            {
              "text": "Semantic analysis checks if your code makes logical sense. It catches errors like using a string where a number is required.",
              "title": "Checking Meaning"
            },
            {
              "text": "Finally, code generation translates the validated structure into machine instructions the processor can execute directly.",
              "title": "Generating Output"
            }
          ],
          "language": "en",
          "lessonDescription": "Understanding how compilers transform human-readable code into machine-executable instructions through multiple phases of analysis and transformation",
          "lessonTitle": "How Compilers Work"
        }
      }
    },
    {
      "duration": 35542.82616700001,
      "inputTokens": 330,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Numa cidade turística pequena, um fluxo súbito de dinheiro novo chega às mãos dos moradores — mais consumo e mais liquidez disponível.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correto — mais dinheiro em circulação tende a elevar os preços, isto é, pressionar a inflação.\",\n          \"isCorrect\": true,\n          \"text\": \"Os preços locais tendem a subir (maior inflação).\"\n        },\n        {\n          \"feedback\": \"Não é a resposta mais direta — a inflação é mais provável do que deflação quando entra dinheiro novo.\",\n          \"isCorrect\": false,\n          \"text\": \"Os preços caem (deflação).\"\n        },\n        {\n          \"feedback\": \"Pode ocorrer algum crescimento, mas a consequência imediata mais típica é a alta de preços, não só maior produção.\",\n          \"isCorrect\": false,\n          \"text\": \"A produção cresce imediatamente sem mudança de preços.\"\n        },\n        {\n          \"feedback\": \"Estagnação é improvável diante de maior liquidez; normalmente ela estimula atividade e eleva preços.\",\n          \"isCorrect\": false,\n          \"text\": \"A economia entra em estagnação.\"\n        }\n      ],\n      \"question\": \"O que acontece com os preços?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"O banco central aumenta a taxa básica de juros. Um jovem que planejava financiar um carro repensa a compra.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correto — juros mais altos tornam empréstimos mais caros, reduzindo a demanda por crédito e o consumo.\",\n          \"isCorrect\": true,\n          \"text\": \"Empréstimos ficam mais caros e o consumo tende a cair.\"\n        },\n        {\n          \"feedback\": \"Errado — juros mais altos normalmente reduzem, não aumentam, o volume de empréstimos.\",\n          \"isCorrect\": false,\n          \"text\": \"Empréstimos ficam mais baratos e o consumo aumenta.\"\n        },\n        {\n          \"feedback\": \"Juros mais altos não aumentam imediatamente a quantidade de dinheiro; costumam restringi-la via crédito.\",\n          \"isCorrect\": false,\n          \"text\": \"A quantidade de dinheiro em circulação aumenta imediatamente.\"\n        },\n        {\n          \"feedback\": \"Podem afetar inflação no tempo, mas o efeito típico imediato é sobre o custo do crédito, não um aumento do investimento.\",\n          \"isCorrect\": false,\n          \"text\": \"Os investimentos empresariais aumentam imediatamente.\"\n        }\n      ],\n      \"question\": \"Efeito de juros altos?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"O banco central corta a taxa de juros hoje, mas várias empresas só mudam seus planos de investimento meses depois.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correto — decisões de consumidores e empresas levam tempo; por isso políticas monetárias têm efeitos defasados.\",\n          \"isCorrect\": true,\n          \"text\": \"Porque empresas e consumidores ajustam planos gradualmente, há um atraso nos efeitos.\"\n        },\n        {\n          \"feedback\": \"Não é o ponto principal — embora expectativas importem, o atraso refere-se à velocidade de ajuste econômico real.\",\n          \"isCorrect\": false,\n          \"text\": \"Porque bancos centrais precisam de autorização legislativa antes que a mudança valha.\"\n        },\n        {\n          \"feedback\": \"Mudanças de juros não sempre são imediatas, mas não por falta de transmissão — sim por comportamento gradual, não por imprevisibilidade total.\",\n          \"isCorrect\": false,\n          \"text\": \"Porque a política monetária é imprevisível e os agentes não reagem por medo.\"\n        },\n        {\n          \"feedback\": \"A política monetária afeta mercados financeiros rapidamente, mas o efeito sobre produção e emprego costuma demorar.\",\n          \"isCorrect\": false,\n          \"text\": \"Porque os efeitos chegam instantaneamente aos preços e salários.\"\n        }\n      ],\n      \"question\": \"Por que há atraso?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"O banco central decide comprar títulos do governo no mercado aberto como forma de ação extraordinária.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correto — ao comprar títulos, o banco central aumenta a liquidez, colocando mais dinheiro em circulação e geralmente reduzindo taxas de juros de mercado.\",\n          \"isCorrect\": true,\n          \"text\": \"Compra aumenta a quantidade de dinheiro em circulação e tende a reduzir juros de mercado.\"\n        },\n        {\n          \"feedback\": \"Na verdade, vender títulos é que retira dinheiro da circulação; comprar não retira.\",\n          \"isCorrect\": false,\n          \"text\": \"Comprar títulos retira dinheiro da economia.\"\n        },\n        {\n          \"feedback\": \"Comprar títulos geralmente reduz, não aumenta, as taxas de juros de mercado.\",\n          \"isCorrect\": false,\n          \"text\": \"Comprar títulos aumenta as taxas de juros de mercado.\"\n        },\n        {\n          \"feedback\": \"Operações de mercado aberto alteram a liquidez e as taxas, portanto têm efeito — não são neutras.\",\n          \"isCorrect\": false,\n          \"text\": \"Essas operações não afetam a liquidez.\"\n        }\n      ],\n      \"question\": \"O que acontece ao comprar títulos?\"\n    },\n    {\n      \"format\": \"fillBlank\",\n      \"answers\": [\n        \"injeta\",\n        \"retira\"\n      ],\n      \"distractors\": [\n        \"multiplica\",\n        \"converte\",\n        \"empresta\",\n        \"reduz\"\n      ],\n      \"feedback\": \"Ao comprar títulos o banco central injeta dinheiro na economia (aumenta liquidez); ao vender títulos ele retira dinheiro (reduz liquidez).\",\n      \"question\": \"Complete: Operações de mercado\",\n      \"template\": \"Quando o banco central compra títulos, ele [BLANK] dinheiro na economia; quando vende títulos, ele [BLANK] dinheiro.\"\n    },\n    {\n      \"format\": \"matchColumns\",\n      \"pairs\": [\n        {\n          \"left\": \"Uma indústria adia contratação de funcionários por vários meses após uma redução na taxa de juros.\",\n          \"right\": \"Efeito com atraso\"\n        },\n        {\n          \"left\": \"Uma cidade turística com muito dinheiro fresco vê preços de restaurantes e aluguéis subirem.\",\n          \"right\": \"Equilíbrio monetário — mais dinheiro eleva preços\"\n        },\n        {\n          \"left\": \"Com taxas de juros altas, menos pessoas financiam carros e imóveis.\",\n          \"right\": \"Alavanca dos juros — juros afetam empréstimos e consumo\"\n        },\n        {\n          \"left\": \"O banco central compra grandes quantidades de títulos do governo.\",\n          \"right\": \"Operações de mercado — comprar títulos injeta liquidez\"\n        }\n      ],\n      \"question\": \"Relacione cada situação com o mecanismo de política monetária correspondente.\"\n    }\n  ]\n}",
      "outputTokens": 2424,
      "steps": [
        {
          "conclusion": "None",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "Question 5 violates the instruction 'Never test recall of specific words... from the explanation steps'. The question is a 'cloze' style fill-in-the-blank that uses the exact phrasing and verbs ('injeta', 'retira') from the provided source text. A learner who understands the concept might choose a valid synonym (like 'reduz' which is listed as a distractor) but be marked wrong because they didn't memorize the specific word from the text.",
          "kind": "minorErrors",
          "score": 8.5
        },
        {
          "conclusion": "Question 1's feedback for the incorrect option about deflation ('Não é a resposta mais direta') is vague. It implies deflation is a possibility, just not a 'direct' one, whereas in the context of a money supply shock, inflation is the distinct opposite. Stronger feedback would explicitly state why the logic is incorrect (e.g., 'More money chases the same goods, raising prices, not lowering them'). Additionally, Question 4 is abstract; placing it in a specific scenario (e.g., 'The Central Bank wants to fight inflation...') would better adhere to the 'Novel Scenarios' rule.",
          "kind": "potentialImprovements",
          "score": 8.5
        }
      ],
      "testCase": {
        "expectations": "\nLANGUAGE REQUIREMENT: Questions, options, and feedback must be in Portuguese.\n\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Scenarios involving economic decisions (borrowing, spending, saving) where learners must predict effects of interest rate changes\n   - GOOD PATTERN: Situations requiring understanding of transmission delays between policy and economic outcomes\n   - BAD PATTERN: Asking to list monetary tools or define economic terms without application context\n   - BAD PATTERN: Questions referencing specific examples from the explanation\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - Interest rate changes having immediate effects (transmission mechanisms have significant time lags of 6-18 months)\n   - Central banks directly controlling inflation (they influence it through indirect mechanisms)\n   - Lower interest rates always being good (they can fuel inflation and asset bubbles)\n   - Monetary policy being the only tool for economic stability (fiscal policy also plays a role)\n\n3. FORMAT FIT: Multiple choice works for cause-effect scenarios. Match columns work for connecting policy actions to economic effects. Sort order can work for transmission mechanism sequences.\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "pt-economics-monetary-policy-quiz-1",
        "userInput": {
          "chapterTitle": "Macroeconomia",
          "courseTitle": "Economia para Iniciantes",
          "explanationSteps": [
            {
              "text": "O banco central controla a quantidade de dinheiro circulando na economia. Quando ha dinheiro demais, os precos sobem. Quando ha pouco, a economia desacelera.",
              "title": "Equilibrio Monetario"
            },
            {
              "text": "A taxa basica de juros e a principal ferramenta. Juros altos tornam emprestimos caros, reduzindo gastos. Juros baixos estimulam emprestimos e consumo.",
              "title": "A Alavanca dos Juros"
            },
            {
              "text": "Mudancas nos juros levam meses para afetar a economia real. Empresas e consumidores ajustam seus planos gradualmente, nao instantaneamente.",
              "title": "Efeito com Atraso"
            },
            {
              "text": "Bancos centrais tambem compram e vendem titulos do governo. Comprando titulos, injetam dinheiro na economia. Vendendo, retiram dinheiro de circulacao.",
              "title": "Operacoes de Mercado"
            }
          ],
          "language": "pt",
          "lessonDescription": "Entendendo como bancos centrais usam taxas de juros e outras ferramentas para influenciar a economia, incluindo os mecanismos de transmissao da politica monetaria",
          "lessonTitle": "Como Funciona a Politica Monetaria"
        }
      }
    },
    {
      "duration": 50527.531042,
      "inputTokens": 391,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Un servicio guarda un resumen (hash) de cualquier archivo como una cadena de longitud fija (por ejemplo, 256 bits). Un archivo de 1 KB y otro de 1 GB producen resúmenes del mismo tamaño.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correcto. Las funciones hash producen una salida de longitud fija independientemente del tamaño de la entrada; esa propiedad es la que permite almacenar resúmenes uniformes.\",\n          \"isCorrect\": true,\n          \"text\": \"Salida de longitud fija (compresión a tamaño fijo)\"\n        },\n        {\n          \"feedback\": \"No exactamente. El efecto avalancha describe cómo pequeños cambios en la entrada alteran drásticamente el hash, no el tamaño fijo de la salida.\",\n          \"isCorrect\": false,\n          \"text\": \"Efecto avalancha\"\n        },\n        {\n          \"feedback\": \"No. La unidireccionalidad significa que no puedes recuperar la entrada desde el hash, no que la salida tenga tamaño fijo.\",\n          \"isCorrect\": false,\n          \"text\": \"Unidireccionalidad (camino de ida)\"\n        },\n        {\n          \"feedback\": \"Incorrecto. La resistencia a colisiones se refiere a la dificultad de encontrar dos entradas con el mismo hash, no al tamaño constante de la salida.\",\n          \"isCorrect\": false,\n          \"text\": \"Resistencia a colisiones (unicidad práctica)\"\n        }\n      ],\n      \"question\": \"¿Qué propiedad ilustra que archivos de distinto tamaño produzcan hashes del mismo tamaño?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"María modifica un solo píxel en una imagen y observa que el resumen (hash) del archivo cambia por completo.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correcto. Ese comportamiento es el efecto avalancha: pequeñas modificaciones en la entrada provocan cambios grandes y aparentemente aleatorios en el hash.\",\n          \"isCorrect\": true,\n          \"text\": \"Efecto avalancha (sensibilidad extrema)\"\n        },\n        {\n          \"feedback\": \"No. La salida de longitud fija no explica por qué un pequeño cambio produce un hash totalmente distinto.\",\n          \"isCorrect\": false,\n          \"text\": \"Salida de longitud fija\"\n        },\n        {\n          \"feedback\": \"No. La unidireccionalidad implica que no puedes recuperar la entrada desde el hash; no explica la sensibilidad a pequeños cambios.\",\n          \"isCorrect\": false,\n          \"text\": \"Unidireccionalidad\"\n        },\n        {\n          \"feedback\": \"No. La resistencia a colisiones es sobre encontrar dos entradas distintas con el mismo hash; no sobre la reacción a pequeños cambios.\",\n          \"isCorrect\": false,\n          \"text\": \"Resistencia a colisiones\"\n        }\n      ],\n      \"question\": \"¿Qué propiedad está demostrando el cambio drástico del hash tras modificar un solo píxel?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Luis trabaja con contraseñas: la base de datos guarda sólo el hash de cada contraseña en lugar de la contraseña en texto plano.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correcto. Las funciones hash criptográficas son unidireccionales: no es práctico recuperar la contraseña original a partir de su hash, por eso se usan para almacenamiento seguro.\",\n          \"isCorrect\": true,\n          \"text\": \"Porque el hash es unidireccional: no se puede recuperar la contraseña original desde el hash\"\n        },\n        {\n          \"feedback\": \"Incorrecto. Que cambiar la contraseña modifique el hash es cierto, pero no es la razón principal por la que guardar hashes protege contraseñas.\",\n          \"isCorrect\": false,\n          \"text\": \"Porque cambiar la contraseña siempre produce un hash distinto (sensibilidad)\"\n        },\n        {\n          \"feedback\": \"No. Tener salida de longitud fija no impide que alguien obtenga la contraseña; la seguridad viene de la imposibilidad de invertir el hash.\",\n          \"isCorrect\": false,\n          \"text\": \"Porque el hash tiene longitud fija, así no se expone la longitud de la contraseña\"\n        },\n        {\n          \"feedback\": \"Equivocado. La facilidad para encontrar colisiones reduciría la seguridad, no la aumentaría; además, no explica por qué el almacenamiento con hash es seguro.\",\n          \"isCorrect\": false,\n          \"text\": \"Porque es fácil encontrar colisiones y así detectar duplicados\"\n        }\n      ],\n      \"question\": \"¿Por qué guardar sólo el hash de contraseñas mejora la seguridad?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Un auditor pregunta: si una función hash es fuerte en resistencia a colisiones, ¿qué espera ver cuando un atacante intenta encontrar dos archivos distintos con el mismo hash?\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correcto. Resistencia a colisiones significa que encontrar dos entradas diferentes que produzcan el mismo hash es prácticamente imposible con recursos razonables.\",\n          \"isCorrect\": true,\n          \"text\": \"Que sea prácticamente imposible encontrar dos entradas diferentes con el mismo hash\"\n        },\n        {\n          \"feedback\": \"No. Si fuera trivial encontrar pares distintos con el mismo hash, la función estaría rota y no sería resistente a colisiones.\",\n          \"isCorrect\": false,\n          \"text\": \"Que sea trivial encontrar muchas parejas con el mismo hash\"\n        },\n        {\n          \"feedback\": \"Incorrecto. Que cambiar un bit no afecte el hash contradice la sensibilidad extrema (efecto avalancha).\",\n          \"isCorrect\": false,\n          \"text\": \"Que pequeños cambios no afecten el hash\"\n        },\n        {\n          \"feedback\": \"No. Que el hash revele el contenido original va contra la propiedad de unidireccionalidad; además no tiene que ver con colisiones.\",\n          \"isCorrect\": false,\n          \"text\": \"Que el hash permita reconstruir el archivo original fácilmente\"\n        }\n      ],\n      \"question\": \"¿Qué implica la resistencia a colisiones para un atacante?\"\n    },\n    {\n      \"format\": \"matchColumns\",\n      \"pairs\": [\n        {\n          \"left\": \"Un archivo de 10 KB y otro de 2 GB generan resúmenes del mismo tamaño\",\n          \"right\": \"Salida de longitud fija (compresión de datos)\"\n        },\n        {\n          \"left\": \"Modificar un solo carácter cambia por completo el resumen\",\n          \"right\": \"Efecto avalancha (sensibilidad extrema)\"\n        },\n        {\n          \"left\": \"No se puede obtener el archivo original a partir del resumen\",\n          \"right\": \"Unidireccionalidad (camino de ida)\"\n        },\n        {\n          \"left\": \"Encontrar dos archivos diferentes con el mismo resumen es impráctico\",\n          \"right\": \"Resistencia a colisiones (unicidad práctica)\"\n        }\n      ],\n      \"question\": \"Relaciona cada escenario observable con la propiedad de la función hash correspondiente.\"\n    }\n  ]\n}",
      "outputTokens": 2924,
      "steps": [
        {
          "conclusion": "The response violates the 'Non-Negotiable Rules' regarding novel scenarios. The instructions explicitly state to 'Use novel scenarios — present concepts in everyday situations the learner hasn't seen' and to 'Never test recall of specific words, metaphors, or examples'. \n\n1. The explanation text uses the example: 'Un archivo de 1KB y uno de 1GB'. Question 1 uses the exact same example: 'Un archivo de 1 KB y otro de 1 GB'.\n2. The explanation text uses the example: 'se usan para almacenar contrasenas'. Question 3 uses the exact same example: 'Luis trabaja con contraseñas'.\n\nThis constitutes a failure to test transfer of knowledge, defaulting instead to testing recall of the provided examples.",
          "kind": "majorErrors",
          "score": 7
        },
        {
          "conclusion": "None",
          "kind": "minorErrors",
          "score": 10
        },
        {
          "conclusion": "To improve, the model must generate truly novel contexts. \n- For 'Fixed Length': Use a scenario about checking a digital fingerprint of a massive operating system ISO versus a small text file.\n- For 'One-way': Use a scenario about a digital commitment scheme or verifying a message without revealing the content, rather than the password example provided in the text.\n- For 'Avalanche': Use a scenario about verifying software integrity where a hacker inserted a malicious line of code, changing the checksum entirely.",
          "kind": "potentialImprovements",
          "score": 7.5
        }
      ],
      "testCase": {
        "expectations": "\nLANGUAGE REQUIREMENT: Questions, options, and feedback must be in Spanish.\n\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Security scenarios where learners must apply hash properties (irreversibility, avalanche effect, collision resistance) to real situations\n   - GOOD PATTERN: Situations requiring understanding of why certain hash behaviors matter for security\n   - BAD PATTERN: Asking to list hash properties or define terminology without application context\n   - BAD PATTERN: Questions about specific terms like \"avalanche effect\" without practical application\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - Hashing being the same as encryption (hashing is ONE-WAY and irreversible; encryption is designed to be reversible with a key)\n   - Hash functions producing unique outputs (collisions are mathematically possible, just extremely unlikely for good functions)\n   - Longer hashes always being more secure (algorithm quality matters more than length)\n   - MD5 or SHA-1 being secure for cryptographic purposes (both have known vulnerabilities)\n\n3. FORMAT FIT: Multiple choice works for security scenarios. Match columns work for connecting hash properties to their practical implications.\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "es-crypto-hash-functions-quiz-1",
        "userInput": {
          "chapterTitle": "Fundamentos de Criptografia",
          "courseTitle": "Seguridad Informatica",
          "explanationSteps": [
            {
              "text": "Una funcion hash convierte cualquier dato en una cadena de longitud fija. Un archivo de 1KB y uno de 1GB producen hashes del mismo tamano.",
              "title": "Compresion de Datos"
            },
            {
              "text": "Cambiar un solo bit del archivo original cambia completamente el hash. Esta propiedad se llama efecto avalancha y es crucial para detectar alteraciones.",
              "title": "Sensibilidad Extrema"
            },
            {
              "text": "No puedes recuperar el archivo original desde su hash - el proceso es irreversible. Por eso se usan para almacenar contrasenas de forma segura.",
              "title": "Camino de Ida"
            },
            {
              "text": "Encontrar dos archivos diferentes con el mismo hash deberia ser practicamente imposible. Esta resistencia a colisiones es lo que hace a los hashes confiables.",
              "title": "Unicidad Practica"
            }
          ],
          "language": "es",
          "lessonDescription": "Entendiendo como funcionan las funciones hash criptograficas, sus propiedades matematicas, y por que son fundamentales para la seguridad digital",
          "lessonTitle": "Funciones Hash Criptograficas"
        }
      }
    },
    {
      "duration": 40901.924792,
      "inputTokens": 384,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A self-driving car's perception network keeps mislabeling stop signs as speed-limit signs. Which training challenge asks what to change and by how much so outputs improve?\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct — training is about identifying which weights (connection strengths) to change and by how much so outputs match targets.\",\n          \"isCorrect\": true,\n          \"text\": \"Figuring which connection strengths to change and by how much so outputs match targets.\"\n        },\n        {\n          \"feedback\": \"Not right — hardware speed matters for deployment but doesn't describe the core training adjustment problem.\",\n          \"isCorrect\": false,\n          \"text\": \"Finding the fastest hardware to run the model.\"\n        },\n        {\n          \"feedback\": \"Not right — collecting labels helps data quality but doesn't decide how individual connections should change.\",\n          \"isCorrect\": false,\n          \"text\": \"Labeling more training examples to reduce mistakes.\"\n        },\n        {\n          \"feedback\": \"Not right — architecture design is important, but the adjustment problem is about updating existing connections during training.\",\n          \"isCorrect\": false,\n          \"text\": \"Designing a new network architecture to avoid the error.\"\n        }\n      ],\n      \"question\": \"Which describes the adjustment problem?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"An email spam classifier outputs a probability but the message was actually spam. What step measures the difference between prediction and reality?\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct — the loss (error) function quantifies how far the prediction is from the true label and is used to guide learning.\",\n          \"isCorrect\": true,\n          \"text\": \"Compute a loss (error) value that quantifies the difference between prediction and true label.\"\n        },\n        {\n          \"feedback\": \"Not quite — backpropagation uses the loss but is the procedure for assigning blame, not the measurement itself.\",\n          \"isCorrect\": false,\n          \"text\": \"Run backpropagation to measure how wrong the prediction was.\"\n        },\n        {\n          \"feedback\": \"No — the activation function transforms signals inside neurons but doesn't measure prediction quality.\",\n          \"isCorrect\": false,\n          \"text\": \"Apply the activation function to see how confident the network was.\"\n        },\n        {\n          \"feedback\": \"No — the learning rate controls update sizes but doesn't measure the mismatch between prediction and truth.\",\n          \"isCorrect\": false,\n          \"text\": \"Adjust the learning rate to reflect how wrong the model is.\"\n        }\n      ],\n      \"question\": \"What measures prediction error?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A deep network gives a wrong label. How can we determine which connections caused the error so we know how to change them?\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct — calculating gradients via calculus (backpropagation) shows each weight's contribution to the error.\",\n          \"isCorrect\": true,\n          \"text\": \"Use gradients computed by backpropagation (calculus) to see each connection's contribution.\"\n        },\n        {\n          \"feedback\": \"No — randomly changing weights is inefficient and doesn't use information about contributions.\",\n          \"isCorrect\": false,\n          \"text\": \"Randomly perturb weights until performance improves.\"\n        },\n        {\n          \"feedback\": \"No — gradient-free searches exist but they don't assign precise blame per connection like calculus provides.\",\n          \"isCorrect\": false,\n          \"text\": \"Run a gradient-free optimizer that treats the network as a black box.\"\n        },\n        {\n          \"feedback\": \"No — simply normalizing inputs or preprocessing is helpful but doesn't identify which weights caused the specific mistake.\",\n          \"isCorrect\": false,\n          \"text\": \"Normalize inputs and hope the error disappears.\"\n        }\n      ],\n      \"question\": \"How do we assign blame to connections?\"\n    },\n    {\n      \"format\": \"fillBlank\",\n      \"answers\": [\n        \"forward\",\n        \"loss\",\n        \"backward\",\n        \"reduces\"\n      ],\n      \"distractors\": [\n        \"upstream\",\n        \"backpropagate\",\n        \"increase\",\n        \"random\",\n        \"activation\",\n        \"decrease\",\n        \"forward-pass\",\n        \"gradient\"\n      ],\n      \"feedback\": \"Correct sequence: data flows forward to form a prediction; we compute a loss (error) measuring prediction vs truth; error is propagated backward so each connection's contribution can be computed; weights are nudged in small steps that reduce (decrease) the loss.\",\n      \"question\": \"Fill the blanks to summarize training steps.\",\n      \"template\": \"Training typically goes: data flows [BLANK] through the network to make a prediction; compute the [BLANK] between prediction and true label; propagate the error [BLANK] so each connection's contribution is measured; update weights in small steps that [BLANK] the error.\"\n    },\n    {\n      \"format\": \"sortOrder\",\n      \"feedback\": \"Training follows a clear sequence: forward pass to predict, compute loss to measure error, backpropagate to assign blame (compute gradients), then update weights gradually to reduce error.\",\n      \"items\": [\n        \"Run a forward pass (data → prediction)\",\n        \"Compute the loss/error between prediction and true label\",\n        \"Backpropagate the error to compute each connection's contribution (gradients)\",\n        \"Update weights with small steps in the direction that reduces loss\"\n      ],\n      \"question\": \"Put these training steps in the correct order.\"\n    }\n  ]\n}",
      "outputTokens": 2844,
      "steps": [
        {
          "conclusion": "No major factual errors or hallucinations found. The content is safe and accurately reflects the principles of neural network training.",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "Question 4 contains a grammatical mismatch and an ambiguous distractor. The template phrase \"small steps that [BLANK] the error\" expects the answer \"reduces\", creating the ungrammatical phrase \"steps that reduces\" (plural subject, singular verb). Additionally, the distractor \"decrease\" is a valid synonym for reduce and would actually form a grammatically correct sentence (\"steps that decrease\"), making the question confusing or unfair. Question 1 references \"the adjustment problem,\" which is a specific header from the text, partially violating the rule against referencing the explanation's specific phrasing/organization, though the concept is standard.",
          "kind": "minorErrors",
          "score": 8
        },
        {
          "conclusion": "Question 4 and Question 5 cover nearly the exact same conceptual ground (the sequence of training steps). It would be better to replace one of them with a question focusing on the \"Small Steps\" concept (e.g., learning rates) to improve coverage. Question 1 could be rephrased to avoid using the text-specific term \"Adjustment Problem\" (e.g., \"What is the primary goal of weight updates?\").",
          "kind": "potentialImprovements",
          "score": 8
        }
      ],
      "testCase": {
        "expectations": "\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Training scenarios where learners must diagnose what's happening (overfitting, underfitting, vanishing gradients) based on observed behavior\n   - GOOD PATTERN: Situations requiring understanding of why the forward-backward process produces learning\n   - BAD PATTERN: Asking for formulas, definitions, or terminology without application context\n   - BAD PATTERN: Questions about specific metaphors like \"blame assignment\" from the explanation\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - Gradient descent being random trial and error (it follows the mathematical gradient direction)\n   - Neural networks understanding concepts like humans (they learn statistical patterns)\n   - More layers always being better (can cause vanishing gradients and overfitting)\n   - Training stopping when error reaches zero (this indicates overfitting)\n\n3. FORMAT FIT: Multiple choice works for training scenarios. Sort order can work for the forward-backward pass sequence. Fill blank can work for the gradient flow process.\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "en-ml-backpropagation-quiz-1",
        "userInput": {
          "chapterTitle": "Neural Network Training",
          "courseTitle": "Machine Learning Fundamentals",
          "explanationSteps": [
            {
              "text": "Training a neural network means adjusting connection strengths so outputs match desired results. The question is: which connections need adjusting and by how much?",
              "title": "The Adjustment Problem"
            },
            {
              "text": "First, data flows forward through the network, producing a prediction. The difference between prediction and reality is measured as error.",
              "title": "Measuring Mistakes"
            },
            {
              "text": "Error information then flows backward through the network. Each connection learns how much it contributed to the mistake using calculus.",
              "title": "Assigning Blame"
            },
            {
              "text": "Connections that contributed more to errors get larger adjustments. The network gradually improves by making small changes in the direction that reduces error.",
              "title": "Small Steps Downhill"
            }
          ],
          "language": "en",
          "lessonDescription": "Understanding how neural networks learn through backpropagation, including forward passes, loss calculation, and gradient-based weight updates",
          "lessonTitle": "How Neural Networks Learn"
        }
      }
    },
    {
      "duration": 37063.514292,
      "inputTokens": 322,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A thick, solid layer beneath Earth's plates slowly changes shape over millions of years, allowing the plates to move.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct — the mantle is solid rock that behaves like a very viscous fluid over long timescales: it deforms and flows slowly, letting plates move.\",\n          \"isCorrect\": true,\n          \"text\": \"The mantle is solid rock that slowly deforms and flows like an extremely viscous fluid.\"\n        },\n        {\n          \"feedback\": \"Incorrect — molten lava is liquid at the surface but the mantle below plates is mostly solid, not a free-flowing liquid.\",\n          \"isCorrect\": false,\n          \"text\": \"It is a layer of molten liquid rock, like lava, that flows freely.\"\n        },\n        {\n          \"feedback\": \"Incorrect — if the mantle were completely rigid, plates couldn't move; geological evidence shows slow deformation instead.\",\n          \"isCorrect\": false,\n          \"text\": \"It is completely rigid and does not change shape over time.\"\n        },\n        {\n          \"feedback\": \"Incorrect — while parts of the mantle can partially melt, the overall behavior allowing plate movement is slow solid-state flow, not rapid melting.\",\n          \"isCorrect\": false,\n          \"text\": \"It is mostly a rapidly melting layer that constantly produces lava.\"\n        }\n      ],\n      \"question\": \"Which best describes the mantle?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Warm material rising and cooler material sinking in a fluid can create slow circulation that exerts drag on objects sitting on top of it.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct — heat-driven convection in the mantle creates currents that drag plates sideways, producing their slow motion.\",\n          \"isCorrect\": true,\n          \"text\": \"Convection in the mantle: slow circulation driven by heat that drags plates along.\"\n        },\n        {\n          \"feedback\": \"Incorrect — while the Sun affects Earth, plate motions are driven by internal heat, not solar heating.\",\n          \"isCorrect\": false,\n          \"text\": \"Heating from the Sun causes the plates to expand and move.\"\n        },\n        {\n          \"feedback\": \"Incorrect — tides contribute tiny stresses but are not the primary driver of plate movement.\",\n          \"isCorrect\": false,\n          \"text\": \"Tidal forces from the Moon are the main cause of plate motion.\"\n        },\n        {\n          \"feedback\": \"Incorrect — surface erosion shapes landscapes but doesn't provide the distributed force to move tectonic plates.\",\n          \"isCorrect\": false,\n          \"text\": \"Continuous erosion and sediment transport push the plates apart.\"\n        }\n      ],\n      \"question\": \"What primarily drives tectonic plate motion?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"An underwater ridge is producing new ocean floor while rock farther from the ridge is older. Geologists observe volcanic activity along the ridge and a pattern of symmetric features on both sides.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct — where plates pull apart, magma rises and solidifies as new crust, so the youngest rock is at the ridge.\",\n          \"isCorrect\": true,\n          \"text\": \"New ocean crust is forming at the ridge as plates move apart.\"\n        },\n        {\n          \"feedback\": \"Incorrect — subduction consumes crust, but that occurs at convergent zones, not at mid-ocean ridges where plates separate.\",\n          \"isCorrect\": false,\n          \"text\": \"Old ocean crust is being pushed under the ridge and recycled.\"\n        },\n        {\n          \"feedback\": \"Incorrect — transform faults offset but do not create continuous new crust like a spreading center does.\",\n          \"isCorrect\": false,\n          \"text\": \"The ridge is where plates slide past each other with no creation or destruction of crust.\"\n        },\n        {\n          \"feedback\": \"Incorrect — lack of volcanic activity would be unexpected at a spreading center; volcanic activity is common there.\",\n          \"isCorrect\": false,\n          \"text\": \"There should be no volcanic activity at the ridge because it is a cool region.\"\n        }\n      ],\n      \"question\": \"What happens at a mid-ocean ridge?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Two continental landmasses collide head-on. Geodesy shows crust thickening, high mountain uplift, and many earthquakes, but few active volcanoes in the collision zone itself.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct — when two buoyant continental plates collide, neither easily subducts, so crust crumples upward into mountains and volcanoes are uncommon.\",\n          \"isCorrect\": true,\n          \"text\": \"The plates crumple and thicken, forming mountains; neither plate readily sinks, so few volcanoes form.\"\n        },\n        {\n          \"feedback\": \"Incorrect — frequent volcanoes are more typical where one plate subducts beneath another, supplying melt to the mantle.\",\n          \"isCorrect\": false,\n          \"text\": \"One plate sinks under the other, producing abundant volcanoes.\"\n        },\n        {\n          \"feedback\": \"Incorrect — transform motion involves lateral sliding and produces strike-slip faults, not major mountain building as in collisions.\",\n          \"isCorrect\": false,\n          \"text\": \"The plates slide past one another horizontally, creating long faults but no mountains.\"\n        },\n        {\n          \"feedback\": \"Incorrect — passive margins form where plates move apart, not where they collide to build mountains.\",\n          \"isCorrect\": false,\n          \"text\": \"The collision creates a passive continental margin with little tectonic activity.\"\n        }\n      ],\n      \"question\": \"Why do continental collisions make big mountains but few volcanoes?\"\n    },\n    {\n      \"format\": \"matchColumns\",\n      \"pairs\": [\n        {\n          \"left\": \"Chains of undersea volcanoes with the youngest rock at the center\",\n          \"right\": \"Seafloor spreading / new crust forming at a divergent boundary\"\n        },\n        {\n          \"left\": \"A deep ocean trench with volcanic islands and frequent earthquakes\",\n          \"right\": \"Subduction where one plate dives beneath another (convergent boundary)\"\n        },\n        {\n          \"left\": \"Very tall folded mountain ranges like the Himalayas where two land masses meet\",\n          \"right\": \"Continental collision causing crustal thickening and uplift\"\n        },\n        {\n          \"left\": \"Measured slow, steady motion of continents over millions of years\",\n          \"right\": \"Mantle convection and long-term plate movement driven by internal heat\"\n        }\n      ],\n      \"question\": \"Match each real-world observation to the plate tectonics concept it best illustrates.\"\n    },\n    {\n      \"format\": \"fillBlank\",\n      \"answers\": [\n        \"plates\",\n        \"mantle\",\n        \"convection\"\n      ],\n      \"distractors\": [\n        \"crust\",\n        \"lithosphere\",\n        \"conduction\",\n        \"magma\",\n        \"asthenosphere\",\n        \"erosion\"\n      ],\n      \"feedback\": \"The Earth's outer shell is broken into plates (the rigid pieces). These plates rest on the mantle, a hot solid that behaves like a very viscous fluid over long times — movement is driven by mantle convection (heat-driven circulation).\",\n      \"question\": \"Complete the sentence with the best words:\",\n      \"template\": \"The Earth's outer shell is broken into [BLANK], which move over the [BLANK] because of heat-driven [BLANK].\"\n    }\n  ]\n}",
      "outputTokens": 2473,
      "steps": [
        {
          "conclusion": "None",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "The instructions explicitly state to use a 'conversational tone — write like a curious friend posing interesting challenges, not an exam proctor.' The generated questions use standard academic phrasing (e.g., 'Which best describes the mantle?', 'What primarily drives tectonic plate motion?'). Additionally, Question 6 (Fill in the blank) tests recall of specific terms ('plates', 'mantle') using a sentence structure very similar to the explanation, which borders on violating the 'Understanding vs. Memorization' and 'Novel Scenarios' rules.",
          "kind": "minorErrors",
          "score": 8
        },
        {
          "conclusion": "The quiz would be significantly improved by adopting the requested conversational tone (e.g., 'If you could shrink down and dive into the Earth...'). Question 6 could be replaced with a scenario-based prediction question to better test the 'Transfer Test' criteria rather than vocabulary recall. While the scientific accuracy is commendable (correctly identifying the mantle as solid rock), the 'context' descriptions are somewhat abstract and could be more grounded in tangible, real-world scenarios.",
          "kind": "potentialImprovements",
          "score": 8
        }
      ],
      "testCase": {
        "expectations": "\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Geographic scenarios where learners must explain geological features or patterns based on plate interactions\n   - GOOD PATTERN: Situations requiring prediction of geological activity based on understanding boundary types\n   - BAD PATTERN: Asking to name boundary types or list geological features without application context\n   - BAD PATTERN: Questions referencing the \"cracked shell\" or \"engine below\" metaphors from the explanation\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - The mantle being liquid or molten (it is SOLID rock that flows very slowly over geological time due to heat and pressure)\n   - Plates floating on liquid (they move on the slowly-flowing solid mantle)\n   - Earthquakes only happening at plate boundaries (intraplate earthquakes exist)\n   - Continental drift being the same as plate tectonics (continental drift was the early theory; plate tectonics is the modern mechanism)\n\n3. FORMAT FIT: Multiple choice works well for geological scenarios. Match columns work for connecting geological features to boundary types. Sort order could work for mountain-building sequences.\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "en-geology-plate-tectonics-quiz-1",
        "userInput": {
          "chapterTitle": "Earth's Structure",
          "courseTitle": "Earth Science",
          "explanationSteps": [
            {
              "text": "Earth's outer shell is cracked into massive pieces called plates. These plates sit on the mantle - solid rock so hot it flows like thick honey over millions of years.",
              "title": "A Cracked Shell"
            },
            {
              "text": "Heat from Earth's core creates circulation in the mantle. This slow churning drags the plates along, moving them centimeters per year.",
              "title": "The Engine Below"
            },
            {
              "text": "Where plates pull apart, magma rises to fill the gap, creating new crust. Mid-ocean ridges are underwater mountain chains formed this way.",
              "title": "Spreading Apart"
            },
            {
              "text": "Where plates collide, one may dive under the other, triggering earthquakes and volcanoes. Mountain ranges like the Himalayas form when neither plate sinks.",
              "title": "Collision Zones"
            }
          ],
          "language": "en",
          "lessonDescription": "Understanding how Earth's tectonic plates move and interact, including the mechanisms that drive plate motion and the geological features they create",
          "lessonTitle": "Plate Tectonics"
        }
      }
    },
    {
      "duration": 46729.482792,
      "inputTokens": 283,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Uma célula está prestes a se dividir. Uma enzima separa as duas fitas do DNA para que cada fita possa ser copiada.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correto — enzimas como a helicase abrem a dupla hélice separando as duas fitas para que sirvam de molde.\",\n          \"isCorrect\": true,\n          \"text\": \"Separar as duas fitas da dupla hélice, abrindo o DNA\"\n        },\n        {\n          \"feedback\": \"Errado — combinar fitas não é a função inicial; a ação inicial é separá‑las.\",\n          \"isCorrect\": false,\n          \"text\": \"Unir duas fitas de DNA distintas\"\n        },\n        {\n          \"feedback\": \"Errado — inserir bases é função da polimerase, não da enzima que abre as fitas.\",\n          \"isCorrect\": false,\n          \"text\": \"Adicionar novas bases ao DNA\"\n        },\n        {\n          \"feedback\": \"Errado — cortar o DNA em pedaços destruiria a informação; essa não é a função necessária para replicar.\",\n          \"isCorrect\": false,\n          \"text\": \"Cortar o DNA em vários fragmentos\"\n        }\n      ],\n      \"question\": \"O que faz a enzima que inicia a replicação?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Durante a cópia do DNA, as novas bases emparelham com as antigas usando regras específicas (A com T, C com G). Por que esse emparelhamento é crucial?\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correto — o emparelhamento complementar garante que a sequência da fita nova seja a cópia fiel da fita molde.\",\n          \"isCorrect\": true,\n          \"text\": \"Garante que a nova fita seja uma cópia complementar e, portanto, correta da fita molde\"\n        },\n        {\n          \"feedback\": \"Errado — emparelhamento não é para acelerar o processo; é para precisão das informações.\",\n          \"isCorrect\": false,\n          \"text\": \"Acelera a velocidade total da replicação\"\n        },\n        {\n          \"feedback\": \"Errado — emparelhamento não é para ligar enzimas entre si; é sobre correspondência de bases.\",\n          \"isCorrect\": false,\n          \"text\": \"Serve para ligar as enzimas umas às outras no forquilho de replicação\"\n        },\n        {\n          \"feedback\": \"Errado — emparelhamento não armazena energia, apenas assegura correspondência entre bases.\",\n          \"isCorrect\": false,\n          \"text\": \"Armazena energia necessária para a síntese\"\n        }\n      ],\n      \"question\": \"Por que o emparelhamento de bases é importante?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A enzima que constrói DNA só pode adicionar nucleótidos em uma direção. Numa das fitas essa restrição causa síntese descontínua em pequenos trechos.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correto — porque a polimerase só adiciona nucleótidos numa direção (5'→3'), a fita complementar que está orientada na direção oposta precisa ser sintetizada em pedaços.\",\n          \"isCorrect\": true,\n          \"text\": \"Porque a polimerase sintetiza apenas em uma direção, então a fita oposta é feita em fragmentos\"\n        },\n        {\n          \"feedback\": \"Errado — falta de nucleótidos não é a razão principal para fragmentação; há mecanismos que fornecem nucleótidos.\",\n          \"isCorrect\": false,\n          \"text\": \"Porque faltam nucleótidos suficientes para sintetizar a fita inteira de uma vez\"\n        },\n        {\n          \"feedback\": \"Errado — fragmentos não surgem para facilitar empacotamento; são consequência da direção de síntese.\",\n          \"isCorrect\": false,\n          \"text\": \"Porque é mais fácil empacotar o DNA se for produzido em pedaços\"\n        },\n        {\n          \"feedback\": \"Errado — cortar o DNA não é o motivo; os fragmentos são produtos da síntese descontínua, não de corte deliberado.\",\n          \"isCorrect\": false,\n          \"text\": \"Porque a célula corta intencionalmente a fita em pedaços para copiá‑la\"\n        }\n      ],\n      \"question\": \"Por que uma fita é copiada em fragmentos?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Erros podem ocorrer quando nucleótidos incorretos são incorporados. Outras enzimas verificam e removem substituições erradas antes que o DNA seja usado.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correto — sem correção, a taxa de mutações aumentaria, podendo alterar proteínas e prejudicar a célula.\",\n          \"isCorrect\": true,\n          \"text\": \"A taxa de mutações subiria e proteínas poderiam ficar defeituosas, causando problemas celulares\"\n        },\n        {\n          \"feedback\": \"Errado — a replicação não pararia necessariamente; apenas aconteceria com mais erros.\",\n          \"isCorrect\": false,\n          \"text\": \"A replicação agiria o dobro mais rápido\"\n        },\n        {\n          \"feedback\": \"Errado — embora possam ocorrer mudanças, nem sempre haveria benefícios; geralmente erros são prejudiciais.\",\n          \"isCorrect\": false,\n          \"text\": \"Aumentaria a diversidade benéfica imediata nas células\"\n        },\n        {\n          \"feedback\": \"Errado — sem correção não há ganho de precisão; haveria menos fidelidade genética.\",\n          \"isCorrect\": false,\n          \"text\": \"A fidelidade genética aumentaria\"\n        }\n      ],\n      \"question\": \"O que aconteceria se não houvesse correção de erros?\"\n    },\n    {\n      \"format\": \"fillBlank\",\n      \"answers\": [\n        \"original\",\n        \"nova\"\n      ],\n      \"distractors\": [\n        \"duplicada\",\n        \"complementar\",\n        \"idêntica\"\n      ],\n      \"feedback\": \"Esse é o princípio da replicação semiconservativa: cada molécula filha guarda uma fita original (molde) e uma fita recém-sintetizada.\",\n      \"question\": \"Complete: quando o DNA é replicado, cada molécula filha contém uma fita ____ e uma fita ____.\",\n      \"template\": \"Cada molécula filha contém uma fita [BLANK] e uma fita [BLANK].\"\n    },\n    {\n      \"format\": \"matchColumns\",\n      \"pairs\": [\n        {\n          \"left\": \"Abrir o zíper de um casaco para separar os lados\",\n          \"right\": \"Separação das fitas pela helicase\"\n        },\n        {\n          \"left\": \"Copiar um texto letra por letra usando o original como guia\",\n          \"right\": \"Síntese de uma nova fita usando a fita molde por DNA polimerase\"\n        },\n        {\n          \"left\": \"Montar um quebra‑cabeça em pequenos blocos que depois são unidos\",\n          \"right\": \"Síntese descontínua em fragmentos (Okazaki) da fita atrasada\"\n        },\n        {\n          \"left\": \"Revisor que risca e corrige erros num artigo\",\n          \"right\": \"Atividade de prova‑leitura/exonuclease que remove bases erradas\"\n        }\n      ],\n      \"question\": \"Faça a correspondência entre situações cotidianas e o papel molecular equivalente na replicação do DNA.\"\n    },\n    {\n      \"format\": \"sortOrder\",\n      \"feedback\": \"A sequência lógica no forquilho de replicação começa com a separação das fitas, seguida pela cópia usando cada fita como molde; devido à direção de síntese, aparece síntese contínua e descontínua, e por fim mecanismos de correção removem erros.\",\n      \"items\": [\n        \"Separação das duas fitas da dupla hélice\",\n        \"Uso de cada fita como molde para sintetizar novas fitas\",\n        \"Síntese contínua em uma fita e síntese descontínua em fragmentos na outra\",\n        \"Revisão e correção de bases incorretas\"\n      ],\n      \"question\": \"Ordene os eventos principais que ocorrem durante a replicação do DNA.\"\n    }\n  ]\n}",
      "outputTokens": 3244,
      "steps": [
        {
          "conclusion": "None",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "The instructions explicitly state: 'Never test recall of specific words, metaphors, or examples from the explanation steps' and 'Conversational tone — write like a curious friend... not an exam proctor'. \n\n1. Question 6 uses the 'Zipper' metaphor ('Abrir o zíper de um casaco'), which is the explicit header of Step 1 in the provided text ('1. Abrindo o Ziper'). This violates the negative constraint against reusing specific metaphors from the text.\n\n2. The tone is consistently academic and formal (e.g., 'Complete: quando o DNA é replicado...', 'O que faz a enzima...'), failing the instruction to sound like a 'curious friend' or use a conversational tone. The questions read like a standard exam.",
          "kind": "minorErrors",
          "score": 7.5
        },
        {
          "conclusion": "To better meet the 'Novel Scenarios' and 'Conversational Tone' requirements, the questions should be framed around applied situations rather than abstract definitions. For example, instead of asking 'Why is base pairing important?', the model could ask: 'Imagine you're building a Lego tower (the new strand) next to an existing one (the template). If the blocks didn't have specific matching shapes, what would happen to your copy?' This would satisfy both the tone and the application constraints better than the current abstract phrasing.",
          "kind": "potentialImprovements",
          "score": 7.5
        }
      ],
      "testCase": {
        "expectations": "\nLANGUAGE REQUIREMENT: Questions, options, and feedback must be in Portuguese.\n\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Scenarios requiring understanding of WHY replication works as it does (directionality constraints, error correction needs)\n   - GOOD PATTERN: Situations where learners must predict outcomes of replication errors or enzyme malfunctions\n   - BAD PATTERN: Asking to name enzymes or describe their functions without application context\n   - BAD PATTERN: Questions referencing the \"zipper\" metaphor or other explanation-specific content\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - Both DNA strands being synthesized the same way (leading strand is continuous; lagging strand is synthesized in Okazaki fragments)\n   - DNA polymerase being able to start synthesis on its own (it needs a primer)\n   - Replication being error-free (proofreading catches most errors but some slip through)\n   - Replication happening randomly along the chromosome (it starts at specific origins)\n\n3. FORMAT FIT: Sort order works well for replication sequence. Fill blank works for enzyme roles. Multiple choice for understanding why the process works as it does.\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "pt-biology-dna-replication-quiz-1",
        "userInput": {
          "chapterTitle": "Genetica Molecular",
          "courseTitle": "Biologia Celular",
          "explanationSteps": [
            {
              "text": "Antes de uma celula se dividir, ela precisa copiar todo seu DNA. O processo comeca quando enzimas separam as duas fitas da dupla helice.",
              "title": "Abrindo o Ziper"
            },
            {
              "text": "Cada fita original serve de molde para uma nova. Enzimas chamadas DNA polimerases leem a fita antiga e constroem a nova, base por base.",
              "title": "Lendo o Molde"
            },
            {
              "text": "Ha um problema: a polimerase so consegue adicionar bases em uma direcao. Uma fita e copiada continuamente, mas a outra precisa ser copiada em pedacos.",
              "title": "O Problema da Direcao"
            },
            {
              "text": "Enzimas de correcao verificam cada base adicionada. Se encontram um erro, removem e substituem. Esse controle de qualidade mantem a fidelidade genetica.",
              "title": "Corrigindo Erros"
            }
          ],
          "language": "pt",
          "lessonDescription": "Entendendo o processo de replicacao do DNA, incluindo as enzimas envolvidas e como a informacao genetica e copiada com alta fidelidade",
          "lessonTitle": "Como o DNA se Replica"
        }
      }
    },
    {
      "duration": 43156.533167,
      "inputTokens": 321,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"You photograph a friend standing in a city street. One shot centers them in the frame; another places them on the right third, leaving more space on the left for the street to lead into the frame.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Centering can feel stable and formal but often lacks the directional pull that makes an image feel dynamic.\",\n          \"isCorrect\": false,\n          \"text\": \"Centered subject with equal space around them.\"\n        },\n        {\n          \"feedback\": \"Correct — placing the subject on a third gives the eye a path to follow and creates a sense of movement and interest.\",\n          \"isCorrect\": true,\n          \"text\": \"Subject on the right third with leading space to the left.\"\n        },\n        {\n          \"feedback\": \"Putting the subject in an extreme corner can feel awkward and disconnected rather than dynamic.\",\n          \"isCorrect\": false,\n          \"text\": \"Small subject tucked into an extreme corner of the frame.\"\n        },\n        {\n          \"feedback\": \"Filling the frame can be powerful but often removes contextual lines and paths that help the eye travel.\",\n          \"isCorrect\": false,\n          \"text\": \"Subject large and filling most of the frame.\"\n        }\n      ],\n      \"question\": \"Which image feels more dynamic?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Imagine dividing a photo frame by two horizontal and two vertical equally spaced lines, creating nine rectangles.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct — those intersection points are often called power points and are strong places to position main subjects.\",\n          \"isCorrect\": true,\n          \"text\": \"Power points — the intersections that attract the eye.\"\n        },\n        {\n          \"feedback\": \"Vanishing points are where parallel lines converge in perspective, not the grid intersections.\",\n          \"isCorrect\": false,\n          \"text\": \"Vanishing points.\"\n        },\n        {\n          \"feedback\": \"Rule centers is not a standard photography term and doesn't describe the intersections.\",\n          \"isCorrect\": false,\n          \"text\": \"Rule centers.\"\n        },\n        {\n          \"feedback\": \"Balance nodes is not a common term photographers use for those intersections.\",\n          \"isCorrect\": false,\n          \"text\": \"Balance nodes.\"\n        }\n      ],\n      \"question\": \"What are the grid intersections called?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"You’re shooting a seascape with dramatic clouds and an interesting shoreline. You need to decide where to put the horizon line.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Placing the horizon on the lower third gives more space to the sky, emphasizing clouds and atmosphere.\",\n          \"isCorrect\": true,\n          \"text\": \"Place the horizon on the lower third of the frame to emphasize the sky.\"\n        },\n        {\n          \"feedback\": \"Putting the horizon on the upper third emphasizes the ground/shore rather than the sky.\",\n          \"isCorrect\": false,\n          \"text\": \"Place the horizon on the upper third to emphasize the sky.\"\n        },\n        {\n          \"feedback\": \"Centering the horizon splits attention and usually lessens emphasis on the sky or shore.\",\n          \"isCorrect\": false,\n          \"text\": \"Put the horizon exactly in the center of the frame.\"\n        },\n        {\n          \"feedback\": \"Placing the horizon at the very top edge will likely cut off important sky elements and feels unbalanced.\",\n          \"isCorrect\": false,\n          \"text\": \"Place the horizon at the very top edge of the frame.\"\n        }\n      ],\n      \"question\": \"Where to put the horizon to emphasize sky?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A lone tree stands in a meadow. You can place it centered in the frame or aligned along one of the vertical grid lines.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Aligning along a vertical third line invites the eye to move across the frame and creates a more pleasing composition.\",\n          \"isCorrect\": true,\n          \"text\": \"Place the tree on one of the vertical third lines.\"\n        },\n        {\n          \"feedback\": \"A centered tree can feel static and doesn't create as much visual movement.\",\n          \"isCorrect\": false,\n          \"text\": \"Place the tree dead center.\"\n        },\n        {\n          \"feedback\": \"Touching both edges makes the composition feel cramped and distracts from the subject.\",\n          \"isCorrect\": false,\n          \"text\": \"Crop so the tree touches both left and right edges.\"\n        },\n        {\n          \"feedback\": \"Obscuring the main subject reduces clarity and usually weakens the composition.\",\n          \"isCorrect\": false,\n          \"text\": \"Hide part of the tree behind a foreground object.\"\n        }\n      ],\n      \"question\": \"Which placement draws the eye naturally?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Consider how viewers scan images. Why might an off-center subject make a photo feel more alive?\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct — off-center placement gives the eye room to travel and creates visual pathways that increase engagement.\",\n          \"isCorrect\": true,\n          \"text\": \"Because it gives the eye space to travel and creates visual paths across the frame.\"\n        },\n        {\n          \"feedback\": \"Color saturation is independent of subject placement; it won’t explain the sense of movement.\",\n          \"isCorrect\": false,\n          \"text\": \"Because it increases color saturation in parts of the photo.\"\n        },\n        {\n          \"feedback\": \"Off-center placement typically reduces symmetry, it doesn’t force symmetry.\",\n          \"isCorrect\": false,\n          \"text\": \"Because it forces perfect symmetry across the frame.\"\n        },\n        {\n          \"feedback\": \"Contrast refers to tonal differences; placement doesn’t inherently change contrast.\",\n          \"isCorrect\": false,\n          \"text\": \"Because it always increases the tonal contrast in the image.\"\n        }\n      ],\n      \"question\": \"Why does off-center placement work?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"You photograph a person looking to the right. You want the composition to suggest they’re looking into open space or moving in that direction.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Placing the subject on the left third leaves space in front of their gaze, guiding the viewer’s eye and implying motion — a common composition technique.\",\n          \"isCorrect\": true,\n          \"text\": \"Place them on the left third, leaving space to the right that they are looking into.\"\n        },\n        {\n          \"feedback\": \"Centering doesn't give as strong a sense of directional movement as leaving space in front of the gaze.\",\n          \"isCorrect\": false,\n          \"text\": \"Place them dead center so their gaze goes off the frame.\"\n        },\n        {\n          \"feedback\": \"Placing them on the right while looking right often feels cramped and cuts off the implied direction.\",\n          \"isCorrect\": false,\n          \"text\": \"Place them on the right third, looking right toward the edge.\"\n        },\n        {\n          \"feedback\": \"Bottom center doesn’t create directional breathing room and usually won’t convey forward movement effectively.\",\n          \"isCorrect\": false,\n          \"text\": \"Place them at the bottom center of the frame.\"\n        }\n      ],\n      \"question\": \"Where to place a subject who’s looking right?\"\n    }\n  ]\n}",
      "outputTokens": 2968,
      "steps": [
        {
          "conclusion": "The generated quiz contains a direct violation of the constraints provided in the Expectations section. Specifically, the expectations listed 'BAD PATTERN: Questions about \"power points\" terminology without practical application'. Question 2 ('What are the grid intersections called?') creates exactly this forbidden question type, testing vocabulary recall rather than understanding or application.",
          "kind": "majorErrors",
          "score": 7
        },
        {
          "conclusion": "None",
          "kind": "minorErrors",
          "score": 10
        },
        {
          "conclusion": "Question 3 is marginally close to simple recall ('horizon on the lower line emphasizes sky' vs 'Where to put the horizon to emphasize sky?'). While it uses a seascape scenario, the logic is a direct mapping from the text. A more complex scenario involving foreground interest vs sky interest would force deeper thinking. However, the primary improvement needed is replacing Question 2 with an application-based question (e.g., describing a subject and asking which intersection would be best to use, rather than asking for the name of the intersection).",
          "kind": "potentialImprovements",
          "score": 8.5
        }
      ],
      "testCase": {
        "expectations": "\nSPECIAL CONSIDERATION: This is an edge case - a visual/practical skill where understanding is demonstrated through application to real scenarios, not visual recognition.\n\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Photography scenarios where learners must decide subject placement to achieve specific visual effects\n   - GOOD PATTERN: Situations requiring understanding of WHY off-center placement creates visual interest\n   - BAD PATTERN: Asking to define the rule of thirds or describe the grid without application context\n   - BAD PATTERN: Questions about \"power points\" terminology without practical application\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - Rule of thirds being mandatory (it's a guideline, not a rule - breaking it intentionally can be effective)\n   - Centered subjects always being wrong (centered composition works for symmetry and certain moods)\n   - The grid being visible in final photos (it's an imaginary guide)\n   - Rule of thirds being the only composition technique (leading lines, framing, and many others exist)\n\n3. FORMAT FIT: Multiple choice works for \"where would you place the subject\" scenarios. Match columns could connect composition choices to their visual effects. AVOID selectImage unless visual recognition is truly being tested.\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "en-photography-composition-quiz-1",
        "userInput": {
          "chapterTitle": "Composition Basics",
          "courseTitle": "Photography Fundamentals",
          "explanationSteps": [
            {
              "text": "Most beginners center their subjects. While this works sometimes, placing subjects off-center often creates more dynamic, interesting images.",
              "title": "Beyond the Center"
            },
            {
              "text": "Imagine your frame divided by two horizontal and two vertical lines, creating nine equal sections. The four points where lines cross are power points.",
              "title": "The Grid"
            },
            {
              "text": "Placing your main subject on a power point or along a line draws the viewer's eye naturally. A horizon on the lower line emphasizes sky; on the upper line emphasizes ground.",
              "title": "Strategic Placement"
            },
            {
              "text": "This guideline works because our eyes naturally scan images in patterns. Off-center placement gives the eye somewhere to travel, making photos feel more alive.",
              "title": "Why It Works"
            }
          ],
          "language": "en",
          "lessonDescription": "Understanding the rule of thirds and how strategic subject placement creates more visually engaging photographs",
          "lessonTitle": "The Rule of Thirds"
        }
      }
    },
    {
      "duration": 45512.527,
      "inputTokens": 322,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Sam trusts a brand. When reading reviews he remembers positive ones and dismisses negatives as biased.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"This is confirmation bias: favoring information that supports an existing belief and minimizing opposing evidence.\",\n          \"isCorrect\": true,\n          \"text\": \"Confirmation bias — favoring evidence that confirms an existing belief.\"\n        },\n        {\n          \"feedback\": \"The placebo effect is about expecting a physical or psychological improvement from a treatment, not selectively remembering supporting information.\",\n          \"isCorrect\": false,\n          \"text\": \"Placebo effect — expectations cause perceived improvement.\"\n        },\n        {\n          \"feedback\": \"Hindsight bias is seeing events as predictable after they happen; it doesn't explain selectively noticing supportive reviews.\",\n          \"isCorrect\": false,\n          \"text\": \"Hindsight bias — thinking an outcome was obvious after the fact.\"\n        },\n        {\n          \"feedback\": \"Sunk cost fallacy is continuing a course because of past investment; it doesn't describe selective attention to supportive reviews.\",\n          \"isCorrect\": false,\n          \"text\": \"Sunk cost fallacy — sticking with something because you've already invested in it.\"\n        }\n      ],\n      \"question\": \"What's happening here?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Which behavior would NOT be an example of confirmation bias in everyday thinking?\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Actively searching for evidence that could disprove your belief is the opposite of confirmation bias; it's an effort to test and potentially revise your view.\",\n          \"isCorrect\": true,\n          \"text\": \"Actively looking for evidence that could disprove your belief.\"\n        },\n        {\n          \"feedback\": \"Quickly recalling examples that support a belief is a hallmark of confirmation bias — selective remembering.\",\n          \"isCorrect\": false,\n          \"text\": \"Quickly remembering examples that support your belief.\"\n        },\n        {\n          \"feedback\": \"Ignoring information that contradicts your view is a classic confirmation-bias behavior — selective attention.\",\n          \"isCorrect\": false,\n          \"text\": \"Ignoring news or reports that contradict your view.\"\n        },\n        {\n          \"feedback\": \"Dismissing opposing studies as biased without proper evaluation is confirmation bias at work.\",\n          \"isCorrect\": false,\n          \"text\": \"Dismissing studies that contradict your position as biased without evaluation.\"\n        }\n      ],\n      \"question\": \"Which is NOT confirmation bias?\"\n    },\n    {\n      \"format\": \"fillBlank\",\n      \"answers\": [\n        \"blind\",\n        \"peer review\"\n      ],\n      \"distractors\": [\n        \"anecdotes\",\n        \"replication\",\n        \"intuition\",\n        \"large samples\"\n      ],\n      \"feedback\": \"Blind procedures prevent expectations of researchers or participants from influencing outcomes, and peer review brings independent scrutiny to catch biased interpretations—together they reduce the chances personal beliefs shape results.\",\n      \"question\": \"Complete the sentence about safeguards against bias:\",\n      \"template\": \"To guard against confirmation bias, researchers use [BLANK] procedures and independent [BLANK].\"\n    },\n    {\n      \"format\": \"matchColumns\",\n      \"pairs\": [\n        {\n          \"left\": \"A loyal sports fan notices more fouls by the opposing team.\",\n          \"right\": \"Unconscious filtering (seeing more fault in opponents).\"\n        },\n        {\n          \"left\": \"Quickly dismissing a news article that challenges your viewpoint.\",\n          \"right\": \"Selective attention (noticing supporting info, ignoring contradicting info).\"\n        },\n        {\n          \"left\": \"Feeling uneasy when presented with facts that clash with a long-held belief.\",\n          \"right\": \"Comfort of consistency (discomfort when beliefs are contradicted).\"\n        },\n        {\n          \"left\": \"Having independent reviewers check a study before it's published.\",\n          \"right\": \"Safeguards (peer review reduces researcher bias).\"\n        }\n      ],\n      \"question\": \"Match each real-world sign to the underlying concept.\"\n    },\n    {\n      \"format\": \"sortOrder\",\n      \"feedback\": \"Confirmation bias typically follows a sequence where a belief creates discomfort with contradiction, which then leads to focusing on supporting evidence and dismissing opposing evidence, ultimately strengthening the belief.\",\n      \"items\": [\n        \"Holding or forming a belief\",\n        \"Experiencing discomfort when confronted with contradicting information\",\n        \"Unconsciously focusing attention on evidence that supports the belief (selective attention)\",\n        \"Filtering out or dismissing contradicting evidence\",\n        \"Belief becomes more strongly held\"\n      ],\n      \"question\": \"Order the typical steps that lead to confirmation bias strengthening a belief.\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A research team uses a double-blind trial and sends their manuscript to peer review before publication.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct: keeping both participants and researchers blind to condition reduces the influence of expectations, and peer reviewers provide independent scrutiny—both counteract confirmation bias.\",\n          \"isCorrect\": true,\n          \"text\": \"Because they limit how participants' and researchers' expectations can shape results, and independent reviewers help catch biased interpretations.\"\n        },\n        {\n          \"feedback\": \"Being popular with the public is unrelated to reducing confirmation bias in the research process.\",\n          \"isCorrect\": false,\n          \"text\": \"Because these steps make the results easier for the public to accept.\"\n        },\n        {\n          \"feedback\": \"These safeguards help with bias but do not remove all possible data errors; they don't guarantee error-free data.\",\n          \"isCorrect\": false,\n          \"text\": \"Because they remove all errors from the data.\"\n        },\n        {\n          \"feedback\": \"Safeguards are intended to reduce subjective influence, not to force results to match a theory; this choice misunderstands their purpose.\",\n          \"isCorrect\": false,\n          \"text\": \"Because they ensure the experiment will confirm the researchers' theory.\"\n        }\n      ],\n      \"question\": \"Why do double-blind trials and peer review reduce confirmation bias?\"\n    }\n  ]\n}",
      "outputTokens": 3175,
      "steps": [
        {
          "conclusion": "The model failed a critical negative constraint regarding the use of specific examples from the text. The Lesson Description explicitly mentions: 'A sports fan genuinely sees more fouls by the opposing team.' The Expectations section explicitly lists as a BAD PATTERN: 'Questions about the sports fan or political supporter examples from the explanation.' Question 4 directly uses the scenario: 'A loyal sports fan notices more fouls by the opposing team.' This is a direct violation of the instruction to use novel scenarios and avoiding specific text examples.",
          "kind": "majorErrors",
          "score": 6
        },
        {
          "conclusion": "The model ignored explicit format guidance found in the Expectations section. The Expectations stated: 'AVOID sort_order as the concept isn't sequential.' Question 5 utilizes the `sortOrder` format to arrange steps of confirmation bias. This implies a strict linear process for a cognitive phenomenon that is often cyclical or simultaneous, fulfilling the definition of 'Forced variety' which the instructions warned against.",
          "kind": "minorErrors",
          "score": 7
        },
        {
          "conclusion": "Question 3 is a `fillBlank` question asking for specific terms ('blind', 'peer review') found directly in the text. While these are standard terms, the prompt encourages testing understanding over recall. A learner could answer this by simply memorizing Step 4 of the text without understanding *why* these safeguards work (though Question 6 does address the 'why' well).",
          "kind": "potentialImprovements",
          "score": 8
        }
      ],
      "testCase": {
        "expectations": "\nSPECIAL CONSIDERATION: This is an edge case - an abstract psychological concept where understanding means recognizing the bias in everyday situations.\n\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Everyday scenarios where learners must recognize confirmation bias operating in someone's reasoning\n   - GOOD PATTERN: Situations requiring understanding of WHY the bias is unconscious and hard to overcome\n   - BAD PATTERN: Asking to define confirmation bias or list its characteristics without application context\n   - BAD PATTERN: Questions about the sports fan or political supporter examples from the explanation\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - Confirmation bias being intentional deception (it's usually unconscious)\n   - Only unintelligent people having confirmation bias (everyone is susceptible, including experts)\n   - Confirmation bias being easy to overcome once you know about it (awareness helps but doesn't eliminate it)\n   - Confirmation bias only affecting beliefs about facts (it affects emotional and value-based beliefs too)\n\n3. FORMAT FIT: Multiple choice excels here - present scenarios and ask which demonstrates the bias. Match columns could connect cognitive biases to example scenarios. AVOID sort_order as the concept isn't sequential.\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "en-psychology-confirmation-bias-quiz-1",
        "userInput": {
          "chapterTitle": "Cognitive Biases",
          "courseTitle": "Introduction to Psychology",
          "explanationSteps": [
            {
              "text": "Our brains prefer consistency. When we believe something, finding contradicting evidence feels uncomfortable - like a mental itch we want to scratch away.",
              "title": "The Comfort of Consistency"
            },
            {
              "text": "To avoid discomfort, our brains play tricks. We notice evidence supporting our beliefs and unconsciously filter out or dismiss contradicting evidence.",
              "title": "Selective Attention"
            },
            {
              "text": "This happens automatically, not deliberately. A sports fan genuinely sees more fouls by the opposing team. A political supporter honestly remembers more flaws in opponents.",
              "title": "Unconscious Filtering"
            },
            {
              "text": "Even scientists fall prey to this. That's why research uses blind studies and peer review - external checks against our natural tendency to see what we expect.",
              "title": "Safeguards Help"
            }
          ],
          "language": "en",
          "lessonDescription": "Understanding confirmation bias - how our tendency to favor information that confirms existing beliefs affects our perception and decision-making",
          "lessonTitle": "Confirmation Bias"
        }
      }
    }
  ],
  "taskId": "activity-explanation-quiz"
}
