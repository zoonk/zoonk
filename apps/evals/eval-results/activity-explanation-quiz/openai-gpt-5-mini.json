{
  "modelId": "openai/gpt-5-mini",
  "results": [
    {
      "duration": 27967.087834000005,
      "inputTokens": 546,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A new virus appears. One part of your immune system reacts within minutes using general defenses, while another part takes days to build a targeted response and can act more quickly if the same virus returns later.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"This mixes up features: immediate, general defenses do not usually 'remember' specific invaders.\",\n          \"isCorrect\": false,\n          \"text\": \"Immediate system creates long-term memory; slower system is general and instant.\"\n        },\n        {\n          \"feedback\": \"Correct. The immediate defenses are general (barriers and patrolling cells); the slower system is specific, builds antibodies, and leaves memory.\",\n          \"isCorrect\": true,\n          \"text\": \"Immediate general defenses act quickly; slower specialized defenses take time but create lasting memory.\"\n        },\n        {\n          \"feedback\": \"Incorrect: antibodies and tailored responses are part of the slower, adaptive system, not the instant general response.\",\n          \"isCorrect\": false,\n          \"text\": \"Antibodies are produced instantly by the first responders to any invader.\"\n        },\n        {\n          \"feedback\": \"Incorrect: physical barriers are part of the immediate defenses and do not rely on remembering past invaders to work.\",\n          \"isCorrect\": false,\n          \"text\": \"Both defense systems act only when they 'remember' a previous invasion.\"\n        }\n      ],\n      \"question\": \"Which describes the two defenses?\"\n    },\n    {\n      \"format\": \"matchColumns\",\n      \"pairs\": [\n        {\n          \"left\": \"Intact skin and sticky mucus that stop microbes from entering\",\n          \"right\": \"Physical barriers (first line) \"\n        },\n        {\n          \"left\": \"White blood cells that patrol and engulf foreign particles inside the body\",\n          \"right\": \"Patrolling phagocytes (first responders)\"\n        },\n        {\n          \"left\": \"Antibodies created to bind a specific virus so other cells can destroy it\",\n          \"right\": \"Targeted proteins made by B cells (adaptive response)\"\n        },\n        {\n          \"left\": \"A vaccine that lets your body clear the same virus faster months later\",\n          \"right\": \"Memory cells that speed later responses (long-term memory)\"\n        }\n      ],\n      \"question\": \"Match each real-world observation to the underlying immune principle.\"\n    },\n    {\n      \"format\": \"fillBlank\",\n      \"answers\": [\n        \"B cells\",\n        \"antibodies\",\n        \"Y-shaped\"\n      ],\n      \"distractors\": [\n        \"macrophages\",\n        \"enzymes\",\n        \"T-shaped\",\n        \"phagocytes\"\n      ],\n      \"feedback\": \"B cells are specialized cells that make antibodies. Antibodies are Y-shaped proteins that bind specific invaders, marking them for destruction.\",\n      \"question\": \"Complete the sentence about the targeting system.\",\n      \"template\": \"When threats persist, specialized cells called [BLANK] produce [BLANK], which are [BLANK] proteins that stick to specific invaders.\"\n    },\n    {\n      \"format\": \"sortOrder\",\n      \"feedback\": \"When an invader arrives the body relies first on barriers. If those are breached, phagocytes detect and clear many invaders. If the threat persists, B cells make specific antibodies. Some of these responding cells become memory cells for faster responses later.\",\n      \"items\": [\n        \"Physical barriers (skin, mucus) block most invaders\",\n        \"Invaders that get through are eaten by patrolling phagocytes (e.g., macrophages)\",\n        \"Specialized cells (B cells) produce antibodies that target specific invaders\",\n        \"Some responding cells become memory cells that remember the invader for years\"\n      ],\n      \"question\": \"Place the steps of a typical immune response in order from first to last.\"\n    }\n  ]\n}",
      "outputTokens": 1965,
      "steps": [
        {
          "conclusion": "Question 3 violates the core philosophy of 'Understanding vs. Memorization' and the non-negotiable rule to 'Never test recall of specific words'. The question asks the learner to fill in specific terms ('B cells', 'antibodies') and descriptors ('Y-shaped') directly from the explanation text, rather than testing the application of the concept in a new context.",
          "kind": "majorErrors",
          "score": 6.5
        },
        {
          "conclusion": "The response largely fails the non-negotiable rule to 'Use novel scenarios — present concepts in everyday situations'. The questions mostly rely on abstract biological descriptions (e.g., 'A new virus appears', descriptions of cell types) rather than concrete, everyday examples (like a cut finger, a flu shot, or recovering from a cold) as requested to test transfer of knowledge.",
          "kind": "minorErrors",
          "score": 7
        },
        {
          "conclusion": "The tone is academic and instructional (e.g., 'Which describes the two defenses?', 'Complete the sentence...'), missing the instruction to write like a 'curious friend posing interesting challenges'.",
          "kind": "minorErrors",
          "score": 8
        },
        {
          "conclusion": "To improve, Question 3 should be replaced with a scenario where the learner must identify that a 'targeting' mechanism is needed, rather than recalling the term 'Y-shaped'. Additionally, all questions should be framed around a cohesive narrative or specific real-world instances (e.g., explaining why you don't get chickenpox twice) to meet the novelty requirement.",
          "kind": "potentialImprovements",
          "score": 7
        }
      ],
      "testCase": {
        "expectations": "\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Scenarios where someone observes immune responses in everyday life (repeat exposure, recovery time, vaccination effects) and must explain the underlying mechanism\n   - GOOD PATTERN: Situations requiring prediction of immune outcomes based on understanding defense layers\n   - BAD PATTERN: Asking to name cells, list defense mechanisms, or recall definitions without application context\n   - BAD PATTERN: Questions referencing specific metaphors or examples from the explanation\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - Antibodies directly killing pathogens (they MARK pathogens for destruction by other cells like macrophages)\n   - White blood cells being a single type (there are many types with different functions)\n   - Immune response being immediate (innate response is fast, adaptive takes days)\n   - Fever being harmful (it's often a beneficial immune response)\n\n3. FORMAT FIT: Multiple choice works well for \"which scenario shows X mechanism.\" Match columns work for connecting symptoms to immune responses. Sort order works for immune response sequence.\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Arrange words: TRAP FORMAT. Only valid when understanding the concept is required to know which words go where. PENALIZE HEAVILY when the sentence can be assembled through grammar/syntax knowledge alone (e.g., basic sentence structure like \"Subject + verb + object\" that any native speaker could guess).\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - arrangeWords is used but the sentence structure is trivially guessable from grammar (this is a common failure mode)\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "en-biology-immune-system-quiz-1",
        "userInput": {
          "chapterTitle": "Body Systems",
          "courseTitle": "Human Biology",
          "explanationSteps": [
            {
              "text": "Your body has two defense systems working together. The first responds instantly to any threat. The second takes time but remembers enemies forever.",
              "title": "Two Lines of Defense"
            },
            {
              "text": "Physical barriers like skin and mucus stop most invaders. If they get through, patrolling cells called macrophages eat anything that looks foreign.",
              "title": "The First Responders"
            },
            {
              "text": "When threats persist, specialized cells called B cells create antibodies. These Y-shaped proteins stick to specific invaders, marking them for destruction.",
              "title": "The Targeting System"
            },
            {
              "text": "Some cells become memory cells after an infection. They remember the invader's shape for years, letting your body respond faster next time.",
              "title": "Remembering Enemies"
            }
          ],
          "language": "en",
          "lessonDescription": "Understanding how the immune system protects the body through multiple layers of defense, from physical barriers to specialized cells and antibodies",
          "lessonTitle": "How the Immune System Works"
        }
      }
    },
    {
      "duration": 43071.96287500003,
      "inputTokens": 371,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Uma cidade recebe cheques diretos a muitas famílias, aumentando muito o dinheiro em circulação.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Quando há mais dinheiro disponível para a mesma quantidade de bens, a pressão sobre os preços tende a subir: inflação aumentada é o resultado mais provável.\",\n          \"isCorrect\": true,\n          \"text\": \"Os preços médios sobem (inflação)\"\n        },\n        {\n          \"feedback\": \"A oferta de bens não aumenta automaticamente porque mais dinheiro foi distribuído; produção depende de capacidade produtiva, não só de demanda.\",\n          \"isCorrect\": false,\n          \"text\": \"A quantidade de bens aumenta automaticamente\"\n        },\n        {\n          \"feedback\": \"O desemprego pode até cair com demanda maior, mas não é uma consequência imediata e certa; afirmar que aumenta é improvável.\",\n          \"isCorrect\": false,\n          \"text\": \"A taxa de desemprego aumenta imediatamente\"\n        },\n        {\n          \"feedback\": \"O banco central costuma avaliar e pode agir se a injeção for grande; dizer que não precisa agir ignora riscos inflacionários.\",\n          \"isCorrect\": false,\n          \"text\": \"O banco central não precisa agir\"\n        }\n      ],\n      \"question\": \"Qual é o efeito mais provável no curto prazo?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"O banco central eleva a taxa básica de juros de 2% para 6%.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Juros mais altos encarecem empréstimos, desestimulam investimento e consumo financiado — é o canal principal de contração.\",\n          \"isCorrect\": true,\n          \"text\": \"Empréstimos ficam mais caros e investimento cai\"\n        },\n        {\n          \"feedback\": \"Essa opção é contrária ao efeito de juros mais altos; não está correta.\",\n          \"isCorrect\": false,\n          \"text\": \"Empréstimos ficam mais baratos e consumo aumenta\"\n        },\n        {\n          \"feedback\": \"Reservas obrigatórias são outra ferramenta; alterar a taxa básica não implica automaticamente mudança nas reservas exigidas.\",\n          \"isCorrect\": false,\n          \"text\": \"Bancos reduzirão reservas obrigatórias\"\n        },\n        {\n          \"feedback\": \"A inflação tende a cair com juros mais altos, mas não costuma ocorrer instantaneamente no mesmo dia.\",\n          \"isCorrect\": false,\n          \"text\": \"A inflação cai imediatamente no mesmo dia\"\n        }\n      ],\n      \"question\": \"Qual efeito esperado nas decisões de empresas e consumidores?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"O banco central corta a taxa hoje para estimular a economia.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Mudanças em juros afetam planos de investimento e contratação com atraso — normalmente meses até um ou dois anos.\",\n          \"isCorrect\": true,\n          \"text\": \"Meses a um ou dois anos depois\"\n        },\n        {\n          \"feedback\": \"Algumas reações de mercado são rápidas, mas decisões reais de investimento e emprego levam tempo, não ocorrem no mesmo dia.\",\n          \"isCorrect\": false,\n          \"text\": \"Imediatamente no mesmo dia\"\n        },\n        {\n          \"feedback\": \"A política monetária geralmente tem efeito; dizer que nunca terá efeito ignora seus canais de transmissão.\",\n          \"isCorrect\": false,\n          \"text\": \"Nunca terá efeito\"\n        },\n        {\n          \"feedback\": \"Política fiscal pode interagir, mas a tradução dos juros em atividade não depende exclusivamente de mudanças fiscais.\",\n          \"isCorrect\": false,\n          \"text\": \"Somente quando o governo mudar impostos\"\n        }\n      ],\n      \"question\": \"Quando é mais provável ver impacto real sobre investimento e emprego?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"O banco central compra títulos do governo no mercado aberto.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Ao comprar títulos, o banco central paga aos vendedores, aumentando reservas bancárias e liquidez, o que tende a reduzir juros de mercado.\",\n          \"isCorrect\": true,\n          \"text\": \"Aumenta a liquidez e tende a reduzir os juros de mercado\"\n        },\n        {\n          \"feedback\": \"Comprar títulos injeta dinheiro, não o retira; essa opção descreve o efeito oposto.\",\n          \"isCorrect\": false,\n          \"text\": \"Reduz a quantidade de dinheiro em circulação\"\n        },\n        {\n          \"feedback\": \"Operações de mercado aberto não mudam impostos; essa opção mistura instrumentos fiscais e monetários.\",\n          \"isCorrect\": false,\n          \"text\": \"Aumenta diretamente os impostos\"\n        },\n        {\n          \"feedback\": \"Ao contrário: mais liquidez costuma facilitar empréstimos, não impedir bancos de emprestar.\",\n          \"isCorrect\": false,\n          \"text\": \"Impede bancos de emprestar\"\n        }\n      ],\n      \"question\": \"Qual é o efeito direto dessa operação?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A inflação está alta e persistente.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Para conter inflação, o banco central costuma aumentar a taxa de juros e/ou vender títulos para retirar liquidez — ações contracionistas que reduzem demanda.\",\n          \"isCorrect\": true,\n          \"text\": \"Aumentar juros e vender títulos para retirar liquidez\"\n        },\n        {\n          \"feedback\": \"Reduzir juros e comprar títulos injetaria mais liquidez e aumentaria demanda — movimento errado para combater inflação alta.\",\n          \"isCorrect\": false,\n          \"text\": \"Reduzir juros e comprar títulos para injetar liquidez\"\n        },\n        {\n          \"feedback\": \"Manter juros e comprar títulos não é uma postura restritiva; provavelmente insuficiente contra inflação alta.\",\n          \"isCorrect\": false,\n          \"text\": \"Manter juros e comprar títulos\"\n        },\n        {\n          \"feedback\": \"Impostos são ferramenta fiscal; o banco central não os aumenta. Mistura conceitos e não resolve infl ação via política monetária direta.\",\n          \"isCorrect\": false,\n          \"text\": \"Aumentar impostos pelo banco central\"\n        }\n      ],\n      \"question\": \"Qual política monetária é apropriada para conter a inflação?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"As taxas de juros caem, mas os bancos tornam os critérios de empréstimo muito mais rígidos.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Se os bancos não liberam crédito mesmo com juros baixos, o canal de crédito fica bloqueado e a política perde força — menos aumento de consumo e investimento.\",\n          \"isCorrect\": true,\n          \"text\": \"Reduz a eficácia: crédito não aumenta muito\"\n        },\n        {\n          \"feedback\": \"Ju ross mais baixos, com crédito disponível, podem ampliar a demanda; mas aqui o crédito está restringido, então essa amplificação não ocorre.\",\n          \"isCorrect\": false,\n          \"text\": \"Amplifica os efeitos, gerando rápido aumento do consumo\"\n        },\n        {\n          \"feedback\": \"A queda na oferta de bens não é uma consequência direta desse mecanismo; a opção confunde oferta com demanda.\",\n          \"isCorrect\": false,\n          \"text\": \"Causa imediata queda na oferta de bens\"\n        },\n        {\n          \"feedback\": \"O banco central não “perde” seus títulos por bancos mudarem critérios de crédito; essa afirmação mistura conceitos sem relação direta.\",\n          \"isCorrect\": false,\n          \"text\": \"Faz com que o banco central perca seus títulos\"\n        }\n      ],\n      \"question\": \"Como isso afeta a transmissão da política monetária?\"\n    }\n  ]\n}",
      "outputTokens": 2992,
      "steps": [
        {
          "conclusion": "None. The response perfectly adheres to all core instructions. It targets the specific concepts from the explanation steps (Monetary Equilibrium, Interest Rate Lever, Lags, Market Operations) without referencing the text explicitly. The questions test understanding of mechanisms (cause-effect) rather than definition recall. The language is correct Portuguese.",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "None. The questions are technically accurate regarding economic theory (e.g., acknowledging lags, the relationship between bond buying and liquidity). The feedback provided for both correct and incorrect answers is high quality, explaining *why* an answer is right or wrong, often correcting misconceptions (e.g., clarifying that the Central Bank does not control taxes).",
          "kind": "minorErrors",
          "score": 10
        },
        {
          "conclusion": "The quiz effectively uses multiple-choice questions to test application and prediction, which fits the 'Understanding vs. Memorization' philosophy. Scenarios like 'banks tightening lending criteria' (Question 6) or 'city receiving direct checks' (Question 1) are excellent novel contexts that test if the learner grasps the underlying logic of transmission mechanisms. No significant improvements are needed.",
          "kind": "potentialImprovements",
          "score": 10
        }
      ],
      "testCase": {
        "expectations": "\nLANGUAGE REQUIREMENT: Questions, options, and feedback must be in Portuguese.\n\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Scenarios involving economic decisions (borrowing, spending, saving) where learners must predict effects of interest rate changes\n   - GOOD PATTERN: Situations requiring understanding of transmission delays between policy and economic outcomes\n   - BAD PATTERN: Asking to list monetary tools or define economic terms without application context\n   - BAD PATTERN: Questions referencing specific examples from the explanation\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - Interest rate changes having immediate effects (transmission mechanisms have significant time lags of 6-18 months)\n   - Central banks directly controlling inflation (they influence it through indirect mechanisms)\n   - Lower interest rates always being good (they can fuel inflation and asset bubbles)\n   - Monetary policy being the only tool for economic stability (fiscal policy also plays a role)\n\n3. FORMAT FIT: Multiple choice works for cause-effect scenarios. Match columns work for connecting policy actions to economic effects. Sort order can work for transmission mechanism sequences.\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Arrange words: TRAP FORMAT. Only valid when understanding the concept is required to know which words go where. PENALIZE HEAVILY when the sentence can be assembled through grammar/syntax knowledge alone (e.g., basic sentence structure like \"Subject + verb + object\" that any native speaker could guess).\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - arrangeWords is used but the sentence structure is trivially guessable from grammar (this is a common failure mode)\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "pt-economics-monetary-policy-quiz-1",
        "userInput": {
          "chapterTitle": "Macroeconomia",
          "courseTitle": "Economia para Iniciantes",
          "explanationSteps": [
            {
              "text": "O banco central controla a quantidade de dinheiro circulando na economia. Quando ha dinheiro demais, os precos sobem. Quando ha pouco, a economia desacelera.",
              "title": "Equilibrio Monetario"
            },
            {
              "text": "A taxa basica de juros e a principal ferramenta. Juros altos tornam emprestimos caros, reduzindo gastos. Juros baixos estimulam emprestimos e consumo.",
              "title": "A Alavanca dos Juros"
            },
            {
              "text": "Mudancas nos juros levam meses para afetar a economia real. Empresas e consumidores ajustam seus planos gradualmente, nao instantaneamente.",
              "title": "Efeito com Atraso"
            },
            {
              "text": "Bancos centrais tambem compram e vendem titulos do governo. Comprando titulos, injetam dinheiro na economia. Vendendo, retiram dinheiro de circulacao.",
              "title": "Operacoes de Mercado"
            }
          ],
          "language": "pt",
          "lessonDescription": "Entendendo como bancos centrais usam taxas de juros e outras ferramentas para influenciar a economia, incluindo os mecanismos de transmissao da politica monetaria",
          "lessonTitle": "Como Funciona a Politica Monetaria"
        }
      }
    },
    {
      "duration": 41725.68908400001,
      "inputTokens": 441,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Tienes dos archivos distintos: uno de 2 KB y otro de 200 MB. Ambos se aplican a la misma función hash criptográfica.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correcto. Las funciones hash producen una salida de tamaño fijo independientemente del tamaño de la entrada, por eso archivos de 2 KB y 200 MB pueden tener hashes de la misma longitud.\",\n          \"isCorrect\": true,\n          \"text\": \"Producen cadenas (hashes) del mismo tamaño.\"\n        },\n        {\n          \"feedback\": \"Incorrecto. El hash no escala con el tamaño del archivo; por diseño la salida tiene longitud fija.\",\n          \"isCorrect\": false,\n          \"text\": \"El hash es proporcional al tamaño del archivo.\"\n        },\n        {\n          \"feedback\": \"Incorrecto. Un hash no contiene partes del contenido original de forma legible; es una representación compacta y no reversible.\",\n          \"isCorrect\": false,\n          \"text\": \"El hash incluye una parte del contenido original.”\"\n        },\n        {\n          \"feedback\": \"Incorrecto. El tamaño del hash no depende del tamaño del archivo; un archivo grande no implica un hash más largo.\",\n          \"isCorrect\": false,\n          \"text\": \"Un archivo más grande siempre genera un hash más largo.\"\n        }\n      ],\n      \"question\": \"¿Qué describe mejor la salida que produce una función hash?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Modificas un solo carácter en un contrato digital y vuelves a calcular su hash.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correcto. Las buenas funciones hash tienen efecto avalancha: un pequeño cambio produce un hash completamente diferente.\",\n          \"isCorrect\": true,\n          \"text\": \"El hash cambia por completo (efecto avalancha).\"\n        },\n        {\n          \"feedback\": \"Incorrecto. Un cambio pequeño no produce un cambio proporcional en el hash; en la práctica el hash será muy distinto.\",\n          \"isCorrect\": false,\n          \"text\": \"El hash cambia solo un poco y todavía es fácil ver la relación.\"\n        },\n        {\n          \"feedback\": \"Incorrecto. Si fuera así no servirían para detectar alteraciones; en realidad un cambio pequeño sí altera mucho el hash.\",\n          \"isCorrect\": false,\n          \"text\": \"El hash permanece casi igual si la modificación es pequeña.\"\n        },\n        {\n          \"feedback\": \"Incorrecto. No existe una transformación predecible que muestre la diferencia; el resultado es esencialmente no correlacionable.\",\n          \"isCorrect\": false,\n          \"text\": \"El nuevo hash es el anterior con el cambio codificado de forma local.\"\n        }\n      ],\n      \"question\": \"Si modificas un solo carácter, ¿qué suele ocurrir con el hash?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Un servicio web almacena solo el hash de las contraseñas en su base de datos, no las contraseñas en texto plano.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correcto. Una propiedad clave de los hashes es que no permiten recuperar el original de manera práctica, por eso son útiles para almacenar contraseñas.\",\n          \"isCorrect\": true,\n          \"text\": \"Porque desde el hash no es práctico recuperar la contraseña original.\"\n        },\n        {\n          \"feedback\": \"Incorrecto. Si esto fuera cierto, el hash no ofrecería protección; las funciones hash seguras no permiten recuperación directa.\",\n          \"isCorrect\": false,\n          \"text\": \"Porque el hash permite recuperar la contraseña usando la misma función.\"\n        },\n        {\n          \"feedback\": \"Incorrecto. Aunque las colisiones son teóricamente posibles, no se garantiza unicidad absoluta; por eso se aplican medidas adicionales como salting.\",\n          \"isCorrect\": false,\n          \"text\": \"Porque cada contraseña tiene un hash totalmente único sin posibilidad de colisión.\"\n        },\n        {\n          \"feedback\": \"Incorrecto. Eso describe cifrado con clave, no hashing. Un hash no usa una llave secreta para encriptar el valor original.\",\n          \"isCorrect\": false,\n          \"text\": \"Porque los hashes cifran la contraseña con una llave secreta.\"\n        }\n      ],\n      \"question\": \"¿Por qué es seguro almacenar contraseñas como hashes?\"\n    },\n    {\n      \"format\": \"matchColumns\",\n      \"pairs\": [\n        {\n          \"left\": \"Un archivo de 10 MB y otro de 1 KB generan salidas del mismo tamaño.\",\n          \"right\": \"Longitud fija (salida de tamaño fijo)\"\n        },\n        {\n          \"left\": \"Cambiar un bit en un documento hace que su hash sea totalmente distinto.\",\n          \"right\": \"Efecto avalancha (sensibilidad extrema)\"\n        },\n        {\n          \"left\": \"Un administrador no puede reconstruir la contraseña original a partir del hash almacenado.\",\n          \"right\": \"Irreversibilidad / Unidireccionalidad\"\n        },\n        {\n          \"left\": \"Encontrar dos archivos distintos con el mismo hash requiere una búsqueda computacional enorme.\",\n          \"right\": \"Resistencia a colisiones (unicidad práctica)\"\n        }\n      ],\n      \"question\": \"Relaciona cada observación práctica con la propiedad de las funciones hash.\"\n    },\n    {\n      \"format\": \"fillBlank\",\n      \"answers\": [\n        \"longitud fija\",\n        \"cambio drástico\",\n        \"prácticamente imposible\",\n        \"resistencia a colisiones\"\n      ],\n      \"distractors\": [\n        \"variable\",\n        \"cambio mínimo\",\n        \"fácil\",\n        \"frecuente\"\n      ],\n      \"feedback\": \"Cada posición corresponde a una propiedad: las funciones hash producen salidas de longitud fija; un pequeño cambio causa un cambio drástico (efecto avalancha); no es práctico recuperar el original desde el hash (irreversibilidad); y encontrar dos entradas con el mismo hash debe ser extremadamente difícil (resistencia a colisiones).\",\n      \"question\": \"Completa las propiedades clave de una función hash en las frases siguientes.\",\n      \"template\": \"Una función hash: (1) convierte datos de cualquier tamaño en una salida de [BLANK]; (2) un pequeño cambio en la entrada produce un [BLANK]; (3) recuperar la entrada original desde el hash es [BLANK]; (4) encontrar dos entradas distintas que produzcan el mismo hash se denomina [BLANK].\"\n    }\n  ]\n}",
      "outputTokens": 2897,
      "steps": [
        {
          "conclusion": "Question 5 contains a semantic/factual error in the fourth item. The sentence 'encontrar dos entradas distintas que produzcan el mismo hash se denomina [BLANK]' (finding two distinct inputs that produce the same hash is called...) expects the answer 'resistencia a colisiones' (collision resistance). This is incorrect terminology; the event is called a 'collision'. 'Collision resistance' is the property that makes finding such an event difficult. The sentence structure does not match the answer key.",
          "kind": "majorErrors",
          "score": 8
        },
        {
          "conclusion": "Question 1, Option 3 contains a punctuation/formatting typo: 'original.”' (a smart closing quote is included within the string text before the JSON closing quote). Additionally, Question 1's scenario (2KB vs 200MB) is extremely similar to the explanation's example (1KB vs 1GB), which borders on testing recall rather than transfer to a truly novel scenario.",
          "kind": "minorErrors",
          "score": 9
        },
        {
          "conclusion": "Question 5 relies heavily on rote memorization/definition completion ('fill in the properties') rather than the application of concepts to novel scenarios, which contradicts the 'Understanding vs. Memorization' philosophy requested. Replacing this with a scenario about file integrity verification or digital signatures would better align with the instructions.",
          "kind": "potentialImprovements",
          "score": 8.5
        }
      ],
      "testCase": {
        "expectations": "\nLANGUAGE REQUIREMENT: Questions, options, and feedback must be in Spanish.\n\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Security scenarios where learners must apply hash properties (irreversibility, avalanche effect, collision resistance) to real situations\n   - GOOD PATTERN: Situations requiring understanding of why certain hash behaviors matter for security\n   - BAD PATTERN: Asking to list hash properties or define terminology without application context\n   - BAD PATTERN: Questions about specific terms like \"avalanche effect\" without practical application\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - Hashing being the same as encryption (hashing is ONE-WAY and irreversible; encryption is designed to be reversible with a key)\n   - Hash functions producing unique outputs (collisions are mathematically possible, just extremely unlikely for good functions)\n   - Longer hashes always being more secure (algorithm quality matters more than length)\n   - MD5 or SHA-1 being secure for cryptographic purposes (both have known vulnerabilities)\n\n3. FORMAT FIT: Multiple choice works for security scenarios. Match columns work for connecting hash properties to their practical implications.\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Arrange words: TRAP FORMAT. Only valid when understanding the concept is required to know which words go where. PENALIZE HEAVILY when the sentence can be assembled through grammar/syntax knowledge alone (e.g., basic sentence structure like \"Subject + verb + object\" that any native speaker could guess).\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - arrangeWords is used but the sentence structure is trivially guessable from grammar (this is a common failure mode)\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "es-crypto-hash-functions-quiz-1",
        "userInput": {
          "chapterTitle": "Fundamentos de Criptografia",
          "courseTitle": "Seguridad Informatica",
          "explanationSteps": [
            {
              "text": "Una funcion hash convierte cualquier dato en una cadena de longitud fija. Un archivo de 1KB y uno de 1GB producen hashes del mismo tamano.",
              "title": "Compresion de Datos"
            },
            {
              "text": "Cambiar un solo bit del archivo original cambia completamente el hash. Esta propiedad se llama efecto avalancha y es crucial para detectar alteraciones.",
              "title": "Sensibilidad Extrema"
            },
            {
              "text": "No puedes recuperar el archivo original desde su hash - el proceso es irreversible. Por eso se usan para almacenar contrasenas de forma segura.",
              "title": "Camino de Ida"
            },
            {
              "text": "Encontrar dos archivos diferentes con el mismo hash deberia ser practicamente imposible. Esta resistencia a colisiones es lo que hace a los hashes confiables.",
              "title": "Unicidad Practica"
            }
          ],
          "language": "es",
          "lessonDescription": "Entendiendo como funcionan las funciones hash criptograficas, sus propiedades matematicas, y por que son fundamentales para la seguridad digital",
          "lessonTitle": "Funciones Hash Criptograficas"
        }
      }
    },
    {
      "duration": 42614.44291700004,
      "inputTokens": 434,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A model predicts a house price of $350k but the actual sale was $300k. Which step in training quantifies this difference?\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct — the loss function (or cost) is the quantity that measures how far the prediction is from the true value and is used to guide learning.\",\n          \"isCorrect\": true,\n          \"text\": \"Compute the loss comparing prediction and true value.\"\n        },\n        {\n          \"feedback\": \"Not correct — randomly changing weights is not how we measure error; it’s an uninformed trial, not the measurement step.\",\n          \"isCorrect\": false,\n          \"text\": \"Randomly tweak weights and see if prediction improves.\"\n        },\n        {\n          \"feedback\": \"Close but not right — backpropagation uses the loss to compute gradients; it doesn’t itself measure the difference.\",\n          \"isCorrect\": false,\n          \"text\": \"Run backpropagation to adjust weights immediately.\"\n        },\n        {\n          \"feedback\": \"No — an activation function shapes neuron output but doesn’t quantify prediction error.\",\n          \"isCorrect\": false,\n          \"text\": \"Apply an activation function to the output neuron.\"\n        }\n      ],\n      \"question\": \"Which step measures prediction error?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"During training, increasing the size of each weight update lets the network change faster but may overshoot the minimum.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Right — small updates follow the local error gradient and reduce the chance of overshooting the low-error region.\",\n          \"isCorrect\": true,\n          \"text\": \"Small updates follow the gradient toward lower loss and help avoid overshooting.\"\n        },\n        {\n          \"feedback\": \"Incorrect — large steps can sometimes move faster but don’t guarantee reaching the absolute minimum faster; they risk oscillation.\",\n          \"isCorrect\": false,\n          \"text\": \"They guarantee reaching the absolute minimum faster.\"\n        },\n        {\n          \"feedback\": \"Incorrect — computing gradients is still required to know which direction to move; small steps don’t remove that need.\",\n          \"isCorrect\": false,\n          \"text\": \"They eliminate the need to compute gradients.\"\n        },\n        {\n          \"feedback\": \"Wrong — small updates reduce, not increase, the chance of jumping into random high-error states; the opposite is usually true for large steps.\",\n          \"isCorrect\": false,\n          \"text\": \"They increase the chance of getting stuck in random states.\"\n        }\n      ],\n      \"question\": \"Why prefer small weight updates?\"\n    },\n    {\n      \"format\": \"fillBlank\",\n      \"answers\": [\n        \"a forward pass\",\n        \"a loss\",\n        \"backpropagation\",\n        \"gradient descent\"\n      ],\n      \"distractors\": [\n        \"inference\",\n        \"accuracy\",\n        \"reverse pass\",\n        \"momentum\"\n      ],\n      \"feedback\": \"The standard training loop: a forward pass produces the prediction; a loss quantifies the error; backpropagation sends error information backward to compute gradients (each weight's contribution); gradient descent (small steps along the negative gradient) adjusts weights to reduce loss.\",\n      \"question\": \"Complete the core training steps\",\n      \"template\": \"Training loop: [BLANK] produces a prediction, then we compute [BLANK] to measure how wrong it is. That error is sent backward by [BLANK] to find each weight's contribution, and weights are adjusted using [BLANK].\"\n    },\n    {\n      \"format\": \"matchColumns\",\n      \"pairs\": [\n        {\n          \"left\": \"A predicted label produced from inputs\",\n          \"right\": \"Forward pass / prediction\"\n        },\n        {\n          \"left\": \"A single number summarizing how wrong the prediction is\",\n          \"right\": \"Loss function\"\n        },\n        {\n          \"left\": \"A value for each weight that shows how the loss would change if that weight changed\",\n          \"right\": \"Gradient (assigning blame)\"\n        },\n        {\n          \"left\": \"Making small updates to weights in the direction that lowers loss\",\n          \"right\": \"Gradient descent (small downhill steps)\"\n        }\n      ],\n      \"question\": \"Match observations during training to the concept they illustrate.\"\n    },\n    {\n      \"format\": \"sortOrder\",\n      \"feedback\": \"A training iteration first computes outputs (forward), then measures how wrong those outputs are (loss), uses calculus to compute per-weight contributions (backpropagate gradients), and finally updates weights by small steps that reduce the loss (gradient descent).\",\n      \"items\": [\n        \"Forward pass (compute predictions)\",\n        \"Compute loss (measure error)\",\n        \"Backpropagate gradients (assign blame)\",\n        \"Update weights (small gradient step)\"\n      ],\n      \"question\": \"Order the core steps of one training iteration.\"\n    }\n  ]\n}",
      "outputTokens": 2973,
      "steps": [
        {
          "conclusion": "None",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "The generated questions largely fail to follow the 'Novel Scenarios' and 'Application to Novel Scenarios' instructions for Questions 3, 4, and 5. The instructions explicitly required presenting concepts in 'everyday situations the learner hasn't seen' and warned against testing 'vocabulary definitions rather than concept application'. Questions 3 (Fill Blank), 4 (Match Columns), and 5 (Sort Order) rely entirely on abstract technical definitions and standard process descriptions rather than applying these concepts to new, concrete contexts (e.g., a chef tasting soup to adjust salt, or a robot learning to walk). While Question 1 correctly uses a novel scenario (house prices), the others fall into the 'BAD PATTERN' of asking for terminology/definitions without application context.",
          "kind": "minorErrors",
          "score": 7.5
        },
        {
          "conclusion": "To improve, Questions 3, 4, and 5 should be rewritten to apply the concepts to specific, novel situations rather than using abstract terminology. For example, Question 3 could describe a specific learning scenario (like a student studying for a test) and ask the user to fill in the blanks mapping the real-world actions to the neural network terms. Additionally, the tone is somewhat academic ('Complete the core training steps') and could be made more conversational as requested ('curious friend').",
          "kind": "potentialImprovements",
          "score": 7.5
        }
      ],
      "testCase": {
        "expectations": "\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Training scenarios where learners must diagnose what's happening (overfitting, underfitting, vanishing gradients) based on observed behavior\n   - GOOD PATTERN: Situations requiring understanding of why the forward-backward process produces learning\n   - BAD PATTERN: Asking for formulas, definitions, or terminology without application context\n   - BAD PATTERN: Questions about specific metaphors like \"blame assignment\" from the explanation\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - Gradient descent being random trial and error (it follows the mathematical gradient direction)\n   - Neural networks understanding concepts like humans (they learn statistical patterns)\n   - More layers always being better (can cause vanishing gradients and overfitting)\n   - Training stopping when error reaches zero (this indicates overfitting)\n\n3. FORMAT FIT: Multiple choice works for training scenarios. Sort order can work for the forward-backward pass sequence. Fill blank can work for the gradient flow process.\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Arrange words: TRAP FORMAT. Only valid when understanding the concept is required to know which words go where. PENALIZE HEAVILY when the sentence can be assembled through grammar/syntax knowledge alone (e.g., basic sentence structure like \"Subject + verb + object\" that any native speaker could guess).\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - arrangeWords is used but the sentence structure is trivially guessable from grammar (this is a common failure mode)\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "en-ml-backpropagation-quiz-1",
        "userInput": {
          "chapterTitle": "Neural Network Training",
          "courseTitle": "Machine Learning Fundamentals",
          "explanationSteps": [
            {
              "text": "Training a neural network means adjusting connection strengths so outputs match desired results. The question is: which connections need adjusting and by how much?",
              "title": "The Adjustment Problem"
            },
            {
              "text": "First, data flows forward through the network, producing a prediction. The difference between prediction and reality is measured as error.",
              "title": "Measuring Mistakes"
            },
            {
              "text": "Error information then flows backward through the network. Each connection learns how much it contributed to the mistake using calculus.",
              "title": "Assigning Blame"
            },
            {
              "text": "Connections that contributed more to errors get larger adjustments. The network gradually improves by making small changes in the direction that reduces error.",
              "title": "Small Steps Downhill"
            }
          ],
          "language": "en",
          "lessonDescription": "Understanding how neural networks learn through backpropagation, including forward passes, loss calculation, and gradient-based weight updates",
          "lessonTitle": "How Neural Networks Learn"
        }
      }
    },
    {
      "duration": 34271.83679199999,
      "inputTokens": 364,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A scientist observes large rigid slabs of Earth's outer layer moving independently over millions of years.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Tectonic plates are the large rigid pieces of Earth's outer shell that move relative to each other—this matches the observation.\",\n          \"isCorrect\": true,\n          \"text\": \"Tectonic plates\"\n        },\n        {\n          \"feedback\": \"The lithosphere is Earth's rigid outer layer as a whole, not the individual moving pieces described as separate slabs.\",\n          \"isCorrect\": false,\n          \"text\": \"The lithosphere\"\n        },\n        {\n          \"feedback\": \"The asthenosphere is the softer, flowing layer beneath the plates, not the rigid slabs themselves.\",\n          \"isCorrect\": false,\n          \"text\": \"Asthenosphere\"\n        },\n        {\n          \"feedback\": \"The crust is only the uppermost layer of Earth and doesn't capture that these slabs are large, rigid pieces that move independently.\",\n          \"isCorrect\": false,\n          \"text\": \"Crust\"\n        }\n      ],\n      \"question\": \"What are the moving rigid slabs called?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Imagine a block of very hot rock deep inside Earth that behaves like solid rock but slowly changes shape over millions of years.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Mantle rock is solid but over long times it can flow like a very viscous material; this describes its real behavior.\",\n          \"isCorrect\": true,\n          \"text\": \"A solid that slowly flows (viscous solid)\"\n        },\n        {\n          \"feedback\": \"While the rock is hot, it is not a free-flowing liquid like water; calling it molten liquid is misleading for the mantle at these depths.\",\n          \"isCorrect\": false,\n          \"text\": \"A molten liquid that flows freely\"\n        },\n        {\n          \"feedback\": \"Describing it as completely rigid and immobile ignores the long‑term flow that drives plate motion.\",\n          \"isCorrect\": false,\n          \"text\": \"A rigid, immobile solid\"\n        },\n        {\n          \"feedback\": \"Plasma is an ionized gas and not relevant to Earth's interior rock behavior.\",\n          \"isCorrect\": false,\n          \"text\": \"A plasma (ionized gas)\"\n        }\n      ],\n      \"question\": \"How does deep mantle rock behave?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Picture a pot of thick soup heated from below that sets up slow circular currents, carrying floating bits on the surface.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Mantle convection—heat-driven circulation—creates currents in the mantle that can drag plates along; this aligns with the soup analogy.\",\n          \"isCorrect\": true,\n          \"text\": \"Heat-driven mantle convection that drags plates\"\n        },\n        {\n          \"feedback\": \"Tidal forces from the Moon and Sun are far too weak to drive the large-scale movement of tectonic plates.\",\n          \"isCorrect\": false,\n          \"text\": \"Tidal forces from the Moon and Sun\"\n        },\n        {\n          \"feedback\": \"Wind acts only at Earth's surface atmosphere and cannot move solid lithospheric plates.\",\n          \"isCorrect\": false,\n          \"text\": \"Surface winds pushing the plates\"\n        },\n        {\n          \"feedback\": \"Random collisions with asteroids are not a continuous engine that explains steady plate motions over millions of years.\",\n          \"isCorrect\": false,\n          \"text\": \"Repeated asteroid impacts\"\n        }\n      ],\n      \"question\": \"What best drives plate movement?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Two oceanic plates move away from each other and magma wells up to fill the space, building an underwater mountain chain over time.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"A mid-ocean ridge forms where plates spread apart and new oceanic crust is created by rising magma—this matches the scenario.\",\n          \"isCorrect\": true,\n          \"text\": \"A mid-ocean ridge (new oceanic crust)\"\n        },\n        {\n          \"feedback\": \"A deep-sea trench forms where plates converge and one sinks beneath another, the opposite of spreading.\",\n          \"isCorrect\": false,\n          \"text\": \"A deep-sea trench\"\n        },\n        {\n          \"feedback\": \"A volcanic island arc forms when one oceanic plate subducts under another, not where plates pull apart.\",\n          \"isCorrect\": false,\n          \"text\": \"A volcanic island arc\"\n        },\n        {\n          \"feedback\": \"A transform fault is where plates slide past each other laterally, not where new crust is made by spreading.\",\n          \"isCorrect\": false,\n          \"text\": \"A transform fault\"\n        }\n      ],\n      \"question\": \"What feature forms where ocean plates pull apart?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"An oceanic plate collides with a continental plate and starts sinking beneath it, producing intense earthquakes and volcanic activity inland from the margin.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Subduction zones occur when one plate dives beneath another, generating earthquakes and volcanism—this explains the described events.\",\n          \"isCorrect\": true,\n          \"text\": \"A subduction zone where one plate sinks beneath the other\"\n        },\n        {\n          \"feedback\": \"A transform boundary involves plates sliding past each other and mainly causes earthquakes but not the volcanic activity described.\",\n          \"isCorrect\": false,\n          \"text\": \"A transform boundary where plates slide past each other\"\n        },\n        {\n          \"feedback\": \"Continental rifting is where plates pull apart, producing volcanism in some cases but not the sinking and trench formation described.\",\n          \"isCorrect\": false,\n          \"text\": \"Continental rifting (plates pulling apart)\"\n        },\n        {\n          \"feedback\": \"A hotspot can create volcanoes away from plate boundaries but doesn't explain the plate-sinking and trench-related earthquakes at a margin.\",\n          \"isCorrect\": false,\n          \"text\": \"A stationary hotspot under the plate\"\n        }\n      ],\n      \"question\": \"Which process explains sinking plate, quakes, and volcanoes?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Two continental plates collide head-on and neither easily sinks, so the crust crumples and thickens over time at their boundary.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"When two continental plates collide and neither subducts, their edges crumple and uplift to form large mountain ranges like the Himalayas.\",\n          \"isCorrect\": true,\n          \"text\": \"Continental collision forming tall mountain ranges\"\n        },\n        {\n          \"feedback\": \"Subduction typically involves an oceanic plate sinking beneath another plate and is associated with trenches rather than tall continental ranges in the collision zone.\",\n          \"isCorrect\": false,\n          \"text\": \"Subduction creating an ocean trench\"\n        },\n        {\n          \"feedback\": \"A mid-ocean ridge forms at divergent oceanic plates, not at colliding continents.\",\n          \"isCorrect\": false,\n          \"text\": \"Mid-ocean ridge formation\"\n        },\n        {\n          \"feedback\": \"Strike-slip faulting (transform) causes lateral movement, not the broad uplift and crustal thickening that creates mountain ranges.\",\n          \"isCorrect\": false,\n          \"text\": \"Strike-slip (transform) faulting\"\n        }\n      ],\n      \"question\": \"What happens when two continents collide?\"\n    }\n  ]\n}",
      "outputTokens": 2339,
      "steps": [
        {
          "conclusion": "None",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "In Question 6, the context states 'Two continental plates collide', and the correct option is 'Continental collision forming tall mountain ranges'. This allows learners to answer based on keyword matching ('collide' -> 'collision') rather than conceptual understanding. Similarly, Question 5's context mentions a 'sinking' plate, and the correct option describes a zone where a plate 'sinks'.",
          "kind": "minorErrors",
          "score": 8.5
        },
        {
          "conclusion": "To better test application, the options in Q5 and Q6 should describe the physical result without repeating the key verbs from the context. For example, Q6's correct option could be 'The crust crumples and thickens upwards' rather than repeating 'Continental collision'. Additionally, while Q3 uses a great everyday analogy (soup), Q4-Q6 rely on direct descriptions of the geological process. Using more 'forensic' scenarios (e.g., 'You find a mountain range with no volcanoes, what happened here?') would better fulfill the 'novel scenarios' requirement.",
          "kind": "potentialImprovements",
          "score": 8
        }
      ],
      "testCase": {
        "expectations": "\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Geographic scenarios where learners must explain geological features or patterns based on plate interactions\n   - GOOD PATTERN: Situations requiring prediction of geological activity based on understanding boundary types\n   - BAD PATTERN: Asking to name boundary types or list geological features without application context\n   - BAD PATTERN: Questions referencing the \"cracked shell\" or \"engine below\" metaphors from the explanation\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - The mantle being liquid or molten (it is SOLID rock that flows very slowly over geological time due to heat and pressure)\n   - Plates floating on liquid (they move on the slowly-flowing solid mantle)\n   - Earthquakes only happening at plate boundaries (intraplate earthquakes exist)\n   - Continental drift being the same as plate tectonics (continental drift was the early theory; plate tectonics is the modern mechanism)\n\n3. FORMAT FIT: Multiple choice works well for geological scenarios. Match columns work for connecting geological features to boundary types. Sort order could work for mountain-building sequences.\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Arrange words: TRAP FORMAT. Only valid when understanding the concept is required to know which words go where. PENALIZE HEAVILY when the sentence can be assembled through grammar/syntax knowledge alone (e.g., basic sentence structure like \"Subject + verb + object\" that any native speaker could guess).\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - arrangeWords is used but the sentence structure is trivially guessable from grammar (this is a common failure mode)\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "en-geology-plate-tectonics-quiz-1",
        "userInput": {
          "chapterTitle": "Earth's Structure",
          "courseTitle": "Earth Science",
          "explanationSteps": [
            {
              "text": "Earth's outer shell is cracked into massive pieces called plates. These plates sit on the mantle - solid rock so hot it flows like thick honey over millions of years.",
              "title": "A Cracked Shell"
            },
            {
              "text": "Heat from Earth's core creates circulation in the mantle. This slow churning drags the plates along, moving them centimeters per year.",
              "title": "The Engine Below"
            },
            {
              "text": "Where plates pull apart, magma rises to fill the gap, creating new crust. Mid-ocean ridges are underwater mountain chains formed this way.",
              "title": "Spreading Apart"
            },
            {
              "text": "Where plates collide, one may dive under the other, triggering earthquakes and volcanoes. Mountain ranges like the Himalayas form when neither plate sinks.",
              "title": "Collision Zones"
            }
          ],
          "language": "en",
          "lessonDescription": "Understanding how Earth's tectonic plates move and interact, including the mechanisms that drive plate motion and the geological features they create",
          "lessonTitle": "Plate Tectonics"
        }
      }
    },
    {
      "duration": 52651.89704199997,
      "inputTokens": 372,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Uma célula pronta para se dividir precisa 'abrir' a dupla hélice do DNA separando as duas fitas para iniciar a cópia.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correto — a helicase desfaz as ligações de hidrogênio entre as bases, separando as fitas da dupla hélice para que a replicação comece.\",\n          \"isCorrect\": true,\n          \"text\": \"Helicase\"\n        },\n        {\n          \"feedback\": \"Errado — a DNA polimerase não separa as fitas; ela sintetiza a nova fita usando a fita molde já separada.\",\n          \"isCorrect\": false,\n          \"text\": \"DNA polimerase\"\n        },\n        {\n          \"feedback\": \"Errado — ligase junta fragmentos de DNA já sintetizados, não separa as fitas.\",\n          \"isCorrect\": false,\n          \"text\": \"Ligase\"\n        },\n        {\n          \"feedback\": \"Errado — a primase sintetiza primers de RNA; não é a enzima que separa as fitas.\",\n          \"isCorrect\": false,\n          \"text\": \"Primase\"\n        }\n      ],\n      \"question\": \"Qual enzima separa as fitas?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Durante a replicação, uma enzima lê uma fita antiga e adiciona bases à nova fita. O que determina quais bases são adicionadas?\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correto — a nova fita é complementar à fita molde: cada base adicionada emparelha com a base oposta na fita original.\",\n          \"isCorrect\": true,\n          \"text\": \"A complementaridade com a fita molde\"\n        },\n        {\n          \"feedback\": \"Errado — a ordem de enzimas não dita a sequência de bases; as bases se emparelham por complementaridade.\",\n          \"isCorrect\": false,\n          \"text\": \"A ordem das enzimas que atuam\"\n        },\n        {\n          \"feedback\": \"Errado — não é aleatório; há regras de pareamento (A-T, C-G) que guiam a adição.\",\n          \"isCorrect\": false,\n          \"text\": \"A sequência é aleatória\"\n        },\n        {\n          \"feedback\": \"Errado — a sequência não é copiada de proteínas; é determinada pelo molde de DNA.\",\n          \"isCorrect\": false,\n          \"text\": \"A sequência é copiada de uma proteína\"\n        }\n      ],\n      \"question\": \"O que determina a sequência?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A DNA polimerase só adiciona nucleotídeos numa direção (5'→3'). Numa forquilha de replicação, isso cria uma fita sintetizada de forma contínua.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correto — a fita líder (ou contínua) é sintetizada na mesma direção do avanço da forquilha, permitindo síntese contínua.\",\n          \"isCorrect\": true,\n          \"text\": \"Fita líder (contínua)\"\n        },\n        {\n          \"feedback\": \"Errado — a fita retardada é sintetizada descontinuamente em fragmentos, não continuamente.\",\n          \"isCorrect\": false,\n          \"text\": \"Fita retardada (descontínua)\"\n        },\n        {\n          \"feedback\": \"Errado — as direções relativas fazem com que apenas uma seja contínua.\",\n          \"isCorrect\": false,\n          \"text\": \"Ambas são contínuas\"\n        },\n        {\n          \"feedback\": \"Errado — uma delas é claramente contínua; não é correto dizer que nenhuma é contínua.\",\n          \"isCorrect\": false,\n          \"text\": \"Nenhuma é contínua\"\n        }\n      ],\n      \"question\": \"Qual fita é contínua?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Uma fita é copiada em pedaços chamados fragmentos de Okazaki. Por que essa síntese em fragmentos ocorre?\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correto — como a polimerase só adiciona 5'→3' e a forquilha avança numa direção, a fita retardada precisa ser sintetizada em pequenos trechos que depois são unidos.\",\n          \"isCorrect\": true,\n          \"text\": \"Porque a polimerase só pode adicionar na direção 5'→3' e o movimento da forquilha exige síntese descontínua\"\n        },\n        {\n          \"feedback\": \"Errado — a síntese descontínua não é causada por falta intermitente de nucleotídeos.\",\n          \"isCorrect\": false,\n          \"text\": \"Porque faltam nucleotídeos intermitentemente\"\n        },\n        {\n          \"feedback\": \"Errado — a fita retardada é DNA, não RNA (embora primers de RNA sejam usados), e isso não explica os fragmentos.\",\n          \"isCorrect\": false,\n          \"text\": \"Porque a fita retardada é feita de RNA\"\n        },\n        {\n          \"feedback\": \"Errado — a helicase separa as fitas, mas não 'quebra' a fita em segmentos para causar fragmentos.\",\n          \"isCorrect\": false,\n          \"text\": \"Porque a helicase rompe a fita em segmentos\"\n        }\n      ],\n      \"question\": \"Por que surgem fragmentos?\"\n    },\n    {\n      \"format\": \"fillBlank\",\n      \"answers\": [\n        \"exonuclease\",\n        \"polimerase\"\n      ],\n      \"distractors\": [\n        \"ligase\",\n        \"helicase\",\n        \"primase\",\n        \"topoisomerase\"\n      ],\n      \"feedback\": \"As enzimas com atividade exonuclease retiram nucleotídeos incorretos (correção). Depois, a atividade de síntese (polimerase) adiciona os nucleotídeos corretos — muitas vezes a própria DNA polimerase tem atividade de remoção e adição.\",\n      \"question\": \"Complete as funções de correção durante a replicação.\",\n      \"template\": \"Durante a replicação, enzimas de [BLANK] removem nucleotídeos incorretos. Em seguida, enzimas de [BLANK] adicionam os nucleotídeos corretos.\"\n    },\n    {\n      \"format\": \"matchColumns\",\n      \"pairs\": [\n        {\n          \"left\": \"Abrir um zíper do DNA (separar as fitas)\",\n          \"right\": \"Helicase\"\n        },\n        {\n          \"left\": \"Usar uma fita antiga como molde para construir a nova\",\n          \"right\": \"DNA polimerase\"\n        },\n        {\n          \"left\": \"Sintetizar em pequenos pedaços e depois unir\",\n          \"right\": \"Fita retardada / fragmentos de Okazaki\"\n        },\n        {\n          \"left\": \"Revisar e remover bases incorretas\",\n          \"right\": \"Exonuclease (prova)\"\n        }\n      ],\n      \"question\": \"Relacione cada observação a enzimas ou processos correspondentes.\"\n    }\n  ]\n}",
      "outputTokens": 3643,
      "steps": [
        {
          "conclusion": "The model completely failed to adhere to the scope of the provided lesson. It tested specific scientific terminology (Helicase, Ligase, Primase, Exonuclease, Leading/Lagging strand, Okazaki fragments) that was not present in the `EXPLANATION_STEPS`. This makes the quiz unfair and unanswerable for a learner who relies on the provided content. The instructions explicitly stated that `EXPLANATION_STEPS` tells you WHAT concepts to test.",
          "kind": "majorErrors",
          "score": 6
        },
        {
          "conclusion": "The model violated the core philosophy of 'Understanding vs. Memorization' and the explicit 'Bad Pattern' warnings. The instructions forbade asking to name enzymes without application context, yet Question 1 asks 'Qual enzima separa as fitas?' (Which enzyme separates the strands?). The questions focus almost entirely on rote recall of definitions rather than application of concepts.",
          "kind": "majorErrors",
          "score": 6
        },
        {
          "conclusion": "The model ignored the instruction to use 'Novel Scenarios' and a 'Conversational Tone'. The questions use standard academic/textbook phrasing ('Uma célula pronta para se dividir...', 'Durante a replicação...') instead of everyday situations or analogies required to test transfer of knowledge.",
          "kind": "majorErrors",
          "score": 6.5
        },
        {
          "conclusion": "The quiz relies heavily on vocabulary not taught in the lesson, necessitating a complete rewrite to focus on the underlying logic (e.g., why directionality causes a problem) using analogies or hypothetical situations, rather than testing nomenclature.",
          "kind": "potentialImprovements",
          "score": 6
        }
      ],
      "testCase": {
        "expectations": "\nLANGUAGE REQUIREMENT: Questions, options, and feedback must be in Portuguese.\n\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Scenarios requiring understanding of WHY replication works as it does (directionality constraints, error correction needs)\n   - GOOD PATTERN: Situations where learners must predict outcomes of replication errors or enzyme malfunctions\n   - BAD PATTERN: Asking to name enzymes or describe their functions without application context\n   - BAD PATTERN: Questions referencing the \"zipper\" metaphor or other explanation-specific content\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - Both DNA strands being synthesized the same way (leading strand is continuous; lagging strand is synthesized in Okazaki fragments)\n   - DNA polymerase being able to start synthesis on its own (it needs a primer)\n   - Replication being error-free (proofreading catches most errors but some slip through)\n   - Replication happening randomly along the chromosome (it starts at specific origins)\n\n3. FORMAT FIT: Sort order works well for replication sequence. Fill blank works for enzyme roles. Multiple choice for understanding why the process works as it does.\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Arrange words: TRAP FORMAT. Only valid when understanding the concept is required to know which words go where. PENALIZE HEAVILY when the sentence can be assembled through grammar/syntax knowledge alone (e.g., basic sentence structure like \"Subject + verb + object\" that any native speaker could guess).\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - arrangeWords is used but the sentence structure is trivially guessable from grammar (this is a common failure mode)\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "pt-biology-dna-replication-quiz-1",
        "userInput": {
          "chapterTitle": "Genetica Molecular",
          "courseTitle": "Biologia Celular",
          "explanationSteps": [
            {
              "text": "Antes de uma celula se dividir, ela precisa copiar todo seu DNA. O processo comeca quando enzimas separam as duas fitas da dupla helice.",
              "title": "Abrindo o Ziper"
            },
            {
              "text": "Cada fita original serve de molde para uma nova. Enzimas chamadas DNA polimerases leem a fita antiga e constroem a nova, base por base.",
              "title": "Lendo o Molde"
            },
            {
              "text": "Ha um problema: a polimerase so consegue adicionar bases em uma direcao. Uma fita e copiada continuamente, mas a outra precisa ser copiada em pedacos.",
              "title": "O Problema da Direcao"
            },
            {
              "text": "Enzimas de correcao verificam cada base adicionada. Se encontram um erro, removem e substituem. Esse controle de qualidade mantem a fidelidade genetica.",
              "title": "Corrigindo Erros"
            }
          ],
          "language": "pt",
          "lessonDescription": "Entendendo o processo de replicacao do DNA, incluindo as enzimas envolvidas e como a informacao genetica e copiada com alta fidelidade",
          "lessonTitle": "Como o DNA se Replica"
        }
      }
    },
    {
      "duration": 36114.781833999965,
      "inputTokens": 362,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"You're taking a portrait in a park. Which placement will usually make the photo feel more dynamic and engaging?\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Centering can feel stable and formal but often lacks movement or tension; it's not the best choice for adding dynamism.\",\n          \"isCorrect\": false,\n          \"text\": \"Place the subject dead center in the frame.\"\n        },\n        {\n          \"feedback\": \"Correct. Placing the subject on a 'power point' (intersection of the thirds grid) draws the eye and creates a more dynamic composition.\",\n          \"isCorrect\": true,\n          \"text\": \"Place the subject on a power point (intersection of the thirds grid).\"\n        },\n        {\n          \"feedback\": \"Putting the subject against the very edge can feel cramped and may draw attention to the edge rather than the subject.\",\n          \"isCorrect\": false,\n          \"text\": \"Place the subject touching the far edge of the frame.\"\n        },\n        {\n          \"feedback\": \"Very small subjects in a corner often disappear and make the composition feel unbalanced rather than dynamic.\",\n          \"isCorrect\": false,\n          \"text\": \"Make the subject very small and tuck it into a corner.\"\n        }\n      ],\n      \"question\": \"Best placement for a dynamic portrait?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Which location in a photo frame are called the 'power points' when using the rule of thirds?\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"This is incorrect — the power points are not at the exact center.\",\n          \"isCorrect\": false,\n          \"text\": \"The exact center of the frame.\"\n        },\n        {\n          \"feedback\": \"Correct. The intersections formed by dividing the frame into three equal parts vertically and horizontally are the power points.\",\n          \"isCorrect\": true,\n          \"text\": \"The four intersections where two vertical and two horizontal 'thirds' lines cross.\"\n        },\n        {\n          \"feedback\": \"Midpoints of the edges are not the rule-of-thirds power points; they sit between power points and corners.\",\n          \"isCorrect\": false,\n          \"text\": \"The midpoints of each side of the frame.\"\n        },\n        {\n          \"feedback\": \"Corners are extreme positions and are not the rule-of-thirds intersections.\",\n          \"isCorrect\": false,\n          \"text\": \"The four corners of the frame.\"\n        }\n      ],\n      \"question\": \"Where are power points?\"\n    },\n    {\n      \"format\": \"fillBlank\",\n      \"answers\": [\n        \"two\",\n        \"two\",\n        \"nine\"\n      ],\n      \"distractors\": [\n        \"three\",\n        \"four\",\n        \"six\",\n        \"one\",\n        \"eight\"\n      ],\n      \"feedback\": \"You divide the frame with two vertical and two horizontal lines, which creates nine equal sections (3×3).\",\n      \"question\": \"Fill in the blanks about the rule-of-thirds grid:\",\n      \"template\": \"Divide the frame into [BLANK] vertical and [BLANK] horizontal lines to create [BLANK] equal sections.\"\n    },\n    {\n      \"format\": \"matchColumns\",\n      \"pairs\": [\n        {\n          \"left\": \"Seascape where the horizon sits on the lower third line\",\n          \"right\": \"Emphasizes the sky and makes the upper part of the scene more dominant\"\n        },\n        {\n          \"left\": \"Portrait with the subject’s eyes placed on a right-side power point, looking toward the center\",\n          \"right\": \"Creates a feeling of movement or connection because the eye travels into the empty space in front of the subject\"\n        },\n        {\n          \"left\": \"Photo with the subject centered exactly in the middle\",\n          \"right\": \"Feels static and less dynamic compared with off-center placement\"\n        },\n        {\n          \"left\": \"Landscape where a large foreground element is placed along the bottom third line\",\n          \"right\": \"Balances foreground weight while leaving visual space above for depth and context\"\n        }\n      ],\n      \"question\": \"Match each photo example to the compositional outcome it produces.\"\n    },\n    {\n      \"format\": \"sortOrder\",\n      \"feedback\": \"Start by visualizing the thirds grid, identify your main subject, place it on a power point or along a line, then adjust framing to leave appropriate space (especially in direction of motion).\",\n      \"items\": [\n        \"Visualize a grid of two vertical and two horizontal lines (rule-of-thirds grid)\",\n        \"Decide which element will be your main subject or horizon\",\n        \"Place the subject or horizon on a power point or along one of the grid lines\",\n        \"Adjust framing to leave space where the viewer's eye should travel (e.g., in front of a moving subject)\"\n      ],\n      \"question\": \"Order these steps for applying the rule of thirds when composing a shot.\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"You're photographing a bird flying left to right. Which placement will best convey a sense of movement and comfortable space?\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"This is the best choice: placing the bird on the left power point with space ahead lets the eye follow into the scene and suggests motion.\",\n          \"isCorrect\": true,\n          \"text\": \"Place the bird near the left-side power point and leave ample space to the right (in front of its flight path).\"\n        },\n        {\n          \"feedback\": \"Centering removes directional space, making the bird feel confined and reducing implied motion.\",\n          \"isCorrect\": false,\n          \"text\": \"Place the bird in the exact center of the frame.\"\n        },\n        {\n          \"feedback\": \"Putting the bird at the far right edge gives it no space to move into and can make the composition feel cramped and tense.\",\n          \"isCorrect\": false,\n          \"text\": \"Put the bird near the right edge so it almost leaves the frame.\"\n        },\n        {\n          \"feedback\": \"Bottom power point can work vertically, but it ignores the horizontal direction of movement; not ideal for conveying left-to-right motion.\",\n          \"isCorrect\": false,\n          \"text\": \"Place the bird on the bottom power point.\"\n        }\n      ],\n      \"question\": \"Best placement for a flying bird?\"\n    }\n  ]\n}",
      "outputTokens": 2523,
      "steps": [
        {
          "conclusion": "Question 2 violates a specific negative constraint provided in the 'Topic-Specific Guidance'. The expectations explicitly list 'Questions about power points terminology without practical application' as a BAD PATTERN. Question 2 asks 'Which location... are called the power points?', which is a definition question without a practical scenario.",
          "kind": "majorErrors",
          "score": 6.5
        },
        {
          "conclusion": "Question 3 violates the 'Core Philosophy: Understanding vs. Memorization' and 'Non-Negotiable Rules'. It asks the user to recall the specific numbers of lines (two vertical, two horizontal) and sections (nine). This tests rote memorization of the explanation text rather than an understanding of how to apply the concept of the grid to composition.",
          "kind": "majorErrors",
          "score": 7
        },
        {
          "conclusion": "Question 5 (Sort Order) is technically acceptable but borders on 'forced variety'. While composing a shot can be described as a process, the strict ordering of 'visualizing' vs 'deciding subject' is somewhat arbitrary. However, it is not a definite error.",
          "kind": "minorErrors",
          "score": 9
        },
        {
          "conclusion": "Questions 1, 4, and 6 are excellent. They follow the instructions perfectly by presenting novel scenarios (portrait in park, flying bird) and testing application (visual effects, implied motion) rather than definitions. To improve the quiz, Questions 2 and 3 should be replaced with similar scenario-based application questions.",
          "kind": "potentialImprovements",
          "score": 7.5
        }
      ],
      "testCase": {
        "expectations": "\nSPECIAL CONSIDERATION: This is an edge case - a visual/practical skill where understanding is demonstrated through application to real scenarios, not visual recognition.\n\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Photography scenarios where learners must decide subject placement to achieve specific visual effects\n   - GOOD PATTERN: Situations requiring understanding of WHY off-center placement creates visual interest\n   - BAD PATTERN: Asking to define the rule of thirds or describe the grid without application context\n   - BAD PATTERN: Questions about \"power points\" terminology without practical application\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - Rule of thirds being mandatory (it's a guideline, not a rule - breaking it intentionally can be effective)\n   - Centered subjects always being wrong (centered composition works for symmetry and certain moods)\n   - The grid being visible in final photos (it's an imaginary guide)\n   - Rule of thirds being the only composition technique (leading lines, framing, and many others exist)\n\n3. FORMAT FIT: Multiple choice works for \"where would you place the subject\" scenarios. Match columns could connect composition choices to their visual effects. AVOID selectImage unless visual recognition is truly being tested.\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Arrange words: TRAP FORMAT. Only valid when understanding the concept is required to know which words go where. PENALIZE HEAVILY when the sentence can be assembled through grammar/syntax knowledge alone (e.g., basic sentence structure like \"Subject + verb + object\" that any native speaker could guess).\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - arrangeWords is used but the sentence structure is trivially guessable from grammar (this is a common failure mode)\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "en-photography-composition-quiz-1",
        "userInput": {
          "chapterTitle": "Composition Basics",
          "courseTitle": "Photography Fundamentals",
          "explanationSteps": [
            {
              "text": "Most beginners center their subjects. While this works sometimes, placing subjects off-center often creates more dynamic, interesting images.",
              "title": "Beyond the Center"
            },
            {
              "text": "Imagine your frame divided by two horizontal and two vertical lines, creating nine equal sections. The four points where lines cross are power points.",
              "title": "The Grid"
            },
            {
              "text": "Placing your main subject on a power point or along a line draws the viewer's eye naturally. A horizon on the lower line emphasizes sky; on the upper line emphasizes ground.",
              "title": "Strategic Placement"
            },
            {
              "text": "This guideline works because our eyes naturally scan images in patterns. Off-center placement gives the eye somewhere to travel, making photos feel more alive.",
              "title": "Why It Works"
            }
          ],
          "language": "en",
          "lessonDescription": "Understanding the rule of thirds and how strategic subject placement creates more visually engaging photographs",
          "lessonTitle": "The Rule of Thirds"
        }
      }
    },
    {
      "duration": 37234.69075000001,
      "inputTokens": 436,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Maya reads a report that challenges her long-held belief about a health claim. She focuses on minor flaws in the report and downplays strong opposing evidence.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct — preferring explanations that keep your beliefs intact fits the idea that our minds seek consistency; contradictory information creates discomfort, so people favor consistent interpretations.\",\n          \"isCorrect\": true,\n          \"text\": \"A desire for mental consistency that makes contradictions feel uncomfortable\"\n        },\n        {\n          \"feedback\": \"Not the best fit — motivated reasoning overlaps but this choice implies deliberate goal-directed behavior rather than the general comfort in consistency.\",\n          \"isCorrect\": false,\n          \"text\": \"A conscious strategy to defend her reputation\"\n        },\n        {\n          \"feedback\": \"Unrelated — this suggests a memory problem rather than an immediate preference for consistent ideas.\",\n          \"isCorrect\": false,\n          \"text\": \"A short-term memory lapse that makes her forget the report’s points\"\n        },\n        {\n          \"feedback\": \"Partly plausible but off-target — this is about searching for information, while the key issue is the discomfort caused by contradiction.\",\n          \"isCorrect\": false,\n          \"text\": \"Actively looking only for confirming facts\"\n        }\n      ],\n      \"question\": \"What best explains Maya’s reaction?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A hiring manager consistently notices strong performance only from applicants who graduated from one university and tends to forget equally strong applicants from other schools.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct — selective attention means noticing information that fits expectations and overlooking other evidence.\",\n          \"isCorrect\": true,\n          \"text\": \"Selective attention: noticing evidence that fits a prior belief and overlooking the rest\"\n        },\n        {\n          \"feedback\": \"This is a different bias — halo effect is judging someone broadly from one trait, not filtering which evidence you notice.\",\n          \"isCorrect\": false,\n          \"text\": \"Halo effect: giving an overall positive impression based on one trait\"\n        },\n        {\n          \"feedback\": \"This suggests intentional discrimination, which may happen but doesn’t capture the automatic noticing/filtering process.\",\n          \"isCorrect\": false,\n          \"text\": \"Deliberate favoritism toward that university’s applicants\"\n        },\n        {\n          \"feedback\": \"This describes forming a belief from limited evidence, not the automatic filtering of incoming information.\",\n          \"isCorrect\": false,\n          \"text\": \"Drawing conclusions from a small sample of interviews\"\n        }\n      ],\n      \"question\": \"Which process explains the manager’s pattern?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A devoted sports fan honestly reports seeing far more fouls by the opposing team than by their own team, even when video shows equal fouls.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct — unconscious filtering (automatic perception differences) explains sincerely held but biased observations.\",\n          \"isCorrect\": true,\n          \"text\": \"Automatic/unconscious filtering of what they notice and remember\"\n        },\n        {\n          \"feedback\": \"This implies the fan is intentionally lying, which doesn’t match the sincere report in the scenario.\",\n          \"isCorrect\": false,\n          \"text\": \"Intentional exaggeration to support their team\"\n        },\n        {\n          \"feedback\": \"Different standards could play a role, but the key point is automatic perception and memory bias rather than deliberate standard-setting.\",\n          \"isCorrect\": false,\n          \"text\": \"Applying stricter standards when judging the other team\"\n        },\n        {\n          \"feedback\": \"This suggests unequal exposure (seeing more of the other team’s plays), which isn’t described and is less likely than perception bias.\",\n          \"isCorrect\": false,\n          \"text\": \"They genuinely had more opportunities to observe the other team’s fouls\"\n        }\n      ],\n      \"question\": \"Why does the fan believe there were more opponent fouls?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A psychology researcher wants to reduce the chance their expectations shape study outcomes when testing a new treatment.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct — double-blind designs prevent both participants and researchers from knowing group assignments, reducing expectation-driven bias.\",\n          \"isCorrect\": true,\n          \"text\": \"Use a double-blind procedure so neither researchers nor participants know group assignments\"\n        },\n        {\n          \"feedback\": \"Collecting more data helps precision but doesn’t stop expectations from influencing observations or interpretation.\",\n          \"isCorrect\": false,\n          \"text\": \"Collect a much larger sample size without changing the study design\"\n        },\n        {\n          \"feedback\": \"This makes results less reliable and increases bias; selectively publishing positives worsens the problem.\",\n          \"isCorrect\": false,\n          \"text\": \"Only publish studies that show the treatment works\"\n        },\n        {\n          \"feedback\": \"Asking participants to confirm hypotheses invites bias rather than guarding against it.\",\n          \"isCorrect\": false,\n          \"text\": \"Have participants confirm whether they experienced expected effects\"\n        }\n      ],\n      \"question\": \"Which safeguard best prevents researcher expectations from biasing results?\"\n    },\n    {\n      \"format\": \"matchColumns\",\n      \"pairs\": [\n        {\n          \"left\": \"A researcher keeps treatment assignments hidden from both participants and experimenters\",\n          \"right\": \"Double-blind study (reduces observer and participant expectations)\"\n        },\n        {\n          \"left\": \"A fan notices only the opponent’s mistakes during a game\",\n          \"right\": \"Selective attention: noticing evidence that fits preexisting beliefs\"\n        },\n        {\n          \"left\": \"A scientist asks colleagues to critique their methods before publishing\",\n          \"right\": \"Peer review and external checks to catch biased interpretation\"\n        },\n        {\n          \"left\": \"Feeling unsettled when confronted with a clear argument that contradicts your belief\",\n          \"right\": \"Preferential comfort with consistency; contradiction causes mental discomfort\"\n        }\n      ],\n      \"question\": \"Match each real-world example to the principle it illustrates.\"\n    }\n  ]\n}",
      "outputTokens": 2595,
      "steps": [
        {
          "conclusion": "The instructions explicitly state under 'Non-Negotiable Rules' to 'Never test recall of specific words, metaphors, or examples from the explanation steps' and specifically list 'Questions about the sports fan or political supporter examples from the explanation' as a BAD PATTERN in the Expectations. \n\nHowever, Question 3 uses the exact sports fan scenario from Explanation Step 3 ('A sports fan genuinely sees more fouls...'). Question 5 also includes a matching pair based on this same sports fan example. This is a direct violation of the negative constraints regarding novel scenarios.",
          "kind": "majorErrors",
          "score": 6.5
        },
        {
          "conclusion": "None. The questions are otherwise well-formatted, the feedback is descriptive, and the language is correct.",
          "kind": "minorErrors",
          "score": 10
        },
        {
          "conclusion": "To improve the response, the sports fan scenario in Question 3 and Question 5 should be replaced with a novel context (e.g., a brand loyalist ignoring defects in their favorite product, or a parent overlooking their own child's misbehavior while noticing it in others). This would ensure the learner is applying the concept to new situations rather than recalling the text's specific example.",
          "kind": "potentialImprovements",
          "score": 8
        }
      ],
      "testCase": {
        "expectations": "\nSPECIAL CONSIDERATION: This is an edge case - an abstract psychological concept where understanding means recognizing the bias in everyday situations.\n\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Everyday scenarios where learners must recognize confirmation bias operating in someone's reasoning\n   - GOOD PATTERN: Situations requiring understanding of WHY the bias is unconscious and hard to overcome\n   - BAD PATTERN: Asking to define confirmation bias or list its characteristics without application context\n   - BAD PATTERN: Questions about the sports fan or political supporter examples from the explanation\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - Confirmation bias being intentional deception (it's usually unconscious)\n   - Only unintelligent people having confirmation bias (everyone is susceptible, including experts)\n   - Confirmation bias being easy to overcome once you know about it (awareness helps but doesn't eliminate it)\n   - Confirmation bias only affecting beliefs about facts (it affects emotional and value-based beliefs too)\n\n3. FORMAT FIT: Multiple choice excels here - present scenarios and ask which demonstrates the bias. Match columns could connect cognitive biases to example scenarios. AVOID sort_order as the concept isn't sequential.\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Arrange words: TRAP FORMAT. Only valid when understanding the concept is required to know which words go where. PENALIZE HEAVILY when the sentence can be assembled through grammar/syntax knowledge alone (e.g., basic sentence structure like \"Subject + verb + object\" that any native speaker could guess).\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - arrangeWords is used but the sentence structure is trivially guessable from grammar (this is a common failure mode)\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "en-psychology-confirmation-bias-quiz-1",
        "userInput": {
          "chapterTitle": "Cognitive Biases",
          "courseTitle": "Introduction to Psychology",
          "explanationSteps": [
            {
              "text": "Our brains prefer consistency. When we believe something, finding contradicting evidence feels uncomfortable - like a mental itch we want to scratch away.",
              "title": "The Comfort of Consistency"
            },
            {
              "text": "To avoid discomfort, our brains play tricks. We notice evidence supporting our beliefs and unconsciously filter out or dismiss contradicting evidence.",
              "title": "Selective Attention"
            },
            {
              "text": "This happens automatically, not deliberately. A sports fan genuinely sees more fouls by the opposing team. A political supporter honestly remembers more flaws in opponents.",
              "title": "Unconscious Filtering"
            },
            {
              "text": "Even scientists fall prey to this. That's why research uses blind studies and peer review - external checks against our natural tendency to see what we expect.",
              "title": "Safeguards Help"
            }
          ],
          "language": "en",
          "lessonDescription": "Understanding confirmation bias - how our tendency to favor information that confirms existing beliefs affects our perception and decision-making",
          "lessonTitle": "Confirmation Bias"
        }
      }
    },
    {
      "duration": 33649.87887499994,
      "inputTokens": 437,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"You're reading source code like 'x = total + 42' and want to know what the first compiler phase breaks it into.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Lexical analysis (the lexer) splits raw characters into tokens such as identifiers, operators, and literals — exactly what 'x', '=', 'total', '+', and '42' would become.\",\n          \"isCorrect\": true,\n          \"text\": \"An ordered sequence of tokens (identifiers, operators, literals)\"\n        },\n        {\n          \"feedback\": \"Building a hierarchical tree is the parser's job, not lexical analysis.\",\n          \"isCorrect\": false,\n          \"text\": \"A hierarchical tree showing statement structure\"\n        },\n        {\n          \"feedback\": \"Machine instructions are produced much later by code generation.\",\n          \"isCorrect\": false,\n          \"text\": \"Machine instructions the CPU executes directly\"\n        },\n        {\n          \"feedback\": \"Semantic checks (like type errors) happen after parsing, not during lexical analysis.\",\n          \"isCorrect\": false,\n          \"text\": \"A list of semantic warnings like type mismatches\"\n        }\n      ],\n      \"question\": \"What does lexical analysis produce?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A developer forgets a closing parenthesis and the compiler reports 'syntax error: unexpected token )'.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"The lexer recognizes tokens but doesn't understand statement structure; it wouldn't typically produce a 'syntax error' about unexpected tokens in context.\",\n          \"isCorrect\": false,\n          \"text\": \"Lexical analysis (tokenization)\"\n        },\n        {\n          \"feedback\": \"The parser examines token sequences to see if they form valid constructs; missing parentheses cause parsing/syntax errors, so this is the parser.\",\n          \"isCorrect\": true,\n          \"text\": \"Parsing (building the structure/AST)\"\n        },\n        {\n          \"feedback\": \"Semantic analysis checks meaning (types, variable use) after parsing; it normally doesn't report missing-parenthesis syntax errors.\",\n          \"isCorrect\": false,\n          \"text\": \"Semantic analysis (type and meaning checks)\"\n        },\n        {\n          \"feedback\": \"Code generation runs after everything is validated and wouldn't be the phase to report a missing parenthesis.\",\n          \"isCorrect\": false,\n          \"text\": \"Code generation (producing machine code)\"\n        }\n      ],\n      \"question\": \"Which phase reports a missing-parenthesis error?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"After the compiler verifies the code, it emits assembly or object files that the machine can run.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Code generation translates validated program structure into machine instructions or assembly — that's the final output stage.\",\n          \"isCorrect\": true,\n          \"text\": \"Code generation (emit assembly/machine instructions)\"\n        },\n        {\n          \"feedback\": \"The lexer only splits the input into tokens; it doesn't produce executable code.\",\n          \"isCorrect\": false,\n          \"text\": \"Lexical analysis (tokenization)\"\n        },\n        {\n          \"feedback\": \"The parser builds structural representations but doesn't generate runnable machine code.\",\n          \"isCorrect\": false,\n          \"text\": \"Parsing (AST construction)\"\n        },\n        {\n          \"feedback\": \"Semantic analysis checks correctness and types but doesn't output machine code.\",\n          \"isCorrect\": false,\n          \"text\": \"Semantic analysis (type and meaning checks)\"\n        }\n      ],\n      \"question\": \"Which phase creates executable output?\"\n    },\n    {\n      \"format\": \"matchColumns\",\n      \"pairs\": [\n        {\n          \"left\": \"A compiler message: 'type mismatch: cannot convert string to int'\",\n          \"right\": \"Semantic analysis (type checking)\"\n        },\n        {\n          \"left\": \"The source text split into items like 'if', '(', 'x', '==', '0', ')'\",\n          \"right\": \"Lexical analysis (tokenization)\"\n        },\n        {\n          \"left\": \"An error: 'unexpected token' or 'missing )' reported during parsing\",\n          \"right\": \"Parsing (syntax/AST construction)\"\n        },\n        {\n          \"left\": \"A produced .o or assembly file containing machine instructions\",\n          \"right\": \"Code generation (emit executable code)\"\n        }\n      ],\n      \"question\": \"Match each compiler message or output to the compiler phase that produced it.\"\n    },\n    {\n      \"format\": \"sortOrder\",\n      \"feedback\": \"A compiler processes source code step-by-step: first it tokenizes characters into tokens, then parses tokens into a tree (AST), then checks meaning (types, scopes), and finally generates machine instructions.\",\n      \"items\": [\n        \"Lexical analysis (tokenization into tokens)\",\n        \"Parsing (build AST / hierarchical structure)\",\n        \"Semantic analysis (type checking and meaning validation)\",\n        \"Code generation (emit machine/assembly code)\"\n      ],\n      \"question\": \"Put these compiler stages in the order they typically run.\"\n    }\n  ]\n}",
      "outputTokens": 2381,
      "steps": [
        {
          "conclusion": "None",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "Question 3 is trivially answerable due to poor design. The context states the compiler 'emits assembly or object files', and the correct option is 'Code generation (emit assembly/machine instructions)'. This allows the user to answer by simple word matching without understanding the concept, violating the 'Trivially easy questions' and 'Understanding over memorization' rules.",
          "kind": "minorErrors",
          "score": 8
        },
        {
          "conclusion": "Questions 1 and 3 rely on direct definition recall ('What does lexical analysis produce?', 'Which phase creates executable output?') rather than testing application to novel scenarios as requested. The instructions explicitly forbade asking 'What is X?' and requested scenario-based inquiries (e.g., 'What happens if...'). Additionally, the tone is formal and academic (e.g., 'Which phase reports...') rather than the requested 'conversational' or 'curious friend' tone.",
          "kind": "minorErrors",
          "score": 8
        },
        {
          "conclusion": "To better test understanding, Question 1 could be framed as a debugging scenario (e.g., 'If the compiler sees an illegal character like an emoji, which part handles it first?'). Question 3 could focus on the necessity of the phase (e.g., 'Why can't the computer run the syntax tree directly?'). The tone should be softened to be less like an exam proctor.",
          "kind": "potentialImprovements",
          "score": 7.5
        }
      ],
      "testCase": {
        "expectations": "\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Scenarios involving code errors where learners must identify which compilation phase would catch or miss them\n   - GOOD PATTERN: Situations requiring understanding of why phases must occur in a specific order\n   - BAD PATTERN: Asking to list phases, name outputs, or define terminology without application context\n   - BAD PATTERN: Questions about the \"assembly line\" metaphor or other explanation-specific content\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - Lexical analysis and parsing being the same thing (lexical analysis produces tokens; parsing builds syntax trees from tokens)\n   - Compilers only producing machine code (many produce bytecode or intermediate representations)\n   - Optimization being optional or unimportant (it's crucial for performance)\n   - Semantic analysis happening before parsing (parsing must complete first)\n\n3. FORMAT FIT: Sort order works well for compiler pipeline stages. Match columns work for connecting error types to phases. Multiple choice for \"which phase catches this error.\"\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Arrange words: TRAP FORMAT. Only valid when understanding the concept is required to know which words go where. PENALIZE HEAVILY when the sentence can be assembled through grammar/syntax knowledge alone (e.g., basic sentence structure like \"Subject + verb + object\" that any native speaker could guess).\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - arrangeWords is used but the sentence structure is trivially guessable from grammar (this is a common failure mode)\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "en-cs-compilers-quiz-1",
        "userInput": {
          "chapterTitle": "Language Implementation",
          "courseTitle": "Programming Language Theory",
          "explanationSteps": [
            {
              "text": "A compiler reads your code in stages, like an assembly line. Each stage transforms the code into something closer to what the machine understands.",
              "title": "The Assembly Line"
            },
            {
              "text": "First, lexical analysis breaks your code into tokens - the smallest meaningful units. Keywords, variables, and operators each become distinct pieces.",
              "title": "Breaking into Tokens"
            },
            {
              "text": "The parser takes those tokens and builds a tree structure showing how statements relate. This catches syntax errors like missing parentheses.",
              "title": "Building Structure"
            },
            {
              "text": "Semantic analysis checks if your code makes logical sense. It catches errors like using a string where a number is required.",
              "title": "Checking Meaning"
            },
            {
              "text": "Finally, code generation translates the validated structure into machine instructions the processor can execute directly.",
              "title": "Generating Output"
            }
          ],
          "language": "en",
          "lessonDescription": "Understanding how compilers transform human-readable code into machine-executable instructions through multiple phases of analysis and transformation",
          "lessonTitle": "How Compilers Work"
        }
      }
    }
  ],
  "taskId": "activity-explanation-quiz"
}
