{
  "modelId": "openai/gpt-5.1-instant",
  "results": [
    {
      "duration": 17819.52091600001,
      "inputTokens": 546,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A child gets a small cut on their knee while playing outside, and dirt enters the wound.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Skin is a barrier, but once broken, macrophages act first inside the tissue.\",\n          \"isCorrect\": false,\n          \"text\": \"The skin barrier quickly seals itself and stops all invaders on its own.\"\n        },\n        {\n          \"feedback\": \"Correct. Macrophages are among the first internal defenders that engulf foreign material.\",\n          \"isCorrect\": true,\n          \"text\": \"Macrophages near the wound move in and start engulfing dirt and microbes.\"\n        },\n        {\n          \"feedback\": \"Antibodies take time to develop and are not the first responders.\",\n          \"isCorrect\": false,\n          \"text\": \"Antibodies instantly appear and neutralize the microbes.\"\n        },\n        {\n          \"feedback\": \"Memory cells form later after an infection and do not act immediately.\",\n          \"isCorrect\": false,\n          \"text\": \"Memory cells rush to the wound to remember the new microbes.\"\n        }\n      ],\n      \"question\": \"What likely happens first?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A person breathes in air during a windy day filled with dust particles.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct. Mucus traps particles before they can go deeper.\",\n          \"isCorrect\": true,\n          \"text\": \"Mucus in the airways traps many of the particles before they reach deeper tissues.\"\n        },\n        {\n          \"feedback\": \"Macrophages act only after particles pass barriers.\",\n          \"isCorrect\": false,\n          \"text\": \"Macrophages immediately appear in the nose and swallow the particles before mucus acts.\"\n        },\n        {\n          \"feedback\": \"Antibodies are not the first line against simple dust exposure.\",\n          \"isCorrect\": false,\n          \"text\": \"Antibodies instantly target all dust particles.\"\n        },\n        {\n          \"feedback\": \"Memory cells respond to previous threats, not non-harmful dust.\",\n          \"isCorrect\": false,\n          \"text\": \"Memory cells activate to clear out ordinary dust.\"\n        }\n      ],\n      \"question\": \"What protects the body first?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A person is exposed to a virus they have never encountered before.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct. B cells make antibodies that target specific shapes on the virus.\",\n          \"isCorrect\": true,\n          \"text\": \"B cells begin producing antibodies that recognize unique parts of the virus.\"\n        },\n        {\n          \"feedback\": \"Macrophages do not create antibodies.\",\n          \"isCorrect\": false,\n          \"text\": \"Macrophages manufacture antibodies to neutralize the virus.\"\n        },\n        {\n          \"feedback\": \"Skin does not produce antibodies.\",\n          \"isCorrect\": false,\n          \"text\": \"The skin creates antibodies that circulate in the blood.\"\n        },\n        {\n          \"feedback\": \"Memory cells don't exist yet for a first-time virus.\",\n          \"isCorrect\": false,\n          \"text\": \"Memory cells immediately recognize and neutralize the virus.\"\n        }\n      ],\n      \"question\": \"What helps target this new virus?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Someone recovers from an illness and later is exposed to the same microbe again months later.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Skin alone cannot give a faster internal response.\",\n          \"isCorrect\": false,\n          \"text\": \"The skin thickens in response and keeps the microbe out this time.\"\n        },\n        {\n          \"feedback\": \"Macrophages still work, but they do not speed up due to past exposure.\",\n          \"isCorrect\": false,\n          \"text\": \"Macrophages react faster because they patrol more often after previous infections.\"\n        },\n        {\n          \"feedback\": \"Correct. Memory cells recognize the microbe quickly and trigger a rapid response.\",\n          \"isCorrect\": true,\n          \"text\": \"Memory cells notice the familiar microbe and activate defenses much faster.\"\n        },\n        {\n          \"feedback\": \"Antibodies from the first infection are not always present months later without memory cell activation.\",\n          \"isCorrect\": false,\n          \"text\": \"Leftover antibodies from months ago automatically block the infection before memory cells act.\"\n        }\n      ],\n      \"question\": \"Why is the second response faster?\"\n    }\n  ]\n}",
      "outputTokens": 1142,
      "steps": [
        {
          "conclusion": "None",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "None",
          "kind": "minorErrors",
          "score": 10
        },
        {
          "conclusion": "The response perfectly adheres to the instructions. It generates 4 multiple-choice questions that test the specific concepts (First Responders, Physical Barriers, Targeting, Memory) using novel scenarios (cut knee, dust, new virus, re-exposure). The questions avoid referencing the text directly, avoiding memorization traps. The feedback is educational and explains the reasoning well.",
          "kind": "potentialImprovements",
          "score": 10
        }
      ],
      "testCase": {
        "expectations": "\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Scenarios where someone observes immune responses in everyday life (repeat exposure, recovery time, vaccination effects) and must explain the underlying mechanism\n   - GOOD PATTERN: Situations requiring prediction of immune outcomes based on understanding defense layers\n   - BAD PATTERN: Asking to name cells, list defense mechanisms, or recall definitions without application context\n   - BAD PATTERN: Questions referencing specific metaphors or examples from the explanation\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - Antibodies directly killing pathogens (they MARK pathogens for destruction by other cells like macrophages)\n   - White blood cells being a single type (there are many types with different functions)\n   - Immune response being immediate (innate response is fast, adaptive takes days)\n   - Fever being harmful (it's often a beneficial immune response)\n\n3. FORMAT FIT: Multiple choice works well for \"which scenario shows X mechanism.\" Match columns work for connecting symptoms to immune responses. Sort order works for immune response sequence.\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Arrange words: TRAP FORMAT. Only valid when understanding the concept is required to know which words go where. PENALIZE HEAVILY when the sentence can be assembled through grammar/syntax knowledge alone (e.g., basic sentence structure like \"Subject + verb + object\" that any native speaker could guess).\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - arrangeWords is used but the sentence structure is trivially guessable from grammar (this is a common failure mode)\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "en-biology-immune-system-quiz-1",
        "userInput": {
          "chapterTitle": "Body Systems",
          "courseTitle": "Human Biology",
          "explanationSteps": [
            {
              "text": "Your body has two defense systems working together. The first responds instantly to any threat. The second takes time but remembers enemies forever.",
              "title": "Two Lines of Defense"
            },
            {
              "text": "Physical barriers like skin and mucus stop most invaders. If they get through, patrolling cells called macrophages eat anything that looks foreign.",
              "title": "The First Responders"
            },
            {
              "text": "When threats persist, specialized cells called B cells create antibodies. These Y-shaped proteins stick to specific invaders, marking them for destruction.",
              "title": "The Targeting System"
            },
            {
              "text": "Some cells become memory cells after an infection. They remember the invader's shape for years, letting your body respond faster next time.",
              "title": "Remembering Enemies"
            }
          ],
          "language": "en",
          "lessonDescription": "Understanding how the immune system protects the body through multiple layers of defense, from physical barriers to specialized cells and antibodies",
          "lessonTitle": "How the Immune System Works"
        }
      }
    },
    {
      "duration": 11052.276375000016,
      "inputTokens": 437,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A developer writes code that won't compile because the compiler can't separate identifiers from operators.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Lexical analysis identifies tokens like identifiers and operators, so failure here fits.\",\n          \"isCorrect\": true,\n          \"text\": \"The lexical analysis stage failed.\"\n        },\n        {\n          \"feedback\": \"Parsing happens after tokenizing; if tokens aren't recognized, parsing can't begin.\",\n          \"isCorrect\": false,\n          \"text\": \"The parsing stage failed.\"\n        },\n        {\n          \"feedback\": \"Semantic analysis assumes valid tokens and structure; this error occurs earlier.\",\n          \"isCorrect\": false,\n          \"text\": \"The semantic analysis stage failed.\"\n        },\n        {\n          \"feedback\": \"Code generation only happens after meaning is checked, so it's too late for this issue.\",\n          \"isCorrect\": false,\n          \"text\": \"The code generation stage failed.\"\n        }\n      ],\n      \"question\": \"Which stage likely caught the issue?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A programmer forgets a closing parenthesis in a function call.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Lexical analysis handles individual tokens; it wouldn't notice mismatched parentheses at the structural level.\",\n          \"isCorrect\": false,\n          \"text\": \"Lexical analysis.\"\n        },\n        {\n          \"feedback\": \"The parser builds structure using tokens and detects syntax errors like unmatched parentheses.\",\n          \"isCorrect\": true,\n          \"text\": \"Parsing.\"\n        },\n        {\n          \"feedback\": \"Semantic analysis checks meaning, not basic syntax.\",\n          \"isCorrect\": false,\n          \"text\": \"Semantic analysis.\"\n        },\n        {\n          \"feedback\": \"Code generation requires a valid syntax tree; it doesn’t detect this error.\",\n          \"isCorrect\": false,\n          \"text\": \"Code generation.\"\n        }\n      ],\n      \"question\": \"Which phase reports this error?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A variable declared as a number is later used in a place where a string is required.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Tokenizing doesn’t understand variable types.\",\n          \"isCorrect\": false,\n          \"text\": \"Lexical analysis.\"\n        },\n        {\n          \"feedback\": \"Parsing focuses on structure, not type compatibility.\",\n          \"isCorrect\": false,\n          \"text\": \"Parsing.\"\n        },\n        {\n          \"feedback\": \"Semantic analysis verifies type consistency, so it catches this misuse.\",\n          \"isCorrect\": true,\n          \"text\": \"Semantic analysis.\"\n        },\n        {\n          \"feedback\": \"Code generation assumes previous checks passed; it wouldn’t detect this.\",\n          \"isCorrect\": false,\n          \"text\": \"Code generation.\"\n        }\n      ],\n      \"question\": \"Which phase would flag this?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A student wants to understand why compiling large programs is divided into multiple stages.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Compilation stages operate independently to transform code step by step, improving clarity and error detection.\",\n          \"isCorrect\": true,\n          \"text\": \"Because each stage focuses on a specific kind of transformation.\"\n        },\n        {\n          \"feedback\": \"Readability isn’t improved for the computer; machines don’t care about readability.\",\n          \"isCorrect\": false,\n          \"text\": \"To make the compiled output more readable for the computer.\"\n        },\n        {\n          \"feedback\": \"Compiler speed isn’t the main reason; correctness and organization matter more.\",\n          \"isCorrect\": false,\n          \"text\": \"To make the compiler run faster on all programs.\"\n        },\n        {\n          \"feedback\": \"Error elimination happens throughout, but a single stage can’t catch all errors.\",\n          \"isCorrect\": false,\n          \"text\": \"To eliminate all errors before tokenizing.\"\n        }\n      ],\n      \"question\": \"Why split compilation into stages?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A custom compiler successfully parses and checks a program but produces output that the machine cannot execute.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Earlier stages succeeded; the failure is in producing correct machine instructions.\",\n          \"isCorrect\": true,\n          \"text\": \"There is a problem in code generation.\"\n        },\n        {\n          \"feedback\": \"If parsing worked, this stage was fine.\",\n          \"isCorrect\": false,\n          \"text\": \"There is a problem in parsing.\"\n        },\n        {\n          \"feedback\": \"If meaning was checked, this stage succeeded.\",\n          \"isCorrect\": false,\n          \"text\": \"There is a problem in semantic analysis.\"\n        },\n        {\n          \"feedback\": \"Tokenizing issues would have blocked parsing entirely.\",\n          \"isCorrect\": false,\n          \"text\": \"There is a problem in lexical analysis.\"\n        }\n      ],\n      \"question\": \"Which phase is likely faulty?\"\n    }\n  ]\n}",
      "outputTokens": 844,
      "steps": [
        {
          "conclusion": "None",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "The response violates the negative constraint 'Never test recall of specific words... or examples from the explanation steps'. Question 2 uses the exact example from the text ('missing parentheses') to test the Parsing phase. Question 3 is a trivial inversion of the text's example (String/Number type mismatch). This allows learners to answer based on memorization rather than understanding, which contradicts the core philosophy outlined in the instructions.",
          "kind": "minorErrors",
          "score": 8
        },
        {
          "conclusion": "To strictly adhere to the 'Novel Scenarios' rule, Question 2 should use a different syntax error (e.g., placing a keyword in the wrong spot or a missing semicolon) rather than parentheses. Question 3 should use a different semantic error (e.g., variable scope issue or argument count mismatch) rather than the exact type mismatch mentioned in the explanation.",
          "kind": "potentialImprovements",
          "score": 8
        }
      ],
      "testCase": {
        "expectations": "\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Scenarios involving code errors where learners must identify which compilation phase would catch or miss them\n   - GOOD PATTERN: Situations requiring understanding of why phases must occur in a specific order\n   - BAD PATTERN: Asking to list phases, name outputs, or define terminology without application context\n   - BAD PATTERN: Questions about the \"assembly line\" metaphor or other explanation-specific content\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - Lexical analysis and parsing being the same thing (lexical analysis produces tokens; parsing builds syntax trees from tokens)\n   - Compilers only producing machine code (many produce bytecode or intermediate representations)\n   - Optimization being optional or unimportant (it's crucial for performance)\n   - Semantic analysis happening before parsing (parsing must complete first)\n\n3. FORMAT FIT: Sort order works well for compiler pipeline stages. Match columns work for connecting error types to phases. Multiple choice for \"which phase catches this error.\"\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Arrange words: TRAP FORMAT. Only valid when understanding the concept is required to know which words go where. PENALIZE HEAVILY when the sentence can be assembled through grammar/syntax knowledge alone (e.g., basic sentence structure like \"Subject + verb + object\" that any native speaker could guess).\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - arrangeWords is used but the sentence structure is trivially guessable from grammar (this is a common failure mode)\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "en-cs-compilers-quiz-1",
        "userInput": {
          "chapterTitle": "Language Implementation",
          "courseTitle": "Programming Language Theory",
          "explanationSteps": [
            {
              "text": "A compiler reads your code in stages, like an assembly line. Each stage transforms the code into something closer to what the machine understands.",
              "title": "The Assembly Line"
            },
            {
              "text": "First, lexical analysis breaks your code into tokens - the smallest meaningful units. Keywords, variables, and operators each become distinct pieces.",
              "title": "Breaking into Tokens"
            },
            {
              "text": "The parser takes those tokens and builds a tree structure showing how statements relate. This catches syntax errors like missing parentheses.",
              "title": "Building Structure"
            },
            {
              "text": "Semantic analysis checks if your code makes logical sense. It catches errors like using a string where a number is required.",
              "title": "Checking Meaning"
            },
            {
              "text": "Finally, code generation translates the validated structure into machine instructions the processor can execute directly.",
              "title": "Generating Output"
            }
          ],
          "language": "en",
          "lessonDescription": "Understanding how compilers transform human-readable code into machine-executable instructions through multiple phases of analysis and transformation",
          "lessonTitle": "How Compilers Work"
        }
      }
    },
    {
      "duration": 15016.080833000015,
      "inputTokens": 557,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Uma familia pensa em financiar um carro, mas nota que os bancos aumentaram as taxas de juros recentemente.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correto. Juros mais altos tornam o financiamento mais caro, reduzindo a disposicao para gastar.\",\n          \"isCorrect\": true,\n          \"text\": \"O financiamento fica mais caro e a familia tende a adiar a compra.\"\n        },\n        {\n          \"feedback\": \"Incorreto. Juros altos nao aumentam o apetite por endividamento.\",\n          \"isCorrect\": false,\n          \"text\": \"O custo dos emprestimos cai, estimulando a compra imediata.\"\n        },\n        {\n          \"feedback\": \"Incorreto. Juros nao tornam o financiamento irrelevante para a decisao.\",\n          \"isCorrect\": false,\n          \"text\": \"O financiamento fica indiferente ao nivel de juros.\"\n        },\n        {\n          \"feedback\": \"Incorreto. Juros altos nao reduzem o custo do carro.\",\n          \"isCorrect\": false,\n          \"text\": \"O carro se torna mais barato independentemente dos juros.\"\n        }\n      ],\n      \"question\": \"Como juros altos afetam a decisao?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Uma fabrica planeja expandir, mas sabe que as condicoes de mercado costumam demorar a refletir mudancas na politica monetaria.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correto. O efeito dos juros leva meses, entao as empresas ajustam planos de investimento lentamente.\",\n          \"isCorrect\": true,\n          \"text\": \"A fabrica espera para ver como a economia reage antes de investir.\"\n        },\n        {\n          \"feedback\": \"Incorreto. Mudancas nao afetam a economia de forma instantanea.\",\n          \"isCorrect\": false,\n          \"text\": \"A fabrica investe imediatamente porque os efeitos sao instantaneos.\"\n        },\n        {\n          \"feedback\": \"Incorreto. Mesmo com juros menores, ha atraso na transmissao.\",\n          \"isCorrect\": false,\n          \"text\": \"A fabrica acelera o projeto no dia seguinte ao corte de juros.\"\n        },\n        {\n          \"feedback\": \"Incorreto. O atraso nao torna os juros irrelevantes.\",\n          \"isCorrect\": false,\n          \"text\": \"A empresa ignora completamente a politica monetaria.\"\n        }\n      ],\n      \"question\": \"Como o atraso afeta planos?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"O banco central inicia uma grande compra de titulos do governo em um periodo de fraqueza economica.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correto. A compra de titulos injeta dinheiro na economia, aumentando a liquidez.\",\n          \"isCorrect\": true,\n          \"text\": \"Mais dinheiro entra em circulacao, ajudando a estimular a economia.\"\n        },\n        {\n          \"feedback\": \"Incorreto. Comprar titulos nao retira dinheiro, e sim injeta.\",\n          \"isCorrect\": false,\n          \"text\": \"O dinheiro em circulacao diminui.\"\n        },\n        {\n          \"feedback\": \"Incorreto. A compra nao deixa a economia estagnada por definicao.\",\n          \"isCorrect\": false,\n          \"text\": \"A economia tende a ficar ainda mais travada.\"\n        },\n        {\n          \"feedback\": \"Incorreto. A operacao nao altera apenas impostos.\",\n          \"isCorrect\": false,\n          \"text\": \"Isso reduz automaticamente a carga tributaria.\"\n        }\n      ],\n      \"question\": \"O que ocorre com a liquidez?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Uma loja percebe que muitos clientes estao gastando menos apos varios meses de juros elevados.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correto. Juros altos reduzem o credito e consumo ao longo do tempo.\",\n          \"isCorrect\": true,\n          \"text\": \"A queda do consumo reflete o aperto no credito ao longo dos meses.\"\n        },\n        {\n          \"feedback\": \"Incorreto. Juros altos nao costumam estimular gastos apos meses.\",\n          \"isCorrect\": false,\n          \"text\": \"O consumo aumenta porque as pessoas se acostumam aos juros altos.\"\n        },\n        {\n          \"feedback\": \"Incorreto. O consumo nao fica automaticamente estavel nesse contexto.\",\n          \"isCorrect\": false,\n          \"text\": \"O consumo se estabiliza independentemente dos juros.\"\n        },\n        {\n          \"feedback\": \"Incorreto. Juros altos nao tornam o credito mais barato.\",\n          \"isCorrect\": false,\n          \"text\": \"O consumo cai porque os bancos tornam o credito mais barato.\"\n        }\n      ],\n      \"question\": \"Por que o consumo caiu?\"\n    }\n  ]\n}",
      "outputTokens": 1148,
      "steps": [
        {
          "conclusion": "None",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "None",
          "kind": "minorErrors",
          "score": 10
        },
        {
          "conclusion": "The questions are well-structured and strictly follow the instructions. To reach absolute perfection, Question 3 could use a slightly more concrete scenario (e.g., 'During a recession, the Central Bank decides to buy bonds...') to match the narrative style of the other questions completely, but the current phrasing is sufficiently contextual.",
          "kind": "potentialImprovements",
          "score": 9.5
        }
      ],
      "testCase": {
        "expectations": "\nLANGUAGE REQUIREMENT: Questions, options, and feedback must be in Portuguese.\n\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Scenarios involving economic decisions (borrowing, spending, saving) where learners must predict effects of interest rate changes\n   - GOOD PATTERN: Situations requiring understanding of transmission delays between policy and economic outcomes\n   - BAD PATTERN: Asking to list monetary tools or define economic terms without application context\n   - BAD PATTERN: Questions referencing specific examples from the explanation\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - Interest rate changes having immediate effects (transmission mechanisms have significant time lags of 6-18 months)\n   - Central banks directly controlling inflation (they influence it through indirect mechanisms)\n   - Lower interest rates always being good (they can fuel inflation and asset bubbles)\n   - Monetary policy being the only tool for economic stability (fiscal policy also plays a role)\n\n3. FORMAT FIT: Multiple choice works for cause-effect scenarios. Match columns work for connecting policy actions to economic effects. Sort order can work for transmission mechanism sequences.\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Arrange words: TRAP FORMAT. Only valid when understanding the concept is required to know which words go where. PENALIZE HEAVILY when the sentence can be assembled through grammar/syntax knowledge alone (e.g., basic sentence structure like \"Subject + verb + object\" that any native speaker could guess).\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - arrangeWords is used but the sentence structure is trivially guessable from grammar (this is a common failure mode)\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "pt-economics-monetary-policy-quiz-1",
        "userInput": {
          "chapterTitle": "Macroeconomia",
          "courseTitle": "Economia para Iniciantes",
          "explanationSteps": [
            {
              "text": "O banco central controla a quantidade de dinheiro circulando na economia. Quando ha dinheiro demais, os precos sobem. Quando ha pouco, a economia desacelera.",
              "title": "Equilibrio Monetario"
            },
            {
              "text": "A taxa basica de juros e a principal ferramenta. Juros altos tornam emprestimos caros, reduzindo gastos. Juros baixos estimulam emprestimos e consumo.",
              "title": "A Alavanca dos Juros"
            },
            {
              "text": "Mudancas nos juros levam meses para afetar a economia real. Empresas e consumidores ajustam seus planos gradualmente, nao instantaneamente.",
              "title": "Efeito com Atraso"
            },
            {
              "text": "Bancos centrais tambem compram e vendem titulos do governo. Comprando titulos, injetam dinheiro na economia. Vendendo, retiram dinheiro de circulacao.",
              "title": "Operacoes de Mercado"
            }
          ],
          "language": "pt",
          "lessonDescription": "Entendendo como bancos centrais usam taxas de juros e outras ferramentas para influenciar a economia, incluindo os mecanismos de transmissao da politica monetaria",
          "lessonTitle": "Como Funciona a Politica Monetaria"
        }
      }
    },
    {
      "duration": 13274.954665999976,
      "inputTokens": 552,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Una aplicacion recibe archivos de diferentes tamanos y necesita generar identificadores de tamano fijo para cada uno.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correcto: una funcion hash genera salidas de longitud fija sin importar el tamano del archivo.\",\n          \"isCorrect\": true,\n          \"text\": \"Usar una funcion hash para producir un valor fijo por archivo\"\n        },\n        {\n          \"feedback\": \"Incorrecto: comprimir no garantiza un tamano fijo.\",\n          \"isCorrect\": false,\n          \"text\": \"Comprimir los archivos hasta que quepan en un limite especifico\"\n        },\n        {\n          \"feedback\": \"Incorrecto: dividir en bloques no genera un solo identificador fijo.\",\n          \"isCorrect\": false,\n          \"text\": \"Dividir cada archivo en bloques y sumar sus tamanos\"\n        },\n        {\n          \"feedback\": \"Incorrecto: comparar bytes no crea un identificador fijo.\",\n          \"isCorrect\": false,\n          \"text\": \"Comparar los primeros y ultimos bytes de cada archivo\"\n        }\n      ],\n      \"question\": \"¿Como generar un identificador fijo?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Un programador nota que al cambiar un solo caracter en un mensaje, el resumen criptografico cambia por completo.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correcto: esto demuestra el efecto avalancha.\",\n          \"isCorrect\": true,\n          \"text\": \"Es un comportamiento esperado de una funcion hash segura\"\n        },\n        {\n          \"feedback\": \"Incorrecto: no indica daño.\",\n          \"isCorrect\": false,\n          \"text\": \"La funcion hash esta dañada\"\n        },\n        {\n          \"feedback\": \"Incorrecto: no deberia producir cambios minimos.\",\n          \"isCorrect\": false,\n          \"text\": \"La funcion hash deberia cambiar solo un poco\"\n        },\n        {\n          \"feedback\": \"Incorrecto: nada tiene que ver con tamano del mensaje.\",\n          \"isCorrect\": false,\n          \"text\": \"Ocurre porque el mensaje es demasiado corto\"\n        }\n      ],\n      \"question\": \"¿Por que cambia tanto el hash?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Una empresa quiere asegurar que nadie pueda reconstruir una contrasena a partir de su valor almacenado.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correcto: las funciones hash son irreversibles.\",\n          \"isCorrect\": true,\n          \"text\": \"Usar funciones hash para almacenar solo valores irreversibles\"\n        },\n        {\n          \"feedback\": \"Incorrecto: cifrar permite revertir.\",\n          \"isCorrect\": false,\n          \"text\": \"Cifrar las contrasenas para poder recuperarlas luego\"\n        },\n        {\n          \"feedback\": \"Incorrecto: guardar texto plano es inseguro.\",\n          \"isCorrect\": false,\n          \"text\": \"Guardar las contrasenas en texto plano\"\n        },\n        {\n          \"feedback\": \"Incorrecto: ofuscar caracteres no es seguro.\",\n          \"isCorrect\": false,\n          \"text\": \"Cambiar el orden de las letras antes de guardarlas\"\n        }\n      ],\n      \"question\": \"¿Como evitar recuperar la contrasena?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Un analista necesita asegurarse de que dos archivos diferentes no reciban el mismo valor de identificador.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correcto: una funcion hash resistente a colisiones debe minimizar estas coincidencias.\",\n          \"isCorrect\": true,\n          \"text\": \"Usar una funcion hash con fuerte resistencia a colisiones\"\n        },\n        {\n          \"feedback\": \"Incorrecto: comparar nombres no evita coincidencias en el identificador.\",\n          \"isCorrect\": false,\n          \"text\": \"Generar identificadores basados en el nombre del archivo\"\n        },\n        {\n          \"feedback\": \"Incorrecto: duplicar datos no garantiza unicidad.\",\n          \"isCorrect\": false,\n          \"text\": \"Agregar copia del archivo dentro del mismo archivo\"\n        },\n        {\n          \"feedback\": \"Incorrecto: hashes debiles aumentan colisiones.\",\n          \"isCorrect\": false,\n          \"text\": \"Usar un hash rapido aunque tenga muchas colisiones\"\n        }\n      ],\n      \"question\": \"¿Como evitar colisiones?\"\n    }\n  ]\n}",
      "outputTokens": 1062,
      "steps": [
        {
          "conclusion": "None",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "Two instructions were disregarded. \n1. **Novel Scenarios**: Question 3 directly reuses the 'storing passwords' example provided in the explanation text ('Por eso se usan para almacenar contrasenas'). The instructions explicitly forbid testing recall of specific examples from the text. Questions 2 and 4 also closely mirror the definitions given in the text rather than creating truly distinct, real-world scenarios.\n2. **Conversational Tone**: The instructions require a tone like a 'curious friend'. The output uses a formal, dry, exam-proctor style ('Una aplicacion recibe...', 'Un programador nota...').\nAdditionally, the Spanish text lacks standard accent marks (tildes) on words like 'aplicación', 'tamaño', 'contraseña', 'función'. While this mirrors the stripped input text, standard Spanish requires these accents.",
          "kind": "minorErrors",
          "score": 8
        },
        {
          "conclusion": "The scenarios could be more immersive to test deep understanding. For example, instead of asking 'How to avoid recovering the password?' (which matches the text), a novel scenario could be: 'You found a leaked database of hash values. Why can't you simply read the original user messages from it?'. The tone should be adjusted to address the learner directly (e.g., 'Imagine you are building a secure login system...'). Orthography should be corrected to standard Spanish rules.",
          "kind": "potentialImprovements",
          "score": 7.5
        }
      ],
      "testCase": {
        "expectations": "\nLANGUAGE REQUIREMENT: Questions, options, and feedback must be in Spanish.\n\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Security scenarios where learners must apply hash properties (irreversibility, avalanche effect, collision resistance) to real situations\n   - GOOD PATTERN: Situations requiring understanding of why certain hash behaviors matter for security\n   - BAD PATTERN: Asking to list hash properties or define terminology without application context\n   - BAD PATTERN: Questions about specific terms like \"avalanche effect\" without practical application\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - Hashing being the same as encryption (hashing is ONE-WAY and irreversible; encryption is designed to be reversible with a key)\n   - Hash functions producing unique outputs (collisions are mathematically possible, just extremely unlikely for good functions)\n   - Longer hashes always being more secure (algorithm quality matters more than length)\n   - MD5 or SHA-1 being secure for cryptographic purposes (both have known vulnerabilities)\n\n3. FORMAT FIT: Multiple choice works for security scenarios. Match columns work for connecting hash properties to their practical implications.\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Arrange words: TRAP FORMAT. Only valid when understanding the concept is required to know which words go where. PENALIZE HEAVILY when the sentence can be assembled through grammar/syntax knowledge alone (e.g., basic sentence structure like \"Subject + verb + object\" that any native speaker could guess).\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - arrangeWords is used but the sentence structure is trivially guessable from grammar (this is a common failure mode)\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "es-crypto-hash-functions-quiz-1",
        "userInput": {
          "chapterTitle": "Fundamentos de Criptografia",
          "courseTitle": "Seguridad Informatica",
          "explanationSteps": [
            {
              "text": "Una funcion hash convierte cualquier dato en una cadena de longitud fija. Un archivo de 1KB y uno de 1GB producen hashes del mismo tamano.",
              "title": "Compresion de Datos"
            },
            {
              "text": "Cambiar un solo bit del archivo original cambia completamente el hash. Esta propiedad se llama efecto avalancha y es crucial para detectar alteraciones.",
              "title": "Sensibilidad Extrema"
            },
            {
              "text": "No puedes recuperar el archivo original desde su hash - el proceso es irreversible. Por eso se usan para almacenar contrasenas de forma segura.",
              "title": "Camino de Ida"
            },
            {
              "text": "Encontrar dos archivos diferentes con el mismo hash deberia ser practicamente imposible. Esta resistencia a colisiones es lo que hace a los hashes confiables.",
              "title": "Unicidad Practica"
            }
          ],
          "language": "es",
          "lessonDescription": "Entendiendo como funcionan las funciones hash criptograficas, sus propiedades matematicas, y por que son fundamentales para la seguridad digital",
          "lessonTitle": "Funciones Hash Criptograficas"
        }
      }
    },
    {
      "duration": 13860.072874999954,
      "inputTokens": 543,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A neural network misclassifies a photo of a cat as a dog, even though most of its earlier layers extracted good features.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct. Layers closest to the output strongly influence the final prediction, so errors trace back more to these connections.\",\n          \"isCorrect\": true,\n          \"text\": \"Later layers closer to the output will be assigned more responsibility for the error.\"\n        },\n        {\n          \"feedback\": \"Earlier layers contributed less directly to the final decision, so they usually get smaller adjustments.\",\n          \"isCorrect\": false,\n          \"text\": \"Early layers that extracted features will take most of the blame for the error.\"\n        },\n        {\n          \"feedback\": \"Errors are not ignored; they guide which weights need tuning.\",\n          \"isCorrect\": false,\n          \"text\": \"The error is ignored because earlier features were extracted correctly.\"\n        },\n        {\n          \"feedback\": \"The error doesn't randomly distribute. Backprop assigns blame proportionally using gradients.\",\n          \"isCorrect\": false,\n          \"text\": \"Blame is randomly distributed across all layers to avoid bias.\"\n        }\n      ],\n      \"question\": \"Which layer receives more blame?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A developer increases the learning rate to speed up training, but the loss starts jumping around instead of steadily decreasing.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct. Too-large steps overshoot the path that reduces error, causing unstable learning.\",\n          \"isCorrect\": true,\n          \"text\": \"The updates are too large, causing the model to overshoot the direction that lowers error.\"\n        },\n        {\n          \"feedback\": \"Even with a high learning rate, blame is still assigned correctly; the magnitude of updates is the issue.\",\n          \"isCorrect\": false,\n          \"text\": \"The network is assigning blame to the wrong connections.\"\n        },\n        {\n          \"feedback\": \"A high learning rate affects update size, not the forward flow of data.\",\n          \"isCorrect\": false,\n          \"text\": \"Forward passes are no longer happening correctly due to the faster training.\"\n        },\n        {\n          \"feedback\": \"The loss function doesn’t change itself; the training dynamics cause the instability.\",\n          \"isCorrect\": false,\n          \"text\": \"The loss function becomes incompatible with the network architecture.\"\n        }\n      ],\n      \"question\": \"Why is learning unstable now?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A researcher wants to know whether their neural network is improving after each training step on a dataset.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct. Loss measures how far predictions are from the true targets.\",\n          \"isCorrect\": true,\n          \"text\": \"Measure the loss after each forward pass to see if prediction error is decreasing.\"\n        },\n        {\n          \"feedback\": \"Watching outputs alone does not tell you how wrong they are.\",\n          \"isCorrect\": false,\n          \"text\": \"Look only at the raw predictions and see if they look more reasonable.\"\n        },\n        {\n          \"feedback\": \"Gradients show direction of change, not model performance by themselves.\",\n          \"isCorrect\": false,\n          \"text\": \"Track only the magnitude of gradients to judge improvement.\"\n        },\n        {\n          \"feedback\": \"Training loss is the reliable indicator of learning progress.\",\n          \"isCorrect\": false,\n          \"text\": \"Ignore loss and rely solely on the number of training steps taken.\"\n        }\n      ],\n      \"question\": \"How can they check improvement?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"During training, some weights consistently get tiny adjustments while others get large ones.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct. Weight updates reflect how much each connection contributed to the final mistake.\",\n          \"isCorrect\": true,\n          \"text\": \"The weights getting larger updates contributed more to the error during prediction.\"\n        },\n        {\n          \"feedback\": \"Weight magnitude doesn’t directly control update size; gradients do.\",\n          \"isCorrect\": false,\n          \"text\": \"Smaller weights always get smaller updates regardless of error.\"\n        },\n        {\n          \"feedback\": \"Backprop specifically computes individual contributions; it's not uniform.\",\n          \"isCorrect\": false,\n          \"text\": \"All weights should receive the same size update, so this behavior indicates a bug.\"\n        },\n        {\n          \"feedback\": \"Random updates would not correlate with error contribution.\",\n          \"isCorrect\": false,\n          \"text\": \"The update sizes are random and unrelated to error contribution.\"\n        }\n      ],\n      \"question\": \"Why do update sizes differ?\"\n    }\n  ]\n}",
      "outputTokens": 1116,
      "steps": [
        {
          "conclusion": "None",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "None",
          "kind": "minorErrors",
          "score": 10
        },
        {
          "conclusion": "The questions are well-crafted, use appropriate scenarios to test understanding rather than recall, and the feedback is explanatory. No significant improvements needed.",
          "kind": "potentialImprovements",
          "score": 10
        }
      ],
      "testCase": {
        "expectations": "\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Training scenarios where learners must diagnose what's happening (overfitting, underfitting, vanishing gradients) based on observed behavior\n   - GOOD PATTERN: Situations requiring understanding of why the forward-backward process produces learning\n   - BAD PATTERN: Asking for formulas, definitions, or terminology without application context\n   - BAD PATTERN: Questions about specific metaphors like \"blame assignment\" from the explanation\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - Gradient descent being random trial and error (it follows the mathematical gradient direction)\n   - Neural networks understanding concepts like humans (they learn statistical patterns)\n   - More layers always being better (can cause vanishing gradients and overfitting)\n   - Training stopping when error reaches zero (this indicates overfitting)\n\n3. FORMAT FIT: Multiple choice works for training scenarios. Sort order can work for the forward-backward pass sequence. Fill blank can work for the gradient flow process.\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Arrange words: TRAP FORMAT. Only valid when understanding the concept is required to know which words go where. PENALIZE HEAVILY when the sentence can be assembled through grammar/syntax knowledge alone (e.g., basic sentence structure like \"Subject + verb + object\" that any native speaker could guess).\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - arrangeWords is used but the sentence structure is trivially guessable from grammar (this is a common failure mode)\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "en-ml-backpropagation-quiz-1",
        "userInput": {
          "chapterTitle": "Neural Network Training",
          "courseTitle": "Machine Learning Fundamentals",
          "explanationSteps": [
            {
              "text": "Training a neural network means adjusting connection strengths so outputs match desired results. The question is: which connections need adjusting and by how much?",
              "title": "The Adjustment Problem"
            },
            {
              "text": "First, data flows forward through the network, producing a prediction. The difference between prediction and reality is measured as error.",
              "title": "Measuring Mistakes"
            },
            {
              "text": "Error information then flows backward through the network. Each connection learns how much it contributed to the mistake using calculus.",
              "title": "Assigning Blame"
            },
            {
              "text": "Connections that contributed more to errors get larger adjustments. The network gradually improves by making small changes in the direction that reduces error.",
              "title": "Small Steps Downhill"
            }
          ],
          "language": "en",
          "lessonDescription": "Understanding how neural networks learn through backpropagation, including forward passes, loss calculation, and gradient-based weight updates",
          "lessonTitle": "How Neural Networks Learn"
        }
      }
    },
    {
      "duration": 12953.892958000011,
      "inputTokens": 546,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A farmer notices that a once-stable rocky hill on their land is slowly uplifting over generations.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct. Slow uplift over long timescales can indicate plates colliding and pushing crust upward.\",\n          \"isCorrect\": true,\n          \"text\": \"Two tectonic plates are pressing together beneath the area.\"\n        },\n        {\n          \"feedback\": \"Weathering breaks down rock but does not uplift entire regions.\",\n          \"isCorrect\": false,\n          \"text\": \"The rocks are weathering more slowly than before.\"\n        },\n        {\n          \"feedback\": \"Rainfall does not cause long-term regional uplift.\",\n          \"isCorrect\": false,\n          \"text\": \"Increased rainfall is causing the land to rise.\"\n        },\n        {\n          \"feedback\": \"River erosion would lower the landscape, not lift it.\",\n          \"isCorrect\": false,\n          \"text\": \"A nearby river is carving deeper channels, raising the land.\"\n        }\n      ],\n      \"question\": \"What best explains the uplift?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A deep crack on the ocean floor widens slightly every year.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct. A widening seafloor crack suggests plates pulling apart with magma rising to create new crust.\",\n          \"isCorrect\": true,\n          \"text\": \"Two plates are pulling apart, allowing new crust to form.\"\n        },\n        {\n          \"feedback\": \"Earthquakes can occur here but do not steadily widen cracks annually.\",\n          \"isCorrect\": false,\n          \"text\": \"Frequent earthquakes are prying the crack open.\"\n        },\n        {\n          \"feedback\": \"Tides do not widen crustal fractures long-term.\",\n          \"isCorrect\": false,\n          \"text\": \"Ocean tides are slowly forcing the crack wider.\"\n        },\n        {\n          \"feedback\": \"A sinking plate would not create a widening surface crack.\",\n          \"isCorrect\": false,\n          \"text\": \"A nearby plate is sinking beneath another plate.\"\n        }\n      ],\n      \"question\": \"What is the likely cause?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A researcher measures that a continent is drifting a few centimeters west every year.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct. Slow mantle circulation powered by Earth's heat drags plates along.\",\n          \"isCorrect\": true,\n          \"text\": \"Mantle circulation is slowly dragging the continent.\"\n        },\n        {\n          \"feedback\": \"Winds cannot move continents.\",\n          \"isCorrect\": false,\n          \"text\": \"Strong global winds are pushing the landmass.\"\n        },\n        {\n          \"feedback\": \"Ocean currents affect water movement, not whole continents.\",\n          \"isCorrect\": false,\n          \"text\": \"Changing ocean currents are shifting the coastlines.\"\n        },\n        {\n          \"feedback\": \"Volcanoes do not push continents sideways over long distances.\",\n          \"isCorrect\": false,\n          \"text\": \"Nearby volcanic activity is forcing the continent to drift.\"\n        }\n      ],\n      \"question\": \"Why is the continent moving?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A newly discovered underwater mountain chain shows fresh volcanic rock along its crest.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct. Fresh volcanic rock at an undersea ridge indicates magma rising where plates pull apart.\",\n          \"isCorrect\": true,\n          \"text\": \"It formed where plates are spreading apart and magma rises.\"\n        },\n        {\n          \"feedback\": \"Subduction usually forms deep trenches, not mid-ocean mountain chains.\",\n          \"isCorrect\": false,\n          \"text\": \"It formed where one plate is diving beneath another.\"\n        },\n        {\n          \"feedback\": \"Landslides cannot create long volcanic mountain chains on the seafloor.\",\n          \"isCorrect\": false,\n          \"text\": \"It was built up by massive underwater landslides.\"\n        },\n        {\n          \"feedback\": \"Storms do not create mountain chains or volcanic rock.\",\n          \"isCorrect\": false,\n          \"text\": \"Powerful ocean storms slowly piled material into a ridge.\"\n        }\n      ],\n      \"question\": \"How did this ridge form?\"\n    }\n  ]\n}",
      "outputTokens": 1030,
      "steps": [
        {
          "conclusion": "None. The JSON is valid, the language is correct (English), and the response strictly follows the negative constraints (no references to the text, no metaphors like 'honey' or 'engine' used in the questions).",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "In Question 1, the scenario describes a farmer noticing a rocky hill \"slowly uplifting over generations.\" Tectonic uplift (mountain building via collision) typically occurs at rates of millimeters per year, which would likely be imperceptible to a human observer over a few generations compared to soil erosion or vegetation changes. While this is a common simplification in educational materials, a scenario involving GPS measurements or finding marine fossils at high altitudes would be scientifically more accurate.",
          "kind": "minorErrors",
          "score": 9.5
        },
        {
          "conclusion": "The coverage of concepts is good, but could be slightly better. The explanation mentions two types of collision zones: subduction (creating volcanoes/earthquakes) and non-subduction (creating mountain ranges). Question 1 covers mountain ranges. Questions 2 and 4 both cover spreading/divergence. Question 3 covers the mantle mechanism. A question specifically targeting subduction (volcanoes/trenches) as the correct answer would have balanced the coverage better than two questions on spreading.",
          "kind": "potentialImprovements",
          "score": 8.5
        }
      ],
      "testCase": {
        "expectations": "\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Geographic scenarios where learners must explain geological features or patterns based on plate interactions\n   - GOOD PATTERN: Situations requiring prediction of geological activity based on understanding boundary types\n   - BAD PATTERN: Asking to name boundary types or list geological features without application context\n   - BAD PATTERN: Questions referencing the \"cracked shell\" or \"engine below\" metaphors from the explanation\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - The mantle being liquid or molten (it is SOLID rock that flows very slowly over geological time due to heat and pressure)\n   - Plates floating on liquid (they move on the slowly-flowing solid mantle)\n   - Earthquakes only happening at plate boundaries (intraplate earthquakes exist)\n   - Continental drift being the same as plate tectonics (continental drift was the early theory; plate tectonics is the modern mechanism)\n\n3. FORMAT FIT: Multiple choice works well for geological scenarios. Match columns work for connecting geological features to boundary types. Sort order could work for mountain-building sequences.\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Arrange words: TRAP FORMAT. Only valid when understanding the concept is required to know which words go where. PENALIZE HEAVILY when the sentence can be assembled through grammar/syntax knowledge alone (e.g., basic sentence structure like \"Subject + verb + object\" that any native speaker could guess).\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - arrangeWords is used but the sentence structure is trivially guessable from grammar (this is a common failure mode)\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "en-geology-plate-tectonics-quiz-1",
        "userInput": {
          "chapterTitle": "Earth's Structure",
          "courseTitle": "Earth Science",
          "explanationSteps": [
            {
              "text": "Earth's outer shell is cracked into massive pieces called plates. These plates sit on the mantle - solid rock so hot it flows like thick honey over millions of years.",
              "title": "A Cracked Shell"
            },
            {
              "text": "Heat from Earth's core creates circulation in the mantle. This slow churning drags the plates along, moving them centimeters per year.",
              "title": "The Engine Below"
            },
            {
              "text": "Where plates pull apart, magma rises to fill the gap, creating new crust. Mid-ocean ridges are underwater mountain chains formed this way.",
              "title": "Spreading Apart"
            },
            {
              "text": "Where plates collide, one may dive under the other, triggering earthquakes and volcanoes. Mountain ranges like the Himalayas form when neither plate sinks.",
              "title": "Collision Zones"
            }
          ],
          "language": "en",
          "lessonDescription": "Understanding how Earth's tectonic plates move and interact, including the mechanisms that drive plate motion and the geological features they create",
          "lessonTitle": "Plate Tectonics"
        }
      }
    },
    {
      "duration": 11142.675500000012,
      "inputTokens": 558,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Uma celula exposta a alta temperatura tem suas duas fitas de DNA separadas mais facilmente.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correto. O calor facilita a separacao das fitas, imitando o papel das enzimas que abrem a dupla helice.\",\n          \"isCorrect\": true,\n          \"text\": \"A separacao das fitas ocorre porque o calor rompe as interacoes que as mantinham juntas.\"\n        },\n        {\n          \"feedback\": \"Incorreto. O calor nao adiciona novas bases.\",\n          \"isCorrect\": false,\n          \"text\": \"O calor adiciona novas bases ao DNA.\"\n        },\n        {\n          \"feedback\": \"Incorreto. O calor nao acelera a uniao das fitas.\",\n          \"isCorrect\": false,\n          \"text\": \"O calor fortalece a uniao entre as fitas.\"\n        },\n        {\n          \"feedback\": \"Incorreto. O calor nao ativa ribossomos na replicacao.\",\n          \"isCorrect\": false,\n          \"text\": \"O calor ativa ribossomos que separam as fitas.\"\n        }\n      ],\n      \"question\": \"Por que as fitas se separam?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Uma fita de DNA em replicacao precisa ser copiada usando como referencia a sequencia existente.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correto. Cada fita velha funciona como molde para a nova.\",\n          \"isCorrect\": true,\n          \"text\": \"A sequencia antiga guia a construcao da nova fita.\"\n        },\n        {\n          \"feedback\": \"Incorreto. A fita antiga nao e destruida.\",\n          \"isCorrect\": false,\n          \"text\": \"A fita antiga e destruida para dar espaco a nova.\"\n        },\n        {\n          \"feedback\": \"Incorreto. A sequencia nao e copiada ao acaso.\",\n          \"isCorrect\": false,\n          \"text\": \"A nova fita e formada ao acaso.\"\n        },\n        {\n          \"feedback\": \"Incorreto. A fita antiga nao e invertida.\",\n          \"isCorrect\": false,\n          \"text\": \"A fita antiga e invertida para formar a nova.\"\n        }\n      ],\n      \"question\": \"Como a nova fita se forma?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Durante a replicacao, uma das fitas consegue ser copiada continuamente, mas a outra precisa de pequenas interrompicoes.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correto. A polimerase so trabalha em uma direcao, entao a fita oposta e copiada em segmentos.\",\n          \"isCorrect\": true,\n          \"text\": \"Porque a enzima so consegue trabalhar em uma direcao.\"\n        },\n        {\n          \"feedback\": \"Incorreto. O problema nao e falta de nucleotideos.\",\n          \"isCorrect\": false,\n          \"text\": \"Por falta de nucleotideos suficientes.\"\n        },\n        {\n          \"feedback\": \"Incorreto. A membrana celular nao impede a copia.\",\n          \"isCorrect\": false,\n          \"text\": \"Porque a membrana atrapalha a replicacao.\"\n        },\n        {\n          \"feedback\": \"Incorreto. As fitas nao sao copiadas conforme a cor.\",\n          \"isCorrect\": false,\n          \"text\": \"Porque uma fita e mais \\\"forte\\\" que a outra.\"\n        }\n      ],\n      \"question\": \"Por que a fita e copiada em pedacos?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Uma celula detecta que uma base foi inserida incorretamente durante a copia do DNA.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correto. Enzimas de revisao removem e substituem bases incorretas.\",\n          \"isCorrect\": true,\n          \"text\": \"A celula remove a base errada e coloca a correta.\"\n        },\n        {\n          \"feedback\": \"Incorreto. Erros nao permanecem sem verificacao.\",\n          \"isCorrect\": false,\n          \"text\": \"A celula ignora o erro.\"\n        },\n        {\n          \"feedback\": \"Incorreto. O DNA nao e completamente descartado por um unico erro.\",\n          \"isCorrect\": false,\n          \"text\": \"Toda a molecula e descartada.\"\n        },\n        {\n          \"feedback\": \"Incorreto. A fita nao e invertida.\",\n          \"isCorrect\": false,\n          \"text\": \"A fita e invertida para corrigir o erro.\"\n        }\n      ],\n      \"question\": \"Como o erro e corrigido?\"\n    }\n  ]\n}",
      "outputTokens": 838,
      "steps": [
        {
          "conclusion": "None",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "The model failed to adhere to the 'Novel Scenarios' and 'Conversational Tone' instructions. The prompt explicitly requested 'everyday situations' and a 'curious friend' tone to test transfer of knowledge. The generated questions use standard, dry, academic contexts (e.g., 'A cell exposed to high temperature', 'During replication'). Additionally, Question 1 relies on knowledge about heat denaturation (physics/chemistry) which, while scientifically accurate, is not derived from the biological concepts of enzymatic separation taught in the lesson, potentially confusing a learner who strictly followed the provided text. The distractors in several questions (e.g., 'Heat activates ribosomes', 'Membrane hinders replication') are trivial and do not effectively test understanding.",
          "kind": "minorErrors",
          "score": 7
        },
        {
          "conclusion": "To improve, the model should use metaphors or real-world analogies as requested (e.g., comparing the directionality problem to a construction crew that can only build in one direction). The tone should be significantly less formal. Distractors should be designed to target common misconceptions rather than being obvious fillers.",
          "kind": "potentialImprovements",
          "score": 7
        },
        {
          "conclusion": "The response is a valid JSON in Portuguese covering the correct topic. However, it lacks the pedagogical depth requested (transfer to novel/everyday scenarios) and the specific tone.",
          "kind": "minorErrors",
          "score": 8
        }
      ],
      "testCase": {
        "expectations": "\nLANGUAGE REQUIREMENT: Questions, options, and feedback must be in Portuguese.\n\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Scenarios requiring understanding of WHY replication works as it does (directionality constraints, error correction needs)\n   - GOOD PATTERN: Situations where learners must predict outcomes of replication errors or enzyme malfunctions\n   - BAD PATTERN: Asking to name enzymes or describe their functions without application context\n   - BAD PATTERN: Questions referencing the \"zipper\" metaphor or other explanation-specific content\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - Both DNA strands being synthesized the same way (leading strand is continuous; lagging strand is synthesized in Okazaki fragments)\n   - DNA polymerase being able to start synthesis on its own (it needs a primer)\n   - Replication being error-free (proofreading catches most errors but some slip through)\n   - Replication happening randomly along the chromosome (it starts at specific origins)\n\n3. FORMAT FIT: Sort order works well for replication sequence. Fill blank works for enzyme roles. Multiple choice for understanding why the process works as it does.\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Arrange words: TRAP FORMAT. Only valid when understanding the concept is required to know which words go where. PENALIZE HEAVILY when the sentence can be assembled through grammar/syntax knowledge alone (e.g., basic sentence structure like \"Subject + verb + object\" that any native speaker could guess).\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - arrangeWords is used but the sentence structure is trivially guessable from grammar (this is a common failure mode)\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "pt-biology-dna-replication-quiz-1",
        "userInput": {
          "chapterTitle": "Genetica Molecular",
          "courseTitle": "Biologia Celular",
          "explanationSteps": [
            {
              "text": "Antes de uma celula se dividir, ela precisa copiar todo seu DNA. O processo comeca quando enzimas separam as duas fitas da dupla helice.",
              "title": "Abrindo o Ziper"
            },
            {
              "text": "Cada fita original serve de molde para uma nova. Enzimas chamadas DNA polimerases leem a fita antiga e constroem a nova, base por base.",
              "title": "Lendo o Molde"
            },
            {
              "text": "Ha um problema: a polimerase so consegue adicionar bases em uma direcao. Uma fita e copiada continuamente, mas a outra precisa ser copiada em pedacos.",
              "title": "O Problema da Direcao"
            },
            {
              "text": "Enzimas de correcao verificam cada base adicionada. Se encontram um erro, removem e substituem. Esse controle de qualidade mantem a fidelidade genetica.",
              "title": "Corrigindo Erros"
            }
          ],
          "language": "pt",
          "lessonDescription": "Entendendo o processo de replicacao do DNA, incluindo as enzimas envolvidas e como a informacao genetica e copiada com alta fidelidade",
          "lessonTitle": "Como o DNA se Replica"
        }
      }
    },
    {
      "duration": 13147.718499999959,
      "inputTokens": 544,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A friend took a photo of a tree placed perfectly in the center of the frame, but the image feels static.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct. Moving the tree toward a power point often creates a more dynamic feel.\",\n          \"isCorrect\": true,\n          \"text\": \"Shift the tree toward one of the rule-of-thirds intersection points.\"\n        },\n        {\n          \"feedback\": \"Incorrect. Symmetry adds balance, not dynamism.\",\n          \"isCorrect\": false,\n          \"text\": \"Look for objects to mirror the tree on the other side.\"\n        },\n        {\n          \"feedback\": \"Incorrect. More light won’t change the composition’s static feel.\",\n          \"isCorrect\": false,\n          \"text\": \"Increase the exposure to brighten the image.\"\n        },\n        {\n          \"feedback\": \"Incorrect. Cropping tighter may still leave the subject centered.\",\n          \"isCorrect\": false,\n          \"text\": \"Crop in more tightly around the trunk.\"\n        }\n      ],\n      \"question\": \"How can they make the composition feel more dynamic?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"You’re photographing a beach at sunrise and want viewers to focus on the colorful sky.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct. Placing the horizon low emphasizes the sky.\",\n          \"isCorrect\": true,\n          \"text\": \"Place the horizon along the lower third line.\"\n        },\n        {\n          \"feedback\": \"Incorrect. A centered horizon splits focus.\",\n          \"isCorrect\": false,\n          \"text\": \"Center the horizon in the frame.\"\n        },\n        {\n          \"feedback\": \"Incorrect. Underexposure doesn’t affect horizon placement.\",\n          \"isCorrect\": false,\n          \"text\": \"Darken the lower half of the frame.\"\n        },\n        {\n          \"feedback\": \"Incorrect. Zooming doesn’t guide focus toward the sky.\",\n          \"isCorrect\": false,\n          \"text\": \"Zoom in so the beach fills more of the frame.\"\n        }\n      ],\n      \"question\": \"Where should you put the horizon?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A photographer wants the viewer’s eye to travel naturally across a portrait instead of stopping immediately at the center.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct. Off-center placement creates natural visual movement.\",\n          \"isCorrect\": true,\n          \"text\": \"Position the subject’s face along one of the rule-of-thirds lines.\"\n        },\n        {\n          \"feedback\": \"Incorrect. Center lighting doesn’t affect eye movement across composition.\",\n          \"isCorrect\": false,\n          \"text\": \"Add a bright light directly behind the subject.\"\n        },\n        {\n          \"feedback\": \"Incorrect. A plain background won’t improve movement.\",\n          \"isCorrect\": false,\n          \"text\": \"Use a completely blank backdrop.\"\n        },\n        {\n          \"feedback\": \"Incorrect. Saturation affects color, not subject placement.\",\n          \"isCorrect\": false,\n          \"text\": \"Increase saturation to draw attention everywhere.\"\n        }\n      ],\n      \"question\": \"How can they encourage visual flow?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Someone composing a landscape photo wonders why placing the main tree slightly off to the side feels more pleasing than centering it.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct. Off-center placement aligns with how our eyes naturally scan images.\",\n          \"isCorrect\": true,\n          \"text\": \"Because the eye enjoys traveling through space rather than landing immediately at the center.\"\n        },\n        {\n          \"feedback\": \"Incorrect. The rule of thirds does not require the sky to be brighter.\",\n          \"isCorrect\": false,\n          \"text\": \"Because the sky becomes automatically brighter when subjects are off-center.\"\n        },\n        {\n          \"feedback\": \"Incorrect. Off-center placement does not create more depth of field.\",\n          \"isCorrect\": false,\n          \"text\": \"Because placing subjects off-center increases depth of field.\"\n        },\n        {\n          \"feedback\": \"Incorrect. Trees do not appear taller due to lateral placement.\",\n          \"isCorrect\": false,\n          \"text\": \"Because objects look taller when they’re off to the side.\"\n        }\n      ],\n      \"question\": \"Why does off-center placement often feel more pleasing?\"\n    }\n  ]\n}",
      "outputTokens": 1108,
      "steps": [
        {
          "conclusion": "None. The JSON is valid, the schema is correct, and there are no hallucinations or factual errors regarding photography principles.",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "None. The questions are well-formed, follow the conversational tone guidelines, and avoid forbidden phrases like 'according to the text'. The feedback provided for each option is helpful and explanatory.",
          "kind": "minorErrors",
          "score": 10
        },
        {
          "conclusion": "The distractors (incorrect options) in Question 4 are slightly weak (e.g., suggesting off-center placement affects sky brightness or object height). While they are clearly incorrect, making them slightly more plausible misconceptions (like 'it creates perfect symmetry') might test understanding more rigorously. However, this is a minor stylistic preference.",
          "kind": "potentialImprovements",
          "score": 9.5
        }
      ],
      "testCase": {
        "expectations": "\nSPECIAL CONSIDERATION: This is an edge case - a visual/practical skill where understanding is demonstrated through application to real scenarios, not visual recognition.\n\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Photography scenarios where learners must decide subject placement to achieve specific visual effects\n   - GOOD PATTERN: Situations requiring understanding of WHY off-center placement creates visual interest\n   - BAD PATTERN: Asking to define the rule of thirds or describe the grid without application context\n   - BAD PATTERN: Questions about \"power points\" terminology without practical application\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - Rule of thirds being mandatory (it's a guideline, not a rule - breaking it intentionally can be effective)\n   - Centered subjects always being wrong (centered composition works for symmetry and certain moods)\n   - The grid being visible in final photos (it's an imaginary guide)\n   - Rule of thirds being the only composition technique (leading lines, framing, and many others exist)\n\n3. FORMAT FIT: Multiple choice works for \"where would you place the subject\" scenarios. Match columns could connect composition choices to their visual effects. AVOID selectImage unless visual recognition is truly being tested.\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Arrange words: TRAP FORMAT. Only valid when understanding the concept is required to know which words go where. PENALIZE HEAVILY when the sentence can be assembled through grammar/syntax knowledge alone (e.g., basic sentence structure like \"Subject + verb + object\" that any native speaker could guess).\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - arrangeWords is used but the sentence structure is trivially guessable from grammar (this is a common failure mode)\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "en-photography-composition-quiz-1",
        "userInput": {
          "chapterTitle": "Composition Basics",
          "courseTitle": "Photography Fundamentals",
          "explanationSteps": [
            {
              "text": "Most beginners center their subjects. While this works sometimes, placing subjects off-center often creates more dynamic, interesting images.",
              "title": "Beyond the Center"
            },
            {
              "text": "Imagine your frame divided by two horizontal and two vertical lines, creating nine equal sections. The four points where lines cross are power points.",
              "title": "The Grid"
            },
            {
              "text": "Placing your main subject on a power point or along a line draws the viewer's eye naturally. A horizon on the lower line emphasizes sky; on the upper line emphasizes ground.",
              "title": "Strategic Placement"
            },
            {
              "text": "This guideline works because our eyes naturally scan images in patterns. Off-center placement gives the eye somewhere to travel, making photos feel more alive.",
              "title": "Why It Works"
            }
          ],
          "language": "en",
          "lessonDescription": "Understanding the rule of thirds and how strategic subject placement creates more visually engaging photographs",
          "lessonTitle": "The Rule of Thirds"
        }
      }
    },
    {
      "duration": 15666.31812499999,
      "inputTokens": 436,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A friend insists their favorite diet works because they remember people who lost weight on it but ignore those who didn't.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Yes. They are favoring examples that confirm their belief while overlooking contradictory ones.\",\n          \"isCorrect\": true,\n          \"text\": \"They’re selectively noticing evidence that supports their belief.\"\n        },\n        {\n          \"feedback\": \"Lack of information isn't the core issue—they have information but filter it.\",\n          \"isCorrect\": false,\n          \"text\": \"They simply don’t have enough information to judge the diet.\"\n        },\n        {\n          \"feedback\": \"This is not about seeking approval but about biased attention.\",\n          \"isCorrect\": false,\n          \"text\": \"They are trying to impress others with their diet knowledge.\"\n        },\n        {\n          \"feedback\": \"Wishful thinking plays a role sometimes, but this scenario is about biased filtering.\",\n          \"isCorrect\": false,\n          \"text\": \"They are just being overly optimistic about the diet.\"\n        }\n      ],\n      \"question\": \"What bias is happening?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A sports fan watches a game and genuinely feels the referee is unfairly calling more fouls on their team’s opponent.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Yes. Their attention is unconsciously drawn toward calls that fit their expectation.\",\n          \"isCorrect\": true,\n          \"text\": \"Their brain is filtering events to match their expectation of unfairness.\"\n        },\n        {\n          \"feedback\": \"Referee training is unrelated to the fan’s perception.\",\n          \"isCorrect\": false,\n          \"text\": \"Referees probably aren’t trained well enough.\"\n        },\n        {\n          \"feedback\": \"This isn’t about memory errors but perception bias.\",\n          \"isCorrect\": false,\n          \"text\": \"They are misremembering the number of fouls each team got.\"\n        },\n        {\n          \"feedback\": \"The issue is not anxiety but biased attention.\",\n          \"isCorrect\": false,\n          \"text\": \"They are too anxious to watch the game objectively.\"\n        }\n      ],\n      \"question\": \"What explains the fan’s perception?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A coworker dismisses data that challenges their project idea, saying it’s probably flawed, but eagerly accepts data that supports their idea.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Yes. They accept confirming evidence easily and scrutinize contradicting evidence more harshly.\",\n          \"isCorrect\": true,\n          \"text\": \"They are treating evidence differently depending on whether it fits their existing belief.\"\n        },\n        {\n          \"feedback\": \"Availability bias is about what examples come to mind, not selective acceptance.\",\n          \"isCorrect\": false,\n          \"text\": \"They are experiencing availability bias.\"\n        },\n        {\n          \"feedback\": \"Self-esteem doesn’t fully explain selective acceptance of data.\",\n          \"isCorrect\": false,\n          \"text\": \"They are trying to protect their self-esteem.\"\n        },\n        {\n          \"feedback\": \"This is not a misunderstanding of statistics but biased filtering.\",\n          \"isCorrect\": false,\n          \"text\": \"They do not understand proper statistical analysis.\"\n        }\n      ],\n      \"question\": \"What’s driving their reaction?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A researcher designs a study but has colleagues check her methods and results to ensure she isn’t seeing patterns that match her expectations.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct. She uses external checks to guard against her natural tendency to see expected outcomes.\",\n          \"isCorrect\": true,\n          \"text\": \"She wants to reduce the influence of her own expectations on the conclusions.\"\n        },\n        {\n          \"feedback\": \"Peer review isn't about speeding up research.\",\n          \"isCorrect\": false,\n          \"text\": \"She wants to finish the research faster.\"\n        },\n        {\n          \"feedback\": \"The purpose isn’t to avoid sharing credit.\",\n          \"isCorrect\": false,\n          \"text\": \"She wants others to do the hard work for her.\"\n        },\n        {\n          \"feedback\": \"Collaborators don't eliminate mistakes automatically; they check for bias.\",\n          \"isCorrect\": false,\n          \"text\": \"She doesn’t trust herself to avoid basic mistakes.\"\n        }\n      ],\n      \"question\": \"Why involve colleagues?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Someone reads a news story and quickly agrees with claims that match their beliefs but feels irritated and skeptical when the story challenges them.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Yes. Discomfort from contradicting information pushes them to dismiss it.\",\n          \"isCorrect\": true,\n          \"text\": \"Their mind is avoiding the discomfort of having their belief challenged.\"\n        },\n        {\n          \"feedback\": \"This isn't just a matter of writing quality.\",\n          \"isCorrect\": false,\n          \"text\": \"The journalist probably wrote the challenging parts poorly.\"\n        },\n        {\n          \"feedback\": \"It’s not simply impatience; it’s biased evaluation of information.\",\n          \"isCorrect\": false,\n          \"text\": \"They are too impatient to read complex arguments.\"\n        },\n        {\n          \"feedback\": \"This is not about memory but real-time filtering.\",\n          \"isCorrect\": false,\n          \"text\": \"They can’t remember the challenging parts well.\"\n        }\n      ],\n      \"question\": \"Why the mixed reaction?\"\n    }\n  ]\n}",
      "outputTokens": 1317,
      "steps": [
        {
          "conclusion": "The model failed to follow the negative constraint regarding novel scenarios. The User Variables (Explanation Step 3) and Expectations ('BAD PATTERN') explicitly warned against using the 'sports fan' example. Question 2 uses this exact scenario ('A sports fan watches a game...'). This violates the core instruction to test transfer of learning using novel contexts.",
          "kind": "majorErrors",
          "score": 6.5
        },
        {
          "conclusion": "Question 4 uses a 'researcher' and 'colleagues' (peer review) scenario. While valid, the explanation text specifically used 'scientists' and 'peer review' as the example for Step 4. This fails the 'Novel Scenarios' requirement, as it tests the context provided in the lesson rather than applying the concept to a new domain (e.g., a detective or a hiring committee).",
          "kind": "minorErrors",
          "score": 8
        },
        {
          "conclusion": "To improve, Question 2 should be replaced with a scenario unrelated to sports or politics (e.g., an investor ignoring bad news about a stock they own). Question 4 should be replaced with a non-scientific scenario demonstrating safeguards (e.g., 'blind' auditions for an orchestra) to strictly test conceptual transfer.",
          "kind": "potentialImprovements",
          "score": 7.5
        }
      ],
      "testCase": {
        "expectations": "\nSPECIAL CONSIDERATION: This is an edge case - an abstract psychological concept where understanding means recognizing the bias in everyday situations.\n\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Everyday scenarios where learners must recognize confirmation bias operating in someone's reasoning\n   - GOOD PATTERN: Situations requiring understanding of WHY the bias is unconscious and hard to overcome\n   - BAD PATTERN: Asking to define confirmation bias or list its characteristics without application context\n   - BAD PATTERN: Questions about the sports fan or political supporter examples from the explanation\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - Confirmation bias being intentional deception (it's usually unconscious)\n   - Only unintelligent people having confirmation bias (everyone is susceptible, including experts)\n   - Confirmation bias being easy to overcome once you know about it (awareness helps but doesn't eliminate it)\n   - Confirmation bias only affecting beliefs about facts (it affects emotional and value-based beliefs too)\n\n3. FORMAT FIT: Multiple choice excels here - present scenarios and ask which demonstrates the bias. Match columns could connect cognitive biases to example scenarios. AVOID sort_order as the concept isn't sequential.\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Arrange words: TRAP FORMAT. Only valid when understanding the concept is required to know which words go where. PENALIZE HEAVILY when the sentence can be assembled through grammar/syntax knowledge alone (e.g., basic sentence structure like \"Subject + verb + object\" that any native speaker could guess).\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - arrangeWords is used but the sentence structure is trivially guessable from grammar (this is a common failure mode)\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "en-psychology-confirmation-bias-quiz-1",
        "userInput": {
          "chapterTitle": "Cognitive Biases",
          "courseTitle": "Introduction to Psychology",
          "explanationSteps": [
            {
              "text": "Our brains prefer consistency. When we believe something, finding contradicting evidence feels uncomfortable - like a mental itch we want to scratch away.",
              "title": "The Comfort of Consistency"
            },
            {
              "text": "To avoid discomfort, our brains play tricks. We notice evidence supporting our beliefs and unconsciously filter out or dismiss contradicting evidence.",
              "title": "Selective Attention"
            },
            {
              "text": "This happens automatically, not deliberately. A sports fan genuinely sees more fouls by the opposing team. A political supporter honestly remembers more flaws in opponents.",
              "title": "Unconscious Filtering"
            },
            {
              "text": "Even scientists fall prey to this. That's why research uses blind studies and peer review - external checks against our natural tendency to see what we expect.",
              "title": "Safeguards Help"
            }
          ],
          "language": "en",
          "lessonDescription": "Understanding confirmation bias - how our tendency to favor information that confirms existing beliefs affects our perception and decision-making",
          "lessonTitle": "Confirmation Bias"
        }
      }
    }
  ],
  "taskId": "activity-explanation-quiz"
}
