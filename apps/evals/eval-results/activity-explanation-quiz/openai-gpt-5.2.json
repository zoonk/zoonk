{
  "modelId": "openai/gpt-5.2",
  "results": [
    {
      "duration": 32186.95758300001,
      "inputTokens": 436,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A nurse notes that a small cut on a finger swelled and became red within minutes, even though the person has never had this type of germ exposure before.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Redness and swelling within minutes are typical of the fast, general defenses that react the same way to many threats, even on first exposure.\",\n          \"isCorrect\": true,\n          \"text\": \"The first line of defense is responding quickly in a general way.\"\n        },\n        {\n          \"feedback\": \"Immune memory speeds responses on repeat exposure, but this scenario is a first-time exposure and happens within minutes.\",\n          \"isCorrect\": false,\n          \"text\": \"Memory cells are reacting because they recognize the germ from a prior infection.\"\n        },\n        {\n          \"feedback\": \"Antibodies are part of the slower, targeted response and usually take time to build during a first infection.\",\n          \"isCorrect\": false,\n          \"text\": \"B cells have already produced lots of specific antibodies within minutes.\"\n        },\n        {\n          \"feedback\": \"Skin is a barrier, but once there is a cut, the barrier is breached; the redness and swelling come from internal rapid responses.\",\n          \"isCorrect\": false,\n          \"text\": \"Only the skin barrier is involved, so internal immune cells are not needed.\"\n        }\n      ],\n      \"question\": \"What best explains the quick reaction?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Someone with very dry nasal passages gets more frequent respiratory infections during the winter compared with when their nose is moist.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Moist mucus traps particles and microbes and helps stop them before they reach deeper tissues, so losing that barrier increases infections.\",\n          \"isCorrect\": true,\n          \"text\": \"Mucus is a physical barrier that helps block invaders from entering tissues.\"\n        },\n        {\n          \"feedback\": \"Antibodies can be present in mucus, but the key change described is the barrier/trapping function of the mucus itself.\",\n          \"isCorrect\": false,\n          \"text\": \"Mucus mainly works by killing invaders with antibodies made on the spot.\"\n        },\n        {\n          \"feedback\": \"Macrophages act after microbes get into tissues; they are not the reason dry passages allow more microbes in.\",\n          \"isCorrect\": false,\n          \"text\": \"Dryness prevents macrophages from finding germs, so they cannot eat them.\"\n        },\n        {\n          \"feedback\": \"Memory cells help on repeat exposure, but dryness changes infection risk even for new microbes by weakening the barrier.\",\n          \"isCorrect\": false,\n          \"text\": \"Dryness stops memory cells from forming, so infections increase.\"\n        }\n      ],\n      \"question\": \"Why would dryness raise infection risk?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"In a lab dish, two bacteria look similar except for a unique surface molecule on one of them. A protein binds tightly to only the bacterium with that unique molecule and not the other.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Antibodies bind specific shapes on an invader’s surface, which explains why the protein attaches to one bacterium but not the other.\",\n          \"isCorrect\": true,\n          \"text\": \"The protein is acting like an antibody that recognizes a specific target.\"\n        },\n        {\n          \"feedback\": \"Macrophages engulf broadly based on “foreign” signals; they would not explain a single protein binding only one bacterium.\",\n          \"isCorrect\": false,\n          \"text\": \"The protein is a macrophage that is trying to eat the bacterium.\"\n        },\n        {\n          \"feedback\": \"Skin cells form a barrier; they do not explain selective binding in a dish.\",\n          \"isCorrect\": false,\n          \"text\": \"The protein is part of the skin barrier that blocks all bacteria equally.\"\n        },\n        {\n          \"feedback\": \"Memory cells are living cells that help speed later responses; they are not single binding proteins.\",\n          \"isCorrect\": false,\n          \"text\": \"The protein is a memory cell that remembers the bacterium.\"\n        }\n      ],\n      \"question\": \"What is the most likely identity of the protein?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"After recovering from chickenpox, a person is exposed again years later. They do not get sick, and lab tests show their immune response ramps up much faster than in a first infection.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Memory cells formed after the first infection persist and help trigger a faster, stronger response on later exposures.\",\n          \"isCorrect\": true,\n          \"text\": \"Long-lasting memory cells recognized the virus and sped up the response.\"\n        },\n        {\n          \"feedback\": \"Macrophages respond quickly in general, but they do not create the long-term “faster the second time” effect described.\",\n          \"isCorrect\": false,\n          \"text\": \"Macrophages learned to recognize the virus and now attack it faster.\"\n        },\n        {\n          \"feedback\": \"Skin is important for blocking entry, but it does not explain faster internal immune activation after exposure.\",\n          \"isCorrect\": false,\n          \"text\": \"Their skin barrier became permanently stronger after the first infection.\"\n        },\n        {\n          \"feedback\": \"The first line is fast but not specific; the key clue is the faster response years later to the same invader.\",\n          \"isCorrect\": false,\n          \"text\": \"Only the first line of defense is needed, so the second line never activates.\"\n        }\n      ],\n      \"question\": \"What explains the faster response years later?\"\n    },\n    {\n      \"format\": \"matchColumns\",\n      \"pairs\": [\n        {\n          \"left\": \"A splinter breaks the skin and bacteria enter; nearby cells quickly signal inflammation.\",\n          \"right\": \"Fast, non-specific first defense response\"\n        },\n        {\n          \"left\": \"A white blood cell engulfs and digests a strange particle it bumps into while patrolling tissue.\",\n          \"right\": \"Macrophage action (eating foreign material)\"\n        },\n        {\n          \"left\": \"Proteins in blood bind only to one virus strain and label it so other immune cells can clear it.\",\n          \"right\": \"Antibodies from B cells targeting a specific invader\"\n        },\n        {\n          \"left\": \"After a prior infection, the body produces the right targeted response much sooner on re-exposure.\",\n          \"right\": \"Memory cells enabling a faster second response\"\n        }\n      ],\n      \"question\": \"Match each situation to what’s mainly at work.\"\n    }\n  ]\n}",
      "outputTokens": 1195,
      "steps": [
        {
          "conclusion": "None",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "None",
          "kind": "minorErrors",
          "score": 10
        },
        {
          "conclusion": "The generated questions are of very high quality. They successfully avoid the trap of testing vocabulary or metaphors (e.g., Q3 describes the mechanism of an antibody in a lab context rather than asking 'What is the targeting system?'). The scenarios are sufficiently novel (dry nasal passages, a cut swelling immediately) to test application rather than recall. The format choices are logical: multiple choice for scenarios and match columns for associating mechanisms with descriptions. No significant improvements are needed.",
          "kind": "potentialImprovements",
          "score": 10
        }
      ],
      "testCase": {
        "expectations": "\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Scenarios where someone observes immune responses in everyday life (repeat exposure, recovery time, vaccination effects) and must explain the underlying mechanism\n   - GOOD PATTERN: Situations requiring prediction of immune outcomes based on understanding defense layers\n   - BAD PATTERN: Asking to name cells, list defense mechanisms, or recall definitions without application context\n   - BAD PATTERN: Questions referencing specific metaphors or examples from the explanation\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - Antibodies directly killing pathogens (they MARK pathogens for destruction by other cells like macrophages)\n   - White blood cells being a single type (there are many types with different functions)\n   - Immune response being immediate (innate response is fast, adaptive takes days)\n   - Fever being harmful (it's often a beneficial immune response)\n\n3. FORMAT FIT: Multiple choice works well for \"which scenario shows X mechanism.\" Match columns work for connecting symptoms to immune responses. Sort order works for immune response sequence.\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Arrange words: TRAP FORMAT. Only valid when understanding the concept is required to know which words go where. PENALIZE HEAVILY when the sentence can be assembled through grammar/syntax knowledge alone (e.g., basic sentence structure like \"Subject + verb + object\" that any native speaker could guess).\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - arrangeWords is used but the sentence structure is trivially guessable from grammar (this is a common failure mode)\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "en-biology-immune-system-quiz-1",
        "userInput": {
          "chapterTitle": "Body Systems",
          "courseTitle": "Human Biology",
          "explanationSteps": [
            {
              "text": "Your body has two defense systems working together. The first responds instantly to any threat. The second takes time but remembers enemies forever.",
              "title": "Two Lines of Defense"
            },
            {
              "text": "Physical barriers like skin and mucus stop most invaders. If they get through, patrolling cells called macrophages eat anything that looks foreign.",
              "title": "The First Responders"
            },
            {
              "text": "When threats persist, specialized cells called B cells create antibodies. These Y-shaped proteins stick to specific invaders, marking them for destruction.",
              "title": "The Targeting System"
            },
            {
              "text": "Some cells become memory cells after an infection. They remember the invader's shape for years, letting your body respond faster next time.",
              "title": "Remembering Enemies"
            }
          ],
          "language": "en",
          "lessonDescription": "Understanding how the immune system protects the body through multiple layers of defense, from physical barriers to specialized cells and antibodies",
          "lessonTitle": "How the Immune System Works"
        }
      }
    },
    {
      "duration": 34516.169083999994,
      "inputTokens": 312,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A student writes `total=price*taxRate;` and wonders what the compiler needs to do first to make sense of it.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Lexical analysis starts by chopping the character stream into tokens like identifiers, operators, and punctuation, which later stages can reason about.\",\n          \"isCorrect\": true,\n          \"text\": \"Break the characters into tokens like `total`, `=`, `price`, `*`, `taxRate`, and `;`\"\n        },\n        {\n          \"feedback\": \"Building a parse tree depends on already having tokens; parsing isn’t the first step.\",\n          \"isCorrect\": false,\n          \"text\": \"Build a parse tree that groups the multiplication before the assignment\"\n        },\n        {\n          \"feedback\": \"Semantic checks use the structured result of parsing; they can’t reliably run on raw characters.\",\n          \"isCorrect\": false,\n          \"text\": \"Check that `price` and `taxRate` have numeric types\"\n        },\n        {\n          \"feedback\": \"Code generation happens after the program is understood and validated; doing it first would be guessing.\",\n          \"isCorrect\": false,\n          \"text\": \"Emit machine instructions for multiplying and storing the result\"\n        }\n      ],\n      \"question\": \"What happens first?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"You see code: `if (x > 0 { y = 1; }` It fails to compile.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"This is a structural issue: the `if` condition’s closing parenthesis is missing, which a parser detects while building the program’s grammatical structure.\",\n          \"isCorrect\": true,\n          \"text\": \"Parsing, because the code violates the language’s grammar (missing `)`)\"\n        },\n        {\n          \"feedback\": \"Tokenizing would still succeed: the characters can be turned into tokens even if the sequence is ungrammatical.\",\n          \"isCorrect\": false,\n          \"text\": \"Lexical analysis, because the compiler can’t recognize the keywords\"\n        },\n        {\n          \"feedback\": \"Semantic analysis is about meaning (types, declarations, scopes), not missing punctuation required by grammar.\",\n          \"isCorrect\": false,\n          \"text\": \"Semantic analysis, because the condition is logically invalid\"\n        },\n        {\n          \"feedback\": \"Code generation is too late; the compiler won’t try to emit machine code for syntactically invalid input.\",\n          \"isCorrect\": false,\n          \"text\": \"Code generation, because the CPU can’t execute an incomplete `if`\"\n        }\n      ],\n      \"question\": \"Which phase flags it?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"In a language where `+` is only defined for numbers, code says: `let n = \\\"7\\\" + 3;`\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"The tokens and grammar might be fine, but the operation’s meaning is invalid: adding a string and a number violates the language’s type rules, caught in semantic analysis.\",\n          \"isCorrect\": true,\n          \"text\": \"Semantic analysis, because the types make the expression invalid\"\n        },\n        {\n          \"feedback\": \"Tokenization can still identify a string literal, operator, and number literal; it doesn’t decide if the operation is allowed.\",\n          \"isCorrect\": false,\n          \"text\": \"Lexical analysis, because it can’t tokenize the string literal correctly\"\n        },\n        {\n          \"feedback\": \"Parsing can build a correct tree for the expression even if the types don’t match.\",\n          \"isCorrect\": false,\n          \"text\": \"Parsing, because the expression can’t be structured into a tree\"\n        },\n        {\n          \"feedback\": \"Code generation usually assumes the program is already valid; type errors should stop compilation earlier.\",\n          \"isCorrect\": false,\n          \"text\": \"Code generation, because the CPU doesn’t support string addition\"\n        }\n      ],\n      \"question\": \"Where is this caught?\"\n    },\n    {\n      \"format\": \"matchColumns\",\n      \"pairs\": [\n        {\n          \"left\": \"The compiler reports: “unexpected token `}`” at a specific line.\",\n          \"right\": \"Parsing detects a grammar/structure problem\"\n        },\n        {\n          \"left\": \"The compiler reports: “variable `count` not declared in this scope.”\",\n          \"right\": \"Semantic analysis checks declarations and scope rules\"\n        },\n        {\n          \"left\": \"The compiler produces an executable file for your program.\",\n          \"right\": \"Code generation emits machine-executable instructions\"\n        },\n        {\n          \"left\": \"The compiler recognizes `while`, `(`, `x`, `<`, `10`, `)` as separate pieces.\",\n          \"right\": \"Lexical analysis splits text into tokens\"\n        }\n      ],\n      \"question\": \"Match each situation to the compiler phase most responsible.\"\n    },\n    {\n      \"format\": \"sortOrder\",\n      \"feedback\": \"A typical compiler pipeline starts by turning characters into tokens, then building a structured representation (parse tree), then validating meaning (types, declarations), and only then emitting machine code.\",\n      \"items\": [\n        \"Lexical analysis\",\n        \"Parsing\",\n        \"Semantic analysis\",\n        \"Code generation\"\n      ],\n      \"question\": \"Put the compiler phases in a typical order from source text to machine code.\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Two different programs both contain the text `max` in several places. In Program A, `max` is a function name you defined. In Program B, `max` is just part of a longer identifier `maxValue`.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Tokenization decides boundaries: it determines whether the character sequence is one identifier token (`maxValue`) or separate tokens, based on language rules for identifiers and separators.\",\n          \"isCorrect\": true,\n          \"text\": \"Lexical analysis, because it determines token boundaries like `max` vs `maxValue`\"\n        },\n        {\n          \"feedback\": \"Parsing uses the token stream it’s given; it doesn’t usually split or merge identifier tokens.\",\n          \"isCorrect\": false,\n          \"text\": \"Parsing, because it decides which names refer to functions\"\n        },\n        {\n          \"feedback\": \"Semantic analysis resolves what an identifier refers to, but only after tokens already exist.\",\n          \"isCorrect\": false,\n          \"text\": \"Semantic analysis, because it decides whether `max` is declared\"\n        },\n        {\n          \"feedback\": \"Code generation happens after names are resolved and checked; it’s not about where identifiers start and end.\",\n          \"isCorrect\": false,\n          \"text\": \"Code generation, because it chooses which machine instructions to use\"\n        }\n      ],\n      \"question\": \"Which phase distinguishes them?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A compiler team wants to add a new CPU target. They keep the front end the same, but swap out one stage so the same validated program can run on the new processor.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Supporting a new processor mainly affects how the compiler emits instructions and low-level details, which is the job of code generation (often with target-specific back ends).\",\n          \"isCorrect\": true,\n          \"text\": \"Code generation, because it’s where machine instructions are chosen\"\n        },\n        {\n          \"feedback\": \"Lexical analysis is mostly independent of the CPU; it depends on the source language’s characters and token rules.\",\n          \"isCorrect\": false,\n          \"text\": \"Lexical analysis, because different CPUs require different tokens\"\n        },\n        {\n          \"feedback\": \"Parsing is driven by the source language grammar, not the target CPU.\",\n          \"isCorrect\": false,\n          \"text\": \"Parsing, because different CPUs need different parse trees\"\n        },\n        {\n          \"feedback\": \"Semantic analysis enforces language meaning (types, scope), which doesn’t change just because the CPU changes.\",\n          \"isCorrect\": false,\n          \"text\": \"Semantic analysis, because type rules depend on the processor\"\n        }\n      ],\n      \"question\": \"What stage is replaced?\"\n    }\n  ]\n}",
      "outputTokens": 1449,
      "steps": [
        {
          "conclusion": "None",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "None",
          "kind": "minorErrors",
          "score": 10
        },
        {
          "conclusion": "None",
          "kind": "potentialImprovements",
          "score": 10
        }
      ],
      "testCase": {
        "expectations": "\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Scenarios involving code errors where learners must identify which compilation phase would catch or miss them\n   - GOOD PATTERN: Situations requiring understanding of why phases must occur in a specific order\n   - BAD PATTERN: Asking to list phases, name outputs, or define terminology without application context\n   - BAD PATTERN: Questions about the \"assembly line\" metaphor or other explanation-specific content\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - Lexical analysis and parsing being the same thing (lexical analysis produces tokens; parsing builds syntax trees from tokens)\n   - Compilers only producing machine code (many produce bytecode or intermediate representations)\n   - Optimization being optional or unimportant (it's crucial for performance)\n   - Semantic analysis happening before parsing (parsing must complete first)\n\n3. FORMAT FIT: Sort order works well for compiler pipeline stages. Match columns work for connecting error types to phases. Multiple choice for \"which phase catches this error.\"\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Arrange words: TRAP FORMAT. Only valid when understanding the concept is required to know which words go where. PENALIZE HEAVILY when the sentence can be assembled through grammar/syntax knowledge alone (e.g., basic sentence structure like \"Subject + verb + object\" that any native speaker could guess).\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - arrangeWords is used but the sentence structure is trivially guessable from grammar (this is a common failure mode)\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "en-cs-compilers-quiz-1",
        "userInput": {
          "chapterTitle": "Language Implementation",
          "courseTitle": "Programming Language Theory",
          "explanationSteps": [
            {
              "text": "A compiler reads your code in stages, like an assembly line. Each stage transforms the code into something closer to what the machine understands.",
              "title": "The Assembly Line"
            },
            {
              "text": "First, lexical analysis breaks your code into tokens - the smallest meaningful units. Keywords, variables, and operators each become distinct pieces.",
              "title": "Breaking into Tokens"
            },
            {
              "text": "The parser takes those tokens and builds a tree structure showing how statements relate. This catches syntax errors like missing parentheses.",
              "title": "Building Structure"
            },
            {
              "text": "Semantic analysis checks if your code makes logical sense. It catches errors like using a string where a number is required.",
              "title": "Checking Meaning"
            },
            {
              "text": "Finally, code generation translates the validated structure into machine instructions the processor can execute directly.",
              "title": "Generating Output"
            }
          ],
          "language": "en",
          "lessonDescription": "Understanding how compilers transform human-readable code into machine-executable instructions through multiple phases of analysis and transformation",
          "lessonTitle": "How Compilers Work"
        }
      }
    },
    {
      "duration": 39225.08025,
      "inputTokens": 371,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"O Banco Central observa inflação subindo e decide aumentar a taxa básica. Algumas pessoas dizem que isso deve derrubar os preços já no mês seguinte.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correto. Juros mais altos tendem a esfriar consumo e investimento, mas contratos, decisões de compra e reajustes levam tempo; o efeito completo aparece aos poucos.\",\n          \"isCorrect\": true,\n          \"text\": \"Provavelmente não; o impacto costuma aparecer com atraso, conforme famílias e empresas ajustam decisões.\"\n        },\n        {\n          \"feedback\": \"Incorreto. A mudança de juros não se transmite instantaneamente para todos os preços; há defasagens em crédito, investimento e formação de preços.\",\n          \"isCorrect\": false,\n          \"text\": \"Sim; aumentar juros faz os preços caírem quase imediatamente em toda a economia.\"\n        },\n        {\n          \"feedback\": \"Incorreto. O objetivo pode ser reduzir a demanda e conter inflação, mas não é garantido que a inflação suba; depende do choque e do canal de transmissão.\",\n          \"isCorrect\": false,\n          \"text\": \"Não; porque juros mais altos sempre aumentam a inflação no curto prazo.\"\n        },\n        {\n          \"feedback\": \"Incorreto. Juros influenciam a economia real por meio de crédito, câmbio, expectativas e demanda; não é apenas um efeito “contábil” sem impacto.\",\n          \"isCorrect\": false,\n          \"text\": \"Tanto faz; a taxa básica não afeta decisões de consumo e investimento.\"\n        }\n      ],\n      \"question\": \"Qual resposta faz mais sentido?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Uma loja de eletrodomésticos percebe que, após uma forte queda da taxa básica, mais clientes perguntam sobre compras parceladas e financiamento.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correto. Juros mais baixos reduzem o custo do crédito, facilitando parcelamento e financiamentos, o que tende a aumentar consumo.\",\n          \"isCorrect\": true,\n          \"text\": \"O crédito fica mais barato, então financiar e parcelar fica mais atraente, elevando a demanda.\"\n        },\n        {\n          \"feedback\": \"Incorreto. Juros mais baixos não tornam o crédito mais caro; tendem a reduzir prestações e custo total do financiamento.\",\n          \"isCorrect\": false,\n          \"text\": \"O crédito fica mais caro, então as pessoas evitam comprar a prazo.\"\n        },\n        {\n          \"feedback\": \"Incorreto. A taxa básica influencia o custo do dinheiro na economia e pode se transmitir para juros ao consumidor; não é independente.\",\n          \"isCorrect\": false,\n          \"text\": \"Nada muda, porque a taxa básica não tem relação com juros cobrados em financiamentos.\"\n        },\n        {\n          \"feedback\": \"Incorreto. Juros mais baixos não significam automaticamente menos dinheiro circulando; em geral facilitam condições financeiras e podem expandir crédito.\",\n          \"isCorrect\": false,\n          \"text\": \"As pessoas compram menos porque cai a quantidade de dinheiro circulando.\"\n        }\n      ],\n      \"question\": \"Qual mecanismo explica melhor isso?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A economia está fraca e o Banco Central quer aumentar o dinheiro em circulação sem mexer diretamente na taxa básica naquele dia. Ele entra no mercado e faz uma operação com títulos públicos.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correto. Ao comprar títulos, o Banco Central paga aos vendedores e injeta reservas/dinheiro no sistema, aumentando liquidez.\",\n          \"isCorrect\": true,\n          \"text\": \"Comprar títulos públicos, para injetar dinheiro e aumentar a liquidez.\"\n        },\n        {\n          \"feedback\": \"Incorreto. Vender títulos tende a retirar dinheiro de circulação, reduzindo liquidez.\",\n          \"isCorrect\": false,\n          \"text\": \"Vender títulos públicos, para colocar mais dinheiro na economia.\"\n        },\n        {\n          \"feedback\": \"Incorreto. A emissão de títulos é do Tesouro; o Banco Central pode operar no mercado, mas não “criar títulos” para injetar dinheiro diretamente dessa forma.\",\n          \"isCorrect\": false,\n          \"text\": \"Criar novos títulos do governo e entregá-los de graça aos bancos, aumentando o crédito.\"\n        },\n        {\n          \"feedback\": \"Incorreto. Aumentar impostos é política fiscal, não uma operação típica de mercado aberto do Banco Central.\",\n          \"isCorrect\": false,\n          \"text\": \"Aumentar impostos para sobrar mais dinheiro no setor privado.\"\n        }\n      ],\n      \"question\": \"Qual ação é mais coerente?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A inflação está alta e o Banco Central decide reduzir a quantidade de dinheiro circulando por meio de operações com títulos. Qual cenário descreve melhor o que acontece?\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correto. Vender títulos faz o setor privado pagar por eles, drenando liquidez e reduzindo dinheiro em circulação.\",\n          \"isCorrect\": true,\n          \"text\": \"O Banco Central vende títulos; compradores pagam e o dinheiro sai de circulação, reduzindo liquidez.\"\n        },\n        {\n          \"feedback\": \"Incorreto. Comprar títulos normalmente injeta dinheiro, não retira.\",\n          \"isCorrect\": false,\n          \"text\": \"O Banco Central compra títulos; isso tira dinheiro de circulação e reduz a inflação.\"\n        },\n        {\n          \"feedback\": \"Incorreto. Doar dinheiro aumentaria a liquidez e tenderia a pressionar preços, não a conter inflação.\",\n          \"isCorrect\": false,\n          \"text\": \"O Banco Central distribui dinheiro diretamente às famílias para reduzir gastos.\"\n        },\n        {\n          \"feedback\": \"Incorreto. Congelar salários é uma medida administrativa e não equivale a reduzir a base monetária via operações de mercado.\",\n          \"isCorrect\": false,\n          \"text\": \"O Banco Central congela salários para diminuir a quantidade de dinheiro circulando.\"\n        }\n      ],\n      \"question\": \"O que mais provavelmente ocorre?\"\n    },\n    {\n      \"format\": \"matchColumns\",\n      \"pairs\": [\n        {\n          \"left\": \"Muitos empréstimos e parcelamentos ficam mais caros em poucos meses\",\n          \"right\": \"Alta da taxa básica encarece o crédito e reduz demanda\"\n        },\n        {\n          \"left\": \"Bancos têm mais liquidez após o Banco Central atuar no mercado\",\n          \"right\": \"Compra de títulos injeta dinheiro no sistema\"\n        },\n        {\n          \"left\": \"Empresas demoram a reduzir investimento mesmo após alta de juros\",\n          \"right\": \"Defasagem: decisões reais se ajustam gradualmente\"\n        },\n        {\n          \"left\": \"Preços sobem com economia aquecida e excesso de moeda\",\n          \"right\": \"Dinheiro demais pressiona inflação\"\n        }\n      ],\n      \"question\": \"Combine cada situação com a explicação mais provável.\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Dois países idênticos: no País A, a quantidade de dinheiro cresce bem mais rápido que a produção por vários trimestres; no País B, a quantidade de dinheiro fica estagnada enquanto a economia tenta se recuperar de uma recessão.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correto. Excesso de dinheiro relativo à produção tende a pressionar preços; escassez/rigidez monetária pode frear a atividade quando a demanda já está fraca.\",\n          \"isCorrect\": true,\n          \"text\": \"A tende a ter mais pressão inflacionária; B tende a ter recuperação mais lenta por falta de impulso monetário.\"\n        },\n        {\n          \"feedback\": \"Incorreto. Crescimento acelerado de moeda não costuma reduzir inflação; e moeda estagnada pode não ajudar uma economia em recuperação.\",\n          \"isCorrect\": false,\n          \"text\": \"A tende a ter queda de preços; B tende a crescer mais rápido por falta de dinheiro.\"\n        },\n        {\n          \"feedback\": \"Incorreto. A expansão monetária pode sim afetar inflação e atividade; não é neutra no curto e médio prazo.\",\n          \"isCorrect\": false,\n          \"text\": \"Os dois terão o mesmo resultado, porque a quantidade de dinheiro não importa para preços e atividade.\"\n        },\n        {\n          \"feedback\": \"Incorreto. O padrão esperado é o oposto: mais dinheiro tende a elevar pressão de preços; menos dinheiro tende a desacelerar.\",\n          \"isCorrect\": false,\n          \"text\": \"A tende a desacelerar por excesso de dinheiro; B tende a inflacionar por falta de moeda.\"\n        }\n      ],\n      \"question\": \"Qual previsão é mais plausível?\"\n    }\n  ]\n}",
      "outputTokens": 1614,
      "steps": [
        {
          "conclusion": "No major errors found. The model followed all critical instructions: the content is in the correct language (Portuguese), avoids prohibited phrases like 'according to the text', and tests understanding through novel scenarios rather than memorization.",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "No minor errors found. The questions cover all 4 explanation steps provided. The feedback for every question is detailed and explains both why the correct answer is right and why distractors are wrong. The tone is appropriate.",
          "kind": "minorErrors",
          "score": 10
        },
        {
          "conclusion": "The response is of high quality. The use of 'matchColumns' in Question 5 effectively consolidates multiple concepts, ensuring broad coverage without needing too many questions. The scenarios (e.g., the appliance store, the two countries) are good applications of the abstract concepts.",
          "kind": "potentialImprovements",
          "score": 10
        }
      ],
      "testCase": {
        "expectations": "\nLANGUAGE REQUIREMENT: Questions, options, and feedback must be in Portuguese.\n\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Scenarios involving economic decisions (borrowing, spending, saving) where learners must predict effects of interest rate changes\n   - GOOD PATTERN: Situations requiring understanding of transmission delays between policy and economic outcomes\n   - BAD PATTERN: Asking to list monetary tools or define economic terms without application context\n   - BAD PATTERN: Questions referencing specific examples from the explanation\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - Interest rate changes having immediate effects (transmission mechanisms have significant time lags of 6-18 months)\n   - Central banks directly controlling inflation (they influence it through indirect mechanisms)\n   - Lower interest rates always being good (they can fuel inflation and asset bubbles)\n   - Monetary policy being the only tool for economic stability (fiscal policy also plays a role)\n\n3. FORMAT FIT: Multiple choice works for cause-effect scenarios. Match columns work for connecting policy actions to economic effects. Sort order can work for transmission mechanism sequences.\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Arrange words: TRAP FORMAT. Only valid when understanding the concept is required to know which words go where. PENALIZE HEAVILY when the sentence can be assembled through grammar/syntax knowledge alone (e.g., basic sentence structure like \"Subject + verb + object\" that any native speaker could guess).\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - arrangeWords is used but the sentence structure is trivially guessable from grammar (this is a common failure mode)\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "pt-economics-monetary-policy-quiz-1",
        "userInput": {
          "chapterTitle": "Macroeconomia",
          "courseTitle": "Economia para Iniciantes",
          "explanationSteps": [
            {
              "text": "O banco central controla a quantidade de dinheiro circulando na economia. Quando ha dinheiro demais, os precos sobem. Quando ha pouco, a economia desacelera.",
              "title": "Equilibrio Monetario"
            },
            {
              "text": "A taxa basica de juros e a principal ferramenta. Juros altos tornam emprestimos caros, reduzindo gastos. Juros baixos estimulam emprestimos e consumo.",
              "title": "A Alavanca dos Juros"
            },
            {
              "text": "Mudancas nos juros levam meses para afetar a economia real. Empresas e consumidores ajustam seus planos gradualmente, nao instantaneamente.",
              "title": "Efeito com Atraso"
            },
            {
              "text": "Bancos centrais tambem compram e vendem titulos do governo. Comprando titulos, injetam dinheiro na economia. Vendendo, retiram dinheiro de circulacao.",
              "title": "Operacoes de Mercado"
            }
          ],
          "language": "pt",
          "lessonDescription": "Entendendo como bancos centrais usam taxas de juros e outras ferramentas para influenciar a economia, incluindo os mecanismos de transmissao da politica monetaria",
          "lessonTitle": "Como Funciona a Politica Monetaria"
        }
      }
    },
    {
      "duration": 112298.57300000003,
      "inputTokens": 441,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Un auditor compara el hash registrado de una imagen con el hash que calcula hoy a partir del archivo que le enviaron. Ambos hashes tienen exactamente la misma longitud, pero no coinciden.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correcto: si el contenido cambió aunque sea mínimamente, el hash suele cambiar de forma drástica por el efecto avalancha, así que un hash distinto es una señal fuerte de alteración.\",\n          \"isCorrect\": true,\n          \"text\": \"La imagen probablemente fue modificada, incluso si el cambio fue mínimo.\"\n        },\n        {\n          \"feedback\": \"Incorrecto: la longitud fija del hash no indica que el contenido sea igual; hashes de archivos distintos siempre tienen la misma longitud si es el mismo algoritmo.\",\n          \"isCorrect\": false,\n          \"text\": \"La imagen es idéntica; la misma longitud del hash lo demuestra.\"\n        },\n        {\n          \"feedback\": \"Incorrecto: que un hash cambie no se debe a compresión “con pérdida”; un hash no busca reconstruir ni representar visualmente el contenido.\",\n          \"isCorrect\": false,\n          \"text\": \"El algoritmo “comprimió” diferente la imagen y por eso cambió el hash.\"\n        },\n        {\n          \"feedback\": \"Incorrecto: un hash distinto no prueba un fallo del auditor; es el comportamiento esperado cuando el contenido cambia.\",\n          \"isCorrect\": false,\n          \"text\": \"El auditor calculó mal el hash; deberían coincidir aunque el archivo cambie un poco.\"\n        }\n      ],\n      \"question\": \"¿Qué conclusión es más razonable?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Dos estudiantes generan hashes SHA-256 para un texto. Uno cambia solo una letra (por ejemplo, de \\\"pago\\\" a \\\"pago.\\\"). El nuevo hash se ve totalmente distinto.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correcto: el efecto avalancha hace que cambios mínimos en la entrada produzcan cambios grandes e impredecibles en la salida.\",\n          \"isCorrect\": true,\n          \"text\": \"Es esperado por el efecto avalancha: un cambio pequeño altera mucho el hash.\"\n        },\n        {\n          \"feedback\": \"Incorrecto: los hashes criptográficos no se diseñan para reflejar “pequeños cambios” con “pequeñas diferencias”.\",\n          \"isCorrect\": false,\n          \"text\": \"No debería pasar; un cambio pequeño debería cambiar pocos caracteres del hash.\"\n        },\n        {\n          \"feedback\": \"Incorrecto: los hashes no incluyen “corrección de errores” para acercar entradas parecidas.\",\n          \"isCorrect\": false,\n          \"text\": \"El algoritmo detectó el cambio y corrigió el hash para que siguiera parecido.\"\n        },\n        {\n          \"feedback\": \"Incorrecto: no depende de que el texto sea “demasiado corto”; el efecto ocurre con entradas de cualquier tamaño.\",\n          \"isCorrect\": false,\n          \"text\": \"Pasa solo porque el texto era muy corto; con archivos grandes no ocurriría.\"\n        }\n      ],\n      \"question\": \"¿Por qué pasa eso?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Un sitio web sufre una filtración y un atacante obtiene una lista de hashes de contraseñas (no las contraseñas en texto).\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correcto: como el hash es de ida, no se “revierte” directamente; lo viable es adivinar contraseñas y comparar sus hashes (fuerza bruta/diccionario), idealmente frenado con sal y costos altos.\",\n          \"isCorrect\": true,\n          \"text\": \"Probar muchas contraseñas posibles, hashearlas y comparar hasta encontrar coincidencias.\"\n        },\n        {\n          \"feedback\": \"Incorrecto: en un hash criptográfico no hay una clave secreta que “desencripte”; no es cifrado reversible.\",\n          \"isCorrect\": false,\n          \"text\": \"Buscar la clave secreta para desencriptar los hashes.\"\n        },\n        {\n          \"feedback\": \"Incorrecto: conocer el algoritmo no permite recuperar la entrada; la seguridad no depende de ocultar el algoritmo.\",\n          \"isCorrect\": false,\n          \"text\": \"Leer el algoritmo SHA-256 y calcular la contraseña original paso a paso hacia atrás.\"\n        },\n        {\n          \"feedback\": \"Incorrecto: la longitud del hash no da un método para reconstruir el texto original.\",\n          \"isCorrect\": false,\n          \"text\": \"Usar la longitud fija del hash para reconstruir la contraseña carácter por carácter.\"\n        }\n      ],\n      \"question\": \"¿Qué estrategia le queda al atacante?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Una empresa quiere usar un hash como “identificador único” de documentos legales. Un gerente dice: “Seguro que jamás habrá dos documentos distintos con el mismo hash; es imposible”.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correcto: en la práctica se espera resistencia a colisiones, pero “imposible” es demasiado fuerte; la meta es que encontrar una colisión sea computacionalmente inviable.\",\n          \"isCorrect\": true,\n          \"text\": \"Es más correcto decir que es prácticamente imposible encontrar colisiones con un buen hash, no que sea imposible en sentido absoluto.\"\n        },\n        {\n          \"feedback\": \"Incorrecto: los hashes no son “cifrado perfecto”; además, colisiones existen en teoría por el espacio finito de salidas.\",\n          \"isCorrect\": false,\n          \"text\": \"Tiene razón: una función hash criptográfica garantiza cero colisiones por definición.\"\n        },\n        {\n          \"feedback\": \"Incorrecto: usar hashes no “provoca” colisiones por tamaño del archivo; el riesgo no depende así de forma directa.\",\n          \"isCorrect\": false,\n          \"text\": \"Está equivocado porque archivos grandes siempre colisionan entre sí.\"\n        },\n        {\n          \"feedback\": \"Incorrecto: la longitud fija no implica que todo colisione; solo limita el espacio de salidas, haciendo colisiones teóricamente posibles pero difíciles de encontrar.\",\n          \"isCorrect\": false,\n          \"text\": \"Está equivocado porque la longitud fija significa que tarde o temprano todos los documentos tendrán el mismo hash.\"\n        }\n      ],\n      \"question\": \"¿Cuál es la forma más precisa de evaluarlo?\"\n    },\n    {\n      \"format\": \"matchColumns\",\n      \"pairs\": [\n        {\n          \"left\": \"Verificar si un archivo descargado fue alterado en tránsito\",\n          \"right\": \"Comparar hashes: cambios mínimos cambian el hash (efecto avalancha)\"\n        },\n        {\n          \"left\": \"Guardar contraseñas sin poder recuperarlas si la base se filtra\",\n          \"right\": \"Usar un proceso de ida: desde el hash no se reconstruye la contraseña\"\n        },\n        {\n          \"left\": \"Que archivos de tamaños muy distintos puedan validarse con una “huella” del mismo tamaño\",\n          \"right\": \"La salida del hash tiene longitud fija (compresión de datos)\"\n        },\n        {\n          \"left\": \"Confiar en que dos documentos distintos no compartan la misma huella en condiciones normales\",\n          \"right\": \"Resistencia a colisiones (unicidad práctica)\"\n        }\n      ],\n      \"question\": \"Une cada situación con la propiedad del hash que la hace posible.\"\n    }\n  ]\n}",
      "outputTokens": 1375,
      "steps": [
        {
          "conclusion": "None",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "None",
          "kind": "minorErrors",
          "score": 10
        },
        {
          "conclusion": "None",
          "kind": "potentialImprovements",
          "score": 10
        }
      ],
      "testCase": {
        "expectations": "\nLANGUAGE REQUIREMENT: Questions, options, and feedback must be in Spanish.\n\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Security scenarios where learners must apply hash properties (irreversibility, avalanche effect, collision resistance) to real situations\n   - GOOD PATTERN: Situations requiring understanding of why certain hash behaviors matter for security\n   - BAD PATTERN: Asking to list hash properties or define terminology without application context\n   - BAD PATTERN: Questions about specific terms like \"avalanche effect\" without practical application\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - Hashing being the same as encryption (hashing is ONE-WAY and irreversible; encryption is designed to be reversible with a key)\n   - Hash functions producing unique outputs (collisions are mathematically possible, just extremely unlikely for good functions)\n   - Longer hashes always being more secure (algorithm quality matters more than length)\n   - MD5 or SHA-1 being secure for cryptographic purposes (both have known vulnerabilities)\n\n3. FORMAT FIT: Multiple choice works for security scenarios. Match columns work for connecting hash properties to their practical implications.\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Arrange words: TRAP FORMAT. Only valid when understanding the concept is required to know which words go where. PENALIZE HEAVILY when the sentence can be assembled through grammar/syntax knowledge alone (e.g., basic sentence structure like \"Subject + verb + object\" that any native speaker could guess).\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - arrangeWords is used but the sentence structure is trivially guessable from grammar (this is a common failure mode)\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "es-crypto-hash-functions-quiz-1",
        "userInput": {
          "chapterTitle": "Fundamentos de Criptografia",
          "courseTitle": "Seguridad Informatica",
          "explanationSteps": [
            {
              "text": "Una funcion hash convierte cualquier dato en una cadena de longitud fija. Un archivo de 1KB y uno de 1GB producen hashes del mismo tamano.",
              "title": "Compresion de Datos"
            },
            {
              "text": "Cambiar un solo bit del archivo original cambia completamente el hash. Esta propiedad se llama efecto avalancha y es crucial para detectar alteraciones.",
              "title": "Sensibilidad Extrema"
            },
            {
              "text": "No puedes recuperar el archivo original desde su hash - el proceso es irreversible. Por eso se usan para almacenar contrasenas de forma segura.",
              "title": "Camino de Ida"
            },
            {
              "text": "Encontrar dos archivos diferentes con el mismo hash deberia ser practicamente imposible. Esta resistencia a colisiones es lo que hace a los hashes confiables.",
              "title": "Unicidad Practica"
            }
          ],
          "language": "es",
          "lessonDescription": "Entendiendo como funcionan las funciones hash criptograficas, sus propiedades matematicas, y por que son fundamentales para la seguridad digital",
          "lessonTitle": "Funciones Hash Criptograficas"
        }
      }
    },
    {
      "duration": 32136.94987499999,
      "inputTokens": 362,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A small neural network predicts house prices. On one example it predicts $420k, but the true price is $400k. You want to start training on this example.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Right. You first run inputs forward to get a prediction, then use a loss function to quantify how far the prediction is from the target.\",\n          \"isCorrect\": true,\n          \"text\": \"Run a forward pass, then compute a loss value from prediction vs. target\"\n        },\n        {\n          \"feedback\": \"This skips the key step of measuring the mistake. Without a loss, you do not know what to reduce.\",\n          \"isCorrect\": false,\n          \"text\": \"Immediately change weights randomly until the prediction matches $400k\"\n        },\n        {\n          \"feedback\": \"Gradients come from differentiating the loss. Without computing loss first, there is nothing to differentiate.\",\n          \"isCorrect\": false,\n          \"text\": \"Compute gradients for each weight before calculating any loss\"\n        },\n        {\n          \"feedback\": \"You need the prediction and target to compute error; you cannot decide updates from inputs alone.\",\n          \"isCorrect\": false,\n          \"text\": \"Update the weights using only the input features because targets are optional\"\n        }\n      ],\n      \"question\": \"What is the correct first step?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Two different weights in a trained network are analyzed on a misclassified image. Weight A has a large gradient magnitude, and weight B has a gradient near zero (same learning rate for both).\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Right. With gradient-based updates, a larger gradient means the loss is more sensitive to that weight, so it gets a bigger step (scaled by learning rate).\",\n          \"isCorrect\": true,\n          \"text\": \"Weight A will change more because it contributed more to the loss on that example\"\n        },\n        {\n          \"feedback\": \"Update size depends on gradient magnitude, not the current weight value alone.\",\n          \"isCorrect\": false,\n          \"text\": \"Weight B will change more because smaller gradients mean the weight is more important\"\n        },\n        {\n          \"feedback\": \"Backprop computes gradients for many weights; it is not limited to the final layer.\",\n          \"isCorrect\": false,\n          \"text\": \"Only the output layer weights can change; earlier weights stay fixed\"\n        },\n        {\n          \"feedback\": \"A near-zero gradient typically means changing that weight will barely affect loss (locally), so it will not change much.\",\n          \"isCorrect\": false,\n          \"text\": \"Both weights will change by the same amount because the learning rate is the same\"\n        }\n      ],\n      \"question\": \"What does this imply about updates?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"You are debugging training. You accidentally stop the backward pass and only compute the loss each step. The loss prints out, but weights never improve.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Right. Loss tells you how wrong you are, but without backprop you do not get gradients that assign credit or blame to individual weights, so you cannot update them purposefully.\",\n          \"isCorrect\": true,\n          \"text\": \"You are measuring error but not computing how each weight affects it, so you cannot update weights correctly\"\n        },\n        {\n          \"feedback\": \"A forward pass alone can produce predictions, but it does not provide direction for improving weights.\",\n          \"isCorrect\": false,\n          \"text\": \"That is fine; the network learns from the forward pass even without gradients\"\n        },\n        {\n          \"feedback\": \"Loss functions do not directly change weights; updates require gradients and an optimizer.\",\n          \"isCorrect\": false,\n          \"text\": \"The loss value automatically adjusts the weights if you print it each step\"\n        },\n        {\n          \"feedback\": \"Having more data can help, but it does not replace the need for gradients to guide updates.\",\n          \"isCorrect\": false,\n          \"text\": \"The fix is only to add more training examples; backprop is optional\"\n        }\n      ],\n      \"question\": \"What is the core problem?\"\n    },\n    {\n      \"format\": \"matchColumns\",\n      \"pairs\": [\n        {\n          \"left\": \"A network runs inputs through layers to produce probabilities.\",\n          \"right\": \"Forward pass (produces a prediction)\"\n        },\n        {\n          \"left\": \"You compare predicted probabilities to the true label and get a single number summarizing wrongness.\",\n          \"right\": \"Loss calculation (measures error)\"\n        },\n        {\n          \"left\": \"You compute how changing each weight would change the loss, layer by layer from output toward input.\",\n          \"right\": \"Backpropagation (computes gradients / assigns credit)\"\n        },\n        {\n          \"left\": \"You nudge weights a little in the direction that makes the loss smaller.\",\n          \"right\": \"Gradient-based update (small step downhill)\"\n        }\n      ],\n      \"question\": \"Match each training moment to what it represents.\"\n    },\n    {\n      \"format\": \"sortOrder\",\n      \"feedback\": \"Training follows a cause-and-effect chain: you need a prediction before you can measure error, you need error before you can compute gradients, and you need gradients before you can update weights in a way that reduces loss.\",\n      \"items\": [\n        \"Run a forward pass to get a prediction\",\n        \"Compute the loss from prediction vs. target\",\n        \"Backpropagate to compute gradients for weights\",\n        \"Update weights using the gradients (small step to reduce loss)\"\n      ],\n      \"question\": \"Put these steps in the order they happen in one training step.\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Your model’s training loss drops faster when you use a learning rate of 1.0 than 0.01, but after a few steps the loss starts bouncing wildly and sometimes gets worse.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Right. A too-large learning rate can overshoot the minimum: each update is a big step that may increase loss even if the gradient points downhill locally.\",\n          \"isCorrect\": true,\n          \"text\": \"The steps are too large, so updates overshoot and can increase loss\"\n        },\n        {\n          \"feedback\": \"If gradients are exactly zero, loss would not change much; bouncing suggests steps are not tiny.\",\n          \"isCorrect\": false,\n          \"text\": \"Gradients are always zero, so the model cannot learn\"\n        },\n        {\n          \"feedback\": \"Backprop computes direction, but step size still matters; instability is a step-size issue here.\",\n          \"isCorrect\": false,\n          \"text\": \"Backpropagation is incorrect; you should remove it to stabilize training\"\n        },\n        {\n          \"feedback\": \"More layers can make training harder, but the described sudden bouncing with higher learning rate points to step size, not depth alone.\",\n          \"isCorrect\": false,\n          \"text\": \"The network is too deep; learning rate does not affect stability\"\n        }\n      ],\n      \"question\": \"What is the most likely reason?\"\n    }\n  ]\n}",
      "outputTokens": 1284,
      "steps": [
        {
          "conclusion": "None",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "None",
          "kind": "minorErrors",
          "score": 10
        },
        {
          "conclusion": "None",
          "kind": "potentialImprovements",
          "score": 10
        }
      ],
      "testCase": {
        "expectations": "\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Training scenarios where learners must diagnose what's happening (overfitting, underfitting, vanishing gradients) based on observed behavior\n   - GOOD PATTERN: Situations requiring understanding of why the forward-backward process produces learning\n   - BAD PATTERN: Asking for formulas, definitions, or terminology without application context\n   - BAD PATTERN: Questions about specific metaphors like \"blame assignment\" from the explanation\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - Gradient descent being random trial and error (it follows the mathematical gradient direction)\n   - Neural networks understanding concepts like humans (they learn statistical patterns)\n   - More layers always being better (can cause vanishing gradients and overfitting)\n   - Training stopping when error reaches zero (this indicates overfitting)\n\n3. FORMAT FIT: Multiple choice works for training scenarios. Sort order can work for the forward-backward pass sequence. Fill blank can work for the gradient flow process.\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Arrange words: TRAP FORMAT. Only valid when understanding the concept is required to know which words go where. PENALIZE HEAVILY when the sentence can be assembled through grammar/syntax knowledge alone (e.g., basic sentence structure like \"Subject + verb + object\" that any native speaker could guess).\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - arrangeWords is used but the sentence structure is trivially guessable from grammar (this is a common failure mode)\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "en-ml-backpropagation-quiz-1",
        "userInput": {
          "chapterTitle": "Neural Network Training",
          "courseTitle": "Machine Learning Fundamentals",
          "explanationSteps": [
            {
              "text": "Training a neural network means adjusting connection strengths so outputs match desired results. The question is: which connections need adjusting and by how much?",
              "title": "The Adjustment Problem"
            },
            {
              "text": "First, data flows forward through the network, producing a prediction. The difference between prediction and reality is measured as error.",
              "title": "Measuring Mistakes"
            },
            {
              "text": "Error information then flows backward through the network. Each connection learns how much it contributed to the mistake using calculus.",
              "title": "Assigning Blame"
            },
            {
              "text": "Connections that contributed more to errors get larger adjustments. The network gradually improves by making small changes in the direction that reduces error.",
              "title": "Small Steps Downhill"
            }
          ],
          "language": "en",
          "lessonDescription": "Understanding how neural networks learn through backpropagation, including forward passes, loss calculation, and gradient-based weight updates",
          "lessonTitle": "How Neural Networks Learn"
        }
      }
    },
    {
      "duration": 112293.81570799998,
      "inputTokens": 364,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A GPS station on one side of a wide valley shows it is moving about 2 cm per year away from a GPS station on the other side. Over time, scientists also detect frequent small earthquakes in the area.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct. Plates can move only a few centimeters per year, and GPS can measure that motion. Earthquakes often happen where plates interact or where the crust is being pulled or pushed.\",\n          \"isCorrect\": true,\n          \"text\": \"Tectonic plates can move just centimeters per year, and their motion can be measured directly.\"\n        },\n        {\n          \"feedback\": \"Incorrect. Continents can move without being pushed by ocean tides; the driving forces come from Earth’s interior, not daily ocean motion.\",\n          \"isCorrect\": false,\n          \"text\": \"Continents drift mainly because ocean tides push them back and forth.\"\n        },\n        {\n          \"feedback\": \"Incorrect. Earthquakes are not required for motion to occur, and plates can move smoothly; quakes are a result of stress release, not the cause of motion.\",\n          \"isCorrect\": false,\n          \"text\": \"Plates only move when a big earthquake suddenly shifts them.\"\n        },\n        {\n          \"feedback\": \"Incorrect. Plate motion is not from Earth expanding; it’s driven by internal heat and mantle flow.\",\n          \"isCorrect\": false,\n          \"text\": \"The valley is widening because Earth is slowly expanding in size.\"\n        }\n      ],\n      \"question\": \"What does this GPS evidence support?\"\n    },\n    {\n      \"format\": \"matchColumns\",\n      \"pairs\": [\n        {\n          \"left\": \"Underwater mountain chain in the middle of an ocean basin\",\n          \"right\": \"Plates pulling apart with new crust forming\"\n        },\n        {\n          \"left\": \"Deep ocean trench next to a line of volcanoes on a nearby continent\",\n          \"right\": \"One plate diving beneath another at a collision zone\"\n        },\n        {\n          \"left\": \"Tall mountain range far from an ocean trench, with few volcanoes\",\n          \"right\": \"Two continents colliding and neither sinks easily\"\n        },\n        {\n          \"left\": \"Broad region with lots of earthquakes but little volcanism, where plates slide past\",\n          \"right\": \"Plates grinding sideways along a boundary\"\n        }\n      ],\n      \"question\": \"Match each observation to the plate interaction most likely causing it.\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A research submersible finds fresh, dark volcanic rock at the crest of an underwater ridge. Farther away from the ridge, the seafloor rock is older and covered by thicker sediment.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct. At spreading centers, magma rises and solidifies to make new oceanic crust; crust gets older and collects more sediment as it moves away.\",\n          \"isCorrect\": true,\n          \"text\": \"New crust is being created at the ridge as plates spread apart, so rock is youngest at the ridge and older farther away.\"\n        },\n        {\n          \"feedback\": \"Incorrect. If the ridge were built by erosion, you wouldn’t expect the youngest volcanic rock right at the crest and progressively older crust outward.\",\n          \"isCorrect\": false,\n          \"text\": \"The ridge is an eroded mountain range that used to be above sea level.\"\n        },\n        {\n          \"feedback\": \"Incorrect. Meteor impacts don’t create long, continuous ridges with systematic age patterns on both sides.\",\n          \"isCorrect\": false,\n          \"text\": \"A chain of meteor impacts formed the ridge and resurfaced the rock at the center.\"\n        },\n        {\n          \"feedback\": \"Incorrect. Subduction destroys crust; it doesn’t explain a symmetric pattern of youngest rock at the ridge crest.\",\n          \"isCorrect\": false,\n          \"text\": \"Older seafloor is being forced upward at the ridge by subduction nearby.\"\n        }\n      ],\n      \"question\": \"What’s the best explanation for this pattern?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Two plates collide. Plate A is dense oceanic crust; Plate B is less dense continental crust. Along the boundary there is a deep trench offshore and a line of active volcanoes on the continent.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct. Dense oceanic lithosphere commonly subducts beneath less dense continental lithosphere, forming a trench and causing melting that feeds volcanoes.\",\n          \"isCorrect\": true,\n          \"text\": \"Plate A is subducting under Plate B, creating a trench and fueling volcanoes.\"\n        },\n        {\n          \"feedback\": \"Incorrect. If the continent were subducting, you’d expect different density behavior; continental crust is typically too buoyant to sink deeply.\",\n          \"isCorrect\": false,\n          \"text\": \"Plate B is subducting under Plate A, creating a trench and volcanoes.\"\n        },\n        {\n          \"feedback\": \"Incorrect. Sliding past (transform motion) does not create a deep trench plus a volcanic arc.\",\n          \"isCorrect\": false,\n          \"text\": \"The plates are sliding sideways past each other, and friction makes volcanoes.\"\n        },\n        {\n          \"feedback\": \"Incorrect. Spreading apart would form a ridge and new crust, not a trench and continental volcanic arc.\",\n          \"isCorrect\": false,\n          \"text\": \"The plates are pulling apart, and the trench is a stretched crack filling with magma.\"\n        }\n      ],\n      \"question\": \"What is most likely happening at this boundary?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A region experiences frequent large earthquakes and the land is rising into very high mountains, but there is little to no volcanic activity. Rock types and fossils suggest two continental landmasses collided there long ago.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct. Continent-continent collisions typically build large mountain ranges because neither plate subducts easily; they produce strong compression and earthquakes but often limited volcanism.\",\n          \"isCorrect\": true,\n          \"text\": \"Two continental plates are colliding, crumpling and thickening the crust into mountains.\"\n        },\n        {\n          \"feedback\": \"Incorrect. Ocean-ocean subduction usually creates island arcs with lots of volcanoes.\",\n          \"isCorrect\": false,\n          \"text\": \"Two oceanic plates are colliding, creating a volcanic island chain.\"\n        },\n        {\n          \"feedback\": \"Incorrect. Transform boundaries produce earthquakes but don’t usually build extremely high mountains through crustal thickening.\",\n          \"isCorrect\": false,\n          \"text\": \"Two plates are sliding past each other, and that alone is building the mountains.\"\n        },\n        {\n          \"feedback\": \"Incorrect. Spreading centers commonly produce volcanism and create new crust, not massive compressional mountain ranges.\",\n          \"isCorrect\": false,\n          \"text\": \"A rift is opening, and the mountains are volcanic cones along the rift.\"\n        }\n      ],\n      \"question\": \"What plate interaction best fits these clues?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A student asks why plates move at all, since the rock beneath them is solid. You want an explanation that fits what Earth materials do over very long times.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct. The mantle is solid rock, but at high temperature and pressure it can flow very slowly over millions of years; heat drives convection that can drag plates.\",\n          \"isCorrect\": true,\n          \"text\": \"The mantle can slowly flow over long timescales, and heat-driven convection helps move the plates.\"\n        },\n        {\n          \"feedback\": \"Incorrect. Plates are not floating on liquid water, and oceans don’t drive plate motion.\",\n          \"isCorrect\": false,\n          \"text\": \"Plates float on ocean water currents that push them around.\"\n        },\n        {\n          \"feedback\": \"Incorrect. Magnetism affects compasses and some rocks, but it is not the main driver of plate motion.\",\n          \"isCorrect\": false,\n          \"text\": \"Earth’s magnetic field pulls the plates toward the poles.\"\n        },\n        {\n          \"feedback\": \"Incorrect. Gravity matters in subduction, but plate motion is not mainly caused by the Moon’s pull on continents.\",\n          \"isCorrect\": false,\n          \"text\": \"The Moon’s gravity tugs the plates across Earth’s surface.\"\n        }\n      ],\n      \"question\": \"Which explanation is most accurate?\"\n    }\n  ]\n}",
      "outputTokens": 1542,
      "steps": [
        {
          "conclusion": "No major errors were found. The response strictly adheres to the format requirements, provides valid JSON, and generates questions that are scientifically accurate. It correctly avoids the common pitfalls mentioned in the instructions (e.g., it correctly describes the mantle as solid rock that flows, rather than liquid).",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "No minor errors were found. The questions effectively test understanding rather than memorization by using novel scenarios (GPS data, submersible observations). The feedback provided for each option is detailed and explanatory. The inclusion of a transform boundary in the matching question (Question 2) is slightly outside the explicit scope of the provided 4 explanation steps, but it serves as a valid logical deduction or distractor within the context of plate interactions and does not detract from the quality.",
          "kind": "minorErrors",
          "score": 10
        },
        {
          "conclusion": "The response is of very high quality. The questions vary in context (field research, student questions, geological patterns) and cover the key concepts well. No significant improvements are needed.",
          "kind": "potentialImprovements",
          "score": 10
        }
      ],
      "testCase": {
        "expectations": "\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Geographic scenarios where learners must explain geological features or patterns based on plate interactions\n   - GOOD PATTERN: Situations requiring prediction of geological activity based on understanding boundary types\n   - BAD PATTERN: Asking to name boundary types or list geological features without application context\n   - BAD PATTERN: Questions referencing the \"cracked shell\" or \"engine below\" metaphors from the explanation\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - The mantle being liquid or molten (it is SOLID rock that flows very slowly over geological time due to heat and pressure)\n   - Plates floating on liquid (they move on the slowly-flowing solid mantle)\n   - Earthquakes only happening at plate boundaries (intraplate earthquakes exist)\n   - Continental drift being the same as plate tectonics (continental drift was the early theory; plate tectonics is the modern mechanism)\n\n3. FORMAT FIT: Multiple choice works well for geological scenarios. Match columns work for connecting geological features to boundary types. Sort order could work for mountain-building sequences.\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Arrange words: TRAP FORMAT. Only valid when understanding the concept is required to know which words go where. PENALIZE HEAVILY when the sentence can be assembled through grammar/syntax knowledge alone (e.g., basic sentence structure like \"Subject + verb + object\" that any native speaker could guess).\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - arrangeWords is used but the sentence structure is trivially guessable from grammar (this is a common failure mode)\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "en-geology-plate-tectonics-quiz-1",
        "userInput": {
          "chapterTitle": "Earth's Structure",
          "courseTitle": "Earth Science",
          "explanationSteps": [
            {
              "text": "Earth's outer shell is cracked into massive pieces called plates. These plates sit on the mantle - solid rock so hot it flows like thick honey over millions of years.",
              "title": "A Cracked Shell"
            },
            {
              "text": "Heat from Earth's core creates circulation in the mantle. This slow churning drags the plates along, moving them centimeters per year.",
              "title": "The Engine Below"
            },
            {
              "text": "Where plates pull apart, magma rises to fill the gap, creating new crust. Mid-ocean ridges are underwater mountain chains formed this way.",
              "title": "Spreading Apart"
            },
            {
              "text": "Where plates collide, one may dive under the other, triggering earthquakes and volcanoes. Mountain ranges like the Himalayas form when neither plate sinks.",
              "title": "Collision Zones"
            }
          ],
          "language": "en",
          "lessonDescription": "Understanding how Earth's tectonic plates move and interact, including the mechanisms that drive plate motion and the geological features they create",
          "lessonTitle": "Plate Tectonics"
        }
      }
    },
    {
      "duration": 28048.03012500005,
      "inputTokens": 446,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Uma pesquisadora adiciona um composto que impede a separacao das duas fitas de DNA no inicio da replicacao. A celula entra na fase de copia do DNA.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correto. Se as fitas nao se separam, as polimerases nao conseguem acessar os nucleotideos do molde para copiar a informacao.\",\n          \"isCorrect\": true,\n          \"text\": \"A replicacao quase nao avanca porque as fitas nao viram moldes acessiveis\"\n        },\n        {\n          \"feedback\": \"Incorreto. A separacao das fitas e um requisito inicial; nao e algo que possa ser pulado para acelerar.\",\n          \"isCorrect\": false,\n          \"text\": \"A replicacao fica mais rapida porque a dupla helice permanece estavel\"\n        },\n        {\n          \"feedback\": \"Incorreto. A correcao de erros atua durante a sintese; ela nao substitui a necessidade de abrir a dupla helice.\",\n          \"isCorrect\": false,\n          \"text\": \"A replicacao ocorre normalmente, mas com mais erros por falta de correcao\"\n        },\n        {\n          \"feedback\": \"Incorreto. A direcao de sintese e uma limitacao da polimerase, mas aqui o bloqueio e antes: acesso ao molde.\",\n          \"isCorrect\": false,\n          \"text\": \"Somente a fita em pedacos para, mas a fita continua e copiada normalmente\"\n        }\n      ],\n      \"question\": \"O que deve acontecer com a replicacao?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Em um teste in vitro, ha muito de todos os nucleotideos livres e DNA polimerase ativa. As duas fitas de DNA estao separadas e uma delas e removida do tubo.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correto. Sem a fita molde correspondente, nao ha como determinar quais bases devem ser adicionadas para copiar aquela regiao.\",\n          \"isCorrect\": true,\n          \"text\": \"So a fita que permaneceu pode ser copiada; a outra nao pode ser reconstruida sem seu molde\"\n        },\n        {\n          \"feedback\": \"Incorreto. A polimerase nao cria uma sequencia aleatoria quando falta molde; ela depende do pareamento complementar.\",\n          \"isCorrect\": false,\n          \"text\": \"A polimerase faz uma nova fita aleatoria para substituir a que foi removida\"\n        },\n        {\n          \"feedback\": \"Incorreto. Nucleotideos livres nao carregam a informacao de ordem; o molde e que guia a sequencia.\",\n          \"isCorrect\": false,\n          \"text\": \"Os nucleotideos livres se organizam sozinhos e formam a fita faltante\"\n        },\n        {\n          \"feedback\": \"Incorreto. A polimerase precisa de um molde para escolher cada base; nao e independente.\",\n          \"isCorrect\": false,\n          \"text\": \"A polimerase copia as duas fitas ao mesmo tempo sem precisar delas como molde\"\n        }\n      ],\n      \"question\": \"Qual resultado faz mais sentido?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Uma enzima de DNA polimerase mutante so consegue adicionar nucleotideos em um unico sentido, como a normal, mas uma celula perde a capacidade de formar os pequenos segmentos de copia em uma das fitas.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correto. Uma fita pode ser copiada de forma continua, mas a outra normalmente precisa ser feita em segmentos; sem esses segmentos, parte do DNA fica sem copia completa.\",\n          \"isCorrect\": true,\n          \"text\": \"A fita copiada em segmentos falha, deixando lacunas e replicacao incompleta\"\n        },\n        {\n          \"feedback\": \"Incorreto. A fita continua nao depende de segmentos; quem depende e a outra fita por causa da direcao de sintese.\",\n          \"isCorrect\": false,\n          \"text\": \"A fita copiada continuamente e que para primeiro\"\n        },\n        {\n          \"feedback\": \"Incorreto. A existencia de segmentos nao e opcional; e uma solucao para a limitacao de direcao da polimerase.\",\n          \"isCorrect\": false,\n          \"text\": \"Nada muda, porque as duas fitas sempre sao copiadas continuamente\"\n        },\n        {\n          \"feedback\": \"Incorreto. O problema nao e energia; e logica de direcao e como copiar uma fita orientada ao contrario.\",\n          \"isCorrect\": false,\n          \"text\": \"A celula so precisa de mais energia para manter a copia sem segmentos\"\n        }\n      ],\n      \"question\": \"Que efeito isso teria na replicacao?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Uma celula e exposta a uma substancia que desativa as enzimas de correcao de erros durante a replicacao, mas nao afeta a separacao das fitas nem a sintese pela polimerase.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correto. A copia ainda acontece, mas a taxa de erros aumenta porque bases incorretas deixam de ser removidas e trocadas.\",\n          \"isCorrect\": true,\n          \"text\": \"O DNA e copiado, mas com mais mutacoes acumuladas\"\n        },\n        {\n          \"feedback\": \"Incorreto. A correcao aumenta a fidelidade, mas nao e o passo que abre a dupla helice.\",\n          \"isCorrect\": false,\n          \"text\": \"A replicacao nem comeca porque as fitas nao se separam\"\n        },\n        {\n          \"feedback\": \"Incorreto. A polimerase nao para por completo sem correcao; ela pode continuar, so com mais erros.\",\n          \"isCorrect\": false,\n          \"text\": \"A replicacao para imediatamente porque a polimerase nao consegue adicionar bases\"\n        },\n        {\n          \"feedback\": \"Incorreto. Desativar correcao nao torna a copia mais precisa; faz o oposto.\",\n          \"isCorrect\": false,\n          \"text\": \"O DNA fica mais fiel porque menos interrupcoes ocorrem\"\n        }\n      ],\n      \"question\": \"Qual e a consequencia mais provavel?\"\n    },\n    {\n      \"format\": \"matchColumns\",\n      \"pairs\": [\n        {\n          \"left\": \"As fitas do DNA nao se separam e a polimerase nao consegue comecar\",\n          \"right\": \"Falha no passo de abrir a dupla helice e expor o molde\"\n        },\n        {\n          \"left\": \"Uma nova fita e montada escolhendo bases complementares a uma fita antiga\",\n          \"right\": \"Leitura do molde pela DNA polimerase e pareamento de bases\"\n        },\n        {\n          \"left\": \"Uma das fitas novas aparece como varios trechos curtos que depois precisam ser unidos\",\n          \"right\": \"Copia em segmentos por causa da limitacao de direcao da polimerase\"\n        },\n        {\n          \"left\": \"Apos a copia, a taxa de mutacao aumenta muito sem parar a replicacao\",\n          \"right\": \"Perda de correcao de erros e queda de fidelidade genetica\"\n        }\n      ],\n      \"question\": \"Associe cada observacao ao principio por tras dela\"\n    }\n  ]\n}",
      "outputTokens": 1375,
      "steps": [
        {
          "conclusion": "None",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "None",
          "kind": "minorErrors",
          "score": 10
        },
        {
          "conclusion": "None",
          "kind": "potentialImprovements",
          "score": 10
        }
      ],
      "testCase": {
        "expectations": "\nLANGUAGE REQUIREMENT: Questions, options, and feedback must be in Portuguese.\n\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Scenarios requiring understanding of WHY replication works as it does (directionality constraints, error correction needs)\n   - GOOD PATTERN: Situations where learners must predict outcomes of replication errors or enzyme malfunctions\n   - BAD PATTERN: Asking to name enzymes or describe their functions without application context\n   - BAD PATTERN: Questions referencing the \"zipper\" metaphor or other explanation-specific content\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - Both DNA strands being synthesized the same way (leading strand is continuous; lagging strand is synthesized in Okazaki fragments)\n   - DNA polymerase being able to start synthesis on its own (it needs a primer)\n   - Replication being error-free (proofreading catches most errors but some slip through)\n   - Replication happening randomly along the chromosome (it starts at specific origins)\n\n3. FORMAT FIT: Sort order works well for replication sequence. Fill blank works for enzyme roles. Multiple choice for understanding why the process works as it does.\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Arrange words: TRAP FORMAT. Only valid when understanding the concept is required to know which words go where. PENALIZE HEAVILY when the sentence can be assembled through grammar/syntax knowledge alone (e.g., basic sentence structure like \"Subject + verb + object\" that any native speaker could guess).\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - arrangeWords is used but the sentence structure is trivially guessable from grammar (this is a common failure mode)\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "pt-biology-dna-replication-quiz-1",
        "userInput": {
          "chapterTitle": "Genetica Molecular",
          "courseTitle": "Biologia Celular",
          "explanationSteps": [
            {
              "text": "Antes de uma celula se dividir, ela precisa copiar todo seu DNA. O processo comeca quando enzimas separam as duas fitas da dupla helice.",
              "title": "Abrindo o Ziper"
            },
            {
              "text": "Cada fita original serve de molde para uma nova. Enzimas chamadas DNA polimerases leem a fita antiga e constroem a nova, base por base.",
              "title": "Lendo o Molde"
            },
            {
              "text": "Ha um problema: a polimerase so consegue adicionar bases em uma direcao. Uma fita e copiada continuamente, mas a outra precisa ser copiada em pedacos.",
              "title": "O Problema da Direcao"
            },
            {
              "text": "Enzimas de correcao verificam cada base adicionada. Se encontram um erro, removem e substituem. Esse controle de qualidade mantem a fidelidade genetica.",
              "title": "Corrigindo Erros"
            }
          ],
          "language": "pt",
          "lessonDescription": "Entendendo o processo de replicacao do DNA, incluindo as enzimas envolvidas e como a informacao genetica e copiada com alta fidelidade",
          "lessonTitle": "Como o DNA se Replica"
        }
      }
    },
    {
      "duration": 30025.072125000006,
      "inputTokens": 362,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"You’re photographing a friend standing in front of a colorful mural. The photo feels a little flat when your friend is dead center, even though the background is interesting.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Yes. Moving the subject off-center often adds energy and gives the viewer’s eye a path to follow through the frame.\",\n          \"isCorrect\": true,\n          \"text\": \"Shift your friend toward one side so they sit near a rule-of-thirds intersection.\"\n        },\n        {\n          \"feedback\": \"Centering can work, but it won’t address the ‘flat’ feeling as reliably as a deliberate off-center placement.\",\n          \"isCorrect\": false,\n          \"text\": \"Keep them centered but zoom in tighter so there’s less background.\"\n        },\n        {\n          \"feedback\": \"Changing lens choice can change the look, but it doesn’t directly apply the composition guideline being tested.\",\n          \"isCorrect\": false,\n          \"text\": \"Switch to a wide-angle lens so the mural looks more dramatic.\"\n        },\n        {\n          \"feedback\": \"A symmetrical background can make centering work, but the issue described is that the centered version feels flat; symmetry isn’t guaranteed here.\",\n          \"isCorrect\": false,\n          \"text\": \"Look for symmetry in the mural and center them to match it.\"\n        }\n      ],\n      \"question\": \"What change most likely makes it feel more dynamic?\"\n    },\n    {\n      \"format\": \"matchColumns\",\n      \"pairs\": [\n        {\n          \"left\": \"You place a person’s eyes near the upper-right intersection of a thirds grid.\",\n          \"right\": \"Creates a natural focal point where attention tends to land\"\n        },\n        {\n          \"left\": \"You align a long fence line with the left vertical thirds line.\",\n          \"right\": \"Uses a strong line to guide the viewer’s eye through the frame\"\n        },\n        {\n          \"left\": \"You put the horizon close to the lower thirds line in a beach photo.\",\n          \"right\": \"Emphasizes the sky and makes it feel more dominant\"\n        },\n        {\n          \"left\": \"You put the horizon close to the upper thirds line in the same beach photo.\",\n          \"right\": \"Emphasizes the ground or water and makes it feel more dominant\"\n        }\n      ],\n      \"question\": \"Match each choice to the effect it usually creates.\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"You’re shooting a landscape at sunset. The sky has dramatic clouds, but the foreground is plain. You can choose where to place the horizon line in the frame.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct. Placing the horizon lower gives more space to the sky, which supports your goal of featuring the clouds.\",\n          \"isCorrect\": true,\n          \"text\": \"Put the horizon on the lower third to give more space to the sky.\"\n        },\n        {\n          \"feedback\": \"This emphasizes the foreground, which you said is plain, so it works against your goal.\",\n          \"isCorrect\": false,\n          \"text\": \"Put the horizon on the upper third to give more space to the foreground.\"\n        },\n        {\n          \"feedback\": \"Centering splits attention evenly and often reduces the impact when one part (here, the sky) is the clear star.\",\n          \"isCorrect\": false,\n          \"text\": \"Center the horizon so sky and foreground feel equally important.\"\n        },\n        {\n          \"feedback\": \"Tilting changes mood but doesn’t solve the basic ‘what should dominate’ decision about sky versus foreground.\",\n          \"isCorrect\": false,\n          \"text\": \"Tilt the horizon slightly to make the scene feel more exciting.\"\n        }\n      ],\n      \"question\": \"Where should you place the horizon?\"\n    },\n    {\n      \"format\": \"fillBlank\",\n      \"answers\": [\n        \"two\",\n        \"nine\",\n        \"intersections\"\n      ],\n      \"distractors\": [\n        \"three\",\n        \"eight\",\n        \"corners\",\n        \"edges\",\n        \"center\"\n      ],\n      \"feedback\": \"A rule-of-thirds grid uses two horizontal and two vertical lines, creating nine sections. The line crossings (intersections) are common ‘power’ points for placing key subjects.\",\n      \"question\": \"Fill in the missing ideas about the grid.\",\n      \"template\": \"A rule-of-thirds grid uses [BLANK] horizontal lines and [BLANK] equal sections; the main attention points are the line [BLANK].\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"In a street photo, you place the subject on the left third. There’s open space to the right where the street recedes into the distance. The image feels more ‘alive’ than when the subject was centered.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct. Off-center placement often creates visual movement because the viewer’s eye travels between subject and surrounding space.\",\n          \"isCorrect\": true,\n          \"text\": \"Your eye has room to move through the frame instead of stopping immediately at the center.\"\n        },\n        {\n          \"feedback\": \"More empty space isn’t automatically better; it works here because it supports where the eye travels and what feels important.\",\n          \"isCorrect\": false,\n          \"text\": \"Empty space always makes photos more interesting no matter where it is.\"\n        },\n        {\n          \"feedback\": \"Centering can still allow storytelling, but the key idea here is how placement guides scanning, not whether the subject tells a story.\",\n          \"isCorrect\": false,\n          \"text\": \"Centering prevents storytelling, so moving off-center fixes it.\"\n        },\n        {\n          \"feedback\": \"Shallow depth of field affects attention, but the question is about why placement changes the feel even with the same scene.\",\n          \"isCorrect\": false,\n          \"text\": \"The off-center version must have a blurrier background, which adds energy.\"\n        }\n      ],\n      \"question\": \"Why can off-center placement feel more engaging?\"\n    },\n    {\n      \"format\": \"sortOrder\",\n      \"feedback\": \"First, decide what the photo should emphasize. Then use the thirds grid as a guide to place key elements on lines or intersections, and finally check whether the viewer’s eye has a clear path through the frame.\",\n      \"items\": [\n        \"Decide whether the sky or ground should be emphasized\",\n        \"Imagine a thirds grid over the frame\",\n        \"Place the horizon near the upper or lower third accordingly\",\n        \"Place the main subject on a thirds line or intersection\",\n        \"Scan the frame to see if the eye can travel naturally\"\n      ],\n      \"question\": \"Put these composition decisions in a sensible order while framing a shot.\"\n    }\n  ]\n}",
      "outputTokens": 1194,
      "steps": [
        {
          "conclusion": "None",
          "kind": "majorErrors",
          "score": 10
        },
        {
          "conclusion": "Question 6 uses the 'sortOrder' format for a concept (composition workflow) that is not strictly sequential by definition. The instructions state: 'sortOrder: ONLY when the concept IS about sequence... when order matters conceptually'. The provided input explanation teaches the spatial concepts of the Rule of Thirds, not a specific step-by-step workflow. While the order provided in the solution is logical, it is subjective (e.g., one might place the subject before the horizon, or imagine the grid before deciding emphasis). This violates the instruction to avoid forcing formats where they don't fit perfectly.",
          "kind": "minorErrors",
          "score": 8.5
        },
        {
          "conclusion": "Question 6 could be replaced with another 'multipleChoice' scenario, perhaps one testing when *not* to use the Rule of Thirds (e.g., symmetry), or dealing with 'Power Points' specifically. The 'fillBlank' question (Q4) is slightly definition-heavy ('two lines', 'nine sections') compared to the purely application-based questions, but it is acceptable as it tests the foundational structure of the grid.",
          "kind": "potentialImprovements",
          "score": 9
        }
      ],
      "testCase": {
        "expectations": "\nSPECIAL CONSIDERATION: This is an edge case - a visual/practical skill where understanding is demonstrated through application to real scenarios, not visual recognition.\n\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Photography scenarios where learners must decide subject placement to achieve specific visual effects\n   - GOOD PATTERN: Situations requiring understanding of WHY off-center placement creates visual interest\n   - BAD PATTERN: Asking to define the rule of thirds or describe the grid without application context\n   - BAD PATTERN: Questions about \"power points\" terminology without practical application\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - Rule of thirds being mandatory (it's a guideline, not a rule - breaking it intentionally can be effective)\n   - Centered subjects always being wrong (centered composition works for symmetry and certain moods)\n   - The grid being visible in final photos (it's an imaginary guide)\n   - Rule of thirds being the only composition technique (leading lines, framing, and many others exist)\n\n3. FORMAT FIT: Multiple choice works for \"where would you place the subject\" scenarios. Match columns could connect composition choices to their visual effects. AVOID selectImage unless visual recognition is truly being tested.\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Arrange words: TRAP FORMAT. Only valid when understanding the concept is required to know which words go where. PENALIZE HEAVILY when the sentence can be assembled through grammar/syntax knowledge alone (e.g., basic sentence structure like \"Subject + verb + object\" that any native speaker could guess).\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - arrangeWords is used but the sentence structure is trivially guessable from grammar (this is a common failure mode)\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "en-photography-composition-quiz-1",
        "userInput": {
          "chapterTitle": "Composition Basics",
          "courseTitle": "Photography Fundamentals",
          "explanationSteps": [
            {
              "text": "Most beginners center their subjects. While this works sometimes, placing subjects off-center often creates more dynamic, interesting images.",
              "title": "Beyond the Center"
            },
            {
              "text": "Imagine your frame divided by two horizontal and two vertical lines, creating nine equal sections. The four points where lines cross are power points.",
              "title": "The Grid"
            },
            {
              "text": "Placing your main subject on a power point or along a line draws the viewer's eye naturally. A horizon on the lower line emphasizes sky; on the upper line emphasizes ground.",
              "title": "Strategic Placement"
            },
            {
              "text": "This guideline works because our eyes naturally scan images in patterns. Off-center placement gives the eye somewhere to travel, making photos feel more alive.",
              "title": "Why It Works"
            }
          ],
          "language": "en",
          "lessonDescription": "Understanding the rule of thirds and how strategic subject placement creates more visually engaging photographs",
          "lessonTitle": "The Rule of Thirds"
        }
      }
    },
    {
      "duration": 111599.98287499999,
      "inputTokens": 364,
      "output": "{\n  \"questions\": [\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Maya is convinced a new supplement improves focus. She reads five online reviews: three say it helped, two say it did nothing. Later she tells a friend, “Pretty much everyone says it works.”\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct. She’s giving extra weight to the supporting reviews and downplaying the neutral ones, so her summary shifts toward what she already believed.\",\n          \"isCorrect\": true,\n          \"text\": \"She’s focusing more on evidence that supports her belief and discounting the rest.\"\n        },\n        {\n          \"feedback\": \"Not quite. That would be changing her belief because of mixed evidence; here she’s summarizing the evidence as more one-sided than it was.\",\n          \"isCorrect\": false,\n          \"text\": \"She’s fairly updating her belief based on the overall average of the reviews.\"\n        },\n        {\n          \"feedback\": \"Not quite. This describes deliberately lying; confirmation bias can happen even when someone is sincere.\",\n          \"isCorrect\": false,\n          \"text\": \"She’s intentionally misrepresenting the reviews to persuade her friend.\"\n        },\n        {\n          \"feedback\": \"Not quite. Random chance would imply no systematic pattern; her recall is systematically tilted toward confirming info.\",\n          \"isCorrect\": false,\n          \"text\": \"Her memory error is random and unrelated to what she already believed.\"\n        }\n      ],\n      \"question\": \"What’s driving Maya’s conclusion?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"During a heated game, two fans watch the same replay of a collision. The home-team fan insists it was a clear foul by the visitors; the visiting-team fan insists it was a flop by the home team. Both seem genuinely convinced.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct. Their expectations shape what they notice and how they interpret the same ambiguous event, without needing to be deliberate.\",\n          \"isCorrect\": true,\n          \"text\": \"Their prior loyalties are unconsciously filtering what they notice and how they interpret it.\"\n        },\n        {\n          \"feedback\": \"Not quite. That would be a conscious strategy; the scenario points to sincere disagreement driven by bias.\",\n          \"isCorrect\": false,\n          \"text\": \"They’re both consciously choosing to see the play in a team-friendly way.\"\n        },\n        {\n          \"feedback\": \"Not quite. Different camera angles could explain it, but here they watched the same replay and still diverged.\",\n          \"isCorrect\": false,\n          \"text\": \"They must have seen different replays with different angles.\"\n        },\n        {\n          \"feedback\": \"Not quite. Fear of conflict might make them avoid stating opinions; here they state strong opposing opinions.\",\n          \"isCorrect\": false,\n          \"text\": \"They’re avoiding conflict by agreeing with their own group’s opinion.\"\n        }\n      ],\n      \"question\": \"Best explanation for this disagreement?\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"Jordan believes a coworker is “always rude.” At a meeting, the coworker is quiet, answers briefly, and later holds the door open for Jordan. That night, Jordan replays the day and feels even more sure the coworker is rude.\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct. When a belief is threatened by inconsistent evidence, people often experience discomfort and resolve it by interpreting events in a belief-consistent way.\",\n          \"isCorrect\": true,\n          \"text\": \"Contradictory cues create discomfort, so Jordan interprets the day in a way that keeps the belief consistent.\"\n        },\n        {\n          \"feedback\": \"Not quite. This would mean Jordan is ignoring all information; instead, Jordan is selectively interpreting it.\",\n          \"isCorrect\": false,\n          \"text\": \"Jordan is showing a complete inability to notice social cues of any kind.\"\n        },\n        {\n          \"feedback\": \"Not quite. An optimism bias would involve overly positive expectations, not a negative belief being protected.\",\n          \"isCorrect\": false,\n          \"text\": \"Jordan is displaying optimism bias about the coworker.\"\n        },\n        {\n          \"feedback\": \"Not quite. The issue isn’t that first impressions exist; it’s the systematic favoring of belief-consistent interpretations afterward.\",\n          \"isCorrect\": false,\n          \"text\": \"This is only about having a first impression, not about biased processing.\"\n        }\n      ],\n      \"question\": \"Why does Jordan feel more certain?\"\n    },\n    {\n      \"format\": \"matchColumns\",\n      \"pairs\": [\n        {\n          \"left\": \"A hiring manager mainly remembers the few mistakes an applicant made and forgets the strong parts of the interview because the manager already assumed the applicant was unqualified.\",\n          \"right\": \"Selective attention to belief-consistent details\"\n        },\n        {\n          \"left\": \"A friend sincerely says, “I’m just being objective,” while automatically giving more credibility to articles that agree with their views.\",\n          \"right\": \"Unconscious filtering (not deliberate) \"\n        },\n        {\n          \"left\": \"A research team hides which participants received the real treatment so expectations don’t shape how outcomes are recorded.\",\n          \"right\": \"Blinding as a safeguard against bias\"\n        },\n        {\n          \"left\": \"A journal sends a study to other experts who look for weaknesses, alternative explanations, or missing controls.\",\n          \"right\": \"Peer review as an external check\"\n        }\n      ],\n      \"question\": \"Match each situation to the idea it best illustrates.\"\n    },\n    {\n      \"format\": \"multipleChoice\",\n      \"context\": {\n        \"description\": \"A clinic is testing a new pain cream. The staff who rate patients’ pain know who got the cream and who got a placebo. The results show a big benefit, but another clinic can’t replicate it. What change best reduces the original risk of biased ratings?\",\n        \"kind\": \"text\"\n      },\n      \"options\": [\n        {\n          \"feedback\": \"Correct. If raters don’t know who received the treatment, their expectations are less likely to shape what they notice or how they score pain.\",\n          \"isCorrect\": true,\n          \"text\": \"Make the pain raters blind to who received the cream vs the placebo.\"\n        },\n        {\n          \"feedback\": \"Not quite. A larger sample helps with random error, but it doesn’t directly stop expectations from influencing ratings.\",\n          \"isCorrect\": false,\n          \"text\": \"Increase the sample size but keep the raters informed.\"\n        },\n        {\n          \"feedback\": \"Not quite. Paying people can change motivation, but it doesn’t prevent expectancy-driven interpretation.\",\n          \"isCorrect\": false,\n          \"text\": \"Pay participants more so they try harder to improve.\"\n        },\n        {\n          \"feedback\": \"Not quite. Measuring later can reduce short-term effects, but it doesn’t address biased observation at the time of rating.\",\n          \"isCorrect\": false,\n          \"text\": \"Measure pain only at the end of the week instead of daily.\"\n        }\n      ],\n      \"question\": \"What’s the best safeguard here?\"\n    },\n    {\n      \"format\": \"sortOrder\",\n      \"feedback\": \"The sequence starts with a prior belief, then an uncomfortable clash with new information, followed by biased attention/interpretation that favors the belief, ending with a reinforced belief and greater confidence.\",\n      \"items\": [\n        \"Form a belief or expectation\",\n        \"Encounter mixed or contradictory information\",\n        \"Pay more attention to or interpret information that supports the belief\",\n        \"Feel more confident the original belief is correct\"\n      ],\n      \"question\": \"Put these steps in a likely order when confirmation bias strengthens a belief.\"\n    }\n  ]\n}",
      "outputTokens": 1368,
      "steps": [
        {
          "conclusion": "Question 2 violates the specific negative constraint provided in the Expectations section: 'BAD PATTERN: Questions about the sports fan or political supporter examples from the explanation'. The explanation text explicitly mentions a sports fan seeing fouls by the opposing team, and Question 2 reuses this exact scenario (two fans disagreeing on a foul in a replay). This also violates the core rule to 'Use novel scenarios'.",
          "kind": "majorErrors",
          "score": 8
        },
        {
          "conclusion": "None",
          "kind": "minorErrors",
          "score": 10
        },
        {
          "conclusion": "Replace Question 2 with a scenario from a different domain (e.g., financial investment decisions, interpretation of artistic performance, or coding bugs) to ensure the scenario is truly novel and complies with the negative constraints.",
          "kind": "potentialImprovements",
          "score": 9
        }
      ],
      "testCase": {
        "expectations": "\nSPECIAL CONSIDERATION: This is an edge case - an abstract psychological concept where understanding means recognizing the bias in everyday situations.\n\nTOPIC-SPECIFIC GUIDANCE:\n\n1. APPLICATION CHECK:\n   - GOOD PATTERN: Everyday scenarios where learners must recognize confirmation bias operating in someone's reasoning\n   - GOOD PATTERN: Situations requiring understanding of WHY the bias is unconscious and hard to overcome\n   - BAD PATTERN: Asking to define confirmation bias or list its characteristics without application context\n   - BAD PATTERN: Questions about the sports fan or political supporter examples from the explanation\n\n2. ACCURACY PITFALLS - Penalize if any of these are stated or implied:\n   - Confirmation bias being intentional deception (it's usually unconscious)\n   - Only unintelligent people having confirmation bias (everyone is susceptible, including experts)\n   - Confirmation bias being easy to overcome once you know about it (awareness helps but doesn't eliminate it)\n   - Confirmation bias only affecting beliefs about facts (it affects emotional and value-based beliefs too)\n\n3. FORMAT FIT: Multiple choice excels here - present scenarios and ask which demonstrates the bias. Match columns could connect cognitive biases to example scenarios. AVOID sort_order as the concept isn't sequential.\n\n\nEVALUATION CRITERIA:\n\n1. UNDERSTANDING OVER MEMORIZATION: Questions must test conceptual understanding, not recall. A learner who understood the concept but never read this specific explanation should be able to answer correctly. Penalize questions that:\n   - Use phrases like \"according to the text,\" \"as described,\" or \"the explanation said\"\n   - Reference specific metaphors, analogies, or examples from the explanation steps\n   - Ask \"what is X?\" instead of \"what would happen if...\" or \"which scenario shows...\"\n\n2. APPLICATION TO NOVEL SCENARIOS: Questions should present concepts in new contexts the learner hasn't seen. The scenario in the question should be different from any examples in the explanation steps. Penalize questions that:\n   - Reuse scenarios from the explanation\n   - Ask about facts that could only be known by reading this specific text\n   - Test vocabulary definitions rather than concept application\n\n3. FORMAT APPROPRIATENESS: Evaluate whether the chosen format genuinely tests understanding.\n\n   ANTI-PATTERN - \"Forced variety\": Using different formats just for variety is a serious flaw. Multiple well-crafted questions of the same format are better than poorly-suited formats used for variety's sake. Do NOT penalize for using multiple choice repeatedly if it tests the concepts well.\n\n   Format guidance:\n   - Multiple choice: Often the BEST choice, not just a \"default.\" It excels at testing whether learners can apply concepts to novel scenarios. Use it freely.\n   - Match columns: Best when the concept involves connecting observations to principles (symptoms to causes, effects to mechanisms).\n   - Sort order: ONLY when the concept IS about sequence — when order matters conceptually (biological processes, compilation phases).\n   - Fill blank: Best for completing relationships or processes where the blank tests conceptual understanding.\n   - Arrange words: TRAP FORMAT. Only valid when understanding the concept is required to know which words go where. PENALIZE HEAVILY when the sentence can be assembled through grammar/syntax knowledge alone (e.g., basic sentence structure like \"Subject + verb + object\" that any native speaker could guess).\n   - Select image: ONLY when visual recognition genuinely tests understanding.\n\n   PENALIZE when:\n   - arrangeWords is used but the sentence structure is trivially guessable from grammar (this is a common failure mode)\n   - Formats are used for variety rather than fit\n   - A different format would clearly test the concept better\n\n   Do NOT penalize when:\n   - Multiple choice is used repeatedly across several questions\n   - Some available formats are not used at all\n   - The quiz sticks to one or two well-suited formats\n\n4. FEEDBACK QUALITY: Feedback must explain reasoning, not just state correct/incorrect. Good feedback:\n   - For correct answers: Explains WHY it's right plus an additional insight\n   - For incorrect answers: Explains WHY it's wrong AND why the correct answer is right\n   Penalize feedback that only says \"Correct!\" or \"That's wrong.\"\n\n5. FACTUAL ACCURACY: All questions and answers must be scientifically/technically correct. Penalize:\n   - Incorrect facts presented as correct answers\n   - Correct facts marked as incorrect\n   - Misleading simplifications that create misconceptions\n\n6. QUESTION CLARITY: Questions must be unambiguous with a conversational tone. Penalize:\n   - Academic or formal phrasing\n   - Ambiguous scenarios where multiple answers could be valid\n   - Trick questions designed to confuse rather than test understanding\n\n7. APPROPRIATE DIFFICULTY: Questions should challenge understanding without being unfair. Penalize:\n   - Trivially easy questions anyone could guess\n   - Questions requiring knowledge beyond the lesson scope\n   - Trick questions that test careful reading rather than comprehension\n\nANTI-CHECKLIST GUIDANCE (CRITICAL):\n- Do NOT penalize for missing specific question formats you might expect\n- Do NOT require a specific number of questions - quality matters more than quantity\n- Do NOT check against an imagined \"complete\" quiz you think should exist\n- Do NOT penalize for covering some concepts more than others if coverage is reasonable\n- Do NOT expect questions to follow any particular order or progression\n- ONLY penalize for: memorization-based questions, factual errors, poor feedback quality, unclear wording, or inappropriate format choices\n- Different valid quiz designs exist - assess the quality of what IS provided\n\n    ",
        "id": "en-psychology-confirmation-bias-quiz-1",
        "userInput": {
          "chapterTitle": "Cognitive Biases",
          "courseTitle": "Introduction to Psychology",
          "explanationSteps": [
            {
              "text": "Our brains prefer consistency. When we believe something, finding contradicting evidence feels uncomfortable - like a mental itch we want to scratch away.",
              "title": "The Comfort of Consistency"
            },
            {
              "text": "To avoid discomfort, our brains play tricks. We notice evidence supporting our beliefs and unconsciously filter out or dismiss contradicting evidence.",
              "title": "Selective Attention"
            },
            {
              "text": "This happens automatically, not deliberately. A sports fan genuinely sees more fouls by the opposing team. A political supporter honestly remembers more flaws in opponents.",
              "title": "Unconscious Filtering"
            },
            {
              "text": "Even scientists fall prey to this. That's why research uses blind studies and peer review - external checks against our natural tendency to see what we expect.",
              "title": "Safeguards Help"
            }
          ],
          "language": "en",
          "lessonDescription": "Understanding confirmation bias - how our tendency to favor information that confirms existing beliefs affects our perception and decision-making",
          "lessonTitle": "Confirmation Bias"
        }
      }
    }
  ],
  "taskId": "activity-explanation-quiz"
}
